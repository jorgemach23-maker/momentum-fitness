(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function Tb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Em={exports:{}},Jl={};var p_;function ax(){if(p_)return Jl;p_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:f,ref:o!==void 0?o:null,props:c}}return Jl.Fragment=e,Jl.jsx=n,Jl.jsxs=n,Jl}var g_;function sx(){return g_||(g_=1,Em.exports=ax()),Em.exports}var y=sx(),Tm={exports:{}},Me={};var y_;function ox(){if(y_)return Me;y_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),S=Symbol.iterator;function j(O){return O===null||typeof O!="object"?null:(O=S&&O[S]||O["@@iterator"],typeof O=="function"?O:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,U={};function K(O,Q,oe){this.props=O,this.context=Q,this.refs=U,this.updater=oe||F}K.prototype.isReactComponent={},K.prototype.setState=function(O,Q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Q,"setState")},K.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function re(){}re.prototype=K.prototype;function se(O,Q,oe){this.props=O,this.context=Q,this.refs=U,this.updater=oe||F}var ce=se.prototype=new re;ce.constructor=se,Y(ce,K.prototype),ce.isPureReactComponent=!0;var ge=Array.isArray;function be(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(O,Q,oe){var ne=oe.ref;return{$$typeof:r,type:O,key:Q,ref:ne!==void 0?ne:null,props:oe}}function k(O,Q){return R(O.type,Q,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function V(O){var Q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(oe){return Q[oe]})}var N=/\/+/g;function we(O,Q){return typeof O=="object"&&O!==null&&O.key!=null?V(""+O.key):Q.toString(36)}function Ue(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(be,be):(O.status="pending",O.then(function(Q){O.status==="pending"&&(O.status="fulfilled",O.value=Q)},function(Q){O.status==="pending"&&(O.status="rejected",O.reason=Q)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,Q,oe,ne,de){var Te=typeof O;(Te==="undefined"||Te==="boolean")&&(O=null);var ie=!1;if(O===null)ie=!0;else switch(Te){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(O.$$typeof){case r:case e:ie=!0;break;case E:return ie=O._init,H(ie(O._payload),Q,oe,ne,de)}}if(ie)return de=de(O),ie=ne===""?"."+we(O,0):ne,ge(de)?(oe="",ie!=null&&(oe=ie.replace(N,"$&/")+"/"),H(de,Q,oe,"",function(Je){return Je})):de!=null&&(D(de)&&(de=k(de,oe+(de.key==null||O&&O.key===de.key?"":(""+de.key).replace(N,"$&/")+"/")+ie)),Q.push(de)),1;ie=0;var me=ne===""?".":ne+":";if(ge(O))for(var ve=0;ve<O.length;ve++)ne=O[ve],Te=me+we(ne,ve),ie+=H(ne,Q,oe,Te,de);else if(ve=j(O),typeof ve=="function")for(O=ve.call(O),ve=0;!(ne=O.next()).done;)ne=ne.value,Te=me+we(ne,ve++),ie+=H(ne,Q,oe,Te,de);else if(Te==="object"){if(typeof O.then=="function")return H(Ue(O),Q,oe,ne,de);throw Q=String(O),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return ie}function ae(O,Q,oe){if(O==null)return O;var ne=[],de=0;return H(O,ne,"","",function(Te){return Q.call(oe,Te,de++)}),ne}function ue(O){if(O._status===-1){var Q=O._result;Q=Q(),Q.then(function(oe){(O._status===0||O._status===-1)&&(O._status=1,O._result=oe)},function(oe){(O._status===0||O._status===-1)&&(O._status=2,O._result=oe)}),O._status===-1&&(O._status=0,O._result=Q)}if(O._status===1)return O._result.default;throw O._result}var Ne=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ae={map:ae,forEach:function(O,Q,oe){ae(O,function(){Q.apply(this,arguments)},oe)},count:function(O){var Q=0;return ae(O,function(){Q++}),Q},toArray:function(O){return ae(O,function(Q){return Q})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Me.Activity=w,Me.Children=Ae,Me.Component=K,Me.Fragment=n,Me.Profiler=o,Me.PureComponent=se,Me.StrictMode=a,Me.Suspense=p,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Me.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},Me.cache=function(O){return function(){return O.apply(null,arguments)}},Me.cacheSignal=function(){return null},Me.cloneElement=function(O,Q,oe){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ne=Y({},O.props),de=O.key;if(Q!=null)for(Te in Q.key!==void 0&&(de=""+Q.key),Q)!A.call(Q,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&Q.ref===void 0||(ne[Te]=Q[Te]);var Te=arguments.length-2;if(Te===1)ne.children=oe;else if(1<Te){for(var ie=Array(Te),me=0;me<Te;me++)ie[me]=arguments[me+2];ne.children=ie}return R(O.type,de,ne)},Me.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Me.createElement=function(O,Q,oe){var ne,de={},Te=null;if(Q!=null)for(ne in Q.key!==void 0&&(Te=""+Q.key),Q)A.call(Q,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(de[ne]=Q[ne]);var ie=arguments.length-2;if(ie===1)de.children=oe;else if(1<ie){for(var me=Array(ie),ve=0;ve<ie;ve++)me[ve]=arguments[ve+2];de.children=me}if(O&&O.defaultProps)for(ne in ie=O.defaultProps,ie)de[ne]===void 0&&(de[ne]=ie[ne]);return R(O,Te,de)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(O){return{$$typeof:m,render:O}},Me.isValidElement=D,Me.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:ue}},Me.memo=function(O,Q){return{$$typeof:g,type:O,compare:Q===void 0?null:Q}},Me.startTransition=function(O){var Q=C.T,oe={};C.T=oe;try{var ne=O(),de=C.S;de!==null&&de(oe,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(be,Ne)}catch(Te){Ne(Te)}finally{Q!==null&&oe.types!==null&&(Q.types=oe.types),C.T=Q}},Me.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Me.use=function(O){return C.H.use(O)},Me.useActionState=function(O,Q,oe){return C.H.useActionState(O,Q,oe)},Me.useCallback=function(O,Q){return C.H.useCallback(O,Q)},Me.useContext=function(O){return C.H.useContext(O)},Me.useDebugValue=function(){},Me.useDeferredValue=function(O,Q){return C.H.useDeferredValue(O,Q)},Me.useEffect=function(O,Q){return C.H.useEffect(O,Q)},Me.useEffectEvent=function(O){return C.H.useEffectEvent(O)},Me.useId=function(){return C.H.useId()},Me.useImperativeHandle=function(O,Q,oe){return C.H.useImperativeHandle(O,Q,oe)},Me.useInsertionEffect=function(O,Q){return C.H.useInsertionEffect(O,Q)},Me.useLayoutEffect=function(O,Q){return C.H.useLayoutEffect(O,Q)},Me.useMemo=function(O,Q){return C.H.useMemo(O,Q)},Me.useOptimistic=function(O,Q){return C.H.useOptimistic(O,Q)},Me.useReducer=function(O,Q,oe){return C.H.useReducer(O,Q,oe)},Me.useRef=function(O){return C.H.useRef(O)},Me.useState=function(O){return C.H.useState(O)},Me.useSyncExternalStore=function(O,Q,oe){return C.H.useSyncExternalStore(O,Q,oe)},Me.useTransition=function(){return C.H.useTransition()},Me.version="19.2.3",Me}var v_;function Lp(){return v_||(v_=1,Tm.exports=ox()),Tm.exports}var W=Lp();const Up=Tb(W);var wm={exports:{}},Zl={},xm={exports:{}},Sm={};var __;function lx(){return __||(__=1,(function(r){function e(H,ae){var ue=H.length;H.push(ae);e:for(;0<ue;){var Ne=ue-1>>>1,Ae=H[Ne];if(0<o(Ae,ae))H[Ne]=ae,H[ue]=Ae,ue=Ne;else break e}}function n(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var ae=H[0],ue=H.pop();if(ue!==ae){H[0]=ue;e:for(var Ne=0,Ae=H.length,O=Ae>>>1;Ne<O;){var Q=2*(Ne+1)-1,oe=H[Q],ne=Q+1,de=H[ne];if(0>o(oe,ue))ne<Ae&&0>o(de,oe)?(H[Ne]=de,H[ne]=ue,Ne=ne):(H[Ne]=oe,H[Q]=ue,Ne=Q);else if(ne<Ae&&0>o(de,ue))H[Ne]=de,H[ne]=ue,Ne=ne;else break e}}return ae}function o(H,ae){var ue=H.sortIndex-ae.sortIndex;return ue!==0?ue:H.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,w=null,S=3,j=!1,F=!1,Y=!1,U=!1,K=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function ce(H){for(var ae=n(g);ae!==null;){if(ae.callback===null)a(g);else if(ae.startTime<=H)a(g),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(g)}}function ge(H){if(Y=!1,ce(H),!F)if(n(p)!==null)F=!0,be||(be=!0,V());else{var ae=n(g);ae!==null&&Ue(ge,ae.startTime-H)}}var be=!1,C=-1,A=5,R=-1;function k(){return U?!0:!(r.unstable_now()-R<A)}function D(){if(U=!1,be){var H=r.unstable_now();R=H;var ae=!0;try{e:{F=!1,Y&&(Y=!1,re(C),C=-1),j=!0;var ue=S;try{t:{for(ce(H),w=n(p);w!==null&&!(w.expirationTime>H&&k());){var Ne=w.callback;if(typeof Ne=="function"){w.callback=null,S=w.priorityLevel;var Ae=Ne(w.expirationTime<=H);if(H=r.unstable_now(),typeof Ae=="function"){w.callback=Ae,ce(H),ae=!0;break t}w===n(p)&&a(p),ce(H)}else a(p);w=n(p)}if(w!==null)ae=!0;else{var O=n(g);O!==null&&Ue(ge,O.startTime-H),ae=!1}}break e}finally{w=null,S=ue,j=!1}ae=void 0}}finally{ae?V():be=!1}}}var V;if(typeof se=="function")V=function(){se(D)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,we=N.port2;N.port1.onmessage=D,V=function(){we.postMessage(null)}}else V=function(){K(D,0)};function Ue(H,ae){C=K(function(){H(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(H){switch(S){case 1:case 2:case 3:var ae=3;break;default:ae=S}var ue=S;S=ae;try{return H()}finally{S=ue}},r.unstable_requestPaint=function(){U=!0},r.unstable_runWithPriority=function(H,ae){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ue=S;S=H;try{return ae()}finally{S=ue}},r.unstable_scheduleCallback=function(H,ae,ue){var Ne=r.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Ne+ue:Ne):ue=Ne,H){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=ue+Ae,H={id:E++,callback:ae,priorityLevel:H,startTime:ue,expirationTime:Ae,sortIndex:-1},ue>Ne?(H.sortIndex=ue,e(g,H),n(p)===null&&H===n(g)&&(Y?(re(C),C=-1):Y=!0,Ue(ge,ue-Ne))):(H.sortIndex=Ae,e(p,H),F||j||(F=!0,be||(be=!0,V()))),H},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(H){var ae=S;return function(){var ue=S;S=ae;try{return H.apply(this,arguments)}finally{S=ue}}}})(Sm)),Sm}var b_;function cx(){return b_||(b_=1,xm.exports=lx()),xm.exports}var Am={exports:{}},xn={};var E_;function ux(){if(E_)return xn;E_=1;var r=Lp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,g,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,xn.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return c(p,g,null,E)},xn.flushSync=function(p){var g=f.T,E=a.p;try{if(f.T=null,a.p=2,p)return p()}finally{f.T=g,a.p=E,a.d.f()}},xn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},xn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},xn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,j=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:j}):E==="script"&&a.d.X(p,{crossOrigin:w,integrity:S,fetchPriority:j,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},xn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},xn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin);a.d.L(p,E,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},xn.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},xn.requestFormReset=function(p){a.d.r(p)},xn.unstable_batchedUpdates=function(p,g){return p(g)},xn.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},xn.useFormStatus=function(){return f.H.useHostTransitionStatus()},xn.version="19.2.3",xn}var T_;function hx(){if(T_)return Am.exports;T_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Am.exports=ux(),Am.exports}var w_;function fx(){if(w_)return Zl;w_=1;var r=cx(),e=Lp(),n=hx();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(a(188))}function g(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,l=i;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===s){_=!0,s=h,l=d;break}if(T===l){_=!0,l=h,s=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===s){_=!0,s=d,l=h;break}if(T===l){_=!0,l=d,s=h;break}T=T.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var w=Object.assign,S=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),re=Symbol.for("react.consumer"),se=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),ge=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function we(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case K:return"Profiler";case U:return"StrictMode";case ge:return"Suspense";case be:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case F:return"Portal";case se:return t.displayName||"Context";case re:return(t._context.displayName||"Context")+".Consumer";case ce:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return i=t.displayName||null,i!==null?i:we(t.type)||"Memo";case A:i=t._payload,t=t._init;try{return we(t(i))}catch{}}return null}var Ue=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},Ne=[],Ae=-1;function O(t){return{current:t}}function Q(t){0>Ae||(t.current=Ne[Ae],Ne[Ae]=null,Ae--)}function oe(t,i){Ae++,Ne[Ae]=t.current,t.current=i}var ne=O(null),de=O(null),Te=O(null),ie=O(null);function me(t,i){switch(oe(Te,i),oe(de,t),oe(ne,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Lv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Lv(i),t=Uv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(ne),oe(ne,t)}function ve(){Q(ne),Q(de),Q(Te)}function Je(t){t.memoizedState!==null&&oe(ie,t);var i=ne.current,s=Uv(i,t.type);i!==s&&(oe(de,t),oe(ne,s))}function It(t){de.current===t&&(Q(ne),Q(de)),ie.current===t&&(Q(ie),Ql._currentValue=ue)}var en,jt;function Qe(t){if(en===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);en=i&&i[1]||"",jt=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+en+t+jt}var an=!1;function ht(t,i){if(!t||an)return"";an=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch($){var q=$}Reflect.construct(t,[],ee)}else{try{ee.call()}catch($){q=$}t.call(ee.prototype)}}else{try{throw Error()}catch($){q=$}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch($){if($&&q&&typeof $.stack=="string")return[$.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var I=_.split(`
`),B=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===B.length)for(l=I.length-1,h=B.length-1;1<=l&&0<=h&&I[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==B[h]){var X=`
`+I[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{an=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Qe(s):""}function En(t,i){switch(t.tag){case 26:case 27:case 5:return Qe(t.type);case 16:return Qe("Lazy");case 13:return t.child!==i&&i!==null?Qe("Suspense Fallback"):Qe("Suspense");case 19:return Qe("SuspenseList");case 0:case 15:return ht(t.type,!1);case 11:return ht(t.type.render,!1);case 1:return ht(t.type,!0);case 31:return Qe("Activity");default:return""}}function sr(t){try{var i="",s=null;do i+=En(t,s),s=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ft=Object.prototype.hasOwnProperty,vt=r.unstable_scheduleCallback,tn=r.unstable_cancelCallback,$n=r.unstable_shouldYield,Cn=r.unstable_requestPaint,Dt=r.unstable_now,In=r.unstable_getCurrentPriorityLevel,pi=r.unstable_ImmediatePriority,gi=r.unstable_UserBlockingPriority,or=r.unstable_NormalPriority,yi=r.unstable_LowPriority,Ur=r.unstable_IdlePriority,vi=r.log,ta=r.unstable_setDisableYieldValue,Ut=null,Ot=null;function Tn(t){if(typeof vi=="function"&&ta(t),Ot&&typeof Ot.setStrictMode=="function")try{Ot.setStrictMode(Ut,t)}catch{}}var _t=Math.clz32?Math.clz32:na,_i=Math.log,lr=Math.LN2;function na(t){return t>>>=0,t===0?32:31-(_i(t)/lr|0)|0}var Dn=256,Sr=262144,xt=4194304;function bt(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Et(t,i,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=bt(l):(_&=T,_!==0?h=bt(_):s||(s=T&~t,s!==0&&(h=bt(s))))):(T=l&~d,T!==0?h=bt(T):_!==0?h=bt(_):s||(s=l&~t,s!==0&&(h=bt(s)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,s=i&-i,d>=s||d===32&&(s&4194048)!==0)?i:h}function sn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Ze(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hn(){var t=xt;return xt<<=1,(xt&62914560)===0&&(xt=4194304),t}function jn(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function Qn(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function bi(t,i,s,l,h,d){var _=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,B=t.hiddenUpdates;for(s=_&~s;0<s;){var X=31-_t(s),ee=1<<X;T[X]=0,I[X]=-1;var q=B[X];if(q!==null)for(B[X]=null,X=0;X<q.length;X++){var $=q[X];$!==null&&($.lane&=-536870913)}s&=~ee}l!==0&&cr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function cr(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-_t(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function Ar(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var l=31-_t(s),h=1<<l;h&i|t[l]&i&&(t[l]|=i),s&=~h}}function ur(t,i){var s=i&-i;return s=(s&42)!==0?1:Kn(s),(s&(t.suspendedLanes|i))!==0?0:s}function Kn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function On(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function zr(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:l_(t.type))}function Oe(t,i){var s=ae.p;try{return ae.p=t,i()}finally{ae.p=s}}var We=Math.random().toString(36).slice(2),et="__reactFiber$"+We,Ke="__reactProps$"+We,on="__reactContainer$"+We,Ie="__reactEvents$"+We,tt="__reactListeners$"+We,ot="__reactHandles$"+We,wn="__reactResources$"+We,Vt="__reactMarker$"+We;function Br(t){delete t[et],delete t[Ke],delete t[Ie],delete t[tt],delete t[ot]}function hr(t){var i=t[et];if(i)return i;for(var s=t.parentNode;s;){if(i=s[on]||s[et]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=Yv(t);t!==null;){if(s=t[et])return s;t=Yv(t)}return i}t=s,s=t.parentNode}return null}function Vn(t){if(t=t[et]||t[on]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Xn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function qr(t){var i=t[wn];return i||(i=t[wn]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Gt(t){t[Vt]=!0}var tl=new Set,nl={};function Hr(t,i){Fr(t,i),Fr(t+"Capture",i)}function Fr(t,i){for(nl[t]=i,t=0;t<i.length;t++)tl.add(i[t])}var rl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),il={},al={};function Fc(t){return ft.call(al,t)?!0:ft.call(il,t)?!1:rl.test(t)?al[t]=!0:(il[t]=!0,!1)}function Fs(t,i,s){if(Fc(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function Wn(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function Yt(t,i,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+l)}}function ln(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ra(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function sl(t,i,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){s=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(_){s=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function lt(t){if(!t._valueTracker){var i=ra(t)?"checked":"value";t._valueTracker=sl(t,i,""+t[i])}}function ns(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return t&&(l=ra(t)?t.checked?"true":"false":t.value),t=l,t!==s?(i.setValue(t),!0):!1}function Gr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var rs=/[\n"\\]/g;function Pn(t){return t.replace(rs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Gs(t,i,s,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+ln(i)):t.value!==""+ln(i)&&(t.value=""+ln(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?ol(t,_,ln(i)):s!=null?ol(t,_,ln(s)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+ln(T):t.removeAttribute("name")}function Gc(t,i,s,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){lt(t);return}s=s!=null?""+ln(s):"",i=i!=null?""+ln(i):s,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),lt(t)}function ol(t,i,s){i==="number"&&Gr(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function ia(t,i,s,l){if(t=t.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=i.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+ln(s),i=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Yc(t,i,s){if(i!=null&&(i=""+ln(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+ln(s):""}function aa(t,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(Ue(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=ln(i),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),lt(t)}function Ln(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var $c=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ll(t,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,s):typeof s!="number"||s===0||$c.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function cl(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&s[h]!==l&&ll(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&ll(t,d,i[d])}function Ys(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $s(t){return sa.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Nr(){}var ul=null;function fr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var oa=null,Yr=null;function is(t){var i=Vn(t);if(i&&(t=i.stateNode)){var s=t[Ke]||null;e:switch(t=i.stateNode,i.type){case"input":if(Gs(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Pn(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==t&&l.form===t.form){var h=l[Ke]||null;if(!h)throw Error(a(90));Gs(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===t.form&&ns(l)}break e;case"textarea":Yc(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&ia(t,!!s.multiple,i,!1)}}}var Qs=!1;function la(t,i,s){if(Qs)return t(i,s);Qs=!0;try{var l=t(i);return l}finally{if(Qs=!1,(oa!==null||Yr!==null)&&(Bu(),oa&&(i=oa,t=Yr,Yr=oa=null,is(i),t)))for(i=0;i<t.length;i++)is(t[i])}}function Rr(t,i){var s=t.stateNode;if(s===null)return null;var l=s[Ke]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),as=!1;if(dr)try{var dt={};Object.defineProperty(dt,"passive",{get:function(){as=!0}}),window.addEventListener("test",dt,dt),window.removeEventListener("test",dt,dt)}catch{as=!1}var $r=null,hl=null,ss=null;function fl(){if(ss)return ss;var t,i=hl,s=i.length,l,h="value"in $r?$r.value:$r.textContent,d=h.length;for(t=0;t<s&&i[t]===h[t];t++);var _=s-t;for(l=1;l<=_&&i[s-l]===h[d-l];l++);return ss=h.slice(t,1<l?1-l:void 0)}function os(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ei(){return!0}function Cr(){return!1}function fn(t){function i(s,l,h,d,_){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ei:Cr,this.isPropagationStopped=Cr,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ei)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ei)},persist:function(){},isPersistent:Ei}),i}var Ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qr=fn(Ti),ca=w({},Ti,{view:0,detail:0}),dl=fn(ca),ua,Ks,Kr,Xs=w({},ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ha,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Kr&&(Kr&&t.type==="mousemove"?(ua=t.screenX-Kr.screenX,Ks=t.screenY-Kr.screenY):Ks=ua=0,Kr=t),ua)},movementY:function(t){return"movementY"in t?t.movementY:Ks}}),ml=fn(Xs),ls=w({},Xs,{dataTransfer:0}),Kc=fn(ls),Xc=w({},ca,{relatedTarget:0}),cs=fn(Xc),pl=w({},Ti,{animationName:0,elapsedTime:0,pseudoElement:0}),Wc=fn(pl),Ws=w({},Ti,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Jc=fn(Ws),Zc=w({},Ti,{data:0}),Xr=fn(Zc),eu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ru(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=nu[t])?!!i[t]:!1}function ha(){return ru}var kn=w({},ca,{key:function(t){if(t.key){var i=eu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=os(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ha,charCode:function(t){return t.type==="keypress"?os(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?os(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),iu=fn(kn),au=w({},Xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wi=fn(au),u=w({},ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ha}),v=fn(u),b=w({},Ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),x=fn(b),L=w({},Xs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=fn(L),le=w({},Ti,{newState:0,oldState:0}),Ve=fn(le),zt=[9,13,27,32],it=dr&&"CompositionEvent"in window,Nt=null;dr&&"documentMode"in document&&(Nt=document.documentMode);var mr=dr&&"TextEvent"in window&&!Nt,Wr=dr&&(!it||Nt&&8<Nt&&11>=Nt),Ir=" ",Dr=!1;function us(t,i){switch(t){case"keyup":return zt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Js(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Zs=!1;function Cw(t,i){switch(t){case"compositionend":return Js(i);case"keypress":return i.which!==32?null:(Dr=!0,Ir);case"textInput":return t=i.data,t===Ir&&Dr?null:t;default:return null}}function Iw(t,i){if(Zs)return t==="compositionend"||!it&&us(t,i)?(t=fl(),ss=hl=$r=null,Zs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Wr&&i.locale!=="ko"?null:i.data;default:return null}}var Dw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Dw[t.type]:i==="textarea"}function Xg(t,i,s,l){oa?Yr?Yr.push(l):Yr=[l]:oa=l,i=Qu(i,"onChange"),0<i.length&&(s=new Qr("onChange","change",null,s,l),t.push({event:s,listeners:i}))}var gl=null,yl=null;function Ow(t){Ov(t,0)}function su(t){var i=Xn(t);if(ns(i))return t}function Wg(t,i){if(t==="change")return i}var Jg=!1;if(dr){var Rf;if(dr){var Cf="oninput"in document;if(!Cf){var Zg=document.createElement("div");Zg.setAttribute("oninput","return;"),Cf=typeof Zg.oninput=="function"}Rf=Cf}else Rf=!1;Jg=Rf&&(!document.documentMode||9<document.documentMode)}function e0(){gl&&(gl.detachEvent("onpropertychange",t0),yl=gl=null)}function t0(t){if(t.propertyName==="value"&&su(yl)){var i=[];Xg(i,yl,t,fr(t)),la(Ow,i)}}function kw(t,i,s){t==="focusin"?(e0(),gl=i,yl=s,gl.attachEvent("onpropertychange",t0)):t==="focusout"&&e0()}function Mw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return su(yl)}function jw(t,i){if(t==="click")return su(i)}function Vw(t,i){if(t==="input"||t==="change")return su(i)}function Pw(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Jn=typeof Object.is=="function"?Object.is:Pw;function vl(t,i){if(Jn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!ft.call(i,h)||!Jn(t[h],i[h]))return!1}return!0}function n0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function r0(t,i){var s=n0(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=i&&l>=i)return{node:s,offset:i-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=n0(s)}}function i0(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?i0(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function a0(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Gr(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=Gr(t.document)}return i}function If(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Lw=dr&&"documentMode"in document&&11>=document.documentMode,eo=null,Df=null,_l=null,Of=!1;function s0(t,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Of||eo==null||eo!==Gr(l)||(l=eo,"selectionStart"in l&&If(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),_l&&vl(_l,l)||(_l=l,l=Qu(Df,"onSelect"),0<l.length&&(i=new Qr("onSelect","select",null,i,s),t.push({event:i,listeners:l}),i.target=eo)))}function hs(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var to={animationend:hs("Animation","AnimationEnd"),animationiteration:hs("Animation","AnimationIteration"),animationstart:hs("Animation","AnimationStart"),transitionrun:hs("Transition","TransitionRun"),transitionstart:hs("Transition","TransitionStart"),transitioncancel:hs("Transition","TransitionCancel"),transitionend:hs("Transition","TransitionEnd")},kf={},o0={};dr&&(o0=document.createElement("div").style,"AnimationEvent"in window||(delete to.animationend.animation,delete to.animationiteration.animation,delete to.animationstart.animation),"TransitionEvent"in window||delete to.transitionend.transition);function fs(t){if(kf[t])return kf[t];if(!to[t])return t;var i=to[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in o0)return kf[t]=i[s];return t}var l0=fs("animationend"),c0=fs("animationiteration"),u0=fs("animationstart"),Uw=fs("transitionrun"),zw=fs("transitionstart"),Bw=fs("transitioncancel"),h0=fs("transitionend"),f0=new Map,Mf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mf.push("scrollEnd");function Or(t,i){f0.set(t,i),Hr(i,[t])}var ou=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},pr=[],no=0,jf=0;function lu(){for(var t=no,i=jf=no=0;i<t;){var s=pr[i];pr[i++]=null;var l=pr[i];pr[i++]=null;var h=pr[i];pr[i++]=null;var d=pr[i];if(pr[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&d0(s,h,d)}}function cu(t,i,s,l){pr[no++]=t,pr[no++]=i,pr[no++]=s,pr[no++]=l,jf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Vf(t,i,s,l){return cu(t,i,s,l),uu(t)}function ds(t,i){return cu(t,null,null,i),uu(t)}function d0(t,i,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-_t(s),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=s|536870912),d):null}function uu(t){if(50<Bl)throw Bl=0,Gd=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ro={};function qw(t,i,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(t,i,s,l){return new qw(t,i,s,l)}function Pf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xi(t,i){var s=t.alternate;return s===null?(s=Zn(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function m0(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function hu(t,i,s,l,h,d){var _=0;if(l=t,typeof t=="function")Pf(t)&&(_=1);else if(typeof t=="string")_=$2(t,s,ne.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Zn(31,s,i,h),t.elementType=R,t.lanes=d,t;case Y:return ms(s.children,h,d,i);case U:_=8,h|=24;break;case K:return t=Zn(12,s,i,h|2),t.elementType=K,t.lanes=d,t;case ge:return t=Zn(13,s,i,h),t.elementType=ge,t.lanes=d,t;case be:return t=Zn(19,s,i,h),t.elementType=be,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case se:_=10;break e;case re:_=9;break e;case ce:_=11;break e;case C:_=14;break e;case A:_=16,l=null;break e}_=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return i=Zn(_,s,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function ms(t,i,s,l){return t=Zn(7,t,l,i),t.lanes=s,t}function Lf(t,i,s){return t=Zn(6,t,null,i),t.lanes=s,t}function p0(t){var i=Zn(18,null,null,0);return i.stateNode=t,i}function Uf(t,i,s){return i=Zn(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var g0=new WeakMap;function gr(t,i){if(typeof t=="object"&&t!==null){var s=g0.get(t);return s!==void 0?s:(i={value:t,source:i,stack:sr(i)},g0.set(t,i),i)}return{value:t,source:i,stack:sr(i)}}var io=[],ao=0,fu=null,bl=0,yr=[],vr=0,fa=null,Jr=1,Zr="";function Si(t,i){io[ao++]=bl,io[ao++]=fu,fu=t,bl=i}function y0(t,i,s){yr[vr++]=Jr,yr[vr++]=Zr,yr[vr++]=fa,fa=t;var l=Jr;t=Zr;var h=32-_t(l)-1;l&=~(1<<h),s+=1;var d=32-_t(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Jr=1<<32-_t(i)+h|s<<h|l,Zr=d+t}else Jr=1<<d|s<<h|l,Zr=t}function zf(t){t.return!==null&&(Si(t,1),y0(t,1,0))}function Bf(t){for(;t===fu;)fu=io[--ao],io[ao]=null,bl=io[--ao],io[ao]=null;for(;t===fa;)fa=yr[--vr],yr[vr]=null,Zr=yr[--vr],yr[vr]=null,Jr=yr[--vr],yr[vr]=null}function v0(t,i){yr[vr++]=Jr,yr[vr++]=Zr,yr[vr++]=fa,Jr=i.id,Zr=i.overflow,fa=t}var dn=null,St=null,$e=!1,da=null,_r=!1,qf=Error(a(519));function ma(t){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw El(gr(i,t)),qf}function _0(t){var i=t.stateNode,s=t.type,l=t.memoizedProps;switch(i[et]=t,i[Ke]=l,s){case"dialog":Be("cancel",i),Be("close",i);break;case"iframe":case"object":case"embed":Be("load",i);break;case"video":case"audio":for(s=0;s<Hl.length;s++)Be(Hl[s],i);break;case"source":Be("error",i);break;case"img":case"image":case"link":Be("error",i),Be("load",i);break;case"details":Be("toggle",i);break;case"input":Be("invalid",i),Gc(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Be("invalid",i);break;case"textarea":Be("invalid",i),aa(i,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||Vv(i.textContent,s)?(l.popover!=null&&(Be("beforetoggle",i),Be("toggle",i)),l.onScroll!=null&&Be("scroll",i),l.onScrollEnd!=null&&Be("scrollend",i),l.onClick!=null&&(i.onclick=Nr),i=!0):i=!1,i||ma(t,!0)}function b0(t){for(dn=t.return;dn;)switch(dn.tag){case 5:case 31:case 13:_r=!1;return;case 27:case 3:_r=!0;return;default:dn=dn.return}}function so(t){if(t!==dn)return!1;if(!$e)return b0(t),$e=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||sm(t.type,t.memoizedProps)),s=!s),s&&St&&ma(t),b0(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));St=Gv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));St=Gv(t)}else i===27?(i=St,Ra(t.type)?(t=hm,hm=null,St=t):St=i):St=dn?Er(t.stateNode.nextSibling):null;return!0}function ps(){St=dn=null,$e=!1}function Hf(){var t=da;return t!==null&&(qn===null?qn=t:qn.push.apply(qn,t),da=null),t}function El(t){da===null?da=[t]:da.push(t)}var Ff=O(null),gs=null,Ai=null;function pa(t,i,s){oe(Ff,i._currentValue),i._currentValue=s}function Ni(t){t._currentValue=Ff.current,Q(Ff)}function Gf(t,i,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===s)break;t=t.return}}function Yf(t,i,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=s,T=d.alternate,T!==null&&(T.lanes|=s),Gf(d.return,s,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(a(341));_.lanes|=s,d=_.alternate,d!==null&&(d.lanes|=s),Gf(_,s,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function oo(t,i,s,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var T=h.type;Jn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===ie.current){if(_=h.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ql):t=[Ql])}h=h.return}t!==null&&Yf(i,t,s,l),i.flags|=262144}function du(t){for(t=t.firstContext;t!==null;){if(!Jn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ys(t){gs=t,Ai=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function mn(t){return E0(gs,t)}function mu(t,i){return gs===null&&ys(t),E0(t,i)}function E0(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Ai===null){if(t===null)throw Error(a(308));Ai=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ai=Ai.next=i;return s}var Hw=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},Fw=r.unstable_scheduleCallback,Gw=r.unstable_NormalPriority,$t={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $f(){return{controller:new Hw,data:new Map,refCount:0}}function Tl(t){t.refCount--,t.refCount===0&&Fw(Gw,function(){t.controller.abort()})}var wl=null,Qf=0,lo=0,co=null;function Yw(t,i){if(wl===null){var s=wl=[];Qf=0,lo=Wd(),co={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Qf++,i.then(T0,T0),i}function T0(){if(--Qf===0&&wl!==null){co!==null&&(co.status="fulfilled");var t=wl;wl=null,lo=0,co=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function $w(t,i){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var w0=H.S;H.S=function(t,i){sv=Dt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Yw(t,i),w0!==null&&w0(t,i)};var vs=O(null);function Kf(){var t=vs.current;return t!==null?t:Tt.pooledCache}function pu(t,i){i===null?oe(vs,vs.current):oe(vs,i.pool)}function x0(){var t=Kf();return t===null?null:{parent:$t._currentValue,pool:t}}var uo=Error(a(460)),Xf=Error(a(474)),gu=Error(a(542)),yu={then:function(){}};function S0(t){return t=t.status,t==="fulfilled"||t==="rejected"}function A0(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(Nr,Nr),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,R0(t),t;default:if(typeof i.status=="string")i.then(Nr,Nr);else{if(t=Tt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,R0(t),t}throw bs=i,uo}}function _s(t){try{var i=t._init;return i(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(bs=s,uo):s}}var bs=null;function N0(){if(bs===null)throw Error(a(459));var t=bs;return bs=null,t}function R0(t){if(t===uo||t===gu)throw Error(a(483))}var ho=null,xl=0;function vu(t){var i=xl;return xl+=1,ho===null&&(ho=[]),A0(ho,t,i)}function Sl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function _u(t,i){throw i.$$typeof===S?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function C0(t){function i(P,M){if(t){var z=P.deletions;z===null?(P.deletions=[M],P.flags|=16):z.push(M)}}function s(P,M){if(!t)return null;for(;M!==null;)i(P,M),M=M.sibling;return null}function l(P){for(var M=new Map;P!==null;)P.key!==null?M.set(P.key,P):M.set(P.index,P),P=P.sibling;return M}function h(P,M){return P=xi(P,M),P.index=0,P.sibling=null,P}function d(P,M,z){return P.index=z,t?(z=P.alternate,z!==null?(z=z.index,z<M?(P.flags|=67108866,M):z):(P.flags|=67108866,M)):(P.flags|=1048576,M)}function _(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function T(P,M,z,J){return M===null||M.tag!==6?(M=Lf(z,P.mode,J),M.return=P,M):(M=h(M,z),M.return=P,M)}function I(P,M,z,J){var xe=z.type;return xe===Y?X(P,M,z.props.children,J,z.key):M!==null&&(M.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===A&&_s(xe)===M.type)?(M=h(M,z.props),Sl(M,z),M.return=P,M):(M=hu(z.type,z.key,z.props,null,P.mode,J),Sl(M,z),M.return=P,M)}function B(P,M,z,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=Uf(z,P.mode,J),M.return=P,M):(M=h(M,z.children||[]),M.return=P,M)}function X(P,M,z,J,xe){return M===null||M.tag!==7?(M=ms(z,P.mode,J,xe),M.return=P,M):(M=h(M,z),M.return=P,M)}function ee(P,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Lf(""+M,P.mode,z),M.return=P,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case j:return z=hu(M.type,M.key,M.props,null,P.mode,z),Sl(z,M),z.return=P,z;case F:return M=Uf(M,P.mode,z),M.return=P,M;case A:return M=_s(M),ee(P,M,z)}if(Ue(M)||V(M))return M=ms(M,P.mode,z,null),M.return=P,M;if(typeof M.then=="function")return ee(P,vu(M),z);if(M.$$typeof===se)return ee(P,mu(P,M),z);_u(P,M)}return null}function q(P,M,z,J){var xe=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return xe!==null?null:T(P,M,""+z,J);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case j:return z.key===xe?I(P,M,z,J):null;case F:return z.key===xe?B(P,M,z,J):null;case A:return z=_s(z),q(P,M,z,J)}if(Ue(z)||V(z))return xe!==null?null:X(P,M,z,J,null);if(typeof z.then=="function")return q(P,M,vu(z),J);if(z.$$typeof===se)return q(P,M,mu(P,z),J);_u(P,z)}return null}function $(P,M,z,J,xe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return P=P.get(z)||null,T(M,P,""+J,xe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case j:return P=P.get(J.key===null?z:J.key)||null,I(M,P,J,xe);case F:return P=P.get(J.key===null?z:J.key)||null,B(M,P,J,xe);case A:return J=_s(J),$(P,M,z,J,xe)}if(Ue(J)||V(J))return P=P.get(z)||null,X(M,P,J,xe,null);if(typeof J.then=="function")return $(P,M,z,vu(J),xe);if(J.$$typeof===se)return $(P,M,z,mu(M,J),xe);_u(M,J)}return null}function ye(P,M,z,J){for(var xe=null,nt=null,Ee=M,Le=M=0,He=null;Ee!==null&&Le<z.length;Le++){Ee.index>Le?(He=Ee,Ee=null):He=Ee.sibling;var rt=q(P,Ee,z[Le],J);if(rt===null){Ee===null&&(Ee=He);break}t&&Ee&&rt.alternate===null&&i(P,Ee),M=d(rt,M,Le),nt===null?xe=rt:nt.sibling=rt,nt=rt,Ee=He}if(Le===z.length)return s(P,Ee),$e&&Si(P,Le),xe;if(Ee===null){for(;Le<z.length;Le++)Ee=ee(P,z[Le],J),Ee!==null&&(M=d(Ee,M,Le),nt===null?xe=Ee:nt.sibling=Ee,nt=Ee);return $e&&Si(P,Le),xe}for(Ee=l(Ee);Le<z.length;Le++)He=$(Ee,P,Le,z[Le],J),He!==null&&(t&&He.alternate!==null&&Ee.delete(He.key===null?Le:He.key),M=d(He,M,Le),nt===null?xe=He:nt.sibling=He,nt=He);return t&&Ee.forEach(function(ka){return i(P,ka)}),$e&&Si(P,Le),xe}function Re(P,M,z,J){if(z==null)throw Error(a(151));for(var xe=null,nt=null,Ee=M,Le=M=0,He=null,rt=z.next();Ee!==null&&!rt.done;Le++,rt=z.next()){Ee.index>Le?(He=Ee,Ee=null):He=Ee.sibling;var ka=q(P,Ee,rt.value,J);if(ka===null){Ee===null&&(Ee=He);break}t&&Ee&&ka.alternate===null&&i(P,Ee),M=d(ka,M,Le),nt===null?xe=ka:nt.sibling=ka,nt=ka,Ee=He}if(rt.done)return s(P,Ee),$e&&Si(P,Le),xe;if(Ee===null){for(;!rt.done;Le++,rt=z.next())rt=ee(P,rt.value,J),rt!==null&&(M=d(rt,M,Le),nt===null?xe=rt:nt.sibling=rt,nt=rt);return $e&&Si(P,Le),xe}for(Ee=l(Ee);!rt.done;Le++,rt=z.next())rt=$(Ee,P,Le,rt.value,J),rt!==null&&(t&&rt.alternate!==null&&Ee.delete(rt.key===null?Le:rt.key),M=d(rt,M,Le),nt===null?xe=rt:nt.sibling=rt,nt=rt);return t&&Ee.forEach(function(ix){return i(P,ix)}),$e&&Si(P,Le),xe}function gt(P,M,z,J){if(typeof z=="object"&&z!==null&&z.type===Y&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case j:e:{for(var xe=z.key;M!==null;){if(M.key===xe){if(xe=z.type,xe===Y){if(M.tag===7){s(P,M.sibling),J=h(M,z.props.children),J.return=P,P=J;break e}}else if(M.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===A&&_s(xe)===M.type){s(P,M.sibling),J=h(M,z.props),Sl(J,z),J.return=P,P=J;break e}s(P,M);break}else i(P,M);M=M.sibling}z.type===Y?(J=ms(z.props.children,P.mode,J,z.key),J.return=P,P=J):(J=hu(z.type,z.key,z.props,null,P.mode,J),Sl(J,z),J.return=P,P=J)}return _(P);case F:e:{for(xe=z.key;M!==null;){if(M.key===xe)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){s(P,M.sibling),J=h(M,z.children||[]),J.return=P,P=J;break e}else{s(P,M);break}else i(P,M);M=M.sibling}J=Uf(z,P.mode,J),J.return=P,P=J}return _(P);case A:return z=_s(z),gt(P,M,z,J)}if(Ue(z))return ye(P,M,z,J);if(V(z)){if(xe=V(z),typeof xe!="function")throw Error(a(150));return z=xe.call(z),Re(P,M,z,J)}if(typeof z.then=="function")return gt(P,M,vu(z),J);if(z.$$typeof===se)return gt(P,M,mu(P,z),J);_u(P,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(s(P,M.sibling),J=h(M,z),J.return=P,P=J):(s(P,M),J=Lf(z,P.mode,J),J.return=P,P=J),_(P)):s(P,M)}return function(P,M,z,J){try{xl=0;var xe=gt(P,M,z,J);return ho=null,xe}catch(Ee){if(Ee===uo||Ee===gu)throw Ee;var nt=Zn(29,Ee,null,P.mode);return nt.lanes=J,nt.return=P,nt}}}var Es=C0(!0),I0=C0(!1),ga=!1;function Wf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ya(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function va(t,i,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(at&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=uu(t),d0(t,null,s),i}return cu(t,l,i,s),uu(t)}function Al(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,Ar(t,s)}}function Zf(t,i){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,s=s.next}while(s!==null);d===null?h=d=i:d=d.next=i}else h=d=i;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var ed=!1;function Nl(){if(ed){var t=co;if(t!==null)throw t}}function Rl(t,i,s,l){ed=!1;var h=t.updateQueue;ga=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,B=I.next;I.next=null,_===null?d=B:_.next=B,_=I;var X=t.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==_&&(T===null?X.firstBaseUpdate=B:T.next=B,X.lastBaseUpdate=I))}if(d!==null){var ee=h.baseState;_=0,X=B=I=null,T=d;do{var q=T.lane&-536870913,$=q!==T.lane;if($?(qe&q)===q:(l&q)===q){q!==0&&q===lo&&(ed=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ye=t,Re=T;q=i;var gt=s;switch(Re.tag){case 1:if(ye=Re.payload,typeof ye=="function"){ee=ye.call(gt,ee,q);break e}ee=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Re.payload,q=typeof ye=="function"?ye.call(gt,ee,q):ye,q==null)break e;ee=w({},ee,q);break e;case 2:ga=!0}}q=T.callback,q!==null&&(t.flags|=64,$&&(t.flags|=8192),$=h.callbacks,$===null?h.callbacks=[q]:$.push(q))}else $={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(B=X=$,I=ee):X=X.next=$,_|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;$=T,T=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);X===null&&(I=ee),h.baseState=I,h.firstBaseUpdate=B,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),wa|=_,t.lanes=_,t.memoizedState=ee}}function D0(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function O0(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)D0(s[t],i)}var fo=O(null),bu=O(0);function k0(t,i){t=Vi,oe(bu,t),oe(fo,i),Vi=t|i.baseLanes}function td(){oe(bu,Vi),oe(fo,fo.current)}function nd(){Vi=bu.current,Q(fo),Q(bu)}var er=O(null),br=null;function _a(t){var i=t.alternate;oe(Bt,Bt.current&1),oe(er,t),br===null&&(i===null||fo.current!==null||i.memoizedState!==null)&&(br=t)}function rd(t){oe(Bt,Bt.current),oe(er,t),br===null&&(br=t)}function M0(t){t.tag===22?(oe(Bt,Bt.current),oe(er,t),br===null&&(br=t)):ba()}function ba(){oe(Bt,Bt.current),oe(er,er.current)}function tr(t){Q(er),br===t&&(br=null),Q(Bt)}var Bt=O(0);function Eu(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||cm(s)||um(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ri=0,Pe=null,mt=null,Qt=null,Tu=!1,mo=!1,Ts=!1,wu=0,Cl=0,po=null,Qw=0;function Pt(){throw Error(a(321))}function id(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!Jn(t[s],i[s]))return!1;return!0}function ad(t,i,s,l,h,d){return Ri=d,Pe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=t===null||t.memoizedState===null?yy:bd,Ts=!1,d=s(l,h),Ts=!1,mo&&(d=V0(i,s,l,h)),j0(t),d}function j0(t){H.H=Ol;var i=mt!==null&&mt.next!==null;if(Ri=0,Qt=mt=Pe=null,Tu=!1,Cl=0,po=null,i)throw Error(a(300));t===null||Kt||(t=t.dependencies,t!==null&&du(t)&&(Kt=!0))}function V0(t,i,s,l){Pe=t;var h=0;do{if(mo&&(po=null),Cl=0,mo=!1,25<=h)throw Error(a(301));if(h+=1,Qt=mt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}H.H=vy,d=i(s,l)}while(mo);return d}function Kw(){var t=H.H,i=t.useState()[0];return i=typeof i.then=="function"?Il(i):i,t=t.useState()[0],(mt!==null?mt.memoizedState:null)!==t&&(Pe.flags|=1024),i}function sd(){var t=wu!==0;return wu=0,t}function od(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function ld(t){if(Tu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Tu=!1}Ri=0,Qt=mt=Pe=null,mo=!1,Cl=wu=0,po=null}function Mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?Pe.memoizedState=Qt=t:Qt=Qt.next=t,Qt}function qt(){if(mt===null){var t=Pe.alternate;t=t!==null?t.memoizedState:null}else t=mt.next;var i=Qt===null?Pe.memoizedState:Qt.next;if(i!==null)Qt=i,mt=t;else{if(t===null)throw Pe.alternate===null?Error(a(467)):Error(a(310));mt=t,t={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Qt===null?Pe.memoizedState=Qt=t:Qt=Qt.next=t}return Qt}function xu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Il(t){var i=Cl;return Cl+=1,po===null&&(po=[]),t=A0(po,t,i),i=Pe,(Qt===null?i.memoizedState:Qt.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?yy:bd),t}function Su(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Il(t);if(t.$$typeof===se)return mn(t)}throw Error(a(438,String(t)))}function cd(t){var i=null,s=Pe.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=Pe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=xu(),Pe.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),l=0;l<t;l++)s[l]=k;return i.index++,s}function Ci(t,i){return typeof i=="function"?i(t):i}function Au(t){var i=qt();return ud(i,mt,t)}function ud(t,i,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=_=null,I=null,B=i,X=!1;do{var ee=B.lane&-536870913;if(ee!==B.lane?(qe&ee)===ee:(Ri&ee)===ee){var q=B.revertLane;if(q===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),ee===lo&&(X=!0);else if((Ri&q)===q){B=B.next,q===lo&&(X=!0);continue}else ee={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(T=I=ee,_=d):I=I.next=ee,Pe.lanes|=q,wa|=q;ee=B.action,Ts&&s(d,ee),d=B.hasEagerState?B.eagerState:s(d,ee)}else q={lane:ee,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(T=I=q,_=d):I=I.next=q,Pe.lanes|=ee,wa|=ee;B=B.next}while(B!==null&&B!==i);if(I===null?_=d:I.next=T,!Jn(d,t.memoizedState)&&(Kt=!0,X&&(s=co,s!==null)))throw s;t.memoizedState=d,t.baseState=_,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function hd(t){var i=qt(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,d=i.memoizedState;if(h!==null){s.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);Jn(d,i.memoizedState)||(Kt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,l]}function P0(t,i,s){var l=Pe,h=qt(),d=$e;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=i();var _=!Jn((mt||h).memoizedState,s);if(_&&(h.memoizedState=s,Kt=!0),h=h.queue,md(z0.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||Qt!==null&&Qt.memoizedState.tag&1){if(l.flags|=2048,go(9,{destroy:void 0},U0.bind(null,l,h,s,i),null),Tt===null)throw Error(a(349));d||(Ri&127)!==0||L0(l,i,s)}return s}function L0(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Pe.updateQueue,i===null?(i=xu(),Pe.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function U0(t,i,s,l){i.value=s,i.getSnapshot=l,B0(i)&&q0(t)}function z0(t,i,s){return s(function(){B0(i)&&q0(t)})}function B0(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!Jn(t,s)}catch{return!0}}function q0(t){var i=ds(t,2);i!==null&&Hn(i,t,2)}function fd(t){var i=Mn();if(typeof t=="function"){var s=t;if(t=s(),Ts){Tn(!0);try{s()}finally{Tn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:t},i}function H0(t,i,s,l){return t.baseState=s,ud(t,mt,typeof l=="function"?l:Ci)}function Xw(t,i,s,l,h){if(Cu(t))throw Error(a(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};H.T!==null?s(!0):d.isTransition=!1,l(d),s=i.pending,s===null?(d.next=i.pending=d,F0(i,d)):(d.next=s.next,i.pending=s.next=d)}}function F0(t,i){var s=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=H.T,_={};H.T=_;try{var T=s(h,l),I=H.S;I!==null&&I(_,T),G0(t,i,T)}catch(B){dd(t,i,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),H.T=d}}else try{d=s(h,l),G0(t,i,d)}catch(B){dd(t,i,B)}}function G0(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Y0(t,i,l)},function(l){return dd(t,i,l)}):Y0(t,i,s)}function Y0(t,i,s){i.status="fulfilled",i.value=s,$0(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,F0(t,s)))}function dd(t,i,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,$0(i),i=i.next;while(i!==l)}t.action=null}function $0(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Q0(t,i){return i}function K0(t,i){if($e){var s=Tt.formState;if(s!==null){e:{var l=Pe;if($e){if(St){t:{for(var h=St,d=_r;h.nodeType!==8;){if(!d){h=null;break t}if(h=Er(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){St=Er(h.nextSibling),l=h.data==="F!";break e}}ma(l)}l=!1}l&&(i=s[0])}}return s=Mn(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Q0,lastRenderedState:i},s.queue=l,s=my.bind(null,Pe,l),l.dispatch=s,l=fd(!1),d=_d.bind(null,Pe,!1,l.queue),l=Mn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,s=Xw.bind(null,Pe,h,d,s),h.dispatch=s,l.memoizedState=t,[i,s,!1]}function X0(t){var i=qt();return W0(i,mt,t)}function W0(t,i,s){if(i=ud(t,i,Q0)[0],t=Au(Ci)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Il(i)}catch(_){throw _===uo?gu:_}else l=i;i=qt();var h=i.queue,d=h.dispatch;return s!==i.memoizedState&&(Pe.flags|=2048,go(9,{destroy:void 0},Ww.bind(null,h,s),null)),[l,d,t]}function Ww(t,i){t.action=i}function J0(t){var i=qt(),s=mt;if(s!==null)return W0(i,s,t);qt(),i=i.memoizedState,s=qt();var l=s.queue.dispatch;return s.memoizedState=t,[i,l,!1]}function go(t,i,s,l){return t={tag:t,create:s,deps:l,inst:i,next:null},i=Pe.updateQueue,i===null&&(i=xu(),Pe.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,i.lastEffect=t),t}function Z0(){return qt().memoizedState}function Nu(t,i,s,l){var h=Mn();Pe.flags|=t,h.memoizedState=go(1|i,{destroy:void 0},s,l===void 0?null:l)}function Ru(t,i,s,l){var h=qt();l=l===void 0?null:l;var d=h.memoizedState.inst;mt!==null&&l!==null&&id(l,mt.memoizedState.deps)?h.memoizedState=go(i,d,s,l):(Pe.flags|=t,h.memoizedState=go(1|i,d,s,l))}function ey(t,i){Nu(8390656,8,t,i)}function md(t,i){Ru(2048,8,t,i)}function Jw(t){Pe.flags|=4;var i=Pe.updateQueue;if(i===null)i=xu(),Pe.updateQueue=i,i.events=[t];else{var s=i.events;s===null?i.events=[t]:s.push(t)}}function ty(t){var i=qt().memoizedState;return Jw({ref:i,nextImpl:t}),function(){if((at&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function ny(t,i){return Ru(4,2,t,i)}function ry(t,i){return Ru(4,4,t,i)}function iy(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function ay(t,i,s){s=s!=null?s.concat([t]):null,Ru(4,4,iy.bind(null,i,t),s)}function pd(){}function sy(t,i){var s=qt();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&id(i,l[1])?l[0]:(s.memoizedState=[t,i],t)}function oy(t,i){var s=qt();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&id(i,l[1]))return l[0];if(l=t(),Ts){Tn(!0);try{t()}finally{Tn(!1)}}return s.memoizedState=[l,i],l}function gd(t,i,s){return s===void 0||(Ri&1073741824)!==0&&(qe&261930)===0?t.memoizedState=i:(t.memoizedState=s,t=lv(),Pe.lanes|=t,wa|=t,s)}function ly(t,i,s,l){return Jn(s,i)?s:fo.current!==null?(t=gd(t,s,l),Jn(t,i)||(Kt=!0),t):(Ri&42)===0||(Ri&1073741824)!==0&&(qe&261930)===0?(Kt=!0,t.memoizedState=s):(t=lv(),Pe.lanes|=t,wa|=t,i)}function cy(t,i,s,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var _=H.T,T={};H.T=T,_d(t,!1,i,s);try{var I=h(),B=H.S;if(B!==null&&B(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var X=$w(I,l);Dl(t,i,X,ir(t))}else Dl(t,i,l,ir(t))}catch(ee){Dl(t,i,{then:function(){},status:"rejected",reason:ee},ir())}finally{ae.p=d,_!==null&&T.types!==null&&(_.types=T.types),H.T=_}}function Zw(){}function yd(t,i,s,l){if(t.tag!==5)throw Error(a(476));var h=uy(t).queue;cy(t,h,i,ue,s===null?Zw:function(){return hy(t),s(l)})}function uy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:ue},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function hy(t){var i=uy(t);i.next===null&&(i=t.alternate.memoizedState),Dl(t,i.next.queue,{},ir())}function vd(){return mn(Ql)}function fy(){return qt().memoizedState}function dy(){return qt().memoizedState}function e2(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=ir();t=ya(s);var l=va(i,t,s);l!==null&&(Hn(l,i,s),Al(l,i,s)),i={cache:$f()},t.payload=i;return}i=i.return}}function t2(t,i,s){var l=ir();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Cu(t)?py(i,s):(s=Vf(t,i,s,l),s!==null&&(Hn(s,t,l),gy(s,i,l)))}function my(t,i,s){var l=ir();Dl(t,i,s,l)}function Dl(t,i,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Cu(t))py(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,s);if(h.hasEagerState=!0,h.eagerState=T,Jn(T,_))return cu(t,i,h,0),Tt===null&&lu(),!1}catch{}if(s=Vf(t,i,h,l),s!==null)return Hn(s,t,l),gy(s,i,l),!0}return!1}function _d(t,i,s,l){if(l={lane:2,revertLane:Wd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Cu(t)){if(i)throw Error(a(479))}else i=Vf(t,s,l,2),i!==null&&Hn(i,t,2)}function Cu(t){var i=t.alternate;return t===Pe||i!==null&&i===Pe}function py(t,i){mo=Tu=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function gy(t,i,s){if((s&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,Ar(t,s)}}var Ol={readContext:mn,use:Su,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useLayoutEffect:Pt,useInsertionEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useSyncExternalStore:Pt,useId:Pt,useHostTransitionStatus:Pt,useFormState:Pt,useActionState:Pt,useOptimistic:Pt,useMemoCache:Pt,useCacheRefresh:Pt};Ol.useEffectEvent=Pt;var yy={readContext:mn,use:Su,useCallback:function(t,i){return Mn().memoizedState=[t,i===void 0?null:i],t},useContext:mn,useEffect:ey,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,Nu(4194308,4,iy.bind(null,i,t),s)},useLayoutEffect:function(t,i){return Nu(4194308,4,t,i)},useInsertionEffect:function(t,i){Nu(4,2,t,i)},useMemo:function(t,i){var s=Mn();i=i===void 0?null:i;var l=t();if(Ts){Tn(!0);try{t()}finally{Tn(!1)}}return s.memoizedState=[l,i],l},useReducer:function(t,i,s){var l=Mn();if(s!==void 0){var h=s(i);if(Ts){Tn(!0);try{s(i)}finally{Tn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=t2.bind(null,Pe,t),[l.memoizedState,t]},useRef:function(t){var i=Mn();return t={current:t},i.memoizedState=t},useState:function(t){t=fd(t);var i=t.queue,s=my.bind(null,Pe,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:pd,useDeferredValue:function(t,i){var s=Mn();return gd(s,t,i)},useTransition:function(){var t=fd(!1);return t=cy.bind(null,Pe,t.queue,!0,!1),Mn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var l=Pe,h=Mn();if($e){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),Tt===null)throw Error(a(349));(qe&127)!==0||L0(l,i,s)}h.memoizedState=s;var d={value:s,getSnapshot:i};return h.queue=d,ey(z0.bind(null,l,d,t),[t]),l.flags|=2048,go(9,{destroy:void 0},U0.bind(null,l,d,s,i),null),s},useId:function(){var t=Mn(),i=Tt.identifierPrefix;if($e){var s=Zr,l=Jr;s=(l&~(1<<32-_t(l)-1)).toString(32)+s,i="_"+i+"R_"+s,s=wu++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=Qw++,i="_"+i+"r_"+s.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:vd,useFormState:K0,useActionState:K0,useOptimistic:function(t){var i=Mn();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=_d.bind(null,Pe,!0,s),s.dispatch=i,[t,i]},useMemoCache:cd,useCacheRefresh:function(){return Mn().memoizedState=e2.bind(null,Pe)},useEffectEvent:function(t){var i=Mn(),s={impl:t};return i.memoizedState=s,function(){if((at&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},bd={readContext:mn,use:Su,useCallback:sy,useContext:mn,useEffect:md,useImperativeHandle:ay,useInsertionEffect:ny,useLayoutEffect:ry,useMemo:oy,useReducer:Au,useRef:Z0,useState:function(){return Au(Ci)},useDebugValue:pd,useDeferredValue:function(t,i){var s=qt();return ly(s,mt.memoizedState,t,i)},useTransition:function(){var t=Au(Ci)[0],i=qt().memoizedState;return[typeof t=="boolean"?t:Il(t),i]},useSyncExternalStore:P0,useId:fy,useHostTransitionStatus:vd,useFormState:X0,useActionState:X0,useOptimistic:function(t,i){var s=qt();return H0(s,mt,t,i)},useMemoCache:cd,useCacheRefresh:dy};bd.useEffectEvent=ty;var vy={readContext:mn,use:Su,useCallback:sy,useContext:mn,useEffect:md,useImperativeHandle:ay,useInsertionEffect:ny,useLayoutEffect:ry,useMemo:oy,useReducer:hd,useRef:Z0,useState:function(){return hd(Ci)},useDebugValue:pd,useDeferredValue:function(t,i){var s=qt();return mt===null?gd(s,t,i):ly(s,mt.memoizedState,t,i)},useTransition:function(){var t=hd(Ci)[0],i=qt().memoizedState;return[typeof t=="boolean"?t:Il(t),i]},useSyncExternalStore:P0,useId:fy,useHostTransitionStatus:vd,useFormState:J0,useActionState:J0,useOptimistic:function(t,i){var s=qt();return mt!==null?H0(s,mt,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:cd,useCacheRefresh:dy};vy.useEffectEvent=ty;function Ed(t,i,s,l){i=t.memoizedState,s=s(l,i),s=s==null?i:w({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Td={enqueueSetState:function(t,i,s){t=t._reactInternals;var l=ir(),h=ya(l);h.payload=i,s!=null&&(h.callback=s),i=va(t,h,l),i!==null&&(Hn(i,t,l),Al(i,t,l))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var l=ir(),h=ya(l);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=va(t,h,l),i!==null&&(Hn(i,t,l),Al(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=ir(),l=ya(s);l.tag=2,i!=null&&(l.callback=i),i=va(t,l,s),i!==null&&(Hn(i,t,s),Al(i,t,s))}};function _y(t,i,s,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!vl(s,l)||!vl(h,d):!0}function by(t,i,s,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==t&&Td.enqueueReplaceState(i,i.state,null)}function ws(t,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(t=t.defaultProps){s===i&&(s=w({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function Ey(t){ou(t)}function Ty(t){console.error(t)}function wy(t){ou(t)}function Iu(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function xy(t,i,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function wd(t,i,s){return s=ya(s),s.tag=3,s.payload={element:null},s.callback=function(){Iu(t,i)},s}function Sy(t){return t=ya(t),t.tag=3,t}function Ay(t,i,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){xy(i,s,l)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){xy(i,s,l),typeof h!="function"&&(xa===null?xa=new Set([this]):xa.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function n2(t,i,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&oo(i,s,h,!0),s=er.current,s!==null){switch(s.tag){case 31:case 13:return br===null?qu():s.alternate===null&&Lt===0&&(Lt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===yu?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),Qd(t,l,h)),!1;case 22:return s.flags|=65536,l===yu?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),Qd(t,l,h)),!1}throw Error(a(435,s.tag))}return Qd(t,l,h),qu(),!1}if($e)return i=er.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==qf&&(t=Error(a(422),{cause:l}),El(gr(t,s)))):(l!==qf&&(i=Error(a(423),{cause:l}),El(gr(i,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=gr(l,s),h=wd(t.stateNode,l,h),Zf(t,h),Lt!==4&&(Lt=2)),!1;var d=Error(a(520),{cause:l});if(d=gr(d,s),zl===null?zl=[d]:zl.push(d),Lt!==4&&(Lt=2),i===null)return!0;l=gr(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=wd(s.stateNode,l,t),Zf(s,t),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(xa===null||!xa.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Sy(h),Ay(h,t,s,l),Zf(s,h),!1}s=s.return}while(s!==null);return!1}var xd=Error(a(461)),Kt=!1;function pn(t,i,s,l){i.child=t===null?I0(i,null,s,l):Es(i,t.child,s,l)}function Ny(t,i,s,l,h){s=s.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return ys(i),l=ad(t,i,s,_,d,h),T=sd(),t!==null&&!Kt?(od(t,i,h),Ii(t,i,h)):($e&&T&&zf(i),i.flags|=1,pn(t,i,l,h),i.child)}function Ry(t,i,s,l,h){if(t===null){var d=s.type;return typeof d=="function"&&!Pf(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,Cy(t,i,d,l,h)):(t=hu(s.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Od(t,h)){var _=d.memoizedProps;if(s=s.compare,s=s!==null?s:vl,s(_,l)&&t.ref===i.ref)return Ii(t,i,h)}return i.flags|=1,t=xi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Cy(t,i,s,l,h){if(t!==null){var d=t.memoizedProps;if(vl(d,l)&&t.ref===i.ref)if(Kt=!1,i.pendingProps=l=d,Od(t,h))(t.flags&131072)!==0&&(Kt=!0);else return i.lanes=t.lanes,Ii(t,i,h)}return Sd(t,i,s,l,h)}function Iy(t,i,s,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Dy(t,i,d,s,l)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&pu(i,d!==null?d.cachePool:null),d!==null?k0(i,d):td(),M0(i);else return l=i.lanes=536870912,Dy(t,i,d!==null?d.baseLanes|s:s,s,l)}else d!==null?(pu(i,d.cachePool),k0(i,d),ba(),i.memoizedState=null):(t!==null&&pu(i,null),td(),ba());return pn(t,i,h,s),i.child}function kl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Dy(t,i,s,l,h){var d=Kf();return d=d===null?null:{parent:$t._currentValue,pool:d},i.memoizedState={baseLanes:s,cachePool:d},t!==null&&pu(i,null),td(),M0(i),t!==null&&oo(t,i,l,!0),i.childLanes=h,null}function Du(t,i){return i=ku({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Oy(t,i,s){return Es(i,t.child,null,s),t=Du(i,i.pendingProps),t.flags|=2,tr(i),i.memoizedState=null,t}function r2(t,i,s){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if($e){if(l.mode==="hidden")return t=Du(i,l),i.lanes=536870912,kl(null,t);if(rd(i),(t=St)?(t=Fv(t,_r),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:fa!==null?{id:Jr,overflow:Zr}:null,retryLane:536870912,hydrationErrors:null},s=p0(t),s.return=i,i.child=s,dn=i,St=null)):t=null,t===null)throw ma(i);return i.lanes=536870912,null}return Du(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(rd(i),h)if(i.flags&256)i.flags&=-257,i=Oy(t,i,s);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(a(558));else if(Kt||oo(t,i,s,!1),h=(s&t.childLanes)!==0,Kt||h){if(l=Tt,l!==null&&(_=ur(l,s),_!==0&&_!==d.retryLane))throw d.retryLane=_,ds(t,_),Hn(l,t,_),xd;qu(),i=Oy(t,i,s)}else t=d.treeContext,St=Er(_.nextSibling),dn=i,$e=!0,da=null,_r=!1,t!==null&&v0(i,t),i=Du(i,l),i.flags|=4096;return i}return t=xi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Ou(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function Sd(t,i,s,l,h){return ys(i),s=ad(t,i,s,l,void 0,h),l=sd(),t!==null&&!Kt?(od(t,i,h),Ii(t,i,h)):($e&&l&&zf(i),i.flags|=1,pn(t,i,s,h),i.child)}function ky(t,i,s,l,h,d){return ys(i),i.updateQueue=null,s=V0(i,l,s,h),j0(t),l=sd(),t!==null&&!Kt?(od(t,i,d),Ii(t,i,d)):($e&&l&&zf(i),i.flags|=1,pn(t,i,s,d),i.child)}function My(t,i,s,l,h){if(ys(i),i.stateNode===null){var d=ro,_=s.contextType;typeof _=="object"&&_!==null&&(d=mn(_)),d=new s(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Td,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Wf(i),_=s.contextType,d.context=typeof _=="object"&&_!==null?mn(_):ro,d.state=i.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(Ed(i,s,_,l),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Td.enqueueReplaceState(d,d.state,null),Rl(i,l,d,h),Nl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,I=ws(s,T);d.props=I;var B=d.context,X=s.contextType;_=ro,typeof X=="object"&&X!==null&&(_=mn(X));var ee=s.getDerivedStateFromProps;X=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||B!==_)&&by(i,d,l,_),ga=!1;var q=i.memoizedState;d.state=q,Rl(i,l,d,h),Nl(),B=i.memoizedState,T||q!==B||ga?(typeof ee=="function"&&(Ed(i,s,ee,l),B=i.memoizedState),(I=ga||_y(i,s,I,l,q,B,_))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=_,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Jf(t,i),_=i.memoizedProps,X=ws(s,_),d.props=X,ee=i.pendingProps,q=d.context,B=s.contextType,I=ro,typeof B=="object"&&B!==null&&(I=mn(B)),T=s.getDerivedStateFromProps,(B=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ee||q!==I)&&by(i,d,l,I),ga=!1,q=i.memoizedState,d.state=q,Rl(i,l,d,h),Nl();var $=i.memoizedState;_!==ee||q!==$||ga||t!==null&&t.dependencies!==null&&du(t.dependencies)?(typeof T=="function"&&(Ed(i,s,T,l),$=i.memoizedState),(X=ga||_y(i,s,X,l,q,$,I)||t!==null&&t.dependencies!==null&&du(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,$,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,$,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=$),d.props=l,d.state=$,d.context=I,l=X):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Ou(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Es(i,t.child,null,h),i.child=Es(i,null,s,h)):pn(t,i,s,h),i.memoizedState=d.state,t=i.child):t=Ii(t,i,h),t}function jy(t,i,s,l){return ps(),i.flags|=256,pn(t,i,s,l),i.child}var Ad={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nd(t){return{baseLanes:t,cachePool:x0()}}function Rd(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=rr),t}function Vy(t,i,s){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(Bt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if($e){if(h?_a(i):ba(),(t=St)?(t=Fv(t,_r),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:fa!==null?{id:Jr,overflow:Zr}:null,retryLane:536870912,hydrationErrors:null},s=p0(t),s.return=i,i.child=s,dn=i,St=null)):t=null,t===null)throw ma(i);return um(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(ba(),h=i.mode,T=ku({mode:"hidden",children:T},h),l=ms(l,h,s,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=Nd(s),l.childLanes=Rd(t,_,s),i.memoizedState=Ad,kl(null,l)):(_a(i),Cd(i,T))}var I=t.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(_a(i),i.flags&=-257,i=Id(t,i,s)):i.memoizedState!==null?(ba(),i.child=t.child,i.flags|=128,i=null):(ba(),T=l.fallback,h=i.mode,l=ku({mode:"visible",children:l.children},h),T=ms(T,h,s,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Es(i,t.child,null,s),l=i.child,l.memoizedState=Nd(s),l.childLanes=Rd(t,_,s),i.memoizedState=Ad,i=kl(null,l));else if(_a(i),um(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(a(419)),l.stack="",l.digest=_,El({value:l,source:null,stack:null}),i=Id(t,i,s)}else if(Kt||oo(t,i,s,!1),_=(s&t.childLanes)!==0,Kt||_){if(_=Tt,_!==null&&(l=ur(_,s),l!==0&&l!==I.retryLane))throw I.retryLane=l,ds(t,l),Hn(_,t,l),xd;cm(T)||qu(),i=Id(t,i,s)}else cm(T)?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,St=Er(T.nextSibling),dn=i,$e=!0,da=null,_r=!1,t!==null&&v0(i,t),i=Cd(i,l.children),i.flags|=4096);return i}return h?(ba(),T=l.fallback,h=i.mode,I=t.child,B=I.sibling,l=xi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,B!==null?T=xi(B,T):(T=ms(T,h,s,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,kl(null,l),l=i.child,T=t.child.memoizedState,T===null?T=Nd(s):(h=T.cachePool,h!==null?(I=$t._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=x0(),T={baseLanes:T.baseLanes|s,cachePool:h}),l.memoizedState=T,l.childLanes=Rd(t,_,s),i.memoizedState=Ad,kl(t.child,l)):(_a(i),s=t.child,t=s.sibling,s=xi(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=s,i.memoizedState=null,s)}function Cd(t,i){return i=ku({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function ku(t,i){return t=Zn(22,t,null,i),t.lanes=0,t}function Id(t,i,s){return Es(i,t.child,null,s),t=Cd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Py(t,i,s){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Gf(t.return,i,s)}function Dd(t,i,s,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=s,_.tailMode=h,_.treeForkCount=d)}function Ly(t,i,s){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=Bt.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,oe(Bt,_),pn(t,i,l,s),l=$e?bl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Py(t,s,i);else if(t.tag===19)Py(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=i.child,h=null;s!==null;)t=s.alternate,t!==null&&Eu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),Dd(i,!1,h,s,d,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Eu(t)===null){i.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Dd(i,!0,s,null,d,l);break;case"together":Dd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Ii(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),wa|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(oo(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=xi(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=xi(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function Od(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&du(t)))}function i2(t,i,s){switch(i.tag){case 3:me(i,i.stateNode.containerInfo),pa(i,$t,t.memoizedState.cache),ps();break;case 27:case 5:Je(i);break;case 4:me(i,i.stateNode.containerInfo);break;case 10:pa(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,rd(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(_a(i),i.flags|=128,null):(s&i.child.childLanes)!==0?Vy(t,i,s):(_a(i),t=Ii(t,i,s),t!==null?t.sibling:null);_a(i);break;case 19:var h=(t.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(oo(t,i,s,!1),l=(s&i.childLanes)!==0),h){if(l)return Ly(t,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(Bt,Bt.current),l)break;return null;case 22:return i.lanes=0,Iy(t,i,s,i.pendingProps);case 24:pa(i,$t,t.memoizedState.cache)}return Ii(t,i,s)}function Uy(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)Kt=!0;else{if(!Od(t,s)&&(i.flags&128)===0)return Kt=!1,i2(t,i,s);Kt=(t.flags&131072)!==0}else Kt=!1,$e&&(i.flags&1048576)!==0&&y0(i,bl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=_s(i.elementType),i.type=t,typeof t=="function")Pf(t)?(l=ws(t,l),i.tag=1,i=My(null,i,t,l,s)):(i.tag=0,i=Sd(null,i,t,l,s));else{if(t!=null){var h=t.$$typeof;if(h===ce){i.tag=11,i=Ny(null,i,t,l,s);break e}else if(h===C){i.tag=14,i=Ry(null,i,t,l,s);break e}}throw i=we(t)||t,Error(a(306,i,""))}}return i;case 0:return Sd(t,i,i.type,i.pendingProps,s);case 1:return l=i.type,h=ws(l,i.pendingProps),My(t,i,l,h,s);case 3:e:{if(me(i,i.stateNode.containerInfo),t===null)throw Error(a(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Jf(t,i),Rl(i,l,null,s);var _=i.memoizedState;if(l=_.cache,pa(i,$t,l),l!==d.cache&&Yf(i,[$t],s,!0),Nl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=jy(t,i,l,s);break e}else if(l!==h){h=gr(Error(a(424)),i),El(h),i=jy(t,i,l,s);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,St=Er(t.firstChild),dn=i,$e=!0,da=null,_r=!0,s=I0(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(ps(),l===h){i=Ii(t,i,s);break e}pn(t,i,l,s)}i=i.child}return i;case 26:return Ou(t,i),t===null?(s=Xv(i.type,null,i.pendingProps,null))?i.memoizedState=s:$e||(s=i.type,t=i.pendingProps,l=Ku(Te.current).createElement(s),l[et]=i,l[Ke]=t,gn(l,s,t),Gt(l),i.stateNode=l):i.memoizedState=Xv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Je(i),t===null&&$e&&(l=i.stateNode=$v(i.type,i.pendingProps,Te.current),dn=i,_r=!0,h=St,Ra(i.type)?(hm=h,St=Er(l.firstChild)):St=h),pn(t,i,i.pendingProps.children,s),Ou(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&$e&&((h=l=St)&&(l=M2(l,i.type,i.pendingProps,_r),l!==null?(i.stateNode=l,dn=i,St=Er(l.firstChild),_r=!1,h=!0):h=!1),h||ma(i)),Je(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,sm(h,d)?l=null:_!==null&&sm(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=ad(t,i,Kw,null,null,s),Ql._currentValue=h),Ou(t,i),pn(t,i,l,s),i.child;case 6:return t===null&&$e&&((t=s=St)&&(s=j2(s,i.pendingProps,_r),s!==null?(i.stateNode=s,dn=i,St=null,t=!0):t=!1),t||ma(i)),null;case 13:return Vy(t,i,s);case 4:return me(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Es(i,null,l,s):pn(t,i,l,s),i.child;case 11:return Ny(t,i,i.type,i.pendingProps,s);case 7:return pn(t,i,i.pendingProps,s),i.child;case 8:return pn(t,i,i.pendingProps.children,s),i.child;case 12:return pn(t,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,pa(i,i.type,l.value),pn(t,i,l.children,s),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ys(i),h=mn(h),l=l(h),i.flags|=1,pn(t,i,l,s),i.child;case 14:return Ry(t,i,i.type,i.pendingProps,s);case 15:return Cy(t,i,i.type,i.pendingProps,s);case 19:return Ly(t,i,s);case 31:return r2(t,i,s);case 22:return Iy(t,i,s,i.pendingProps);case 24:return ys(i),l=mn($t),t===null?(h=Kf(),h===null&&(h=Tt,d=$f(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),i.memoizedState={parent:l,cache:h},Wf(i),pa(i,$t,h)):((t.lanes&s)!==0&&(Jf(t,i),Rl(i,null,null,s),Nl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),pa(i,$t,l)):(l=d.cache,pa(i,$t,l),l!==h.cache&&Yf(i,[$t],s,!0))),pn(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Di(t){t.flags|=4}function kd(t,i,s,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(fv())t.flags|=8192;else throw bs=yu,Xf}else t.flags&=-16777217}function zy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!t_(i))if(fv())t.flags|=8192;else throw bs=yu,Xf}function Mu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?hn():536870912,t.lanes|=i,bo|=i)}function Ml(t,i){if(!$e)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function At(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(i)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,i}function a2(t,i,s){var l=i.pendingProps;switch(Bf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(i),null;case 1:return At(i),null;case 3:return s=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ni($t),ve(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(so(i)?Di(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Hf())),At(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Di(i),d!==null?(At(i),zy(i,d)):(At(i),kd(i,h,null,l,s))):d?d!==t.memoizedState?(Di(i),At(i),zy(i,d)):(At(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Di(i),At(i),kd(i,h,t,l,s)),null;case 27:if(It(i),s=Te.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Di(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return At(i),null}t=ne.current,so(i)?_0(i):(t=$v(h,l,s),i.stateNode=t,Di(i))}return At(i),null;case 5:if(It(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Di(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return At(i),null}if(d=ne.current,so(i))_0(i);else{var _=Ku(Te.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[et]=i,d[Ke]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(gn(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Di(i)}}return At(i),kd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,s),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Di(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(t=Te.current,so(i)){if(t=i.stateNode,s=i.memoizedProps,l=null,h=dn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[et]=i,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Vv(t.nodeValue,s)),t||ma(i,!0)}else t=Ku(t).createTextNode(l),t[et]=i,i.stateNode=t}return At(i),null;case 31:if(s=i.memoizedState,t===null||t.memoizedState!==null){if(l=so(i),s!==null){if(t===null){if(!l)throw Error(a(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[et]=i}else ps(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;At(i),t=!1}else s=Hf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return i.flags&256?(tr(i),i):(tr(i),null);if((i.flags&128)!==0)throw Error(a(558))}return At(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=so(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[et]=i}else ps(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;At(i),h=!1}else h=Hf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(tr(i),i):(tr(i),null)}return tr(i),(i.flags&128)!==0?(i.lanes=s,i):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),s!==t&&s&&(i.child.flags|=8192),Mu(i,i.updateQueue),At(i),null);case 4:return ve(),t===null&&tm(i.stateNode.containerInfo),At(i),null;case 10:return Ni(i.type),At(i),null;case 19:if(Q(Bt),l=i.memoizedState,l===null)return At(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)Ml(l,!1);else{if(Lt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Eu(t),d!==null){for(i.flags|=128,Ml(l,!1),t=d.updateQueue,i.updateQueue=t,Mu(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)m0(s,t),s=s.sibling;return oe(Bt,Bt.current&1|2),$e&&Si(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&Dt()>Uu&&(i.flags|=128,h=!0,Ml(l,!1),i.lanes=4194304)}else{if(!h)if(t=Eu(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Mu(i,t),Ml(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!$e)return At(i),null}else 2*Dt()-l.renderingStartTime>Uu&&s!==536870912&&(i.flags|=128,h=!0,Ml(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Dt(),t.sibling=null,s=Bt.current,oe(Bt,h?s&1|2:s&1),$e&&Si(i,l.treeForkCount),t):(At(i),null);case 22:case 23:return tr(i),nd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(At(i),i.subtreeFlags&6&&(i.flags|=8192)):At(i),s=i.updateQueue,s!==null&&Mu(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),t!==null&&Q(vs),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Ni($t),At(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function s2(t,i){switch(Bf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ni($t),ve(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return It(i),null;case 31:if(i.memoizedState!==null){if(tr(i),i.alternate===null)throw Error(a(340));ps()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(tr(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));ps()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Q(Bt),null;case 4:return ve(),null;case 10:return Ni(i.type),null;case 22:case 23:return tr(i),nd(),t!==null&&Q(vs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ni($t),null;case 25:return null;default:return null}}function By(t,i){switch(Bf(i),i.tag){case 3:Ni($t),ve();break;case 26:case 27:case 5:It(i);break;case 4:ve();break;case 31:i.memoizedState!==null&&tr(i);break;case 13:tr(i);break;case 19:Q(Bt);break;case 10:Ni(i.type);break;case 22:case 23:tr(i),nd(),t!==null&&Q(vs);break;case 24:Ni($t)}}function jl(t,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var d=s.create,_=s.inst;l=d(),_.destroy=l}s=s.next}while(s!==h)}}catch(T){ut(i,i.return,T)}}function Ea(t,i,s){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var I=s,B=T;try{B()}catch(X){ut(h,I,X)}}}l=l.next}while(l!==d)}}catch(X){ut(i,i.return,X)}}function qy(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{O0(i,s)}catch(l){ut(t,t.return,l)}}}function Hy(t,i,s){s.props=ws(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){ut(t,i,l)}}function Vl(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){ut(t,i,h)}}function ei(t,i){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){ut(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){ut(t,i,h)}else s.current=null}function Fy(t){var i=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){ut(t,t.return,h)}}function Md(t,i,s){try{var l=t.stateNode;R2(l,t.type,s,i),l[Ke]=i}catch(h){ut(t,t.return,h)}}function Gy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ra(t.type)||t.tag===4}function jd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Gy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ra(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vd(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Nr));else if(l!==4&&(l===27&&Ra(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(Vd(t,i,s),t=t.sibling;t!==null;)Vd(t,i,s),t=t.sibling}function ju(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(l!==4&&(l===27&&Ra(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(ju(t,i,s),t=t.sibling;t!==null;)ju(t,i,s),t=t.sibling}function Yy(t){var i=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);gn(i,l,s),i[et]=t,i[Ke]=s}catch(d){ut(t,t.return,d)}}var Oi=!1,Xt=!1,Pd=!1,$y=typeof WeakSet=="function"?WeakSet:Set,cn=null;function o2(t,i){if(t=t.containerInfo,im=nh,t=a0(t),If(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var _=0,T=-1,I=-1,B=0,X=0,ee=t,q=null;t:for(;;){for(var $;ee!==s||h!==0&&ee.nodeType!==3||(T=_+h),ee!==d||l!==0&&ee.nodeType!==3||(I=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),($=ee.firstChild)!==null;)q=ee,ee=$;for(;;){if(ee===t)break t;if(q===s&&++B===h&&(T=_),q===d&&++X===l&&(I=_),($=ee.nextSibling)!==null)break;ee=q,q=ee.parentNode}ee=$}s=T===-1||I===-1?null:{start:T,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(am={focusedElem:t,selectionRange:s},nh=!1,cn=i;cn!==null;)if(i=cn,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,cn=t;else for(;cn!==null;){switch(i=cn,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=i,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var ye=ws(s.type,h);t=l.getSnapshotBeforeUpdate(ye,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Re){ut(s,s.return,Re)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)lm(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":lm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,cn=t;break}cn=i.return}}function Qy(t,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Mi(t,s),l&4&&jl(5,s);break;case 1:if(Mi(t,s),l&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(_){ut(s,s.return,_)}else{var h=ws(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){ut(s,s.return,_)}}l&64&&qy(s),l&512&&Vl(s,s.return);break;case 3:if(Mi(t,s),l&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{O0(t,i)}catch(_){ut(s,s.return,_)}}break;case 27:i===null&&l&4&&Yy(s);case 26:case 5:Mi(t,s),i===null&&l&4&&Fy(s),l&512&&Vl(s,s.return);break;case 12:Mi(t,s);break;case 31:Mi(t,s),l&4&&Wy(t,s);break;case 13:Mi(t,s),l&4&&Jy(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=g2.bind(null,s),V2(t,s))));break;case 22:if(l=s.memoizedState!==null||Oi,!l){i=i!==null&&i.memoizedState!==null||Xt,h=Oi;var d=Xt;Oi=l,(Xt=i)&&!d?ji(t,s,(s.subtreeFlags&8772)!==0):Mi(t,s),Oi=h,Xt=d}break;case 30:break;default:Mi(t,s)}}function Ky(t){var i=t.alternate;i!==null&&(t.alternate=null,Ky(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Br(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Rt=null,Un=!1;function ki(t,i,s){for(s=s.child;s!==null;)Xy(t,i,s),s=s.sibling}function Xy(t,i,s){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(Ut,s)}catch{}switch(s.tag){case 26:Xt||ei(s,i),ki(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Xt||ei(s,i);var l=Rt,h=Un;Ra(s.type)&&(Rt=s.stateNode,Un=!1),ki(t,i,s),Gl(s.stateNode),Rt=l,Un=h;break;case 5:Xt||ei(s,i);case 6:if(l=Rt,h=Un,Rt=null,ki(t,i,s),Rt=l,Un=h,Rt!==null)if(Un)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(s.stateNode)}catch(d){ut(s,i,d)}else try{Rt.removeChild(s.stateNode)}catch(d){ut(s,i,d)}break;case 18:Rt!==null&&(Un?(t=Rt,qv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Ro(t)):qv(Rt,s.stateNode));break;case 4:l=Rt,h=Un,Rt=s.stateNode.containerInfo,Un=!0,ki(t,i,s),Rt=l,Un=h;break;case 0:case 11:case 14:case 15:Ea(2,s,i),Xt||Ea(4,s,i),ki(t,i,s);break;case 1:Xt||(ei(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Hy(s,i,l)),ki(t,i,s);break;case 21:ki(t,i,s);break;case 22:Xt=(l=Xt)||s.memoizedState!==null,ki(t,i,s),Xt=l;break;default:ki(t,i,s)}}function Wy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ro(t)}catch(s){ut(i,i.return,s)}}}function Jy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ro(t)}catch(s){ut(i,i.return,s)}}function l2(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new $y),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new $y),i;default:throw Error(a(435,t.tag))}}function Vu(t,i){var s=l2(t);i.forEach(function(l){if(!s.has(l)){s.add(l);var h=y2.bind(null,t,l);l.then(h,h)}})}function zn(t,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Ra(T.type)){Rt=T.stateNode,Un=!1;break e}break;case 5:Rt=T.stateNode,Un=!1;break e;case 3:case 4:Rt=T.stateNode.containerInfo,Un=!0;break e}T=T.return}if(Rt===null)throw Error(a(160));Xy(d,_,h),Rt=null,Un=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Zy(i,t),i=i.sibling}var kr=null;function Zy(t,i){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:zn(i,t),Bn(t),l&4&&(Ea(3,t,t.return),jl(3,t),Ea(5,t,t.return));break;case 1:zn(i,t),Bn(t),l&512&&(Xt||s===null||ei(s,s.return)),l&64&&Oi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=kr;if(zn(i,t),Bn(t),l&512&&(Xt||s===null||ei(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Vt]||d[et]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),gn(d,l,s),d[et]=t,Gt(d),l=d;break e;case"link":var _=Zv("link","href",h).get(l+(s.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),gn(d,l,s),h.head.appendChild(d);break;case"meta":if(_=Zv("meta","content",h).get(l+(s.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(T,1);break t}}d=h.createElement(l),gn(d,l,s),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[et]=t,Gt(d),l=d}t.stateNode=l}else e_(h,t.type,t.stateNode);else t.stateNode=Jv(h,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?e_(h,t.type,t.stateNode):Jv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Md(t,t.memoizedProps,s.memoizedProps)}break;case 27:zn(i,t),Bn(t),l&512&&(Xt||s===null||ei(s,s.return)),s!==null&&l&4&&Md(t,t.memoizedProps,s.memoizedProps);break;case 5:if(zn(i,t),Bn(t),l&512&&(Xt||s===null||ei(s,s.return)),t.flags&32){h=t.stateNode;try{Ln(h,"")}catch(ye){ut(t,t.return,ye)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Md(t,h,s!==null?s.memoizedProps:h)),l&1024&&(Pd=!0);break;case 6:if(zn(i,t),Bn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(ye){ut(t,t.return,ye)}}break;case 3:if(Ju=null,h=kr,kr=Xu(i.containerInfo),zn(i,t),kr=h,Bn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Ro(i.containerInfo)}catch(ye){ut(t,t.return,ye)}Pd&&(Pd=!1,ev(t));break;case 4:l=kr,kr=Xu(t.stateNode.containerInfo),zn(i,t),Bn(t),kr=l;break;case 12:zn(i,t),Bn(t);break;case 31:zn(i,t),Bn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vu(t,l)));break;case 13:zn(i,t),Bn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Lu=Dt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vu(t,l)));break;case 22:h=t.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,B=Oi,X=Xt;if(Oi=B||h,Xt=X||I,zn(i,t),Xt=X,Oi=B,Bn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||I||Oi||Xt||xs(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){I=s=i;try{if(d=I.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=I.stateNode;var ee=I.memoizedProps.style,q=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ye){ut(I,I.return,ye)}}}else if(i.tag===6){if(s===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ye){ut(I,I.return,ye)}}}else if(i.tag===18){if(s===null){I=i;try{var $=I.stateNode;h?Hv($,!0):Hv(I.stateNode,!1)}catch(ye){ut(I,I.return,ye)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Vu(t,s))));break;case 19:zn(i,t),Bn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vu(t,l)));break;case 30:break;case 21:break;default:zn(i,t),Bn(t)}}function Bn(t){var i=t.flags;if(i&2){try{for(var s,l=t.return;l!==null;){if(Gy(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,d=jd(t);ju(t,d,h);break;case 5:var _=s.stateNode;s.flags&32&&(Ln(_,""),s.flags&=-33);var T=jd(t);ju(t,T,_);break;case 3:case 4:var I=s.stateNode.containerInfo,B=jd(t);Vd(t,B,I);break;default:throw Error(a(161))}}catch(X){ut(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function ev(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;ev(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Mi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Qy(t,i.alternate,i),i=i.sibling}function xs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ea(4,i,i.return),xs(i);break;case 1:ei(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&Hy(i,i.return,s),xs(i);break;case 27:Gl(i.stateNode);case 26:case 5:ei(i,i.return),xs(i);break;case 22:i.memoizedState===null&&xs(i);break;case 30:xs(i);break;default:xs(i)}t=t.sibling}}function ji(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:ji(h,d,s),jl(4,d);break;case 1:if(ji(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){ut(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)D0(I[h],T)}catch(B){ut(l,l.return,B)}}s&&_&64&&qy(d),Vl(d,d.return);break;case 27:Yy(d);case 26:case 5:ji(h,d,s),s&&l===null&&_&4&&Fy(d),Vl(d,d.return);break;case 12:ji(h,d,s);break;case 31:ji(h,d,s),s&&_&4&&Wy(h,d);break;case 13:ji(h,d,s),s&&_&4&&Jy(h,d);break;case 22:d.memoizedState===null&&ji(h,d,s),Vl(d,d.return);break;case 30:break;default:ji(h,d,s)}i=i.sibling}}function Ld(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Tl(s))}function Ud(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Tl(t))}function Mr(t,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)tv(t,i,s,l),i=i.sibling}function tv(t,i,s,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Mr(t,i,s,l),h&2048&&jl(9,i);break;case 1:Mr(t,i,s,l);break;case 3:Mr(t,i,s,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Tl(t)));break;case 12:if(h&2048){Mr(t,i,s,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){ut(i,i.return,I)}}else Mr(t,i,s,l);break;case 31:Mr(t,i,s,l);break;case 13:Mr(t,i,s,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Mr(t,i,s,l):Pl(t,i):d._visibility&2?Mr(t,i,s,l):(d._visibility|=2,yo(t,i,s,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Ld(_,i);break;case 24:Mr(t,i,s,l),h&2048&&Ud(i.alternate,i);break;default:Mr(t,i,s,l)}}function yo(t,i,s,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,T=s,I=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:yo(d,_,T,I,h),jl(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?yo(d,_,T,I,h):Pl(d,_):(X._visibility|=2,yo(d,_,T,I,h)),h&&B&2048&&Ld(_.alternate,_);break;case 24:yo(d,_,T,I,h),h&&B&2048&&Ud(_.alternate,_);break;default:yo(d,_,T,I,h)}i=i.sibling}}function Pl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,l=i,h=l.flags;switch(l.tag){case 22:Pl(s,l),h&2048&&Ld(l.alternate,l);break;case 24:Pl(s,l),h&2048&&Ud(l.alternate,l);break;default:Pl(s,l)}i=i.sibling}}var Ll=8192;function vo(t,i,s){if(t.subtreeFlags&Ll)for(t=t.child;t!==null;)nv(t,i,s),t=t.sibling}function nv(t,i,s){switch(t.tag){case 26:vo(t,i,s),t.flags&Ll&&t.memoizedState!==null&&Q2(s,kr,t.memoizedState,t.memoizedProps);break;case 5:vo(t,i,s);break;case 3:case 4:var l=kr;kr=Xu(t.stateNode.containerInfo),vo(t,i,s),kr=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Ll,Ll=16777216,vo(t,i,s),Ll=l):vo(t,i,s));break;default:vo(t,i,s)}}function rv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Ul(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];cn=l,av(l,t)}rv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)iv(t),t=t.sibling}function iv(t){switch(t.tag){case 0:case 11:case 15:Ul(t),t.flags&2048&&Ea(9,t,t.return);break;case 3:Ul(t);break;case 12:Ul(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Pu(t)):Ul(t);break;default:Ul(t)}}function Pu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];cn=l,av(l,t)}rv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ea(8,i,i.return),Pu(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Pu(i));break;default:Pu(i)}t=t.sibling}}function av(t,i){for(;cn!==null;){var s=cn;switch(s.tag){case 0:case 11:case 15:Ea(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Tl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,cn=l;else e:for(s=t;cn!==null;){l=cn;var h=l.sibling,d=l.return;if(Ky(l),l===s){cn=null;break e}if(h!==null){h.return=d,cn=h;break e}cn=d}}}var c2={getCacheForType:function(t){var i=mn($t),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s},cacheSignal:function(){return mn($t).controller.signal}},u2=typeof WeakMap=="function"?WeakMap:Map,at=0,Tt=null,ze=null,qe=0,ct=0,nr=null,Ta=!1,_o=!1,zd=!1,Vi=0,Lt=0,wa=0,Ss=0,Bd=0,rr=0,bo=0,zl=null,qn=null,qd=!1,Lu=0,sv=0,Uu=1/0,zu=null,xa=null,nn=0,Sa=null,Eo=null,Pi=0,Hd=0,Fd=null,ov=null,Bl=0,Gd=null;function ir(){return(at&2)!==0&&qe!==0?qe&-qe:H.T!==null?Wd():zr()}function lv(){if(rr===0)if((qe&536870912)===0||$e){var t=Sr;Sr<<=1,(Sr&3932160)===0&&(Sr=262144),rr=t}else rr=536870912;return t=er.current,t!==null&&(t.flags|=32),rr}function Hn(t,i,s){(t===Tt&&(ct===2||ct===9)||t.cancelPendingCommit!==null)&&(To(t,0),Aa(t,qe,rr,!1)),Qn(t,s),((at&2)===0||t!==Tt)&&(t===Tt&&((at&2)===0&&(Ss|=s),Lt===4&&Aa(t,qe,rr,!1)),ti(t))}function cv(t,i,s){if((at&6)!==0)throw Error(a(327));var l=!s&&(i&127)===0&&(i&t.expiredLanes)===0||sn(t,i),h=l?d2(t,i):$d(t,i,!0),d=l;do{if(h===0){_o&&!l&&Aa(t,i,0,!1);break}else{if(s=t.current.alternate,d&&!h2(s)){h=$d(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;h=zl;var I=T.current.memoizedState.isDehydrated;if(I&&(To(T,_).flags|=256),_=$d(T,_,!1),_!==2){if(zd&&!I){T.errorRecoveryDisabledLanes|=d,Ss|=d,h=4;break e}d=qn,qn=h,d!==null&&(qn===null?qn=d:qn.push.apply(qn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){To(t,0),Aa(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Aa(l,i,rr,!Ta);break e;case 2:qn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=Lu+300-Dt(),10<h)){if(Aa(l,i,rr,!Ta),Et(l,0,!0)!==0)break e;Pi=i,l.timeoutHandle=zv(uv.bind(null,l,s,qn,zu,qd,i,rr,Ss,bo,Ta,d,"Throttled",-0,0),h);break e}uv(l,s,qn,zu,qd,i,rr,Ss,bo,Ta,d,null,-0,0)}}break}while(!0);ti(t)}function uv(t,i,s,l,h,d,_,T,I,B,X,ee,q,$){if(t.timeoutHandle=-1,ee=i.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Nr},nv(i,d,ee);var ye=(d&62914560)===d?Lu-Dt():(d&4194048)===d?sv-Dt():0;if(ye=K2(ee,ye),ye!==null){Pi=d,t.cancelPendingCommit=ye(vv.bind(null,t,i,d,s,l,h,_,T,I,X,ee,null,q,$)),Aa(t,d,_,!B);return}}vv(t,i,d,s,l,h,_,T,I)}function h2(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!Jn(d(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Aa(t,i,s,l){i&=~Bd,i&=~Ss,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-_t(h),_=1<<d;l[d]=-1,h&=~_}s!==0&&cr(t,s,i)}function Bu(){return(at&6)===0?(ql(0),!1):!0}function Yd(){if(ze!==null){if(ct===0)var t=ze.return;else t=ze,Ai=gs=null,ld(t),ho=null,xl=0,t=ze;for(;t!==null;)By(t.alternate,t),t=t.return;ze=null}}function To(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,D2(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Pi=0,Yd(),Tt=t,ze=s=xi(t.current,null),qe=i,ct=0,nr=null,Ta=!1,_o=sn(t,i),zd=!1,bo=rr=Bd=Ss=wa=Lt=0,qn=zl=null,qd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-_t(l),d=1<<h;i|=t[h],l&=~d}return Vi=i,lu(),s}function hv(t,i){Pe=null,H.H=Ol,i===uo||i===gu?(i=N0(),ct=3):i===Xf?(i=N0(),ct=4):ct=i===xd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,nr=i,ze===null&&(Lt=1,Iu(t,gr(i,t.current)))}function fv(){var t=er.current;return t===null?!0:(qe&4194048)===qe?br===null:(qe&62914560)===qe||(qe&536870912)!==0?t===br:!1}function dv(){var t=H.H;return H.H=Ol,t===null?Ol:t}function mv(){var t=H.A;return H.A=c2,t}function qu(){Lt=4,Ta||(qe&4194048)!==qe&&er.current!==null||(_o=!0),(wa&134217727)===0&&(Ss&134217727)===0||Tt===null||Aa(Tt,qe,rr,!1)}function $d(t,i,s){var l=at;at|=2;var h=dv(),d=mv();(Tt!==t||qe!==i)&&(zu=null,To(t,i)),i=!1;var _=Lt;e:do try{if(ct!==0&&ze!==null){var T=ze,I=nr;switch(ct){case 8:Yd(),_=6;break e;case 3:case 2:case 9:case 6:er.current===null&&(i=!0);var B=ct;if(ct=0,nr=null,wo(t,T,I,B),s&&_o){_=0;break e}break;default:B=ct,ct=0,nr=null,wo(t,T,I,B)}}f2(),_=Lt;break}catch(X){hv(t,X)}while(!0);return i&&t.shellSuspendCounter++,Ai=gs=null,at=l,H.H=h,H.A=d,ze===null&&(Tt=null,qe=0,lu()),_}function f2(){for(;ze!==null;)pv(ze)}function d2(t,i){var s=at;at|=2;var l=dv(),h=mv();Tt!==t||qe!==i?(zu=null,Uu=Dt()+500,To(t,i)):_o=sn(t,i);e:do try{if(ct!==0&&ze!==null){i=ze;var d=nr;t:switch(ct){case 1:ct=0,nr=null,wo(t,i,d,1);break;case 2:case 9:if(S0(d)){ct=0,nr=null,gv(i);break}i=function(){ct!==2&&ct!==9||Tt!==t||(ct=7),ti(t)},d.then(i,i);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:S0(d)?(ct=0,nr=null,gv(i)):(ct=0,nr=null,wo(t,i,d,7));break;case 5:var _=null;switch(ze.tag){case 26:_=ze.memoizedState;case 5:case 27:var T=ze;if(_?t_(_):T.stateNode.complete){ct=0,nr=null;var I=T.sibling;if(I!==null)ze=I;else{var B=T.return;B!==null?(ze=B,Hu(B)):ze=null}break t}}ct=0,nr=null,wo(t,i,d,5);break;case 6:ct=0,nr=null,wo(t,i,d,6);break;case 8:Yd(),Lt=6;break e;default:throw Error(a(462))}}m2();break}catch(X){hv(t,X)}while(!0);return Ai=gs=null,H.H=l,H.A=h,at=s,ze!==null?0:(Tt=null,qe=0,lu(),Lt)}function m2(){for(;ze!==null&&!$n();)pv(ze)}function pv(t){var i=Uy(t.alternate,t,Vi);t.memoizedProps=t.pendingProps,i===null?Hu(t):ze=i}function gv(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=ky(s,i,i.pendingProps,i.type,void 0,qe);break;case 11:i=ky(s,i,i.pendingProps,i.type.render,i.ref,qe);break;case 5:ld(i);default:By(s,i),i=ze=m0(i,Vi),i=Uy(s,i,Vi)}t.memoizedProps=t.pendingProps,i===null?Hu(t):ze=i}function wo(t,i,s,l){Ai=gs=null,ld(i),ho=null,xl=0;var h=i.return;try{if(n2(t,h,i,s,qe)){Lt=1,Iu(t,gr(s,t.current)),ze=null;return}}catch(d){if(h!==null)throw ze=h,d;Lt=1,Iu(t,gr(s,t.current)),ze=null;return}i.flags&32768?($e||l===1?t=!0:_o||(qe&536870912)!==0?t=!1:(Ta=t=!0,(l===2||l===9||l===3||l===6)&&(l=er.current,l!==null&&l.tag===13&&(l.flags|=16384))),yv(i,t)):Hu(i)}function Hu(t){var i=t;do{if((i.flags&32768)!==0){yv(i,Ta);return}t=i.return;var s=a2(i.alternate,i,Vi);if(s!==null){ze=s;return}if(i=i.sibling,i!==null){ze=i;return}ze=i=t}while(i!==null);Lt===0&&(Lt=5)}function yv(t,i){do{var s=s2(t.alternate,t);if(s!==null){s.flags&=32767,ze=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){ze=t;return}ze=t=s}while(t!==null);Lt=6,ze=null}function vv(t,i,s,l,h,d,_,T,I){t.cancelPendingCommit=null;do Fu();while(nn!==0);if((at&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(d=i.lanes|i.childLanes,d|=jf,bi(t,s,d,_,T,I),t===Tt&&(ze=Tt=null,qe=0),Eo=i,Sa=t,Pi=s,Hd=d,Fd=h,ov=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,v2(or,function(){return wv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,h=ae.p,ae.p=2,_=at,at|=4;try{o2(t,i,s)}finally{at=_,ae.p=h,H.T=l}}nn=1,_v(),bv(),Ev()}}function _v(){if(nn===1){nn=0;var t=Sa,i=Eo,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var l=ae.p;ae.p=2;var h=at;at|=4;try{Zy(i,t);var d=am,_=a0(t.containerInfo),T=d.focusedElem,I=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&i0(T.ownerDocument.documentElement,T)){if(I!==null&&If(T)){var B=I.start,X=I.end;if(X===void 0&&(X=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(X,T.value.length);else{var ee=T.ownerDocument||document,q=ee&&ee.defaultView||window;if(q.getSelection){var $=q.getSelection(),ye=T.textContent.length,Re=Math.min(I.start,ye),gt=I.end===void 0?Re:Math.min(I.end,ye);!$.extend&&Re>gt&&(_=gt,gt=Re,Re=_);var P=r0(T,Re),M=r0(T,gt);if(P&&M&&($.rangeCount!==1||$.anchorNode!==P.node||$.anchorOffset!==P.offset||$.focusNode!==M.node||$.focusOffset!==M.offset)){var z=ee.createRange();z.setStart(P.node,P.offset),$.removeAllRanges(),Re>gt?($.addRange(z),$.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),$.addRange(z))}}}}for(ee=[],$=T;$=$.parentNode;)$.nodeType===1&&ee.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ee.length;T++){var J=ee[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}nh=!!im,am=im=null}finally{at=h,ae.p=l,H.T=s}}t.current=i,nn=2}}function bv(){if(nn===2){nn=0;var t=Sa,i=Eo,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var l=ae.p;ae.p=2;var h=at;at|=4;try{Qy(t,i.alternate,i)}finally{at=h,ae.p=l,H.T=s}}nn=3}}function Ev(){if(nn===4||nn===3){nn=0,Cn();var t=Sa,i=Eo,s=Pi,l=ov;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?nn=5:(nn=0,Eo=Sa=null,Tv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(xa=null),On(s),i=i.stateNode,Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(Ut,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=H.T,h=ae.p,ae.p=2,H.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{H.T=i,ae.p=h}}(Pi&3)!==0&&Fu(),ti(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===Gd?Bl++:(Bl=0,Gd=t):Bl=0,ql(0)}}function Tv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Tl(i)))}function Fu(){return _v(),bv(),Ev(),wv()}function wv(){if(nn!==5)return!1;var t=Sa,i=Hd;Hd=0;var s=On(Pi),l=H.T,h=ae.p;try{ae.p=32>s?32:s,H.T=null,s=Fd,Fd=null;var d=Sa,_=Pi;if(nn=0,Eo=Sa=null,Pi=0,(at&6)!==0)throw Error(a(331));var T=at;if(at|=4,iv(d.current),tv(d,d.current,_,s),at=T,ql(0,!1),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(Ut,d)}catch{}return!0}finally{ae.p=h,H.T=l,Tv(t,i)}}function xv(t,i,s){i=gr(s,i),i=wd(t.stateNode,i,2),t=va(t,i,2),t!==null&&(Qn(t,2),ti(t))}function ut(t,i,s){if(t.tag===3)xv(t,t,s);else for(;i!==null;){if(i.tag===3){xv(i,t,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(xa===null||!xa.has(l))){t=gr(s,t),s=Sy(2),l=va(i,s,2),l!==null&&(Ay(s,l,i,t),Qn(l,2),ti(l));break}}i=i.return}}function Qd(t,i,s){var l=t.pingCache;if(l===null){l=t.pingCache=new u2;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(s)||(zd=!0,h.add(s),t=p2.bind(null,t,i,s),i.then(t,t))}function p2(t,i,s){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Tt===t&&(qe&s)===s&&(Lt===4||Lt===3&&(qe&62914560)===qe&&300>Dt()-Lu?(at&2)===0&&To(t,0):Bd|=s,bo===qe&&(bo=0)),ti(t)}function Sv(t,i){i===0&&(i=hn()),t=ds(t,i),t!==null&&(Qn(t,i),ti(t))}function g2(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),Sv(t,s)}function y2(t,i){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),Sv(t,s)}function v2(t,i){return vt(t,i)}var Gu=null,xo=null,Kd=!1,Yu=!1,Xd=!1,Na=0;function ti(t){t!==xo&&t.next===null&&(xo===null?Gu=xo=t:xo=xo.next=t),Yu=!0,Kd||(Kd=!0,b2())}function ql(t,i){if(!Xd&&Yu){Xd=!0;do for(var s=!1,l=Gu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-_t(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,Cv(l,d))}else d=qe,d=Et(l,l===Tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||sn(l,d)||(s=!0,Cv(l,d));l=l.next}while(s);Xd=!1}}function _2(){Av()}function Av(){Yu=Kd=!1;var t=0;Na!==0&&I2()&&(t=Na);for(var i=Dt(),s=null,l=Gu;l!==null;){var h=l.next,d=Nv(l,i);d===0?(l.next=null,s===null?Gu=h:s.next=h,h===null&&(xo=s)):(s=l,(t!==0||(d&3)!==0)&&(Yu=!0)),l=h}nn!==0&&nn!==5||ql(t),Na!==0&&(Na=0)}function Nv(t,i){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-_t(d),T=1<<_,I=h[_];I===-1?((T&s)===0||(T&l)!==0)&&(h[_]=Ze(T,i)):I<=i&&(t.expiredLanes|=T),d&=~T}if(i=Tt,s=qe,s=Et(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===i&&(ct===2||ct===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&tn(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||sn(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(l!==null&&tn(l),On(s)){case 2:case 8:s=gi;break;case 32:s=or;break;case 268435456:s=Ur;break;default:s=or}return l=Rv.bind(null,t),s=vt(s,l),t.callbackPriority=i,t.callbackNode=s,i}return l!==null&&l!==null&&tn(l),t.callbackPriority=2,t.callbackNode=null,2}function Rv(t,i){if(nn!==0&&nn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Fu()&&t.callbackNode!==s)return null;var l=qe;return l=Et(t,t===Tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(cv(t,l,i),Nv(t,Dt()),t.callbackNode!=null&&t.callbackNode===s?Rv.bind(null,t):null)}function Cv(t,i){if(Fu())return null;cv(t,i,!0)}function b2(){O2(function(){(at&6)!==0?vt(pi,_2):Av()})}function Wd(){if(Na===0){var t=lo;t===0&&(t=Dn,Dn<<=1,(Dn&261888)===0&&(Dn=256)),Na=t}return Na}function Iv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:$s(""+t)}function Dv(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function E2(t,i,s,l,h){if(i==="submit"&&s&&s.stateNode===h){var d=Iv((h[Ke]||null).action),_=l.submitter;_&&(i=(i=_[Ke]||null)?Iv(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new Qr("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Na!==0){var I=_?Dv(h,_):new FormData(h);yd(s,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=_?Dv(h,_):new FormData(h),yd(s,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Jd=0;Jd<Mf.length;Jd++){var Zd=Mf[Jd],T2=Zd.toLowerCase(),w2=Zd[0].toUpperCase()+Zd.slice(1);Or(T2,"on"+w2)}Or(l0,"onAnimationEnd"),Or(c0,"onAnimationIteration"),Or(u0,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Uw,"onTransitionRun"),Or(zw,"onTransitionStart"),Or(Bw,"onTransitionCancel"),Or(h0,"onTransitionEnd"),Fr("onMouseEnter",["mouseout","mouseover"]),Fr("onMouseLeave",["mouseout","mouseover"]),Fr("onPointerEnter",["pointerout","pointerover"]),Fr("onPointerLeave",["pointerout","pointerover"]),Hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hl));function Ov(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],I=T.instance,B=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch(X){ou(X)}h.currentTarget=null,d=I}else for(_=0;_<l.length;_++){if(T=l[_],I=T.instance,B=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch(X){ou(X)}h.currentTarget=null,d=I}}}}function Be(t,i){var s=i[Ie];s===void 0&&(s=i[Ie]=new Set);var l=t+"__bubble";s.has(l)||(kv(i,t,2,!1),s.add(l))}function em(t,i,s){var l=0;i&&(l|=4),kv(s,t,l,i)}var $u="_reactListening"+Math.random().toString(36).slice(2);function tm(t){if(!t[$u]){t[$u]=!0,tl.forEach(function(s){s!=="selectionchange"&&(x2.has(s)||em(s,!1,t),em(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[$u]||(i[$u]=!0,em("selectionchange",!1,i))}}function kv(t,i,s,l){switch(l_(i)){case 2:var h=J2;break;case 8:h=Z2;break;default:h=gm}s=h.bind(null,i,s,t),h=void 0,!as||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,s,{capture:!0,passive:h}):t.addEventListener(i,s,!0):h!==void 0?t.addEventListener(i,s,{passive:h}):t.addEventListener(i,s,!1)}function nm(t,i,s,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=hr(T),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){l=d=_;continue e}T=T.parentNode}}l=l.return}la(function(){var B=d,X=fr(s),ee=[];e:{var q=f0.get(t);if(q!==void 0){var $=Qr,ye=t;switch(t){case"keypress":if(os(s)===0)break e;case"keydown":case"keyup":$=iu;break;case"focusin":ye="focus",$=cs;break;case"focusout":ye="blur",$=cs;break;case"beforeblur":case"afterblur":$=cs;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Kc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=v;break;case l0:case c0:case u0:$=Wc;break;case h0:$=x;break;case"scroll":case"scrollend":$=dl;break;case"wheel":$=G;break;case"copy":case"cut":case"paste":$=Jc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=wi;break;case"toggle":case"beforetoggle":$=Ve}var Re=(i&4)!==0,gt=!Re&&(t==="scroll"||t==="scrollend"),P=Re?q!==null?q+"Capture":null:q;Re=[];for(var M=B,z;M!==null;){var J=M;if(z=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||z===null||P===null||(J=Rr(M,P),J!=null&&Re.push(Fl(M,J,z))),gt)break;M=M.return}0<Re.length&&(q=new $(q,ye,null,s,X),ee.push({event:q,listeners:Re}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",q&&s!==ul&&(ye=s.relatedTarget||s.fromElement)&&(hr(ye)||ye[on]))break e;if(($||q)&&(q=X.window===X?X:(q=X.ownerDocument)?q.defaultView||q.parentWindow:window,$?(ye=s.relatedTarget||s.toElement,$=B,ye=ye?hr(ye):null,ye!==null&&(gt=c(ye),Re=ye.tag,ye!==gt||Re!==5&&Re!==27&&Re!==6)&&(ye=null)):($=null,ye=B),$!==ye)){if(Re=ml,J="onMouseLeave",P="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Re=wi,J="onPointerLeave",P="onPointerEnter",M="pointer"),gt=$==null?q:Xn($),z=ye==null?q:Xn(ye),q=new Re(J,M+"leave",$,s,X),q.target=gt,q.relatedTarget=z,J=null,hr(X)===B&&(Re=new Re(P,M+"enter",ye,s,X),Re.target=z,Re.relatedTarget=gt,J=Re),gt=J,$&&ye)t:{for(Re=S2,P=$,M=ye,z=0,J=P;J;J=Re(J))z++;J=0;for(var xe=M;xe;xe=Re(xe))J++;for(;0<z-J;)P=Re(P),z--;for(;0<J-z;)M=Re(M),J--;for(;z--;){if(P===M||M!==null&&P===M.alternate){Re=P;break t}P=Re(P),M=Re(M)}Re=null}else Re=null;$!==null&&Mv(ee,q,$,Re,!1),ye!==null&&gt!==null&&Mv(ee,gt,ye,Re,!0)}}e:{if(q=B?Xn(B):window,$=q.nodeName&&q.nodeName.toLowerCase(),$==="select"||$==="input"&&q.type==="file")var nt=Wg;else if(Kg(q))if(Jg)nt=Vw;else{nt=Mw;var Ee=kw}else $=q.nodeName,!$||$.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&Ys(B.elementType)&&(nt=Wg):nt=jw;if(nt&&(nt=nt(t,B))){Xg(ee,nt,s,X);break e}Ee&&Ee(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&ol(q,"number",q.value)}switch(Ee=B?Xn(B):window,t){case"focusin":(Kg(Ee)||Ee.contentEditable==="true")&&(eo=Ee,Df=B,_l=null);break;case"focusout":_l=Df=eo=null;break;case"mousedown":Of=!0;break;case"contextmenu":case"mouseup":case"dragend":Of=!1,s0(ee,s,X);break;case"selectionchange":if(Lw)break;case"keydown":case"keyup":s0(ee,s,X)}var Le;if(it)e:{switch(t){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Zs?us(t,s)&&(He="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(He="onCompositionStart");He&&(Wr&&s.locale!=="ko"&&(Zs||He!=="onCompositionStart"?He==="onCompositionEnd"&&Zs&&(Le=fl()):($r=X,hl="value"in $r?$r.value:$r.textContent,Zs=!0)),Ee=Qu(B,He),0<Ee.length&&(He=new Xr(He,t,null,s,X),ee.push({event:He,listeners:Ee}),Le?He.data=Le:(Le=Js(s),Le!==null&&(He.data=Le)))),(Le=mr?Cw(t,s):Iw(t,s))&&(He=Qu(B,"onBeforeInput"),0<He.length&&(Ee=new Xr("onBeforeInput","beforeinput",null,s,X),ee.push({event:Ee,listeners:He}),Ee.data=Le)),E2(ee,t,B,s,X)}Ov(ee,i)})}function Fl(t,i,s){return{instance:t,listener:i,currentTarget:s}}function Qu(t,i){for(var s=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Rr(t,s),h!=null&&l.unshift(Fl(t,h,d)),h=Rr(t,i),h!=null&&l.push(Fl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function S2(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Mv(t,i,s,l,h){for(var d=i._reactName,_=[];s!==null&&s!==l;){var T=s,I=T.alternate,B=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||B===null||(I=B,h?(B=Rr(s,d),B!=null&&_.unshift(Fl(s,B,I))):h||(B=Rr(s,d),B!=null&&_.push(Fl(s,B,I)))),s=s.return}_.length!==0&&t.push({event:i,listeners:_})}var A2=/\r\n?/g,N2=/\u0000|\uFFFD/g;function jv(t){return(typeof t=="string"?t:""+t).replace(A2,`
`).replace(N2,"")}function Vv(t,i){return i=jv(i),jv(t)===i}function pt(t,i,s,l,h,d){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Ln(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Ln(t,""+l);break;case"className":Wn(t,"class",l);break;case"tabIndex":Wn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Wn(t,s,l);break;case"style":cl(t,l,d);break;case"data":if(i!=="object"){Wn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=$s(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&pt(t,i,"name",h.name,h,null),pt(t,i,"formEncType",h.formEncType,h,null),pt(t,i,"formMethod",h.formMethod,h,null),pt(t,i,"formTarget",h.formTarget,h,null)):(pt(t,i,"encType",h.encType,h,null),pt(t,i,"method",h.method,h,null),pt(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=$s(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Nr);break;case"onScroll":l!=null&&Be("scroll",t);break;case"onScrollEnd":l!=null&&Be("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=$s(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Be("beforetoggle",t),Be("toggle",t),Fs(t,"popover",l);break;case"xlinkActuate":Yt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Yt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Yt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Yt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Yt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Yt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Yt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Yt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Yt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Fs(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Qc.get(s)||s,Fs(t,s,l))}}function rm(t,i,s,l,h,d){switch(s){case"style":cl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?Ln(t,l):(typeof l=="number"||typeof l=="bigint")&&Ln(t,""+l);break;case"onScroll":l!=null&&Be("scroll",t);break;case"onScrollEnd":l!=null&&Be("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Nr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nl.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),d=t[Ke]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Fs(t,s,l)}}}function gn(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",t),Be("load",t);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var _=s[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:pt(t,i,d,_,s,null)}}h&&pt(t,i,"srcSet",s.srcSet,s,null),l&&pt(t,i,"src",s.src,s,null);return;case"input":Be("invalid",t);var T=d=_=h=null,I=null,B=null;for(l in s)if(s.hasOwnProperty(l)){var X=s[l];if(X!=null)switch(l){case"name":h=X;break;case"type":_=X;break;case"checked":I=X;break;case"defaultChecked":B=X;break;case"value":d=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,i));break;default:pt(t,i,l,X,s,null)}}Gc(t,d,T,I,B,_,h,!1);return;case"select":Be("invalid",t),l=_=d=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:pt(t,i,h,T,s,null)}i=d,s=_,t.multiple=!!l,i!=null?ia(t,!!l,i,!1):s!=null&&ia(t,!!l,s,!0);return;case"textarea":Be("invalid",t),d=h=l=null;for(_ in s)if(s.hasOwnProperty(_)&&(T=s[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:pt(t,i,_,T,s,null)}aa(t,l,h,d);return;case"option":for(I in s)s.hasOwnProperty(I)&&(l=s[I],l!=null)&&(I==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":pt(t,i,I,l,s,null));return;case"dialog":Be("beforetoggle",t),Be("toggle",t),Be("cancel",t),Be("close",t);break;case"iframe":case"object":Be("load",t);break;case"video":case"audio":for(l=0;l<Hl.length;l++)Be(Hl[l],t);break;case"image":Be("error",t),Be("load",t);break;case"details":Be("toggle",t);break;case"embed":case"source":case"link":Be("error",t),Be("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in s)if(s.hasOwnProperty(B)&&(l=s[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:pt(t,i,B,l,s,null)}return;default:if(Ys(i)){for(X in s)s.hasOwnProperty(X)&&(l=s[X],l!==void 0&&rm(t,i,X,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&pt(t,i,T,l,s,null))}function R2(t,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,I=null,B=null,X=null;for($ in s){var ee=s[$];if(s.hasOwnProperty($)&&ee!=null)switch($){case"checked":break;case"value":break;case"defaultValue":I=ee;default:l.hasOwnProperty($)||pt(t,i,$,null,l,ee)}}for(var q in l){var $=l[q];if(ee=s[q],l.hasOwnProperty(q)&&($!=null||ee!=null))switch(q){case"type":d=$;break;case"name":h=$;break;case"checked":B=$;break;case"defaultChecked":X=$;break;case"value":_=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(a(137,i));break;default:$!==ee&&pt(t,i,q,$,l,ee)}}Gs(t,_,T,I,B,X,d,h);return;case"select":$=_=T=q=null;for(d in s)if(I=s[d],s.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":$=I;default:l.hasOwnProperty(d)||pt(t,i,d,null,l,I)}for(h in l)if(d=l[h],I=s[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":q=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==I&&pt(t,i,h,d,l,I)}i=T,s=_,l=$,q!=null?ia(t,!!s,q,!1):!!l!=!!s&&(i!=null?ia(t,!!s,i,!0):ia(t,!!s,s?[]:"",!1));return;case"textarea":$=q=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:pt(t,i,T,null,l,h)}for(_ in l)if(h=l[_],d=s[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":q=h;break;case"defaultValue":$=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&pt(t,i,_,h,l,d)}Yc(t,q,$);return;case"option":for(var ye in s)q=s[ye],s.hasOwnProperty(ye)&&q!=null&&!l.hasOwnProperty(ye)&&(ye==="selected"?t.selected=!1:pt(t,i,ye,null,l,q));for(I in l)q=l[I],$=s[I],l.hasOwnProperty(I)&&q!==$&&(q!=null||$!=null)&&(I==="selected"?t.selected=q&&typeof q!="function"&&typeof q!="symbol":pt(t,i,I,q,l,$));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in s)q=s[Re],s.hasOwnProperty(Re)&&q!=null&&!l.hasOwnProperty(Re)&&pt(t,i,Re,null,l,q);for(B in l)if(q=l[B],$=s[B],l.hasOwnProperty(B)&&q!==$&&(q!=null||$!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,i));break;default:pt(t,i,B,q,l,$)}return;default:if(Ys(i)){for(var gt in s)q=s[gt],s.hasOwnProperty(gt)&&q!==void 0&&!l.hasOwnProperty(gt)&&rm(t,i,gt,void 0,l,q);for(X in l)q=l[X],$=s[X],!l.hasOwnProperty(X)||q===$||q===void 0&&$===void 0||rm(t,i,X,q,l,$);return}}for(var P in s)q=s[P],s.hasOwnProperty(P)&&q!=null&&!l.hasOwnProperty(P)&&pt(t,i,P,null,l,q);for(ee in l)q=l[ee],$=s[ee],!l.hasOwnProperty(ee)||q===$||q==null&&$==null||pt(t,i,ee,q,l,$)}function Pv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function C2(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&Pv(_)){for(_=0,T=h.responseEnd,l+=1;l<s.length;l++){var I=s[l],B=I.startTime;if(B>T)break;var X=I.transferSize,ee=I.initiatorType;X&&Pv(ee)&&(I=I.responseEnd,_+=X*(I<T?1:(T-B)/(I-B)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var im=null,am=null;function Ku(t){return t.nodeType===9?t:t.ownerDocument}function Lv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Uv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function sm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var om=null;function I2(){var t=window.event;return t&&t.type==="popstate"?t===om?!1:(om=t,!0):(om=null,!1)}var zv=typeof setTimeout=="function"?setTimeout:void 0,D2=typeof clearTimeout=="function"?clearTimeout:void 0,Bv=typeof Promise=="function"?Promise:void 0,O2=typeof queueMicrotask=="function"?queueMicrotask:typeof Bv<"u"?function(t){return Bv.resolve(null).then(t).catch(k2)}:zv;function k2(t){setTimeout(function(){throw t})}function Ra(t){return t==="head"}function qv(t,i){var s=i,l=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(h),Ro(i);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Gl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Gl(s);for(var d=s.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[Vt]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=_}}else s==="body"&&Gl(t.ownerDocument.body);s=h}while(s);Ro(i)}function Hv(t,i){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function lm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":lm(s),Br(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function M2(t,i,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Vt])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Er(t.nextSibling),t===null)break}return null}function j2(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Er(t.nextSibling),t===null))return null;return t}function Fv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Er(t.nextSibling),t===null))return null;return t}function cm(t){return t.data==="$?"||t.data==="$~"}function um(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function V2(t,i){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||s.readyState!=="loading")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Er(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var hm=null;function Gv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(i===0)return Er(t.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}t=t.nextSibling}return null}function Yv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return t;i--}else s!=="/$"&&s!=="/&"||i++}t=t.previousSibling}return null}function $v(t,i,s){switch(i=Ku(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Gl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Br(t)}var Tr=new Map,Qv=new Set;function Xu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Li=ae.d;ae.d={f:P2,r:L2,D:U2,C:z2,L:B2,m:q2,X:F2,S:H2,M:G2};function P2(){var t=Li.f(),i=Bu();return t||i}function L2(t){var i=Vn(t);i!==null&&i.tag===5&&i.type==="form"?hy(i):Li.r(t)}var So=typeof document>"u"?null:document;function Kv(t,i,s){var l=So;if(l&&typeof i=="string"&&i){var h=Pn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Qv.has(h)||(Qv.add(h),t={rel:t,crossOrigin:s,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),gn(i,"link",t),Gt(i),l.head.appendChild(i)))}}function U2(t){Li.D(t),Kv("dns-prefetch",t,null)}function z2(t,i){Li.C(t,i),Kv("preconnect",t,i)}function B2(t,i,s){Li.L(t,i,s);var l=So;if(l&&t&&i){var h='link[rel="preload"][as="'+Pn(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Pn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Pn(s.imageSizes)+'"]')):h+='[href="'+Pn(t)+'"]';var d=h;switch(i){case"style":d=Ao(t);break;case"script":d=No(t)}Tr.has(d)||(t=w({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),Tr.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Yl(d))||i==="script"&&l.querySelector($l(d))||(i=l.createElement("link"),gn(i,"link",t),Gt(i),l.head.appendChild(i)))}}function q2(t,i){Li.m(t,i);var s=So;if(s&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Pn(l)+'"][href="'+Pn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=No(t)}if(!Tr.has(d)&&(t=w({rel:"modulepreload",href:t},i),Tr.set(d,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector($l(d)))return}l=s.createElement("link"),gn(l,"link",t),Gt(l),s.head.appendChild(l)}}}function H2(t,i,s){Li.S(t,i,s);var l=So;if(l&&t){var h=qr(l).hoistableStyles,d=Ao(t);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Yl(d)))T.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":i},s),(s=Tr.get(d))&&fm(t,s);var I=_=l.createElement("link");Gt(I),gn(I,"link",t),I._p=new Promise(function(B,X){I.onload=B,I.onerror=X}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Wu(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function F2(t,i){Li.X(t,i);var s=So;if(s&&t){var l=qr(s).hoistableScripts,h=No(t),d=l.get(h);d||(d=s.querySelector($l(h)),d||(t=w({src:t,async:!0},i),(i=Tr.get(h))&&dm(t,i),d=s.createElement("script"),Gt(d),gn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function G2(t,i){Li.M(t,i);var s=So;if(s&&t){var l=qr(s).hoistableScripts,h=No(t),d=l.get(h);d||(d=s.querySelector($l(h)),d||(t=w({src:t,async:!0,type:"module"},i),(i=Tr.get(h))&&dm(t,i),d=s.createElement("script"),Gt(d),gn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Xv(t,i,s,l){var h=(h=Te.current)?Xu(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Ao(s.href),s=qr(h).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ao(s.href);var d=qr(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Yl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Tr.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Tr.set(t,s),d||Y2(h,t,s,_.state))),i&&l===null)throw Error(a(528,""));return _}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=No(s),s=qr(h).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ao(t){return'href="'+Pn(t)+'"'}function Yl(t){return'link[rel="stylesheet"]['+t+"]"}function Wv(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function Y2(t,i,s,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),gn(i,"link",s),Gt(i),t.head.appendChild(i))}function No(t){return'[src="'+Pn(t)+'"]'}function $l(t){return"script[async]"+t}function Jv(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Pn(s.href)+'"]');if(l)return i.instance=l,Gt(l),l;var h=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Gt(l),gn(l,"style",h),Wu(l,s.precedence,t),i.instance=l;case"stylesheet":h=Ao(s.href);var d=t.querySelector(Yl(h));if(d)return i.state.loading|=4,i.instance=d,Gt(d),d;l=Wv(s),(h=Tr.get(h))&&fm(l,h),d=(t.ownerDocument||t).createElement("link"),Gt(d);var _=d;return _._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),gn(d,"link",l),i.state.loading|=4,Wu(d,s.precedence,t),i.instance=d;case"script":return d=No(s.src),(h=t.querySelector($l(d)))?(i.instance=h,Gt(h),h):(l=s,(h=Tr.get(d))&&(l=w({},s),dm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Gt(h),gn(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Wu(l,s.precedence,t));return i.instance}function Wu(t,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function fm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function dm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Ju=null;function Zv(t,i,s){if(Ju===null){var l=new Map,h=Ju=new Map;h.set(s,l)}else h=Ju,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var d=s[h];if(!(d[Vt]||d[et]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function e_(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function $2(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function t_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Q2(t,i,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ao(l.href),d=i.querySelector(Yl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Zu.bind(t),i.then(t,t)),s.state.loading|=4,s.instance=d,Gt(d);return}d=i.ownerDocument||i,l=Wv(l),(h=Tr.get(h))&&fm(l,h),d=d.createElement("link"),Gt(d);var _=d;_._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),gn(d,"link",l),s.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Zu.bind(t),i.addEventListener("load",s),i.addEventListener("error",s))}}var mm=0;function K2(t,i){return t.stylesheets&&t.count===0&&th(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&th(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&mm===0&&(mm=62500*C2());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&th(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>mm?50:800)+i);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Zu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)th(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var eh=null;function th(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,eh=new Map,i.forEach(X2,t),eh=null,Zu.call(t))}function X2(t,i){if(!(i.state.loading&4)){var s=eh.get(t);if(s)var l=s.get(null);else{s=new Map,eh.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),l=_)}l&&s.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=s.get(_)||l,d===l&&s.set(null,h),s.set(_,h),this.count++,l=Zu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Ql={$$typeof:se,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function W2(t,i,s,l,h,d,_,T,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jn(0),this.hiddenUpdates=jn(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function n_(t,i,s,l,h,d,_,T,I,B,X,ee){return t=new W2(t,i,s,_,I,B,X,ee,T),i=1,d===!0&&(i|=24),d=Zn(3,null,null,i),t.current=d,d.stateNode=t,i=$f(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:i},Wf(d),t}function r_(t){return t?(t=ro,t):ro}function i_(t,i,s,l,h,d){h=r_(h),l.context===null?l.context=h:l.pendingContext=h,l=ya(i),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=va(t,l,i),s!==null&&(Hn(s,t,i),Al(s,t,i))}function a_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function pm(t,i){a_(t,i),(t=t.alternate)&&a_(t,i)}function s_(t){if(t.tag===13||t.tag===31){var i=ds(t,67108864);i!==null&&Hn(i,t,67108864),pm(t,67108864)}}function o_(t){if(t.tag===13||t.tag===31){var i=ir();i=Kn(i);var s=ds(t,i);s!==null&&Hn(s,t,i),pm(t,i)}}var nh=!0;function J2(t,i,s,l){var h=H.T;H.T=null;var d=ae.p;try{ae.p=2,gm(t,i,s,l)}finally{ae.p=d,H.T=h}}function Z2(t,i,s,l){var h=H.T;H.T=null;var d=ae.p;try{ae.p=8,gm(t,i,s,l)}finally{ae.p=d,H.T=h}}function gm(t,i,s,l){if(nh){var h=ym(l);if(h===null)nm(t,i,l,rh,s),c_(t,l);else if(tx(h,t,i,s,l))l.stopPropagation();else if(c_(t,l),i&4&&-1<ex.indexOf(t)){for(;h!==null;){var d=Vn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=bt(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var I=1<<31-_t(_);T.entanglements[1]|=I,_&=~I}ti(d),(at&6)===0&&(Uu=Dt()+500,ql(0))}}break;case 31:case 13:T=ds(d,2),T!==null&&Hn(T,d,2),Bu(),pm(d,2)}if(d=ym(l),d===null&&nm(t,i,l,rh,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else nm(t,i,l,null,s)}}function ym(t){return t=fr(t),vm(t)}var rh=null;function vm(t){if(rh=null,t=hr(t),t!==null){var i=c(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=f(i),t!==null)return t;t=null}else if(s===31){if(t=m(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return rh=t,null}function l_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(In()){case pi:return 2;case gi:return 8;case or:case yi:return 32;case Ur:return 268435456;default:return 32}default:return 32}}var _m=!1,Ca=null,Ia=null,Da=null,Kl=new Map,Xl=new Map,Oa=[],ex="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function c_(t,i){switch(t){case"focusin":case"focusout":Ca=null;break;case"dragenter":case"dragleave":Ia=null;break;case"mouseover":case"mouseout":Da=null;break;case"pointerover":case"pointerout":Kl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xl.delete(i.pointerId)}}function Wl(t,i,s,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Vn(i),i!==null&&s_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function tx(t,i,s,l,h){switch(i){case"focusin":return Ca=Wl(Ca,t,i,s,l,h),!0;case"dragenter":return Ia=Wl(Ia,t,i,s,l,h),!0;case"mouseover":return Da=Wl(Da,t,i,s,l,h),!0;case"pointerover":var d=h.pointerId;return Kl.set(d,Wl(Kl.get(d)||null,t,i,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Xl.set(d,Wl(Xl.get(d)||null,t,i,s,l,h)),!0}return!1}function u_(t){var i=hr(t.target);if(i!==null){var s=c(i);if(s!==null){if(i=s.tag,i===13){if(i=f(s),i!==null){t.blockedOn=i,Oe(t.priority,function(){o_(s)});return}}else if(i===31){if(i=m(s),i!==null){t.blockedOn=i,Oe(t.priority,function(){o_(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ih(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=ym(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);ul=l,s.target.dispatchEvent(l),ul=null}else return i=Vn(s),i!==null&&s_(i),t.blockedOn=s,!1;i.shift()}return!0}function h_(t,i,s){ih(t)&&s.delete(i)}function nx(){_m=!1,Ca!==null&&ih(Ca)&&(Ca=null),Ia!==null&&ih(Ia)&&(Ia=null),Da!==null&&ih(Da)&&(Da=null),Kl.forEach(h_),Xl.forEach(h_)}function ah(t,i){t.blockedOn===i&&(t.blockedOn=null,_m||(_m=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,nx)))}var sh=null;function f_(t){sh!==t&&(sh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){sh===t&&(sh=null);for(var i=0;i<t.length;i+=3){var s=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(vm(l||s)===null)continue;break}var d=Vn(s);d!==null&&(t.splice(i,3),i-=3,yd(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Ro(t){function i(I){return ah(I,t)}Ca!==null&&ah(Ca,t),Ia!==null&&ah(Ia,t),Da!==null&&ah(Da,t),Kl.forEach(i),Xl.forEach(i);for(var s=0;s<Oa.length;s++){var l=Oa[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Oa.length&&(s=Oa[0],s.blockedOn===null);)u_(s),s.blockedOn===null&&Oa.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],_=h[Ke]||null;if(typeof d=="function")_||f_(s);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Ke]||null)T=_.formAction;else if(vm(h)!==null)continue}else T=_.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),f_(s)}}}function d_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function bm(t){this._internalRoot=t}oh.prototype.render=bm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=ir();i_(s,l,t,i,null,null)},oh.prototype.unmount=bm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;i_(t.current,2,null,t,null,null),Bu(),i[on]=null}};function oh(t){this._internalRoot=t}oh.prototype.unstable_scheduleHydration=function(t){if(t){var i=zr();t={blockedOn:null,target:t,priority:i};for(var s=0;s<Oa.length&&i!==0&&i<Oa[s].priority;s++);Oa.splice(s,0,t),s===0&&u_(t)}};var m_=e.version;if(m_!=="19.2.3")throw Error(a(527,m_,"19.2.3"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=g(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var rx={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lh.isDisabled&&lh.supportsFiber)try{Ut=lh.inject(rx),Ot=lh}catch{}}return Zl.createRoot=function(t,i){if(!o(t))throw Error(a(299));var s=!1,l="",h=Ey,d=Ty,_=wy;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=n_(t,1,!1,null,null,s,l,null,h,d,_,d_),t[on]=i.current,tm(t),new bm(i)},Zl.hydrateRoot=function(t,i,s){if(!o(t))throw Error(a(299));var l=!1,h="",d=Ey,_=Ty,T=wy,I=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),i=n_(t,1,!0,i,s??null,l,h,I,d,_,T,d_),i.context=r_(null),s=i.current,l=ir(),l=Kn(l),h=ya(l),h.callback=null,va(s,h,l),s=l,i.current.lanes=s,Qn(i,s),ti(i),t[on]=i.current,tm(t),new oh(i)},Zl.version="19.2.3",Zl}var x_;function dx(){if(x_)return wm.exports;x_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),wm.exports=fx(),wm.exports}var mx=dx();const px=Tb(mx),gx=()=>{};var S_={};const wb=function(r){const e=[];let n=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},yx=function(r){const e=[];let n=0,a=0;for(;n<r.length;){const o=r[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[n++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const c=r[n++],f=r[n++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},xb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=c>>2,w=(c&3)<<4|m>>4;let S=(m&15)<<2|g>>6,j=g&63;p||(j=64,f||(S=64)),a.push(n[E],n[w],n[S],n[j])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(wb(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):yx(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,c==null||m==null||g==null||w==null)throw new vx;const S=c<<2|m>>4;if(a.push(S),g!==64){const j=m<<4&240|g>>2;if(a.push(j),w!==64){const F=g<<6&192|w;a.push(F)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class vx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _x=function(r){const e=wb(r);return xb.encodeByteArray(e,!0)},Ih=function(r){return _x(r).replace(/\./g,"")},Sb=function(r){try{return xb.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function bx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Ex=()=>bx().__FIREBASE_DEFAULTS__,Tx=()=>{if(typeof process>"u"||typeof S_>"u")return;const r=S_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},wx=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Sb(r[1]);return e&&JSON.parse(e)},Jh=()=>{try{return gx()||Ex()||Tx()||wx()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Ab=r=>Jh()?.emulatorHosts?.[r],Nb=r=>{const e=Ab(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},Rb=()=>Jh()?.config,Cb=r=>Jh()?.[`_${r}`];class xx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}function Ps(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zp(r){return(await fetch(r,{credentials:"include"})).ok}function Sx(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Ih(JSON.stringify(n)),Ih(JSON.stringify(f)),""].join(".")}const oc={};function Ax(){const r={prod:[],emulator:[]};for(const e of Object.keys(oc))oc[e]?r.emulator.push(e):r.prod.push(e);return r}function Nx(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let A_=!1;function Bp(r,e){if(typeof window>"u"||typeof document>"u"||!Ps(window.location.host)||oc[r]===e||oc[r]||A_)return;oc[r]=e;function n(S){return`__firebase__banner__${S}`}const a="__firebase__banner",c=Ax().prod.length>0;function f(){const S=document.getElementById(a);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,j){S.setAttribute("width","24"),S.setAttribute("id",j),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{A_=!0,f()},S}function E(S,j){S.setAttribute("id",j),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function w(){const S=Nx(a),j=n("text"),F=document.getElementById(j)||document.createElement("span"),Y=n("learnmore"),U=document.getElementById(Y)||document.createElement("a"),K=n("preprendIcon"),re=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const se=S.element;m(se),E(U,Y);const ce=g();p(re,K),se.append(re,F,U,ce),document.body.appendChild(se)}c?(F.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function Rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Rx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rn())}function Cx(){const r=Jh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ix(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Dx(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Ox(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kx(){const r=Rn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Mx(){return!Cx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jx(){try{return typeof indexedDB=="object"}catch{return!1}}function Vx(){return new Promise((r,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const Px="FirebaseError";class Xi extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=Px,Object.setPrototypeOf(this,Xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ac.prototype.create)}}class Ac{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?Lx(c,a):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Xi(o,m,a)}}function Lx(r,e){return r.replace(Ux,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const Ux=/\{\$([^}]+)}/g;function zx(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ds(r,e){if(r===e)return!0;const n=Object.keys(r),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const c=r[o],f=e[o];if(N_(c)&&N_(f)){if(!Ds(c,f))return!1}else if(c!==f)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function N_(r){return r!==null&&typeof r=="object"}function Nc(r){const e=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function ec(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,c]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function tc(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function Bx(r,e){const n=new qx(r,e);return n.subscribe.bind(n)}class qx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");Hx(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=Nm),o.error===void 0&&(o.error=Nm),o.complete===void 0&&(o.complete=Nm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Hx(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Nm(){}function kt(r){return r&&r._delegate?r._delegate:r}class Ga{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const As="[DEFAULT]";class Fx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new xx;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Yx(e))try{this.getOrInitializeService({instanceIdentifier:As})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=As){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=As){return this.instances.has(e)}getOptions(e=As){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);a===m&&f.resolve(o)}return o}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Gx(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=As){return this.component?this.component.multipleInstances?e:As:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Gx(r){return r===As?void 0:r}function Yx(r){return r.instantiationMode==="EAGER"}class $x{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Fx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Fe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Fe||(Fe={}));const Qx={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},Kx=Fe.INFO,Xx={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},Wx=(r,e,...n)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=Xx[e];if(o)console[o](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qp{constructor(e){this.name=e,this._logLevel=Kx,this._logHandler=Wx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Qx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const Jx=(r,e)=>e.some(n=>r instanceof n);let R_,C_;function Zx(){return R_||(R_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eS(){return C_||(C_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ib=new WeakMap,Km=new WeakMap,Db=new WeakMap,Rm=new WeakMap,Hp=new WeakMap;function tS(r){const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",f)},c=()=>{n(Ba(r.result)),o()},f=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&Ib.set(n,r)}).catch(()=>{}),Hp.set(e,r),e}function nS(r){if(Km.has(r))return;const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",f),r.removeEventListener("abort",f)},c=()=>{n(),o()},f=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",f),r.addEventListener("abort",f)});Km.set(r,e)}let Xm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Km.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Db.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ba(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function rS(r){Xm=r(Xm)}function iS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=r.call(Cm(this),e,...n);return Db.set(a,e.sort?e.sort():[e]),Ba(a)}:eS().includes(r)?function(...e){return r.apply(Cm(this),e),Ba(Ib.get(this))}:function(...e){return Ba(r.apply(Cm(this),e))}}function aS(r){return typeof r=="function"?iS(r):(r instanceof IDBTransaction&&nS(r),Jx(r,Zx())?new Proxy(r,Xm):r)}function Ba(r){if(r instanceof IDBRequest)return tS(r);if(Rm.has(r))return Rm.get(r);const e=aS(r);return e!==r&&(Rm.set(r,e),Hp.set(e,r)),e}const Cm=r=>Hp.get(r);function sS(r,e,{blocked:n,upgrade:a,blocking:o,terminated:c}={}){const f=indexedDB.open(r,e),m=Ba(f);return a&&f.addEventListener("upgradeneeded",p=>{a(Ba(f.result),p.oldVersion,p.newVersion,Ba(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const oS=["get","getKey","getAll","getAllKeys","count"],lS=["put","add","delete","clear"],Im=new Map;function I_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Im.get(e))return Im.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=lS.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||oS.includes(n)))return;const c=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Im.set(e,c),c}rS(r=>({...r,get:(e,n,a)=>I_(e,n)||r.get(e,n,a),has:(e,n)=>!!I_(e,n)||r.has(e,n)}));class cS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uS(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function uS(r){return r.getComponent()?.type==="VERSION"}const Wm="@firebase/app",D_="0.14.6";const Gi=new qp("@firebase/app"),hS="@firebase/app-compat",fS="@firebase/analytics-compat",dS="@firebase/analytics",mS="@firebase/app-check-compat",pS="@firebase/app-check",gS="@firebase/auth",yS="@firebase/auth-compat",vS="@firebase/database",_S="@firebase/data-connect",bS="@firebase/database-compat",ES="@firebase/functions",TS="@firebase/functions-compat",wS="@firebase/installations",xS="@firebase/installations-compat",SS="@firebase/messaging",AS="@firebase/messaging-compat",NS="@firebase/performance",RS="@firebase/performance-compat",CS="@firebase/remote-config",IS="@firebase/remote-config-compat",DS="@firebase/storage",OS="@firebase/storage-compat",kS="@firebase/firestore",MS="@firebase/ai",jS="@firebase/firestore-compat",VS="firebase",PS="12.6.0";const Jm="[DEFAULT]",LS={[Wm]:"fire-core",[hS]:"fire-core-compat",[dS]:"fire-analytics",[fS]:"fire-analytics-compat",[pS]:"fire-app-check",[mS]:"fire-app-check-compat",[gS]:"fire-auth",[yS]:"fire-auth-compat",[vS]:"fire-rtdb",[_S]:"fire-data-connect",[bS]:"fire-rtdb-compat",[ES]:"fire-fn",[TS]:"fire-fn-compat",[wS]:"fire-iid",[xS]:"fire-iid-compat",[SS]:"fire-fcm",[AS]:"fire-fcm-compat",[NS]:"fire-perf",[RS]:"fire-perf-compat",[CS]:"fire-rc",[IS]:"fire-rc-compat",[DS]:"fire-gcs",[OS]:"fire-gcs-compat",[kS]:"fire-fst",[jS]:"fire-fst-compat",[MS]:"fire-vertex","fire-js":"fire-js",[VS]:"fire-js-all"};const Dh=new Map,US=new Map,Zm=new Map;function O_(r,e){try{r.container.addComponent(e)}catch(n){Gi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Os(r){const e=r.name;if(Zm.has(e))return Gi.debug(`There were multiple attempts to register component ${e}.`),!1;Zm.set(e,r);for(const n of Dh.values())O_(n,r);for(const n of US.values())O_(n,r);return!0}function Zh(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Gn(r){return r==null?!1:r.settings!==void 0}const zS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qa=new Ac("app","Firebase",zS);class BS{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ga("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qa.create("app-deleted",{appName:this._name})}}const Qo=PS;function Ob(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const a={name:Jm,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw qa.create("bad-app-name",{appName:String(o)});if(n||(n=Rb()),!n)throw qa.create("no-options");const c=Dh.get(o);if(c){if(Ds(n,c.options)&&Ds(a,c.config))return c;throw qa.create("duplicate-app",{appName:o})}const f=new $x(o);for(const p of Zm.values())f.addComponent(p);const m=new BS(n,a,f);return Dh.set(o,m),m}function Fp(r=Jm){const e=Dh.get(r);if(!e&&r===Jm&&Rb())return Ob();if(!e)throw qa.create("no-app",{appName:r});return e}function ai(r,e,n){let a=LS[r]??r;n&&(a+=`-${n}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const f=[`Unable to register library "${a}" with version "${e}":`];o&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gi.warn(f.join(" "));return}Os(new Ga(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const qS="firebase-heartbeat-database",HS=1,dc="firebase-heartbeat-store";let Dm=null;function kb(){return Dm||(Dm=sS(qS,HS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(dc)}catch(n){console.warn(n)}}}}).catch(r=>{throw qa.create("idb-open",{originalErrorMessage:r.message})})),Dm}async function FS(r){try{const n=(await kb()).transaction(dc),a=await n.objectStore(dc).get(Mb(r));return await n.done,a}catch(e){if(e instanceof Xi)Gi.warn(e.message);else{const n=qa.create("idb-get",{originalErrorMessage:e?.message});Gi.warn(n.message)}}}async function k_(r,e){try{const a=(await kb()).transaction(dc,"readwrite");await a.objectStore(dc).put(e,Mb(r)),await a.done}catch(n){if(n instanceof Xi)Gi.warn(n.message);else{const a=qa.create("idb-set",{originalErrorMessage:n?.message});Gi.warn(a.message)}}}function Mb(r){return`${r.name}!${r.options.appId}`}const GS=1024,YS=30;class $S{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new KS(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=M_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>YS){const o=XS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Gi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=M_(),{heartbeatsToSend:n,unsentEntries:a}=QS(this._heartbeatsCache.heartbeats),o=Ih(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Gi.warn(e),""}}}function M_(){return new Date().toISOString().substring(0,10)}function QS(r,e=GS){const n=[];let a=r.slice();for(const o of r){const c=n.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),j_(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),j_(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class KS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jx()?Vx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await FS(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return k_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return k_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function j_(r){return Ih(JSON.stringify({version:2,heartbeats:r})).length}function XS(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,e=a);return e}function WS(r){Os(new Ga("platform-logger",e=>new cS(e),"PRIVATE")),Os(new Ga("heartbeat",e=>new $S(e),"PRIVATE")),ai(Wm,D_,r),ai(Wm,D_,"esm2020"),ai("fire-js","")}WS("");function jb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JS=jb,Vb=new Ac("auth","Firebase",jb());const Oh=new qp("@firebase/auth");function ZS(r,...e){Oh.logLevel<=Fe.WARN&&Oh.warn(`Auth (${Qo}): ${r}`,...e)}function _h(r,...e){Oh.logLevel<=Fe.ERROR&&Oh.error(`Auth (${Qo}): ${r}`,...e)}function Pr(r,...e){throw Gp(r,...e)}function si(r,...e){return Gp(r,...e)}function Pb(r,e,n){const a={...JS(),[e]:n};return new Ac("auth","Firebase",a).create(e,{appName:r.name})}function oi(r){return Pb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gp(r,...e){if(typeof r!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return Vb.create(r,...e)}function Ce(r,e,...n){if(!r)throw Gp(e,...n)}function qi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw _h(e),new Error(e)}function Yi(r,e){r||qi(e)}function ep(){return typeof self<"u"&&self.location?.href||""}function eA(){return V_()==="http:"||V_()==="https:"}function V_(){return typeof self<"u"&&self.location?.protocol||null}function tA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eA()||Dx()||"connection"in navigator)?navigator.onLine:!0}function nA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Rc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yi(n>e,"Short delay should be less than long delay!"),this.isMobile=Rx()||Ox()}get(){return tA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Yp(r,e){Yi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Lb{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const iA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],aA=new Rc(3e4,6e4);function Wi(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ji(r,e,n,a,o={}){return Ub(r,o,async()=>{let c={},f={};a&&(e==="GET"?f=a:c={body:JSON.stringify(a)});const m=Nc({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...c};return Ix()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Ps(r.emulatorConfig.host)&&(g.credentials="include"),Lb.fetch()(await zb(r,r.config.apiHost,n,m),g)})}async function Ub(r,e,n){r._canInitEmulator=!1;const a={...rA,...e};try{const o=new oA(r),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw ch(r,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const m=c.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ch(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw ch(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw ch(r,"user-disabled",f);const E=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Pb(r,E,g);Pr(r,E)}}catch(o){if(o instanceof Xi)throw o;Pr(r,"network-request-failed",{message:String(o)})}}async function Cc(r,e,n,a,o={}){const c=await Ji(r,e,n,a,o);return"mfaPendingCredential"in c&&Pr(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function zb(r,e,n,a){const o=`${e}${n}?${a}`,c=r,f=c.config.emulator?Yp(r.config,o):`${r.config.apiScheme}://${o}`;return iA.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}function sA(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(si(this.auth,"network-request-failed")),aA.get())})}}function ch(r,e,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=si(r,e,a);return o.customData._tokenResponse=n,o}function P_(r){return r!==void 0&&r.enterprise!==void 0}class lA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return sA(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function cA(r,e){return Ji(r,"GET","/v2/recaptchaConfig",Wi(r,e))}async function uA(r,e){return Ji(r,"POST","/v1/accounts:delete",e)}async function kh(r,e){return Ji(r,"POST","/v1/accounts:lookup",e)}function lc(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hA(r,e=!1){const n=kt(r),a=await n.getIdToken(e),o=$p(a);Ce(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,f=c?.sign_in_provider;return{claims:o,token:a,authTime:lc(Om(o.auth_time)),issuedAtTime:lc(Om(o.iat)),expirationTime:lc(Om(o.exp)),signInProvider:f||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Om(r){return Number(r)*1e3}function $p(r){const[e,n,a]=r.split(".");if(e===void 0||n===void 0||a===void 0)return _h("JWT malformed, contained fewer than 3 sections"),null;try{const o=Sb(n);return o?JSON.parse(o):(_h("Failed to decode base64 JWT payload"),null)}catch(o){return _h("Caught error parsing JWT payload as JSON",o?.toString()),null}}function L_(r){const e=$p(r);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function mc(r,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof Xi&&fA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function fA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class dA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class tp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=lc(this.lastLoginAt),this.creationTime=lc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function pc(r){const e=r.auth,n=await r.getIdToken(),a=await mc(r,kh(e,{idToken:n}));Ce(a?.users.length,e,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?Bb(o.providerUserInfo):[],f=pA(r.providerData,c),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new tp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function mA(r){const e=kt(r);await pc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pA(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Bb(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function gA(r,e){const n=await Ub(r,{},async()=>{const a=Nc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,f=await zb(r,o,"/v1/token",`key=${c}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:a};return r.emulatorConfig&&Ps(r.emulatorConfig.host)&&(p.credentials="include"),Lb.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function yA(r,e){return Ji(r,"POST","/v2/accounts:revokeToken",Wi(r,e))}class Vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):L_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const n=L_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:c}=await gA(e,n);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:c}=n,f=new Vo;return a&&(Ce(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),o&&(Ce(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),c&&(Ce(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vo,this.toJSON())}_performRefresh(){return qi("not implemented")}}function Ma(r,e){Ce(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class jr{constructor({uid:e,auth:n,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new dA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new tp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await mc(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return hA(this,e)}reload(){return mA(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new jr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await pc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(oi(this.auth));const e=await this.getIdToken();return await mc(this,uA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:w,emailVerified:S,isAnonymous:j,providerData:F,stsTokenManager:Y}=n;Ce(w&&Y,e,"internal-error");const U=Vo.fromJSON(this.name,Y);Ce(typeof w=="string",e,"internal-error"),Ma(a,e.name),Ma(o,e.name),Ce(typeof S=="boolean",e,"internal-error"),Ce(typeof j=="boolean",e,"internal-error"),Ma(c,e.name),Ma(f,e.name),Ma(m,e.name),Ma(p,e.name),Ma(g,e.name),Ma(E,e.name);const K=new jr({uid:w,auth:e,email:o,emailVerified:S,displayName:a,isAnonymous:j,photoURL:f,phoneNumber:c,tenantId:m,stsTokenManager:U,createdAt:g,lastLoginAt:E});return F&&Array.isArray(F)&&(K.providerData=F.map(re=>({...re}))),p&&(K._redirectEventId=p),K}static async _fromIdTokenResponse(e,n,a=!1){const o=new Vo;o.updateFromServerResponse(n);const c=new jr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await pc(c),c}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];Ce(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Bb(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!c?.length,m=new Vo;m.updateFromIdToken(a);const p=new jr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new tp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(p,g),p}}const U_=new Map;function Hi(r){Yi(r instanceof Function,"Expected a class definition");let e=U_.get(r);return e?(Yi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,U_.set(r,e),e)}class qb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qb.type="NONE";const z_=qb;function bh(r,e,n){return`firebase:${r}:${e}:${n}`}class Po{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=bh(this.userKey,o.apiKey,c),this.fullPersistenceKey=bh("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await kh(this.auth,{idToken:e}).catch(()=>{});return n?jr._fromGetAccountInfoResponse(this.auth,n,e):null}return jr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new Po(Hi(z_),e,a);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=o[0]||Hi(z_);const f=bh(a,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let w;if(typeof E=="string"){const S=await kh(e,{idToken:E}).catch(()=>{});if(!S)break;w=await jr._fromGetAccountInfoResponse(e,S,E)}else w=jr._fromJSON(e,E);g!==c&&(m=w),c=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Po(c,e,a):(c=p[0],m&&await c._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==c)try{await g._remove(f)}catch{}})),new Po(c,e,a))}}function B_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Yb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Hb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Qb(e))return"Blackberry";if(Kb(e))return"Webos";if(Fb(e))return"Safari";if((e.includes("chrome/")||Gb(e))&&!e.includes("edge/"))return"Chrome";if($b(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if(a?.length===2)return a[1]}return"Other"}function Hb(r=Rn()){return/firefox\//i.test(r)}function Fb(r=Rn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Gb(r=Rn()){return/crios\//i.test(r)}function Yb(r=Rn()){return/iemobile/i.test(r)}function $b(r=Rn()){return/android/i.test(r)}function Qb(r=Rn()){return/blackberry/i.test(r)}function Kb(r=Rn()){return/webos/i.test(r)}function Qp(r=Rn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function vA(r=Rn()){return Qp(r)&&!!window.navigator?.standalone}function _A(){return kx()&&document.documentMode===10}function Xb(r=Rn()){return Qp(r)||$b(r)||Kb(r)||Qb(r)||/windows phone/i.test(r)||Yb(r)}function Wb(r,e=[]){let n;switch(r){case"Browser":n=B_(Rn());break;case"Worker":n=`${B_(Rn())}-${r}`;break;default:n=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qo}/${a}`}class bA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=c=>new Promise((f,m)=>{try{const p=e(c);f(p)}catch(p){m(p)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function EA(r,e={}){return Ji(r,"GET","/v2/passwordPolicy",Wi(r,e))}const TA=6;class wA{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??TA,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class xA{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new q_(this),this.idTokenSubscription=new q_(this),this.beforeStateQueue=new bA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Vb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Hi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Po.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await kh(this,{idToken:e}),a=await jr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Gn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,f=a?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===f)&&m?.user&&(a=m.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await pc(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(oi(this));const n=e?kt(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(oi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(oi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await EA(this),n=new wA(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ac("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await yA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Hi(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await Po.create(this,[Hi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(m,this,"internal-error"),m.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,a,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Wb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&ZS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Zi(r){return kt(r)}class q_{constructor(e){this.auth=e,this.observer=null,this.addObserver=Bx(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ef={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SA(r){ef=r}function Jb(r){return ef.loadJS(r)}function AA(){return ef.recaptchaEnterpriseScript}function NA(){return ef.gapiScript}function RA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class CA{constructor(){this.enterprise=new IA}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class IA{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const DA="recaptcha-enterprise",Zb="NO_RECAPTCHA";class OA{constructor(e){this.type=DA,this.auth=Zi(e)}async verify(e="verify",n=!1){async function a(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(f,m)=>{cA(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new lA(p);return c.tenantId==null?c._agentRecaptchaConfig=g:c._tenantRecaptchaConfigs[c.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(c,f,m){const p=window.grecaptcha;P_(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(g=>{f(g)}).catch(()=>{f(Zb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new CA().execute("siteKey",{action:"verify"}):new Promise((c,f)=>{a(this.auth).then(m=>{if(!n&&P_(window.grecaptcha))o(m,c,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=AA();p.length!==0&&(p+=m),Jb(p).then(()=>{o(m,c,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function H_(r,e,n,a=!1,o=!1){const c=new OA(r);let f;if(o)f=Zb;else try{f=await c.verify(n)}catch{f=await c.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Mh(r,e,n,a,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await H_(r,e,n,n==="getOobCode");return a(r,c)}else return a(r,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await H_(r,e,n,n==="getOobCode");return a(r,f)}else return Promise.reject(c)})}function kA(r,e){const n=Zh(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(Ds(c,e??{}))return o;Pr(o,"already-initialized")}return n.initialize({options:e})}function MA(r,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map(Hi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function jA(r,e,n){const a=Zi(r);Ce(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=eE(e),{host:f,port:m}=VA(e),p=m===null?"":`:${m}`,g={url:`${c}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Ce(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ce(Ds(g,a.config.emulator)&&Ds(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,Ps(f)?(zp(`${c}//${f}${p}`),Bp("Auth",!0)):PA()}function eE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function VA(r){const e=eE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:F_(a.substr(c.length+1))}}else{const[c,f]=a.split(":");return{host:c,port:F_(f)}}}function F_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function PA(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Kp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qi("not implemented")}_getIdTokenResponse(e){return qi("not implemented")}_linkToIdToken(e,n){return qi("not implemented")}_getReauthenticationResolver(e){return qi("not implemented")}}async function LA(r,e){return Ji(r,"POST","/v1/accounts:signUp",e)}async function UA(r,e){return Cc(r,"POST","/v1/accounts:signInWithPassword",Wi(r,e))}async function zA(r,e){return Ji(r,"POST","/v1/accounts:sendOobCode",Wi(r,e))}async function BA(r,e){return zA(r,e)}async function qA(r,e){return Cc(r,"POST","/v1/accounts:signInWithEmailLink",Wi(r,e))}async function HA(r,e){return Cc(r,"POST","/v1/accounts:signInWithEmailLink",Wi(r,e))}class gc extends Kp{constructor(e,n,a,o=null){super("password",a),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new gc(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new gc(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mh(e,n,"signInWithPassword",UA);case"emailLink":return qA(e,{email:this._email,oobCode:this._password});default:Pr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mh(e,a,"signUpPassword",LA);case"emailLink":return HA(e,{idToken:n,email:this._email,oobCode:this._password});default:Pr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Lo(r,e){return Cc(r,"POST","/v1/accounts:signInWithIdp",Wi(r,e))}const FA="http://localhost";class ks extends Kp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ks(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Pr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=n;if(!a||!o)return null;const f=new ks(a,o);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Lo(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,Lo(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Lo(e,n)}buildRequest(){const e={requestUri:FA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nc(n)}return e}}function GA(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function YA(r){const e=ec(tc(r)).link,n=e?ec(tc(e)).deep_link_id:null,a=ec(tc(r)).deep_link_id;return(a?ec(tc(a)).link:null)||a||n||e||r}class Xp{constructor(e){const n=ec(tc(e)),a=n.apiKey??null,o=n.oobCode??null,c=GA(n.mode??null);Ce(a&&o&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=YA(e);try{return new Xp(n)}catch{return null}}}class Ls{constructor(){this.providerId=Ls.PROVIDER_ID}static credential(e,n){return gc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=Xp.parseLink(n);return Ce(a,"argument-error"),gc._fromEmailAndCode(e,a.code,a.tenantId)}}Ls.PROVIDER_ID="password";Ls.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ls.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class tE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ic extends tE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ja extends Ic{constructor(){super("facebook.com")}static credential(e){return ks._fromParams({providerId:ja.PROVIDER_ID,signInMethod:ja.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ja.credentialFromTaggedObject(e)}static credentialFromError(e){return ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ja.credential(e.oauthAccessToken)}catch{return null}}}ja.FACEBOOK_SIGN_IN_METHOD="facebook.com";ja.PROVIDER_ID="facebook.com";class Va extends Ic{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ks._fromParams({providerId:Va.PROVIDER_ID,signInMethod:Va.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Va.credentialFromTaggedObject(e)}static credentialFromError(e){return Va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Va.credential(n,a)}catch{return null}}}Va.GOOGLE_SIGN_IN_METHOD="google.com";Va.PROVIDER_ID="google.com";class Pa extends Ic{constructor(){super("github.com")}static credential(e){return ks._fromParams({providerId:Pa.PROVIDER_ID,signInMethod:Pa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pa.credentialFromTaggedObject(e)}static credentialFromError(e){return Pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pa.credential(e.oauthAccessToken)}catch{return null}}}Pa.GITHUB_SIGN_IN_METHOD="github.com";Pa.PROVIDER_ID="github.com";class La extends Ic{constructor(){super("twitter.com")}static credential(e,n){return ks._fromParams({providerId:La.PROVIDER_ID,signInMethod:La.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return La.credentialFromTaggedObject(e)}static credentialFromError(e){return La.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return La.credential(n,a)}catch{return null}}}La.TWITTER_SIGN_IN_METHOD="twitter.com";La.PROVIDER_ID="twitter.com";async function nE(r,e){return Cc(r,"POST","/v1/accounts:signUp",Wi(r,e))}class $i{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const c=await jr._fromIdTokenResponse(e,a,o),f=G_(a);return new $i({user:c,providerId:f,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=G_(a);return new $i({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function G_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function $A(r){if(Gn(r.app))return Promise.reject(oi(r));const e=Zi(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new $i({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await nE(e,{returnSecureToken:!0}),a=await $i._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(a.user),a}class jh extends Xi{constructor(e,n,a,o){super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,jh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new jh(e,n,a,o)}}function rE(r,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?jh._fromErrorAndOperation(r,c,e,a):c})}function QA(r){return new Set(r.map(({providerId:e})=>e).filter(e=>!!e))}async function iE(r,e,n=!1){const a=await mc(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return $i._forOperation(r,"link",a)}async function KA(r,e,n){await pc(e);const a=QA(e.providerData);Ce(a.has(n)===r,e.auth,"provider-already-linked")}async function XA(r,e,n=!1){const{auth:a}=r;if(Gn(a.app))return Promise.reject(oi(a));const o="reauthenticate";try{const c=await mc(r,rE(a,o,e,r),n);Ce(c.idToken,a,"internal-error");const f=$p(c.idToken);Ce(f,a,"internal-error");const{sub:m}=f;return Ce(r.uid===m,a,"user-mismatch"),$i._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Pr(a,"user-mismatch"),c}}async function aE(r,e,n=!1){if(Gn(r.app))return Promise.reject(oi(r));const a="signIn",o=await rE(r,a,e),c=await $i._fromIdTokenResponse(r,a,o);return n||await r._updateCurrentUser(c.user),c}async function WA(r,e){return aE(Zi(r),e)}async function JA(r,e){const n=kt(r);return await KA(!1,n,e.providerId),iE(n,e)}async function sE(r){const e=Zi(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ZA(r,e,n){const a=Zi(r);await Mh(a,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",BA)}async function eN(r,e,n){if(Gn(r.app))return Promise.reject(oi(r));const a=Zi(r),f=await Mh(a,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nE).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&sE(r),p}),m=await $i._fromIdTokenResponse(a,"signIn",f);return await a._updateCurrentUser(m.user),m}function tN(r,e,n){return Gn(r.app)?Promise.reject(oi(r)):WA(kt(r),Ls.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&sE(r),a})}function nN(r,e,n,a){return kt(r).onIdTokenChanged(e,n,a)}function rN(r,e,n){return kt(r).beforeAuthStateChanged(e,n)}function iN(r,e,n,a){return kt(r).onAuthStateChanged(e,n,a)}function aN(r){return kt(r).signOut()}const Vh="__sak";class oE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vh,"1"),this.storage.removeItem(Vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const sN=1e3,oN=10;class lE extends oE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Xb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!n&&this.localCache[a]===f||this.notifyListeners(a,f)},c=this.storage.getItem(a);_A()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,oN):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},sN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}lE.type="LOCAL";const lN=lE;class cE extends oE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}cE.type="SESSION";const uE=cE;function cN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class tf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new tf(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:c}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,c)),p=await cN(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tf.receivers=[];function Wp(r="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return r+n}class uN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,f;return new Promise((m,p)=>{const g=Wp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(w){const S=w;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(S.data.response);break;default:clearTimeout(E),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function li(){return window}function hN(r){li().location.href=r}function hE(){return typeof li().WorkerGlobalScope<"u"&&typeof li().importScripts=="function"}async function fN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dN(){return navigator?.serviceWorker?.controller||null}function mN(){return hE()?self:null}const fE="firebaseLocalStorageDb",pN=1,Ph="firebaseLocalStorage",dE="fbase_key";class Dc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nf(r,e){return r.transaction([Ph],e?"readwrite":"readonly").objectStore(Ph)}function gN(){const r=indexedDB.deleteDatabase(fE);return new Dc(r).toPromise()}function np(){const r=indexedDB.open(fE,pN);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Ph,{keyPath:dE})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Ph)?e(a):(a.close(),await gN(),e(await np()))})})}async function Y_(r,e,n){const a=nf(r,!0).put({[dE]:e,value:n});return new Dc(a).toPromise()}async function yN(r,e){const n=nf(r,!1).get(e),a=await new Dc(n).toPromise();return a===void 0?null:a.value}function $_(r,e){const n=nf(r,!0).delete(e);return new Dc(n).toPromise()}const vN=800,_N=3;class mE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await np(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>_N)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tf._getInstance(mN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await fN(),!this.activeServiceWorker)return;this.sender=new uN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await np();return await Y_(e,Vh,"1"),await $_(e,Vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>Y_(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>yN(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>$_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=nf(o,!1).getAll();return new Dc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mE.type="LOCAL";const bN=mE;new Rc(3e4,6e4);function EN(r,e){return e?Hi(e):(Ce(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Jp extends Kp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Lo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function TN(r){return aE(r.auth,new Jp(r),r.bypassAuthState)}function wN(r){const{auth:e,user:n}=r;return Ce(n,e,"internal-error"),XA(n,new Jp(r),r.bypassAuthState)}async function xN(r){const{auth:e,user:n}=r;return Ce(n,e,"internal-error"),iE(n,new Jp(r),r.bypassAuthState)}class pE{constructor(e,n,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:c,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TN;case"linkViaPopup":case"linkViaRedirect":return xN;case"reauthViaPopup":case"reauthViaRedirect":return wN;default:Pr(this.auth,"internal-error")}}resolve(e){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const SN=new Rc(2e3,1e4);class ko extends pE{constructor(e,n,a,o,c){super(e,n,o,c),this.provider=a,this.authWindow=null,this.pollId=null,ko.currentPopupAction&&ko.currentPopupAction.cancel(),ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){Yi(this.filter.length===1,"Popup operations only handle one event");const e=Wp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,SN.get())};e()}}ko.currentPopupAction=null;const AN="pendingRedirect",Eh=new Map;class NN extends pE{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=Eh.get(this.auth._key());if(!e){try{const a=await RN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}Eh.set(this.auth._key(),e)}return this.bypassAuthState||Eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RN(r,e){const n=DN(e),a=IN(r);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function CN(r,e){Eh.set(r._key(),e)}function IN(r){return Hi(r._redirectPersistence)}function DN(r){return bh(AN,r.config.apiKey,r.name)}async function ON(r,e,n=!1){if(Gn(r.app))return Promise.reject(oi(r));const a=Zi(r),o=EN(a,e),f=await new NN(a,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}const kN=600*1e3;class MN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!gE(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";n.onError(si(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Q_(e))}saveEventToCache(e){this.cachedEventUids.add(Q_(e)),this.lastProcessedEventTime=Date.now()}}function Q_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function gE({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function jN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gE(r);default:return!1}}async function VN(r,e={}){return Ji(r,"GET","/v1/projects",e)}const PN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LN=/^https?/;async function UN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await VN(r);for(const n of e)try{if(zN(n))return}catch{}Pr(r,"unauthorized-domain")}function zN(r){const e=ep(),{protocol:n,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===a}if(!LN.test(n))return!1;if(PN.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const BN=new Rc(3e4,6e4);function K_(){const r=li().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function qN(r){return new Promise((e,n)=>{function a(){K_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{K_(),n(si(r,"network-request-failed"))},timeout:BN.get()})}if(li().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(li().gapi?.load)a();else{const o=RA("iframefcb");return li()[o]=()=>{gapi.load?a():n(si(r,"network-request-failed"))},Jb(`${NA()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw Th=null,e})}let Th=null;function HN(r){return Th=Th||qN(r),Th}const FN=new Rc(5e3,15e3),GN="__/auth/iframe",YN="emulator/auth/iframe",$N={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KN(r){const e=r.config;Ce(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Yp(e,YN):`https://${r.config.authDomain}/${GN}`,a={apiKey:e.apiKey,appName:r.name,v:Qo},o=QN.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${n}?${Nc(a).slice(1)}`}async function XN(r){const e=await HN(r),n=li().gapi;return Ce(n,r,"internal-error"),e.open({where:document.body,url:KN(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$N,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const f=si(r,"network-request-failed"),m=li().setTimeout(()=>{c(f)},FN.get());function p(){li().clearTimeout(m),o(a)}a.ping(p).then(p,()=>{c(f)})}))}const WN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JN=500,ZN=600,eR="_blank",tR="http://localhost";class X_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nR(r,e,n,a=JN,o=ZN){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const p={...WN,width:a.toString(),height:o.toString(),top:c,left:f},g=Rn().toLowerCase();n&&(m=Gb(g)?eR:n),Hb(g)&&(e=e||tR,p.scrollbars="yes");const E=Object.entries(p).reduce((S,[j,F])=>`${S}${j}=${F},`,"");if(vA(g)&&m!=="_self")return rR(e||"",m),new X_(null);const w=window.open(e||"",m,E);Ce(w,r,"popup-blocked");try{w.focus()}catch{}return new X_(w)}function rR(r,e){const n=document.createElement("a");n.href=r,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}const iR="__/auth/handler",aR="emulator/auth/handler",sR=encodeURIComponent("fac");async function W_(r,e,n,a,o,c){Ce(r.config.authDomain,r,"auth-domain-config-required"),Ce(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:Qo,eventId:o};if(e instanceof tE){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",zx(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(e instanceof Ic){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${sR}=${encodeURIComponent(p)}`:"";return`${oR(r)}?${Nc(m).slice(1)}${g}`}function oR({config:r}){return r.emulator?Yp(r,aR):`https://${r.authDomain}/${iR}`}const km="webStorageSupport";class lR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uE,this._completeRedirectFn=ON,this._overrideRedirectResult=CN}async _openPopup(e,n,a,o){Yi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await W_(e,n,a,ep(),o);return nR(e,c,Wp())}async _openRedirect(e,n,a,o){await this._originValidation(e);const c=await W_(e,n,a,ep(),o);return hN(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Yi(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await XN(e),a=new MN(e);return n.register("authEvent",o=>(Ce(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(km,{type:km},o=>{const c=o?.[0]?.[km];c!==void 0&&n(!!c),Pr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=UN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Xb()||Fb()||Qp()}}const cR=lR;var J_="@firebase/auth",Z_="1.12.0";class uR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function hR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fR(r){Os(new Ga("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=a.options;Ce(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wb(r)},g=new xA(a,o,c,p);return MA(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),Os(new Ga("auth-internal",e=>{const n=Zi(e.getProvider("auth").getImmediate());return(a=>new uR(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ai(J_,Z_,hR(r)),ai(J_,Z_,"esm2020")}const dR=300,mR=Cb("authIdTokenMaxAge")||dR;let e1=null;const pR=r=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>mR)return;const o=n?.token;e1!==o&&(e1=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function gR(r=Fp()){const e=Zh(r,"auth");if(e.isInitialized())return e.getImmediate();const n=kA(r,{popupRedirectResolver:cR,persistence:[bN,lN,uE]}),a=Cb("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const f=pR(c.toString());rN(n,f,()=>f(n.currentUser)),nN(n,m=>f(m))}}const o=Ab("auth");return o&&jA(n,`http://${o}`),n}function yR(){return document.getElementsByTagName("head")?.[0]??document}SA({loadJS(r){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const c=si("internal-error");c.customData=o,n(c)},a.type="text/javascript",a.charset="UTF-8",yR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fR("Browser");var t1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ha,yE;(function(){var r;function e(C,A){function R(){}R.prototype=A.prototype,C.F=A.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(k,D,V){for(var N=Array(arguments.length-2),we=2;we<arguments.length;we++)N[we-2]=arguments[we];return A.prototype[D].apply(k,N)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,A,R){R||(R=0);const k=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)k[D]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(D=0;D<16;++D)k[D]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=C.g[0],R=C.g[1],D=C.g[2];let V=C.g[3],N;N=A+(V^R&(D^V))+k[0]+3614090360&4294967295,A=R+(N<<7&4294967295|N>>>25),N=V+(D^A&(R^D))+k[1]+3905402710&4294967295,V=A+(N<<12&4294967295|N>>>20),N=D+(R^V&(A^R))+k[2]+606105819&4294967295,D=V+(N<<17&4294967295|N>>>15),N=R+(A^D&(V^A))+k[3]+3250441966&4294967295,R=D+(N<<22&4294967295|N>>>10),N=A+(V^R&(D^V))+k[4]+4118548399&4294967295,A=R+(N<<7&4294967295|N>>>25),N=V+(D^A&(R^D))+k[5]+1200080426&4294967295,V=A+(N<<12&4294967295|N>>>20),N=D+(R^V&(A^R))+k[6]+2821735955&4294967295,D=V+(N<<17&4294967295|N>>>15),N=R+(A^D&(V^A))+k[7]+4249261313&4294967295,R=D+(N<<22&4294967295|N>>>10),N=A+(V^R&(D^V))+k[8]+1770035416&4294967295,A=R+(N<<7&4294967295|N>>>25),N=V+(D^A&(R^D))+k[9]+2336552879&4294967295,V=A+(N<<12&4294967295|N>>>20),N=D+(R^V&(A^R))+k[10]+4294925233&4294967295,D=V+(N<<17&4294967295|N>>>15),N=R+(A^D&(V^A))+k[11]+2304563134&4294967295,R=D+(N<<22&4294967295|N>>>10),N=A+(V^R&(D^V))+k[12]+1804603682&4294967295,A=R+(N<<7&4294967295|N>>>25),N=V+(D^A&(R^D))+k[13]+4254626195&4294967295,V=A+(N<<12&4294967295|N>>>20),N=D+(R^V&(A^R))+k[14]+2792965006&4294967295,D=V+(N<<17&4294967295|N>>>15),N=R+(A^D&(V^A))+k[15]+1236535329&4294967295,R=D+(N<<22&4294967295|N>>>10),N=A+(D^V&(R^D))+k[1]+4129170786&4294967295,A=R+(N<<5&4294967295|N>>>27),N=V+(R^D&(A^R))+k[6]+3225465664&4294967295,V=A+(N<<9&4294967295|N>>>23),N=D+(A^R&(V^A))+k[11]+643717713&4294967295,D=V+(N<<14&4294967295|N>>>18),N=R+(V^A&(D^V))+k[0]+3921069994&4294967295,R=D+(N<<20&4294967295|N>>>12),N=A+(D^V&(R^D))+k[5]+3593408605&4294967295,A=R+(N<<5&4294967295|N>>>27),N=V+(R^D&(A^R))+k[10]+38016083&4294967295,V=A+(N<<9&4294967295|N>>>23),N=D+(A^R&(V^A))+k[15]+3634488961&4294967295,D=V+(N<<14&4294967295|N>>>18),N=R+(V^A&(D^V))+k[4]+3889429448&4294967295,R=D+(N<<20&4294967295|N>>>12),N=A+(D^V&(R^D))+k[9]+568446438&4294967295,A=R+(N<<5&4294967295|N>>>27),N=V+(R^D&(A^R))+k[14]+3275163606&4294967295,V=A+(N<<9&4294967295|N>>>23),N=D+(A^R&(V^A))+k[3]+4107603335&4294967295,D=V+(N<<14&4294967295|N>>>18),N=R+(V^A&(D^V))+k[8]+1163531501&4294967295,R=D+(N<<20&4294967295|N>>>12),N=A+(D^V&(R^D))+k[13]+2850285829&4294967295,A=R+(N<<5&4294967295|N>>>27),N=V+(R^D&(A^R))+k[2]+4243563512&4294967295,V=A+(N<<9&4294967295|N>>>23),N=D+(A^R&(V^A))+k[7]+1735328473&4294967295,D=V+(N<<14&4294967295|N>>>18),N=R+(V^A&(D^V))+k[12]+2368359562&4294967295,R=D+(N<<20&4294967295|N>>>12),N=A+(R^D^V)+k[5]+4294588738&4294967295,A=R+(N<<4&4294967295|N>>>28),N=V+(A^R^D)+k[8]+2272392833&4294967295,V=A+(N<<11&4294967295|N>>>21),N=D+(V^A^R)+k[11]+1839030562&4294967295,D=V+(N<<16&4294967295|N>>>16),N=R+(D^V^A)+k[14]+4259657740&4294967295,R=D+(N<<23&4294967295|N>>>9),N=A+(R^D^V)+k[1]+2763975236&4294967295,A=R+(N<<4&4294967295|N>>>28),N=V+(A^R^D)+k[4]+1272893353&4294967295,V=A+(N<<11&4294967295|N>>>21),N=D+(V^A^R)+k[7]+4139469664&4294967295,D=V+(N<<16&4294967295|N>>>16),N=R+(D^V^A)+k[10]+3200236656&4294967295,R=D+(N<<23&4294967295|N>>>9),N=A+(R^D^V)+k[13]+681279174&4294967295,A=R+(N<<4&4294967295|N>>>28),N=V+(A^R^D)+k[0]+3936430074&4294967295,V=A+(N<<11&4294967295|N>>>21),N=D+(V^A^R)+k[3]+3572445317&4294967295,D=V+(N<<16&4294967295|N>>>16),N=R+(D^V^A)+k[6]+76029189&4294967295,R=D+(N<<23&4294967295|N>>>9),N=A+(R^D^V)+k[9]+3654602809&4294967295,A=R+(N<<4&4294967295|N>>>28),N=V+(A^R^D)+k[12]+3873151461&4294967295,V=A+(N<<11&4294967295|N>>>21),N=D+(V^A^R)+k[15]+530742520&4294967295,D=V+(N<<16&4294967295|N>>>16),N=R+(D^V^A)+k[2]+3299628645&4294967295,R=D+(N<<23&4294967295|N>>>9),N=A+(D^(R|~V))+k[0]+4096336452&4294967295,A=R+(N<<6&4294967295|N>>>26),N=V+(R^(A|~D))+k[7]+1126891415&4294967295,V=A+(N<<10&4294967295|N>>>22),N=D+(A^(V|~R))+k[14]+2878612391&4294967295,D=V+(N<<15&4294967295|N>>>17),N=R+(V^(D|~A))+k[5]+4237533241&4294967295,R=D+(N<<21&4294967295|N>>>11),N=A+(D^(R|~V))+k[12]+1700485571&4294967295,A=R+(N<<6&4294967295|N>>>26),N=V+(R^(A|~D))+k[3]+2399980690&4294967295,V=A+(N<<10&4294967295|N>>>22),N=D+(A^(V|~R))+k[10]+4293915773&4294967295,D=V+(N<<15&4294967295|N>>>17),N=R+(V^(D|~A))+k[1]+2240044497&4294967295,R=D+(N<<21&4294967295|N>>>11),N=A+(D^(R|~V))+k[8]+1873313359&4294967295,A=R+(N<<6&4294967295|N>>>26),N=V+(R^(A|~D))+k[15]+4264355552&4294967295,V=A+(N<<10&4294967295|N>>>22),N=D+(A^(V|~R))+k[6]+2734768916&4294967295,D=V+(N<<15&4294967295|N>>>17),N=R+(V^(D|~A))+k[13]+1309151649&4294967295,R=D+(N<<21&4294967295|N>>>11),N=A+(D^(R|~V))+k[4]+4149444226&4294967295,A=R+(N<<6&4294967295|N>>>26),N=V+(R^(A|~D))+k[11]+3174756917&4294967295,V=A+(N<<10&4294967295|N>>>22),N=D+(A^(V|~R))+k[2]+718787259&4294967295,D=V+(N<<15&4294967295|N>>>17),N=R+(V^(D|~A))+k[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(D+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+V&4294967295}a.prototype.v=function(C,A){A===void 0&&(A=C.length);const R=A-this.blockSize,k=this.C;let D=this.h,V=0;for(;V<A;){if(D==0)for(;V<=R;)o(this,C,V),V+=this.blockSize;if(typeof C=="string"){for(;V<A;)if(k[D++]=C.charCodeAt(V++),D==this.blockSize){o(this,k),D=0;break}}else for(;V<A;)if(k[D++]=C[V++],D==this.blockSize){o(this,k),D=0;break}}this.h=D,this.o+=A},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,R=0;R<4;++R)for(let k=0;k<32;k+=8)C[A++]=this.g[R]>>>k&255;return C};function c(C,A){var R=m;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=A(C)}function f(C,A){this.h=A;const R=[];let k=!0;for(let D=C.length-1;D>=0;D--){const V=C[D]|0;k&&V==A||(R[D]=V,k=!1)}this.g=R}var m={};function p(C){return-128<=C&&C<128?c(C,function(A){return new f([A|0],A<0?-1:0)}):new f([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return w;if(C<0)return U(g(-C));const A=[];let R=1;for(let k=0;C>=R;k++)A[k]=C/R|0,R*=4294967296;return new f(A,0)}function E(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return U(E(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(A,8));let k=w;for(let V=0;V<C.length;V+=8){var D=Math.min(8,C.length-V);const N=parseInt(C.substring(V,V+D),A);D<8?(D=g(Math.pow(A,D)),k=k.j(D).add(g(N))):(k=k.j(R),k=k.add(g(N)))}return k}var w=p(0),S=p(1),j=p(16777216);r=f.prototype,r.m=function(){if(Y(this))return-U(this).m();let C=0,A=1;for(let R=0;R<this.g.length;R++){const k=this.i(R);C+=(k>=0?k:4294967296+k)*A,A*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(F(this))return"0";if(Y(this))return"-"+U(this).toString(C);const A=g(Math.pow(C,6));var R=this;let k="";for(;;){const D=ce(R,A).g;R=K(R,D.j(A));let V=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=D,F(R))return V+k;for(;V.length<6;)V="0"+V;k=V+k}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function F(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function Y(C){return C.h==-1}r.l=function(C){return C=K(this,C),Y(C)?-1:F(C)?0:1};function U(C){const A=C.g.length,R=[];for(let k=0;k<A;k++)R[k]=~C.g[k];return new f(R,~C.h).add(S)}r.abs=function(){return Y(this)?U(this):this},r.add=function(C){const A=Math.max(this.g.length,C.g.length),R=[];let k=0;for(let D=0;D<=A;D++){let V=k+(this.i(D)&65535)+(C.i(D)&65535),N=(V>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);k=N>>>16,V&=65535,N&=65535,R[D]=N<<16|V}return new f(R,R[R.length-1]&-2147483648?-1:0)};function K(C,A){return C.add(U(A))}r.j=function(C){if(F(this)||F(C))return w;if(Y(this))return Y(C)?U(this).j(U(C)):U(U(this).j(C));if(Y(C))return U(this.j(U(C)));if(this.l(j)<0&&C.l(j)<0)return g(this.m()*C.m());const A=this.g.length+C.g.length,R=[];for(var k=0;k<2*A;k++)R[k]=0;for(k=0;k<this.g.length;k++)for(let D=0;D<C.g.length;D++){const V=this.i(k)>>>16,N=this.i(k)&65535,we=C.i(D)>>>16,Ue=C.i(D)&65535;R[2*k+2*D]+=N*Ue,re(R,2*k+2*D),R[2*k+2*D+1]+=V*Ue,re(R,2*k+2*D+1),R[2*k+2*D+1]+=N*we,re(R,2*k+2*D+1),R[2*k+2*D+2]+=V*we,re(R,2*k+2*D+2)}for(C=0;C<A;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=A;C<2*A;C++)R[C]=0;return new f(R,0)};function re(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function se(C,A){this.g=C,this.h=A}function ce(C,A){if(F(A))throw Error("division by zero");if(F(C))return new se(w,w);if(Y(C))return A=ce(U(C),A),new se(U(A.g),U(A.h));if(Y(A))return A=ce(C,U(A)),new se(U(A.g),A.h);if(C.g.length>30){if(Y(C)||Y(A))throw Error("slowDivide_ only works with positive integers.");for(var R=S,k=A;k.l(C)<=0;)R=ge(R),k=ge(k);var D=be(R,1),V=be(k,1);for(k=be(k,2),R=be(R,2);!F(k);){var N=V.add(k);N.l(C)<=0&&(D=D.add(R),V=N),k=be(k,1),R=be(R,1)}return A=K(C,D.j(A)),new se(D,A)}for(D=w;C.l(A)>=0;){for(R=Math.max(1,Math.floor(C.m()/A.m())),k=Math.ceil(Math.log(R)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),V=g(R),N=V.j(A);Y(N)||N.l(C)>0;)R-=k,V=g(R),N=V.j(A);F(V)&&(V=S),D=D.add(V),C=K(C,N)}return new se(D,C)}r.B=function(C){return ce(this,C).h},r.and=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let k=0;k<A;k++)R[k]=this.i(k)&C.i(k);return new f(R,this.h&C.h)},r.or=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let k=0;k<A;k++)R[k]=this.i(k)|C.i(k);return new f(R,this.h|C.h)},r.xor=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let k=0;k<A;k++)R[k]=this.i(k)^C.i(k);return new f(R,this.h^C.h)};function ge(C){const A=C.g.length+1,R=[];for(let k=0;k<A;k++)R[k]=C.i(k)<<1|C.i(k-1)>>>31;return new f(R,C.h)}function be(C,A){const R=A>>5;A%=32;const k=C.g.length-R,D=[];for(let V=0;V<k;V++)D[V]=A>0?C.i(V+R)>>>A|C.i(V+R+1)<<32-A:C.i(V+R);return new f(D,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,yE=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,Ha=f}).apply(typeof t1<"u"?t1:typeof self<"u"?self:typeof window<"u"?window:{});var uh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var vE,nc,_E,wh,rp,bE,EE,TE;(function(){var r,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof uh=="object"&&uh];for(var v=0;v<u.length;++v){var b=u[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var a=n(this);function o(u,v){if(v)e:{var b=a;u=u.split(".");for(var x=0;x<u.length-1;x++){var L=u[x];if(!(L in b))break e;b=b[L]}u=u[u.length-1],x=b[u],v=v(x),v!=x&&v!=null&&e(b,u,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(v){var b=[],x;for(x in v)Object.prototype.hasOwnProperty.call(v,x)&&b.push([x,v[x]]);return b}});var c=c||{},f=this||self;function m(u){var v=typeof u;return v=="object"&&u!=null||v=="function"}function p(u,v,b){return u.call.apply(u.bind,arguments)}function g(u,v,b){return g=p,g.apply(null,arguments)}function E(u,v){var b=Array.prototype.slice.call(arguments,1);return function(){var x=b.slice();return x.push.apply(x,arguments),u.apply(this,x)}}function w(u,v){function b(){}b.prototype=v.prototype,u.Z=v.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(x,L,G){for(var le=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)le[Ve-2]=arguments[Ve];return v.prototype[L].apply(x,le)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function j(u){const v=u.length;if(v>0){const b=Array(v);for(let x=0;x<v;x++)b[x]=u[x];return b}return[]}function F(u,v){for(let x=1;x<arguments.length;x++){const L=arguments[x];var b=typeof L;if(b=b!="object"?b:L?Array.isArray(L)?"array":b:"null",b=="array"||b=="object"&&typeof L.length=="number"){b=u.length||0;const G=L.length||0;u.length=b+G;for(let le=0;le<G;le++)u[b+le]=L[le]}else u.push(L)}}class Y{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function U(u){f.setTimeout(()=>{throw u},0)}function K(){var u=C;let v=null;return u.g&&(v=u.g,u.g=u.g.next,u.g||(u.h=null),v.next=null),v}class re{constructor(){this.h=this.g=null}add(v,b){const x=se.get();x.set(v,b),this.h?this.h.next=x:this.g=x,this.h=x}}var se=new Y(()=>new ce,u=>u.reset());class ce{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,be=!1,C=new re,A=()=>{const u=Promise.resolve(void 0);ge=()=>{u.then(R)}};function R(){for(var u;u=K();){try{u.h.call(u.g)}catch(b){U(b)}var v=se;v.j(u),v.h<100&&(v.h++,u.next=v.g,v.g=u)}be=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,v){this.type=u,this.g=this.target=v,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,v=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};f.addEventListener("test",b,v),f.removeEventListener("test",b,v)}catch{}return u})();function N(u){return/^[\s\xa0]*$/.test(u)}function we(u,v){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,v)}w(we,D),we.prototype.init=function(u,v){const b=this.type=u.type,x=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=v,v=u.relatedTarget,v||(b=="mouseover"?v=u.fromElement:b=="mouseout"&&(v=u.toElement)),this.relatedTarget=v,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&we.Z.h.call(this)},we.prototype.h=function(){we.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ue="closure_listenable_"+(Math.random()*1e6|0),H=0;function ae(u,v,b,x,L){this.listener=u,this.proxy=null,this.src=v,this.type=b,this.capture=!!x,this.ha=L,this.key=++H,this.da=this.fa=!1}function ue(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ne(u,v,b){for(const x in u)v.call(b,u[x],x,u)}function Ae(u,v){for(const b in u)v.call(void 0,u[b],b,u)}function O(u){const v={};for(const b in u)v[b]=u[b];return v}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(u,v){let b,x;for(let L=1;L<arguments.length;L++){x=arguments[L];for(b in x)u[b]=x[b];for(let G=0;G<Q.length;G++)b=Q[G],Object.prototype.hasOwnProperty.call(x,b)&&(u[b]=x[b])}}function ne(u){this.src=u,this.g={},this.h=0}ne.prototype.add=function(u,v,b,x,L){const G=u.toString();u=this.g[G],u||(u=this.g[G]=[],this.h++);const le=Te(u,v,x,L);return le>-1?(v=u[le],b||(v.fa=!1)):(v=new ae(v,this.src,G,!!x,L),v.fa=b,u.push(v)),v};function de(u,v){const b=v.type;if(b in u.g){var x=u.g[b],L=Array.prototype.indexOf.call(x,v,void 0),G;(G=L>=0)&&Array.prototype.splice.call(x,L,1),G&&(ue(v),u.g[b].length==0&&(delete u.g[b],u.h--))}}function Te(u,v,b,x){for(let L=0;L<u.length;++L){const G=u[L];if(!G.da&&G.listener==v&&G.capture==!!b&&G.ha==x)return L}return-1}var ie="closure_lm_"+(Math.random()*1e6|0),me={};function ve(u,v,b,x,L){if(Array.isArray(v)){for(let G=0;G<v.length;G++)ve(u,v[G],b,x,L);return null}return b=sr(b),u&&u[Ue]?u.J(v,b,m(x)?!!x.capture:!1,L):Je(u,v,b,!1,x,L)}function Je(u,v,b,x,L,G){if(!v)throw Error("Invalid event type");const le=m(L)?!!L.capture:!!L;let Ve=ht(u);if(Ve||(u[ie]=Ve=new ne(u)),b=Ve.add(v,b,x,le,G),b.proxy)return b;if(x=It(),b.proxy=x,x.src=u,x.listener=b,u.addEventListener)V||(L=le),L===void 0&&(L=!1),u.addEventListener(v.toString(),x,L);else if(u.attachEvent)u.attachEvent(Qe(v.toString()),x);else if(u.addListener&&u.removeListener)u.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return b}function It(){function u(b){return v.call(u.src,u.listener,b)}const v=an;return u}function en(u,v,b,x,L){if(Array.isArray(v))for(var G=0;G<v.length;G++)en(u,v[G],b,x,L);else x=m(x)?!!x.capture:!!x,b=sr(b),u&&u[Ue]?(u=u.i,G=String(v).toString(),G in u.g&&(v=u.g[G],b=Te(v,b,x,L),b>-1&&(ue(v[b]),Array.prototype.splice.call(v,b,1),v.length==0&&(delete u.g[G],u.h--)))):u&&(u=ht(u))&&(v=u.g[v.toString()],u=-1,v&&(u=Te(v,b,x,L)),(b=u>-1?v[u]:null)&&jt(b))}function jt(u){if(typeof u!="number"&&u&&!u.da){var v=u.src;if(v&&v[Ue])de(v.i,u);else{var b=u.type,x=u.proxy;v.removeEventListener?v.removeEventListener(b,x,u.capture):v.detachEvent?v.detachEvent(Qe(b),x):v.addListener&&v.removeListener&&v.removeListener(x),(b=ht(v))?(de(b,u),b.h==0&&(b.src=null,v[ie]=null)):ue(u)}}}function Qe(u){return u in me?me[u]:me[u]="on"+u}function an(u,v){if(u.da)u=!0;else{v=new we(v,this);const b=u.listener,x=u.ha||u.src;u.fa&&jt(u),u=b.call(x,v)}return u}function ht(u){return u=u[ie],u instanceof ne?u:null}var En="__closure_events_fn_"+(Math.random()*1e9>>>0);function sr(u){return typeof u=="function"?u:(u[En]||(u[En]=function(v){return u.handleEvent(v)}),u[En])}function ft(){k.call(this),this.i=new ne(this),this.M=this,this.G=null}w(ft,k),ft.prototype[Ue]=!0,ft.prototype.removeEventListener=function(u,v,b,x){en(this,u,v,b,x)};function vt(u,v){var b,x=u.G;if(x)for(b=[];x;x=x.G)b.push(x);if(u=u.M,x=v.type||v,typeof v=="string")v=new D(v,u);else if(v instanceof D)v.target=v.target||u;else{var L=v;v=new D(x,u),oe(v,L)}L=!0;let G,le;if(b)for(le=b.length-1;le>=0;le--)G=v.g=b[le],L=tn(G,x,!0,v)&&L;if(G=v.g=u,L=tn(G,x,!0,v)&&L,L=tn(G,x,!1,v)&&L,b)for(le=0;le<b.length;le++)G=v.g=b[le],L=tn(G,x,!1,v)&&L}ft.prototype.N=function(){if(ft.Z.N.call(this),this.i){var u=this.i;for(const v in u.g){const b=u.g[v];for(let x=0;x<b.length;x++)ue(b[x]);delete u.g[v],u.h--}}this.G=null},ft.prototype.J=function(u,v,b,x){return this.i.add(String(u),v,!1,b,x)},ft.prototype.K=function(u,v,b,x){return this.i.add(String(u),v,!0,b,x)};function tn(u,v,b,x){if(v=u.i.g[String(v)],!v)return!0;v=v.concat();let L=!0;for(let G=0;G<v.length;++G){const le=v[G];if(le&&!le.da&&le.capture==b){const Ve=le.listener,zt=le.ha||le.src;le.fa&&de(u.i,le),L=Ve.call(zt,x)!==!1&&L}}return L&&!x.defaultPrevented}function $n(u,v){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=g(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:f.setTimeout(u,v||0)}function Cn(u){u.g=$n(()=>{u.g=null,u.i&&(u.i=!1,Cn(u))},u.l);const v=u.h;u.h=null,u.m.apply(null,v)}class Dt extends k{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Cn(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function In(u){k.call(this),this.h=u,this.g={}}w(In,k);var pi=[];function gi(u){Ne(u.g,function(v,b){this.g.hasOwnProperty(b)&&jt(v)},u),u.g={}}In.prototype.N=function(){In.Z.N.call(this),gi(this)},In.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var or=f.JSON.stringify,yi=f.JSON.parse,Ur=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function vi(){}function ta(){}var Ut={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ot(){D.call(this,"d")}w(Ot,D);function Tn(){D.call(this,"c")}w(Tn,D);var _t={},_i=null;function lr(){return _i=_i||new ft}_t.Ia="serverreachability";function na(u){D.call(this,_t.Ia,u)}w(na,D);function Dn(u){const v=lr();vt(v,new na(v))}_t.STAT_EVENT="statevent";function Sr(u,v){D.call(this,_t.STAT_EVENT,u),this.stat=v}w(Sr,D);function xt(u){const v=lr();vt(v,new Sr(v,u))}_t.Ja="timingevent";function bt(u,v){D.call(this,_t.Ja,u),this.size=v}w(bt,D);function Et(u,v){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},v)}function sn(){this.g=!0}sn.prototype.ua=function(){this.g=!1};function Ze(u,v,b,x,L,G){u.info(function(){if(u.g)if(G){var le="",Ve=G.split("&");for(let it=0;it<Ve.length;it++){var zt=Ve[it].split("=");if(zt.length>1){const Nt=zt[0];zt=zt[1];const mr=Nt.split("_");le=mr.length>=2&&mr[1]=="type"?le+(Nt+"="+zt+"&"):le+(Nt+"=redacted&")}}}else le=null;else le=G;return"XMLHTTP REQ ("+x+") [attempt "+L+"]: "+v+`
`+b+`
`+le})}function hn(u,v,b,x,L,G,le){u.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+L+"]: "+v+`
`+b+`
`+G+" "+le})}function jn(u,v,b,x){u.info(function(){return"XMLHTTP TEXT ("+v+"): "+bi(u,b)+(x?" "+x:"")})}function Qn(u,v){u.info(function(){return"TIMEOUT: "+v})}sn.prototype.info=function(){};function bi(u,v){if(!u.g)return v;if(!v)return null;try{const G=JSON.parse(v);if(G){for(u=0;u<G.length;u++)if(Array.isArray(G[u])){var b=G[u];if(!(b.length<2)){var x=b[1];if(Array.isArray(x)&&!(x.length<1)){var L=x[0];if(L!="noop"&&L!="stop"&&L!="close")for(let le=1;le<x.length;le++)x[le]=""}}}}return or(G)}catch{return v}}var cr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ar={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ur;function Kn(){}w(Kn,vi),Kn.prototype.g=function(){return new XMLHttpRequest},ur=new Kn;function On(u){return encodeURIComponent(String(u))}function zr(u){var v=1;u=u.split(":");const b=[];for(;v>0&&u.length;)b.push(u.shift()),v--;return u.length&&b.push(u.join(":")),b}function Oe(u,v,b,x){this.j=u,this.i=v,this.l=b,this.S=x||1,this.V=new In(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new We}function We(){this.i=null,this.g="",this.h=!1}var et={},Ke={};function on(u,v,b){u.M=1,u.A=ns(Yt(v)),u.u=b,u.R=!0,Ie(u,null)}function Ie(u,v){u.F=Date.now(),Vt(u),u.B=Yt(u.A);var b=u.B,x=u.S;Array.isArray(x)||(x=[String(x)]),Ys(b.i,"t",x),u.C=0,b=u.j.L,u.h=new We,u.g=nu(u.j,b?v:null,!u.u),u.P>0&&(u.O=new Dt(g(u.Y,u,u.g),u.P)),v=u.V,b=u.g,x=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(pi[0]=L.toString()),L=pi);for(let G=0;G<L.length;G++){const le=ve(b,L[G],x||v.handleEvent,!1,v.h||v);if(!le)break;v.g[le.key]=le}v=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,v)):(u.v="GET",u.g.ea(u.B,u.v,null,v)),Dn(),Ze(u.i,u.v,u.B,u.l,u.S,u.u)}Oe.prototype.ba=function(u){u=u.target;const v=this.O;v&&Cr(u)==3?v.j():this.Y(u)},Oe.prototype.Y=function(u){try{if(u==this.g)e:{const Ve=Cr(this.g),zt=this.g.ya(),it=this.g.ca();if(!(Ve<3)&&(Ve!=3||this.g&&(this.h.h||this.g.la()||fn(this.g)))){this.K||Ve!=4||zt==7||(zt==8||it<=0?Dn(3):Dn(2)),hr(this);var v=this.g.ca();this.X=v;var b=tt(this);if(this.o=v==200,hn(this.i,this.v,this.B,this.l,this.S,Ve,v),this.o){if(this.U&&!this.L){t:{if(this.g){var x,L=this.g;if((x=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(x)){var G=x;break t}}G=null}if(u=G)jn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qr(this,u);else{this.o=!1,this.m=3,xt(12),Xn(this),Vn(this);break e}}if(this.R){u=!0;let Nt;for(;!this.K&&this.C<b.length;)if(Nt=wn(this,b),Nt==Ke){Ve==4&&(this.m=4,xt(14),u=!1),jn(this.i,this.l,null,"[Incomplete Response]");break}else if(Nt==et){this.m=4,xt(15),jn(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else jn(this.i,this.l,Nt,null),qr(this,Nt);if(ot(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||b.length!=0||this.h.h||(this.m=1,xt(16),u=!1),this.o=this.o&&u,!u)jn(this.i,this.l,b,"[Invalid Chunked Response]"),Xn(this),Vn(this);else if(b.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),pl(le),le.P=!0,xt(11))}}else jn(this.i,this.l,b,null),qr(this,b);Ve==4&&Xn(this),this.o&&!this.K&&(Ve==4?Jc(this.j,this):(this.o=!1,Vt(this)))}else Ti(this.g),v==400&&b.indexOf("Unknown SID")>0?(this.m=3,xt(12)):(this.m=0,xt(13)),Xn(this),Vn(this)}}}catch{}};function tt(u){if(!ot(u))return u.g.la();const v=fn(u.g);if(v==="")return"";let b="";const x=v.length,L=Cr(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Xn(u),Vn(u),"";u.h.i=new f.TextDecoder}for(let G=0;G<x;G++)u.h.h=!0,b+=u.h.i.decode(v[G],{stream:!(L&&G==x-1)});return v.length=0,u.h.g+=b,u.C=0,u.h.g}function ot(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function wn(u,v){var b=u.C,x=v.indexOf(`
`,b);return x==-1?Ke:(b=Number(v.substring(b,x)),isNaN(b)?et:(x+=1,x+b>v.length?Ke:(v=v.slice(x,x+b),u.C=x+b,v)))}Oe.prototype.cancel=function(){this.K=!0,Xn(this)};function Vt(u){u.T=Date.now()+u.H,Br(u,u.H)}function Br(u,v){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Et(g(u.aa,u),v)}function hr(u){u.D&&(f.clearTimeout(u.D),u.D=null)}Oe.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Qn(this.i,this.B),this.M!=2&&(Dn(),xt(17)),Xn(this),this.m=2,Vn(this)):Br(this,this.T-u)};function Vn(u){u.j.I==0||u.K||Jc(u.j,u)}function Xn(u){hr(u);var v=u.O;v&&typeof v.dispose=="function"&&v.dispose(),u.O=null,gi(u.V),u.g&&(v=u.g,u.g=null,v.abort(),v.dispose())}function qr(u,v){try{var b=u.j;if(b.I!=0&&(b.g==u||Fr(b.h,u))){if(!u.L&&Fr(b.h,u)&&b.I==3){try{var x=b.Ba.g.parse(v)}catch{x=null}if(Array.isArray(x)&&x.length==3){var L=x;if(L[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)Ws(b),ua(b);else break e;cs(b),xt(18)}}else b.xa=L[1],0<b.xa-b.K&&L[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Et(g(b.Va,b),6e3));Hr(b.h)<=1&&b.ta&&(b.ta=void 0)}else Xr(b,11)}else if((u.L||b.g==u)&&Ws(b),!N(v))for(L=b.Ba.g.parse(v),v=0;v<L.length;v++){let it=L[v];const Nt=it[0];if(!(Nt<=b.K))if(b.K=Nt,it=it[1],b.I==2)if(it[0]=="c"){b.M=it[1],b.ba=it[2];const mr=it[3];mr!=null&&(b.ka=mr,b.j.info("VER="+b.ka));const Wr=it[4];Wr!=null&&(b.za=Wr,b.j.info("SVER="+b.za));const Ir=it[5];Ir!=null&&typeof Ir=="number"&&Ir>0&&(x=1.5*Ir,b.O=x,b.j.info("backChannelRequestTimeoutMs_="+x)),x=b;const Dr=u.g;if(Dr){const us=Dr.g?Dr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(us){var G=x.h;G.g||us.indexOf("spdy")==-1&&us.indexOf("quic")==-1&&us.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(rl(G,G.h),G.h=null))}if(x.G){const Js=Dr.g?Dr.g.getResponseHeader("X-HTTP-Session-Id"):null;Js&&(x.wa=Js,lt(x.J,x.G,Js))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),x=b;var le=u;if(x.na=tu(x,x.L?x.ba:null,x.W),le.L){il(x.h,le);var Ve=le,zt=x.O;zt&&(Ve.H=zt),Ve.D&&(hr(Ve),Vt(Ve)),x.g=le}else Xc(x);b.i.length>0&&Kr(b)}else it[0]!="stop"&&it[0]!="close"||Xr(b,7);else b.I==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?Xr(b,7):dl(b):it[0]!="noop"&&b.l&&b.l.qa(it),b.A=0)}}Dn(4)}catch{}}var Gt=class{constructor(u,v){this.g=u,this.map=v}};function tl(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function nl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Hr(u){return u.h?1:u.g?u.g.size:0}function Fr(u,v){return u.h?u.h==v:u.g?u.g.has(v):!1}function rl(u,v){u.g?u.g.add(v):u.h=v}function il(u,v){u.h&&u.h==v?u.h=null:u.g&&u.g.has(v)&&u.g.delete(v)}tl.prototype.cancel=function(){if(this.i=al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function al(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let v=u.i;for(const b of u.g.values())v=v.concat(b.G);return v}return j(u.i)}var Fc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fs(u,v){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const x=u[b].indexOf("=");let L,G=null;x>=0?(L=u[b].substring(0,x),G=u[b].substring(x+1)):L=u[b],v(L,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Wn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;u instanceof Wn?(this.l=u.l,ln(this,u.j),this.o=u.o,this.g=u.g,ra(this,u.u),this.h=u.h,sl(this,Qc(u.i)),this.m=u.m):u&&(v=String(u).match(Fc))?(this.l=!1,ln(this,v[1]||"",!0),this.o=Gr(v[2]||""),this.g=Gr(v[3]||"",!0),ra(this,v[4]),this.h=Gr(v[5]||"",!0),sl(this,v[6]||"",!0),this.m=Gr(v[7]||"")):(this.l=!1,this.i=new aa(null,this.l))}Wn.prototype.toString=function(){const u=[];var v=this.j;v&&u.push(rs(v,Gs,!0),":");var b=this.g;return(b||v=="file")&&(u.push("//"),(v=this.o)&&u.push(rs(v,Gs,!0),"@"),u.push(On(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(rs(b,b.charAt(0)=="/"?ol:Gc,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",rs(b,Yc)),u.join("")},Wn.prototype.resolve=function(u){const v=Yt(this);let b=!!u.j;b?ln(v,u.j):b=!!u.o,b?v.o=u.o:b=!!u.g,b?v.g=u.g:b=u.u!=null;var x=u.h;if(b)ra(v,u.u);else if(b=!!u.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var L=v.h.lastIndexOf("/");L!=-1&&(x=v.h.slice(0,L+1)+x)}if(L=x,L==".."||L==".")x="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){x=L.lastIndexOf("/",0)==0,L=L.split("/");const G=[];for(let le=0;le<L.length;){const Ve=L[le++];Ve=="."?x&&le==L.length&&G.push(""):Ve==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),x&&le==L.length&&G.push("")):(G.push(Ve),x=!0)}x=G.join("/")}else x=L}return b?v.h=x:b=u.i.toString()!=="",b?sl(v,Qc(u.i)):b=!!u.m,b&&(v.m=u.m),v};function Yt(u){return new Wn(u)}function ln(u,v,b){u.j=b?Gr(v,!0):v,u.j&&(u.j=u.j.replace(/:$/,""))}function ra(u,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);u.u=v}else u.u=null}function sl(u,v,b){v instanceof aa?(u.i=v,$s(u.i,u.l)):(b||(v=rs(v,ia)),u.i=new aa(v,u.l))}function lt(u,v,b){u.i.set(v,b)}function ns(u){return lt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Gr(u,v){return u?v?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function rs(u,v,b){return typeof u=="string"?(u=encodeURI(u).replace(v,Pn),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Pn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Gs=/[#\/\?@]/g,Gc=/[#\?:]/g,ol=/[#\?]/g,ia=/[#\?@]/g,Yc=/#/g;function aa(u,v){this.h=this.g=null,this.i=u||null,this.j=!!v}function Ln(u){u.g||(u.g=new Map,u.h=0,u.i&&Fs(u.i,function(v,b){u.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}r=aa.prototype,r.add=function(u,v){Ln(this),this.i=null,u=sa(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(v),this.h+=1,this};function $c(u,v){Ln(u),v=sa(u,v),u.g.has(v)&&(u.i=null,u.h-=u.g.get(v).length,u.g.delete(v))}function ll(u,v){return Ln(u),v=sa(u,v),u.g.has(v)}r.forEach=function(u,v){Ln(this),this.g.forEach(function(b,x){b.forEach(function(L){u.call(v,L,x,this)},this)},this)};function cl(u,v){Ln(u);let b=[];if(typeof v=="string")ll(u,v)&&(b=b.concat(u.g.get(sa(u,v))));else for(u=Array.from(u.g.values()),v=0;v<u.length;v++)b=b.concat(u[v]);return b}r.set=function(u,v){return Ln(this),this.i=null,u=sa(this,u),ll(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[v]),this.h+=1,this},r.get=function(u,v){return u?(u=cl(this,u),u.length>0?String(u[0]):v):v};function Ys(u,v,b){$c(u,v),b.length>0&&(u.i=null,u.g.set(sa(u,v),j(b)),u.h+=b.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],v=Array.from(this.g.keys());for(let x=0;x<v.length;x++){var b=v[x];const L=On(b);b=cl(this,b);for(let G=0;G<b.length;G++){let le=L;b[G]!==""&&(le+="="+On(b[G])),u.push(le)}}return this.i=u.join("&")};function Qc(u){const v=new aa;return v.i=u.i,u.g&&(v.g=new Map(u.g),v.h=u.h),v}function sa(u,v){return v=String(v),u.j&&(v=v.toLowerCase()),v}function $s(u,v){v&&!u.j&&(Ln(u),u.i=null,u.g.forEach(function(b,x){const L=x.toLowerCase();x!=L&&($c(this,x),Ys(this,L,b))},u)),u.j=v}function Nr(u,v){const b=new sn;if(f.Image){const x=new Image;x.onload=E(fr,b,"TestLoadImage: loaded",!0,v,x),x.onerror=E(fr,b,"TestLoadImage: error",!1,v,x),x.onabort=E(fr,b,"TestLoadImage: abort",!1,v,x),x.ontimeout=E(fr,b,"TestLoadImage: timeout",!1,v,x),f.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=u}else v(!1)}function ul(u,v){const b=new sn,x=new AbortController,L=setTimeout(()=>{x.abort(),fr(b,"TestPingServer: timeout",!1,v)},1e4);fetch(u,{signal:x.signal}).then(G=>{clearTimeout(L),G.ok?fr(b,"TestPingServer: ok",!0,v):fr(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(L),fr(b,"TestPingServer: error",!1,v)})}function fr(u,v,b,x,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),x(b)}catch{}}function oa(){this.g=new Ur}function Yr(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Yr,vi),Yr.prototype.g=function(){return new is(this.i,this.h)};function is(u,v){ft.call(this),this.H=u,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(is,ft),r=is.prototype,r.open=function(u,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=v,this.readyState=1,Rr(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(v.body=u),(this.H||f).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,la(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Rr(this)),this.g&&(this.readyState=3,Rr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Qs(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Qs(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var v=u.value?u.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!u.done}))&&(this.response=this.responseText+=v)}u.done?la(this):Rr(this),this.readyState==3&&Qs(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,la(this))},r.Na=function(u){this.g&&(this.response=u,la(this))},r.ga=function(){this.g&&la(this)};function la(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Rr(u)}r.setRequestHeader=function(u,v){this.A.append(u,v)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=v.next();return u.join(`\r
`)};function Rr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(is.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function dr(u){let v="";return Ne(u,function(b,x){v+=x,v+=":",v+=b,v+=`\r
`}),v}function as(u,v,b){e:{for(x in b){var x=!1;break e}x=!0}x||(b=dr(b),typeof u=="string"?b!=null&&On(b):lt(u,v,b))}function dt(u){ft.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(dt,ft);var $r=/^https?$/i,hl=["POST","PUT"];r=dt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,v,b,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);v=v?v.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ur.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(v,String(u),!0),this.B=!1}catch(G){ss(this,G);return}if(u=b||"",b=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var L in x)b.set(L,x[L]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const G of x.keys())b.set(G,x.get(G));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(b.keys()).find(G=>G.toLowerCase()=="content-type"),L=f.FormData&&u instanceof f.FormData,!(Array.prototype.indexOf.call(hl,v,void 0)>=0)||x||L||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,le]of b)this.g.setRequestHeader(G,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(G){ss(this,G)}};function ss(u,v){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=v,u.o=5,fl(u),Ei(u)}function fl(u){u.A||(u.A=!0,vt(u,"complete"),vt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,vt(this,"complete"),vt(this,"abort"),Ei(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ei(this,!0)),dt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?os(this):this.Xa())},r.Xa=function(){os(this)};function os(u){if(u.h&&typeof c<"u"){if(u.v&&Cr(u)==4)setTimeout(u.Ca.bind(u),0);else if(vt(u,"readystatechange"),Cr(u)==4){u.h=!1;try{const G=u.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var x;if(x=G===0){let le=String(u.D).match(Fc)[1]||null;!le&&f.self&&f.self.location&&(le=f.self.location.protocol.slice(0,-1)),x=!$r.test(le?le.toLowerCase():"")}b=x}if(b)vt(u,"complete"),vt(u,"success");else{u.o=6;try{var L=Cr(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",fl(u)}}finally{Ei(u)}}}}function Ei(u,v){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,v||vt(u,"ready");try{b.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Cr(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Cr(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var v=this.g.responseText;return u&&v.indexOf(u)==0&&(v=v.substring(u.length)),yi(v)}};function fn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ti(u){const v={};u=(u.g&&Cr(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<u.length;x++){if(N(u[x]))continue;var b=zr(u[x]);const L=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const G=v[L]||[];v[L]=G,G.push(b)}Ae(v,function(x){return x.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qr(u,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||v}function ca(u){this.za=0,this.i=[],this.j=new sn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Qr("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Qr("baseRetryDelayMs",5e3,u),this.Za=Qr("retryDelaySeedMs",1e4,u),this.Ta=Qr("forwardChannelMaxRetries",2,u),this.va=Qr("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new tl(u&&u.concurrentRequestLimit),this.Ba=new oa,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ca.prototype,r.ka=8,r.I=1,r.connect=function(u,v,b,x){xt(0),this.W=u,this.H=v||{},b&&x!==void 0&&(this.H.OSID=b,this.H.OAID=x),this.F=this.X,this.J=tu(this,null,this.W),Kr(this)};function dl(u){if(Ks(u),u.I==3){var v=u.V++,b=Yt(u.J);if(lt(b,"SID",u.M),lt(b,"RID",v),lt(b,"TYPE","terminate"),ls(u,b),v=new Oe(u,u.j,v),v.M=2,v.A=ns(Yt(b)),b=!1,f.navigator&&f.navigator.sendBeacon)try{b=f.navigator.sendBeacon(v.A.toString(),"")}catch{}!b&&f.Image&&(new Image().src=v.A,b=!0),b||(v.g=nu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Vt(v)}eu(u)}function ua(u){u.g&&(pl(u),u.g.cancel(),u.g=null)}function Ks(u){ua(u),u.v&&(f.clearTimeout(u.v),u.v=null),Ws(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&f.clearTimeout(u.m),u.m=null)}function Kr(u){if(!nl(u.h)&&!u.m){u.m=!0;var v=u.Ea;ge||A(),be||(ge(),be=!0),C.add(v,u),u.D=0}}function Xs(u,v){return Hr(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=v.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Et(g(u.Ea,u,v),Zc(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Oe(this,this.j,u);let G=this.o;if(this.U&&(G?(G=O(G),oe(G,this.U)):G=this.U),this.u!==null||this.R||(L.J=G,G=null),this.S)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var x=this.i[b];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(v+=x,v>4096){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=Kc(this,L,v),b=Yt(this.J),lt(b,"RID",u),lt(b,"CVER",22),this.G&&lt(b,"X-HTTP-Session-Id",this.G),ls(this,b),G&&(this.R?v="headers="+On(dr(G))+"&"+v:this.u&&as(b,this.u,G)),rl(this.h,L),this.Ra&&lt(b,"TYPE","init"),this.S?(lt(b,"$req",v),lt(b,"SID","null"),L.U=!0,on(L,b,null)):on(L,b,v),this.I=2}}else this.I==3&&(u?ml(this,u):this.i.length==0||nl(this.h)||ml(this))};function ml(u,v){var b;v?b=v.l:b=u.V++;const x=Yt(u.J);lt(x,"SID",u.M),lt(x,"RID",b),lt(x,"AID",u.K),ls(u,x),u.u&&u.o&&as(x,u.u,u.o),b=new Oe(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),v&&(u.i=v.G.concat(u.i)),v=Kc(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),rl(u.h,b),on(b,x,v)}function ls(u,v){u.H&&Ne(u.H,function(b,x){lt(v,x,b)}),u.l&&Ne({},function(b,x){lt(v,x,b)})}function Kc(u,v,b){b=Math.min(u.i.length,b);const x=u.l?g(u.l.Ka,u.l,u):null;e:{var L=u.i;let Ve=-1;for(;;){const zt=["count="+b];Ve==-1?b>0?(Ve=L[0].g,zt.push("ofs="+Ve)):Ve=0:zt.push("ofs="+Ve);let it=!0;for(let Nt=0;Nt<b;Nt++){var G=L[Nt].g;const mr=L[Nt].map;if(G-=Ve,G<0)Ve=Math.max(0,L[Nt].g-100),it=!1;else try{G="req"+G+"_"||"";try{var le=mr instanceof Map?mr:Object.entries(mr);for(const[Wr,Ir]of le){let Dr=Ir;m(Ir)&&(Dr=or(Ir)),zt.push(G+Wr+"="+encodeURIComponent(Dr))}}catch(Wr){throw zt.push(G+"type="+encodeURIComponent("_badmap")),Wr}}catch{x&&x(mr)}}if(it){le=zt.join("&");break e}}le=void 0}return u=u.i.splice(0,b),v.G=u,le}function Xc(u){if(!u.g&&!u.v){u.Y=1;var v=u.Da;ge||A(),be||(ge(),be=!0),C.add(v,u),u.A=0}}function cs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Et(g(u.Da,u),Zc(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Wc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Et(g(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xt(10),ua(this),Wc(this))};function pl(u){u.B!=null&&(f.clearTimeout(u.B),u.B=null)}function Wc(u){u.g=new Oe(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var v=Yt(u.na);lt(v,"RID","rpc"),lt(v,"SID",u.M),lt(v,"AID",u.K),lt(v,"CI",u.F?"0":"1"),!u.F&&u.ia&&lt(v,"TO",u.ia),lt(v,"TYPE","xmlhttp"),ls(u,v),u.u&&u.o&&as(v,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=ns(Yt(v)),b.u=null,b.R=!0,Ie(b,u)}r.Va=function(){this.C!=null&&(this.C=null,ua(this),cs(this),xt(19))};function Ws(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function Jc(u,v){var b=null;if(u.g==v){Ws(u),pl(u),u.g=null;var x=2}else if(Fr(u.h,v))b=v.G,il(u.h,v),x=1;else return;if(u.I!=0){if(v.o)if(x==1){b=v.u?v.u.length:0,v=Date.now()-v.F;var L=u.D;x=lr(),vt(x,new bt(x,b)),Kr(u)}else Xc(u);else if(L=v.m,L==3||L==0&&v.X>0||!(x==1&&Xs(u,v)||x==2&&cs(u)))switch(b&&b.length>0&&(v=u.h,v.i=v.i.concat(b)),L){case 1:Xr(u,5);break;case 4:Xr(u,10);break;case 3:Xr(u,6);break;default:Xr(u,2)}}}function Zc(u,v){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*v}function Xr(u,v){if(u.j.info("Error code "+v),v==2){var b=g(u.bb,u),x=u.Ua;const L=!x;x=new Wn(x||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ln(x,"https"),ns(x),L?Nr(x.toString(),b):ul(x.toString(),b)}else xt(2);u.I=0,u.l&&u.l.pa(v),eu(u),Ks(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function eu(u){if(u.I=0,u.ja=[],u.l){const v=al(u.h);(v.length!=0||u.i.length!=0)&&(F(u.ja,v),F(u.ja,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.oa()}}function tu(u,v,b){var x=b instanceof Wn?Yt(b):new Wn(b);if(x.g!="")v&&(x.g=v+"."+x.g),ra(x,x.u);else{var L=f.location;x=L.protocol,v=v?v+"."+L.hostname:L.hostname,L=+L.port;const G=new Wn(null);x&&ln(G,x),v&&(G.g=v),L&&ra(G,L),b&&(G.h=b),x=G}return b=u.G,v=u.wa,b&&v&&lt(x,b,v),lt(x,"VER",u.ka),ls(u,x),x}function nu(u,v,b){if(v&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=u.Aa&&!u.ma?new dt(new Yr({ab:b})):new dt(u.ma),v.Fa(u.L),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ru(){}r=ru.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ha(){}ha.prototype.g=function(u,v){return new kn(u,v)};function kn(u,v){ft.call(this),this.g=new ca(v),this.l=u,this.h=v&&v.messageUrlParams||null,u=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(u?u["X-WebChannel-Content-Type"]=v.messageContentType:u={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(u?u["X-WebChannel-Client-Profile"]=v.sa:u={"X-WebChannel-Client-Profile":v.sa}),this.g.U=u,(u=v&&v.Qb)&&!N(u)&&(this.g.u=u),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!N(v)&&(this.g.G=v,u=this.h,u!==null&&v in u&&(u=this.h,v in u&&delete u[v])),this.j=new wi(this)}w(kn,ft),kn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},kn.prototype.close=function(){dl(this.g)},kn.prototype.o=function(u){var v=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=or(u),u=b);v.i.push(new Gt(v.Ya++,u)),v.I==3&&Kr(v)},kn.prototype.N=function(){this.g.l=null,delete this.j,dl(this.g),delete this.g,kn.Z.N.call(this)};function iu(u){Ot.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var v=u.__sm__;if(v){e:{for(const b in v){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,v=v!==null&&u in v?v[u]:void 0),this.data=v}else this.data=u}w(iu,Ot);function au(){Tn.call(this),this.status=1}w(au,Tn);function wi(u){this.g=u}w(wi,ru),wi.prototype.ra=function(){vt(this.g,"a")},wi.prototype.qa=function(u){vt(this.g,new iu(u))},wi.prototype.pa=function(u){vt(this.g,new au)},wi.prototype.oa=function(){vt(this.g,"b")},ha.prototype.createWebChannel=ha.prototype.g,kn.prototype.send=kn.prototype.o,kn.prototype.open=kn.prototype.m,kn.prototype.close=kn.prototype.close,TE=function(){return new ha},EE=function(){return lr()},bE=_t,rp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},cr.NO_ERROR=0,cr.TIMEOUT=8,cr.HTTP_ERROR=6,wh=cr,Ar.COMPLETE="complete",_E=Ar,ta.EventType=Ut,Ut.OPEN="a",Ut.CLOSE="b",Ut.ERROR="c",Ut.MESSAGE="d",ft.prototype.listen=ft.prototype.J,nc=ta,dt.prototype.listenOnce=dt.prototype.K,dt.prototype.getLastError=dt.prototype.Ha,dt.prototype.getLastErrorCode=dt.prototype.ya,dt.prototype.getStatus=dt.prototype.ca,dt.prototype.getResponseJson=dt.prototype.La,dt.prototype.getResponseText=dt.prototype.la,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Fa,vE=dt}).apply(typeof uh<"u"?uh:typeof self<"u"?self:typeof window<"u"?window:{});const n1="@firebase/firestore",r1="4.9.3";let An=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");let Ko="12.7.0";const Ms=new qp("@firebase/firestore");function Co(){return Ms.logLevel}function pe(r,...e){if(Ms.logLevel<=Fe.DEBUG){const n=e.map(Zp);Ms.debug(`Firestore (${Ko}): ${r}`,...n)}}function Qi(r,...e){if(Ms.logLevel<=Fe.ERROR){const n=e.map(Zp);Ms.error(`Firestore (${Ko}): ${r}`,...n)}}function qo(r,...e){if(Ms.logLevel<=Fe.WARN){const n=e.map(Zp);Ms.warn(`Firestore (${Ko}): ${r}`,...n)}}function Zp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function De(r,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,wE(r,a,n)}function wE(r,e,n){let a=`FIRESTORE (${Ko}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw Qi(a),new Error(a)}function st(r,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,r||wE(e,o,a)}function je(r,e){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Xi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class xE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(An.UNAUTHENTICATED)))}shutdown(){}}class _R{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class bR{constructor(e){this.t=e,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){st(this.o===void 0,42304);let a=this.i;const o=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let c=new Fi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Fi,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=c;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Fi)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(st(typeof a.accessToken=="string",31837,{l:a}),new xE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new An(e)}}class ER{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=An.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class TR{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new ER(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(An.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class i1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){st(this.o===void 0,3512);const a=c=>{c.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,pe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new i1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(st(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new i1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function xR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}class eg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=xR(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<n&&(a+=e.charAt(o[c]%62))}return a}}function Ge(r,e){return r<e?-1:r>e?1:0}function ip(r,e){const n=Math.min(r.length,e.length);for(let a=0;a<n;a++){const o=r.charAt(a),c=e.charAt(a);if(o!==c)return Mm(o)===Mm(c)?Ge(o,c):Mm(o)?1:-1}return Ge(r.length,e.length)}const SR=55296,AR=57343;function Mm(r){const e=r.charCodeAt(0);return e>=SR&&e<=AR}function Ho(r,e,n){return r.length===e.length&&r.every(((a,o)=>n(a,e[o])))}const a1="__name__";class ii{constructor(e,n,a){n===void 0?n=0:n>e.length&&De(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&De(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return ii.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ii?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const c=ii.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Ge(e.length,n.length)}static compareSegments(e,n){const a=ii.isNumericId(e),o=ii.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?ii.extractNumericId(e).compare(ii.extractNumericId(n)):ip(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ha.fromString(e.substring(4,e.length-2))}}class wt extends ii{construct(e,n,a){return new wt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new fe(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((o=>o.length>0)))}return new wt(n)}static emptyPath(){return new wt([])}}const NR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends ii{construct(e,n,a){return new vn(e,n,a)}static isValidIdentifier(e){return NR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===a1}static keyField(){return new vn([a1])}static fromServerFormat(e){const n=[];let a="",o=0;const c=()=>{if(a.length===0)throw new fe(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new fe(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(a+=m,o++):(c(),o++)}if(c(),f)throw new fe(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vn(n)}static emptyPath(){return new vn([])}}class Se{constructor(e){this.path=e}static fromPath(e){return new Se(wt.fromString(e))}static fromName(e){return new Se(wt.fromString(e).popFirst(5))}static empty(){return new Se(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return wt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new wt(e.slice()))}}function SE(r,e,n){if(!n)throw new fe(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function RR(r,e,n,a){if(e===!0&&a===!0)throw new fe(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function s1(r){if(!Se.isDocumentKey(r))throw new fe(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function o1(r){if(Se.isDocumentKey(r))throw new fe(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function AE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function rf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":De(12329,{type:typeof r})}function Vr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new fe(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rf(r);throw new fe(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Zt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Oc(r,e){if(!AE(r))throw new fe(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){n=`JSON missing required field: '${a}'`;break}const f=r[a];if(o&&typeof f!==o){n=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&f!==c.value){n=`Expected '${a}' field to equal '${c.value}'`;break}}if(n)throw new fe(Z.INVALID_ARGUMENT,n);return!0}const l1=-62135596800,c1=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*c1);return new yt(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<l1)throw new fe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/c1}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Oc(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-l1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:Zt("string",yt._jsonSchemaVersion),seconds:Zt("number"),nanoseconds:Zt("number")};class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new yt(0,0))}static max(){return new ke(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const yc=-1;function CR(r,e){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=ke.fromTimestamp(a===1e9?new yt(n+1,0):new yt(n,a));return new Ya(o,Se.empty(),e)}function IR(r){return new Ya(r.readTime,r.key,yc)}class Ya{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Ya(ke.min(),Se.empty(),yc)}static max(){return new Ya(ke.max(),Se.empty(),yc)}}function DR(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Se.comparator(r.documentKey,e.documentKey),n!==0?n:Ge(r.largestBatchId,e.largestBatchId))}const OR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Xo(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==OR)throw r;pe("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(a,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,a)=>{n(e)}))}static reject(e){return new te(((n,a)=>{a(e)}))}static waitFor(e){return new te(((n,a)=>{let o=0,c=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++c,f&&c===o&&n()}),(p=>a(p)))})),f=!0,c===o&&n()}))}static or(e){let n=te.resolve(!1);for(const a of e)n=n.next((o=>o?te.resolve(o):a()));return n}static forEach(e,n){const a=[];return e.forEach(((o,c)=>{a.push(n.call(this,o,c))})),this.waitFor(a)}static mapArray(e,n){return new te(((a,o)=>{const c=e.length,f=new Array(c);let m=0;for(let p=0;p<c;p++){const g=p;n(e[g]).next((E=>{f[g]=E,++m,m===c&&a(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new te(((a,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):a()};c()}))}}function MR(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wo(r){return r.name==="IndexedDbTransactionError"}class af{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}af.ce=-1;const tg=-1;function sf(r){return r==null}function Lh(r){return r===0&&1/r==-1/0}function jR(r){return typeof r=="number"&&Number.isInteger(r)&&!Lh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const NE="";function VR(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=u1(e)),e=PR(r.get(n),e);return u1(e)}function PR(r,e){let n=e;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":n+="";break;case NE:n+="";break;default:n+=c}}return n}function u1(r){return r+NE+""}function h1(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Ja(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function RE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Mt{constructor(e,n){this.comparator=e,this.root=n||yn.EMPTY}insert(e,n){return new Mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new Mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hh(this.root,e,this.comparator,!1)}getReverseIterator(){return new hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hh(this.root,e,this.comparator,!0)}}class hh{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?a(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yn{constructor(e,n,a,o,c){this.key=e,this.value=n,this.color=a??yn.RED,this.left=o??yn.EMPTY,this.right=c??yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,c){return new yn(e??this.key,n??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,a),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return yn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1;yn.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,n,a,o,c){return this}insert(e,n,a){return new yn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class rn{constructor(e){this.comparator=e,this.data=new Mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new f1(this.data.getIterator())}getIteratorFrom(e){return new f1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof rn)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new rn(this.comparator);return n.data=e,n}}class f1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ar{constructor(e){this.fields=e,e.sort(vn.comparator)}static empty(){return new ar([])}unionWith(e){let n=new rn(vn.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new ar(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ho(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}class CE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class bn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new CE("Invalid base64 string: "+c):c}})(e);return new bn(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c})(e);return new bn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bn.EMPTY_BYTE_STRING=new bn("");const LR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $a(r){if(st(!!r,39018),typeof r=="string"){let e=0;const n=LR.exec(r);if(st(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Ht(r.seconds),nanos:Ht(r.nanos)}}function Ht(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Qa(r){return typeof r=="string"?bn.fromBase64String(r):bn.fromUint8Array(r)}const IE="server_timestamp",DE="__type__",OE="__previous_value__",kE="__local_write_time__";function ng(r){return(r?.mapValue?.fields||{})[DE]?.stringValue===IE}function of(r){const e=r.mapValue.fields[OE];return ng(e)?of(e):e}function vc(r){const e=$a(r.mapValue.fields[kE].timestampValue);return new yt(e.seconds,e.nanos)}class UR{constructor(e,n,a,o,c,f,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Uh="(default)";class _c{constructor(e,n){this.projectId=e,this.database=n||Uh}static empty(){return new _c("","")}get isDefaultDatabase(){return this.database===Uh}isEqual(e){return e instanceof _c&&e.projectId===this.projectId&&e.database===this.database}}const ME="__type__",zR="__max__",fh={mapValue:{}},jE="__vector__",zh="value";function Ka(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ng(r)?4:qR(r)?9007199254740991:BR(r)?10:11:De(28295,{value:r})}function di(r,e){if(r===e)return!0;const n=Ka(r);if(n!==Ka(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return vc(r).isEqual(vc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=$a(o.timestampValue),m=$a(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return Qa(o.bytesValue).isEqual(Qa(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return Ht(o.geoPointValue.latitude)===Ht(c.geoPointValue.latitude)&&Ht(o.geoPointValue.longitude)===Ht(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Ht(o.integerValue)===Ht(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=Ht(o.doubleValue),m=Ht(c.doubleValue);return f===m?Lh(f)===Lh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return Ho(r.arrayValue.values||[],e.arrayValue.values||[],di);case 10:case 11:return(function(o,c){const f=o.mapValue.fields||{},m=c.mapValue.fields||{};if(h1(f)!==h1(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!di(f[p],m[p])))return!1;return!0})(r,e);default:return De(52216,{left:r})}}function bc(r,e){return(r.values||[]).find((n=>di(n,e)))!==void 0}function Fo(r,e){if(r===e)return 0;const n=Ka(r),a=Ka(e);if(n!==a)return Ge(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(r.booleanValue,e.booleanValue);case 2:return(function(c,f){const m=Ht(c.integerValue||c.doubleValue),p=Ht(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return d1(r.timestampValue,e.timestampValue);case 4:return d1(vc(r),vc(e));case 5:return ip(r.stringValue,e.stringValue);case 6:return(function(c,f){const m=Qa(c),p=Qa(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(c,f){const m=c.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ge(m[g],p[g]);if(E!==0)return E}return Ge(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,f){const m=Ge(Ht(c.latitude),Ht(f.latitude));return m!==0?m:Ge(Ht(c.longitude),Ht(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return m1(r.arrayValue,e.arrayValue);case 10:return(function(c,f){const m=c.fields||{},p=f.fields||{},g=m[zh]?.arrayValue,E=p[zh]?.arrayValue,w=Ge(g?.values?.length||0,E?.values?.length||0);return w!==0?w:m1(g,E)})(r.mapValue,e.mapValue);case 11:return(function(c,f){if(c===fh.mapValue&&f===fh.mapValue)return 0;if(c===fh.mapValue)return 1;if(f===fh.mapValue)return-1;const m=c.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let w=0;w<p.length&&w<E.length;++w){const S=ip(p[w],E[w]);if(S!==0)return S;const j=Fo(m[p[w]],g[E[w]]);if(j!==0)return j}return Ge(p.length,E.length)})(r.mapValue,e.mapValue);default:throw De(23264,{he:n})}}function d1(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ge(r,e);const n=$a(r),a=$a(e),o=Ge(n.seconds,a.seconds);return o!==0?o:Ge(n.nanos,a.nanos)}function m1(r,e){const n=r.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const c=Fo(n[o],a[o]);if(c)return c}return Ge(n.length,a.length)}function Go(r){return ap(r)}function ap(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const a=$a(n);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Qa(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return Se.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let a="[",o=!0;for(const c of n.values||[])o?o=!1:a+=",",a+=ap(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(n){const a=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const f of a)c?c=!1:o+=",",o+=`${f}:${ap(n.fields[f])}`;return o+"}"})(r.mapValue):De(61005,{value:r})}function xh(r){switch(Ka(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=of(r);return e?16+xh(e):16;case 5:return 2*r.stringValue.length;case 6:return Qa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+xh(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return Ja(a.fields,((c,f)=>{o+=c.length+xh(f)})),o})(r.mapValue);default:throw De(13486,{value:r})}}function p1(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function sp(r){return!!r&&"integerValue"in r}function rg(r){return!!r&&"arrayValue"in r}function g1(r){return!!r&&"nullValue"in r}function y1(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Sh(r){return!!r&&"mapValue"in r}function BR(r){return(r?.mapValue?.fields||{})[ME]?.stringValue===jE}function cc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ja(r.mapValue.fields,((n,a)=>e.mapValue.fields[n]=cc(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cc(r.arrayValue.values[n]);return e}return{...r}}function qR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===zR}class Yn{constructor(e){this.value=e}static empty(){return new Yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!Sh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cc(n)}setAll(e){let n=vn.emptyPath(),a={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,a,o),a={},o=[],n=m.popLast()}f?a[m.lastSegment()]=cc(f):o.push(m.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,a,o)}delete(e){const n=this.field(e.popLast());Sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return di(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];Sh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){Ja(n,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new Yn(cc(this.value))}}function VE(r){const e=[];return Ja(r.fields,((n,a)=>{const o=new vn([n]);if(Sh(a)){const c=VE(a.mapValue).fields;if(c.length===0)e.push(o);else for(const f of c)e.push(o.child(f))}else e.push(o)})),new ar(e)}class Nn{constructor(e,n,a,o,c,f,m){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Nn(e,0,ke.min(),ke.min(),ke.min(),Yn.empty(),0)}static newFoundDocument(e,n,a,o){return new Nn(e,1,n,ke.min(),a,o,0)}static newNoDocument(e,n){return new Nn(e,2,n,ke.min(),ke.min(),Yn.empty(),0)}static newUnknownDocument(e,n){return new Nn(e,3,n,ke.min(),ke.min(),Yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bh{constructor(e,n){this.position=e,this.inclusive=n}}function v1(r,e,n){let a=0;for(let o=0;o<r.position.length;o++){const c=e[o],f=r.position[o];if(c.field.isKeyField()?a=Se.comparator(Se.fromName(f.referenceValue),n.key):a=Fo(f,n.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function _1(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!di(r.position[n],e.position[n]))return!1;return!0}class qh{constructor(e,n="asc"){this.field=e,this.dir=n}}function HR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class PE{}class Jt extends PE{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new GR(e,n,a):n==="array-contains"?new QR(e,a):n==="in"?new KR(e,a):n==="not-in"?new XR(e,a):n==="array-contains-any"?new WR(e,a):new Jt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new YR(e,a):new $R(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Fo(n,this.value)):n!==null&&Ka(this.value)===Ka(n)&&this.matchesComparison(Fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Lr extends PE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Lr(e,n)}matches(e){return LE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function LE(r){return r.op==="and"}function UE(r){return FR(r)&&LE(r)}function FR(r){for(const e of r.filters)if(e instanceof Lr)return!1;return!0}function op(r){if(r instanceof Jt)return r.field.canonicalString()+r.op.toString()+Go(r.value);if(UE(r))return r.filters.map((e=>op(e))).join(",");{const e=r.filters.map((n=>op(n))).join(",");return`${r.op}(${e})`}}function zE(r,e){return r instanceof Jt?(function(a,o){return o instanceof Jt&&a.op===o.op&&a.field.isEqual(o.field)&&di(a.value,o.value)})(r,e):r instanceof Lr?(function(a,o){return o instanceof Lr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,f,m)=>c&&zE(f,o.filters[m])),!0):!1})(r,e):void De(19439)}function BE(r){return r instanceof Jt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Go(n.value)}`})(r):r instanceof Lr?(function(n){return n.op.toString()+" {"+n.getFilters().map(BE).join(" ,")+"}"})(r):"Filter"}class GR extends Jt{constructor(e,n,a){super(e,n,a),this.key=Se.fromName(a.referenceValue)}matches(e){const n=Se.comparator(e.key,this.key);return this.matchesComparison(n)}}class YR extends Jt{constructor(e,n){super(e,"in",n),this.keys=qE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class $R extends Jt{constructor(e,n){super(e,"not-in",n),this.keys=qE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function qE(r,e){return(e.arrayValue?.values||[]).map((n=>Se.fromName(n.referenceValue)))}class QR extends Jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return rg(n)&&bc(n.arrayValue,this.value)}}class KR extends Jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&bc(this.value.arrayValue,n)}}class XR extends Jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(bc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!bc(this.value.arrayValue,n)}}class WR extends Jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!rg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>bc(this.value.arrayValue,a)))}}class JR{constructor(e,n=null,a=[],o=[],c=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=f,this.endAt=m,this.Te=null}}function b1(r,e=null,n=[],a=[],o=null,c=null,f=null){return new JR(r,e,n,a,o,c,f)}function ig(r){const e=je(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>op(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),sf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>Go(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>Go(a))).join(",")),e.Te=n}return e.Te}function ag(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!HR(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!zE(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!_1(r.startAt,e.startAt)&&_1(r.endAt,e.endAt)}function lp(r){return Se.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class kc{constructor(e,n=null,a=[],o=[],c=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ZR(r,e,n,a,o,c,f,m){return new kc(r,e,n,a,o,c,f,m)}function lf(r){return new kc(r)}function E1(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function HE(r){return r.collectionGroup!==null}function uc(r){const e=je(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new rn(vn.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new qh(c,a))})),n.has(vn.keyField().canonicalString())||e.Ie.push(new qh(vn.keyField(),a))}return e.Ie}function ci(r){const e=je(r);return e.Ee||(e.Ee=eC(e,uc(r))),e.Ee}function eC(r,e){if(r.limitType==="F")return b1(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new qh(o.field,c)}));const n=r.endAt?new Bh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Bh(r.startAt.position,r.startAt.inclusive):null;return b1(r.path,r.collectionGroup,e,r.filters,r.limit,n,a)}}function cp(r,e){const n=r.filters.concat([e]);return new kc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function up(r,e,n){return new kc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function cf(r,e){return ag(ci(r),ci(e))&&r.limitType===e.limitType}function FE(r){return`${ig(ci(r))}|lt:${r.limitType}`}function Io(r){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((o=>BE(o))).join(", ")}]`),sf(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((o=>Go(o))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((o=>Go(o))).join(",")),`Target(${a})`})(ci(r))}; limitType=${r.limitType})`}function uf(r,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):Se.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,e)&&(function(a,o){for(const c of uc(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(f,m,p){const g=v1(f,m,p);return f.inclusive?g<=0:g<0})(a.startAt,uc(a),o)||a.endAt&&!(function(f,m,p){const g=v1(f,m,p);return f.inclusive?g>=0:g>0})(a.endAt,uc(a),o))})(r,e)}function tC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function GE(r){return(e,n)=>{let a=!1;for(const o of uc(r)){const c=nC(o,e,n);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function nC(r,e,n){const a=r.field.isKeyField()?Se.comparator(e.key,n.key):(function(c,f,m){const p=f.data.field(c),g=m.data.field(c);return p!==null&&g!==null?Fo(p,g):De(42886)})(r.field,e,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return De(19790,{direction:r.dir})}}class Us{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ja(this.inner,((n,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return RE(this.inner)}size(){return this.innerSize}}const rC=new Mt(Se.comparator);function Ki(){return rC}const YE=new Mt(Se.comparator);function rc(...r){let e=YE;for(const n of r)e=e.insert(n.key,n);return e}function $E(r){let e=YE;return r.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function Ns(){return hc()}function QE(){return hc()}function hc(){return new Us((r=>r.toString()),((r,e)=>r.isEqual(e)))}const iC=new Mt(Se.comparator),aC=new rn(Se.comparator);function Ye(...r){let e=aC;for(const n of r)e=e.add(n);return e}const sC=new rn(Ge);function oC(){return sC}function sg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lh(e)?"-0":e}}function KE(r){return{integerValue:""+r}}function lC(r,e){return jR(e)?KE(e):sg(r,e)}class hf{constructor(){this._=void 0}}function cC(r,e,n){return r instanceof Ec?(function(o,c){const f={fields:{[DE]:{stringValue:IE},[kE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&ng(c)&&(c=of(c)),c&&(f.fields[OE]=c),{mapValue:f}})(n,e):r instanceof Tc?WE(r,e):r instanceof wc?JE(r,e):(function(o,c){const f=XE(o,c),m=T1(f)+T1(o.Ae);return sp(f)&&sp(o.Ae)?KE(m):sg(o.serializer,m)})(r,e)}function uC(r,e,n){return r instanceof Tc?WE(r,e):r instanceof wc?JE(r,e):n}function XE(r,e){return r instanceof Hh?(function(a){return sp(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class Ec extends hf{}class Tc extends hf{constructor(e){super(),this.elements=e}}function WE(r,e){const n=ZE(e);for(const a of r.elements)n.some((o=>di(o,a)))||n.push(a);return{arrayValue:{values:n}}}class wc extends hf{constructor(e){super(),this.elements=e}}function JE(r,e){let n=ZE(e);for(const a of r.elements)n=n.filter((o=>!di(o,a)));return{arrayValue:{values:n}}}class Hh extends hf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function T1(r){return Ht(r.integerValue||r.doubleValue)}function ZE(r){return rg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class hC{constructor(e,n){this.field=e,this.transform=n}}function fC(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof Tc&&o instanceof Tc||a instanceof wc&&o instanceof wc?Ho(a.elements,o.elements,di):a instanceof Hh&&o instanceof Hh?di(a.Ae,o.Ae):a instanceof Ec&&o instanceof Ec})(r.transform,e.transform)}class dC{constructor(e,n){this.version=e,this.transformResults=n}}class xr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xr}static exists(e){return new xr(void 0,e)}static updateTime(e){return new xr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ah(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class ff{}function eT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new og(r.key,xr.none()):new Mc(r.key,r.data,xr.none());{const n=r.data,a=Yn.empty();let o=new rn(vn.comparator);for(let c of e.fields)if(!o.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?a.delete(c):a.set(c,f),o=o.add(c)}return new Za(r.key,a,new ar(o.toArray()),xr.none())}}function mC(r,e,n){r instanceof Mc?(function(o,c,f){const m=o.value.clone(),p=x1(o.fieldTransforms,c,f.transformResults);m.setAll(p),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof Za?(function(o,c,f){if(!Ah(o.precondition,c))return void c.convertToUnknownDocument(f.version);const m=x1(o.fieldTransforms,c,f.transformResults),p=c.data;p.setAll(tT(o)),p.setAll(m),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function fc(r,e,n,a){return r instanceof Mc?(function(c,f,m,p){if(!Ah(c.precondition,f))return m;const g=c.value.clone(),E=S1(c.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,e,n,a):r instanceof Za?(function(c,f,m,p){if(!Ah(c.precondition,f))return m;const g=S1(c.fieldTransforms,p,f),E=f.data;return E.setAll(tT(c)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(r,e,n,a):(function(c,f,m){return Ah(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function pC(r,e){let n=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),c=XE(a.transform,o||null);c!=null&&(n===null&&(n=Yn.empty()),n.set(a.field,c))}return n||null}function w1(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Ho(a,o,((c,f)=>fC(c,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Mc extends ff{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Za extends ff{constructor(e,n,a,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function tT(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=r.data.field(n);e.set(n,a)}})),e}function x1(r,e,n){const a=new Map;st(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const c=r[o],f=c.transform,m=e.data.field(c.field);a.set(c.field,uC(f,m,n[o]))}return a}function S1(r,e,n){const a=new Map;for(const o of r){const c=o.transform,f=n.data.field(o.field);a.set(o.field,cC(c,f,e))}return a}class og extends ff{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gC extends ff{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class yC{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&mC(c,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=fc(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=fc(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=QE();return this.mutations.forEach((o=>{const c=e.get(o.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=n.has(o.key)?null:m;const p=eT(f,m);p!==null&&a.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(ke.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ye())}isEqual(e){return this.batchId===e.batchId&&Ho(this.mutations,e.mutations,((n,a)=>w1(n,a)))&&Ho(this.baseMutations,e.baseMutations,((n,a)=>w1(n,a)))}}class lg{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){st(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return iC})();const c=e.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,a[f].version);return new lg(e,n,a,o)}}class vC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class _C{constructor(e,n){this.count=e,this.unchangedNames=n}}var Wt,Xe;function bC(r){switch(r){case Z.OK:return De(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return De(15467,{code:r})}}function nT(r){if(r===void 0)return Qi("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Wt.OK:return Z.OK;case Wt.CANCELLED:return Z.CANCELLED;case Wt.UNKNOWN:return Z.UNKNOWN;case Wt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Wt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Wt.INTERNAL:return Z.INTERNAL;case Wt.UNAVAILABLE:return Z.UNAVAILABLE;case Wt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Wt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Wt.NOT_FOUND:return Z.NOT_FOUND;case Wt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Wt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Wt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Wt.ABORTED:return Z.ABORTED;case Wt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Wt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Wt.DATA_LOSS:return Z.DATA_LOSS;default:return De(39323,{code:r})}}(Xe=Wt||(Wt={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";function EC(){return new TextEncoder}const TC=new Ha([4294967295,4294967295],0);function A1(r){const e=EC().encode(r),n=new yE;return n.update(e),new Uint8Array(n.digest())}function N1(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ha([n,a],0),new Ha([o,c],0)]}class cg{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new ic(`Invalid padding: ${n}`);if(a<0)throw new ic(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new ic(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new ic(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ha.fromNumber(this.ge)}ye(e,n,a){let o=e.add(n.multiply(Ha.fromNumber(a)));return o.compare(TC)===1&&(o=new Ha([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=A1(e),[a,o]=N1(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(a,o,c);if(!this.we(f))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new cg(c,o,n);return a.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=A1(e),[a,o]=N1(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(a,o,c);this.Se(f)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class ic extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class df{constructor(e,n,a,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,jc.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new df(ke.min(),o,new Mt(Ge),Ki(),Ye())}}class jc{constructor(e,n,a,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new jc(a,n,Ye(),Ye(),Ye())}}class Nh{constructor(e,n,a,o){this.be=e,this.removedTargetIds=n,this.key=a,this.De=o}}class rT{constructor(e,n){this.targetId=e,this.Ce=n}}class iT{constructor(e,n,a=bn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class R1{constructor(){this.ve=0,this.Fe=C1(),this.Me=bn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ye(),n=Ye(),a=Ye();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:De(38017,{changeType:c})}})),new jc(this.Me,this.xe,e,n,a)}qe(){this.Oe=!1,this.Fe=C1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class wC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ki(),this.Je=dh(),this.He=dh(),this.Ye=new Mt(Ge)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:De(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((a,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,a=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(lp(c))if(a===0){const f=new Se(c.path);this.et(n,f,Nn.newNoDocument(f,ke.min()))}else st(a===1,20013,{expectedCount:a});else{const f=this._t(n);if(f!==a){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=n;let f,m;try{f=Qa(a).toUint8Array()}catch(p){if(p instanceof CE)return qo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new cg(f,o,c)}catch(p){return qo(p instanceof ic?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let o=0;return a.forEach((c=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,f)=>{const m=this.ot(f);if(m){if(c.current&&lp(m.target)){const p=new Se(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Nn.newNoDocument(p,e))}c.Be&&(n.set(f,c.ke()),c.qe())}}));let a=Ye();this.He.forEach(((c,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(a=a.add(c))})),this.je.forEach(((c,f)=>f.setReadTime(e)));const o=new df(e,n,this.Ye,this.je,a);return this.je=Ki(),this.Je=dh(),this.He=dh(),this.Ye=new Mt(Ge),o}Xe(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new R1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new rn(Ge),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new rn(Ge),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new R1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function dh(){return new Mt(Se.comparator)}function C1(){return new Mt(Se.comparator)}const xC={asc:"ASCENDING",desc:"DESCENDING"},SC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AC={and:"AND",or:"OR"};class NC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hp(r,e){return r.useProto3Json||sf(e)?e:{value:e}}function Fh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function RC(r,e){return Fh(r,e.toTimestamp())}function ui(r){return st(!!r,49232),ke.fromTimestamp((function(n){const a=$a(n);return new yt(a.seconds,a.nanos)})(r))}function ug(r,e){return fp(r,e).canonicalString()}function fp(r,e){const n=(function(o){return new wt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function sT(r){const e=wt.fromString(r);return st(hT(e),10190,{key:e.toString()}),e}function dp(r,e){return ug(r.databaseId,e.path)}function jm(r,e){const n=sT(e);if(n.get(1)!==r.databaseId.projectId)throw new fe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new fe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Se(lT(n))}function oT(r,e){return ug(r.databaseId,e)}function CC(r){const e=sT(r);return e.length===4?wt.emptyPath():lT(e)}function mp(r){return new wt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function lT(r){return st(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function I1(r,e,n){return{name:dp(r,e),fields:n.value.mapValue.fields}}function IC(r,e){let n;if("targetChange"in e){e.targetChange;const a=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:De(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(g,E){return g.useProto3Json?(st(E===void 0||typeof E=="string",58123),bn.fromBase64String(E||"")):(st(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),bn.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const E=g.code===void 0?Z.UNKNOWN:nT(g.code);return new fe(E,g.message||"")})(f);n=new iT(a,o,c,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=jm(r,a.document.name),c=ui(a.document.updateTime),f=a.document.createTime?ui(a.document.createTime):ke.min(),m=new Yn({mapValue:{fields:a.document.fields}}),p=Nn.newFoundDocument(o,c,f,m),g=a.targetIds||[],E=a.removedTargetIds||[];n=new Nh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=jm(r,a.document),c=a.readTime?ui(a.readTime):ke.min(),f=Nn.newNoDocument(o,c),m=a.removedTargetIds||[];n=new Nh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=jm(r,a.document),c=a.removedTargetIds||[];n=new Nh([],c,o,null)}else{if(!("filter"in e))return De(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,f=new _C(o,c),m=a.targetId;n=new rT(m,f)}}return n}function DC(r,e){let n;if(e instanceof Mc)n={update:I1(r,e.key,e.value)};else if(e instanceof og)n={delete:dp(r,e.key)};else if(e instanceof Za)n={update:I1(r,e.key,e.data),updateMask:zC(e.fieldMask)};else{if(!(e instanceof gC))return De(16599,{Vt:e.type});n={verify:dp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(c,f){const m=f.transform;if(m instanceof Ec)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Tc)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof wc)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Hh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw De(20930,{transform:f.transform})})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:RC(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:De(27497)})(r,e.precondition)),n}function OC(r,e){return r&&r.length>0?(st(e!==void 0,14353),r.map((n=>(function(o,c){let f=o.updateTime?ui(o.updateTime):ui(c);return f.isEqual(ke.min())&&(f=ui(c)),new dC(f,o.transformResults||[])})(n,e)))):[]}function kC(r,e){return{documents:[oT(r,e.path)]}}function MC(r,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=oT(r,o);const c=(function(g){if(g.length!==0)return uT(Lr.create(g,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const f=(function(g){if(g.length!==0)return g.map((E=>(function(S){return{field:Do(S.field),direction:PC(S.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=hp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function jC(r){let e=CC(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){st(a===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];n.where&&(c=(function(w){const S=cT(w);return S instanceof Lr&&UE(S)?S.getFilters():[S]})(n.where));let f=[];n.orderBy&&(f=(function(w){return w.map((S=>(function(F){return new qh(Oo(F.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(S)))})(n.orderBy));let m=null;n.limit&&(m=(function(w){let S;return S=typeof w=="object"?w.value:w,sf(S)?null:S})(n.limit));let p=null;n.startAt&&(p=(function(w){const S=!!w.before,j=w.values||[];return new Bh(j,S)})(n.startAt));let g=null;return n.endAt&&(g=(function(w){const S=!w.before,j=w.values||[];return new Bh(j,S)})(n.endAt)),ZR(e,o,f,c,m,"F",p,g)}function VC(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cT(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Oo(n.unaryFilter.field);return Jt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Oo(n.unaryFilter.field);return Jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Oo(n.unaryFilter.field);return Jt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Oo(n.unaryFilter.field);return Jt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Jt.create(Oo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Lr.create(n.compositeFilter.filters.map((a=>cT(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return De(1026)}})(n.compositeFilter.op))})(r):De(30097,{filter:r})}function PC(r){return xC[r]}function LC(r){return SC[r]}function UC(r){return AC[r]}function Do(r){return{fieldPath:r.canonicalString()}}function Oo(r){return vn.fromServerFormat(r.fieldPath)}function uT(r){return r instanceof Jt?(function(n){if(n.op==="=="){if(y1(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NAN"}};if(g1(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(y1(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NOT_NAN"}};if(g1(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Do(n.field),op:LC(n.op),value:n.value}}})(r):r instanceof Lr?(function(n){const a=n.getFilters().map((o=>uT(o)));return a.length===1?a[0]:{compositeFilter:{op:UC(n.op),filters:a}}})(r):De(54877,{filter:r})}function zC(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function hT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Ua{constructor(e,n,a,o,c=ke.min(),f=ke.min(),m=bn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Ua(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class BC{constructor(e){this.yt=e}}function qC(r){const e=jC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?up(e,e.limit,"L"):e}class HC{constructor(){this.Cn=new FC}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Ya.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Ya.min())}updateCollectionGroup(e,n,a){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class FC{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new rn(wt.comparator),c=!o.has(a);return this.index[n]=o.add(a),c}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new rn(wt.comparator)).toArray()}}const D1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fT=41943040;class Fn{static withCacheSize(e){return new Fn(e,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}Fn.DEFAULT_COLLECTION_PERCENTILE=10,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fn.DEFAULT=new Fn(fT,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fn.DISABLED=new Fn(-1,0,0);class Yo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Yo(0)}static cr(){return new Yo(-1)}}const O1="LruGarbageCollector",GC=1048576;function k1([r,e],[n,a]){const o=Ge(r,n);return o===0?Ge(e,a):o}class YC{constructor(e){this.Ir=e,this.buffer=new rn(k1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();k1(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $C{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){pe(O1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wo(n)?pe(O1,"Ignoring IndexedDB error during garbage collection: ",n):await Xo(n)}await this.Vr(3e5)}))}}class QC{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(af.ce);const a=new YC(n);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,n,a){return this.mr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(D1)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),D1):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let a,o,c,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(a=w,m=Date.now(),this.removeTargets(e,a,n)))).next((w=>(c=w,p=Date.now(),this.removeOrphanedDocuments(e,a)))).next((w=>(g=Date.now(),Co()<=Fe.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${c} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w}))))}}function KC(r,e){return new QC(r,e)}class XC{constructor(){this.changes=new Us((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?te.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class WC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class JC{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(a!==null&&fc(a.mutation,o,ar.empty(),yt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,Ye()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=Ye()){const o=Ns();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,a).next((c=>{let f=rc();return c.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const a=Ns();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,Ye())))}populateOverlays(e,n,a){const o=[];return a.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,a,o){let c=Ki();const f=hc(),m=(function(){return hc()})();return n.forEach(((p,g)=>{const E=a.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Za)?c=c.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),fc(E.mutation,g,E.mutation.getFieldMask(),yt.now())):f.set(g.key,ar.empty())})),this.recalculateAndSaveOverlays(e,c).next((p=>(p.forEach(((g,E)=>f.set(g,E))),n.forEach(((g,E)=>m.set(g,new WC(E,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const a=hc();let o=new Mt(((f,m)=>f-m)),c=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=a.get(p)||ar.empty();E=m.applyToLocalView(g,E),a.set(p,E);const w=(o.get(m.batchId)||Ye()).add(p);o=o.insert(m.batchId,w)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,w=QE();E.forEach((S=>{if(!c.has(S)){const j=eT(n.get(S),a.get(S));j!==null&&w.set(S,j),c=c.add(S)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,w))}return te.waitFor(f)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,o){return(function(f){return Se.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):HE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next((c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-c.size):te.resolve(Ns());let m=yc,p=c;return f.next((g=>te.forEach(g,((E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),c.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next((S=>{p=p.insert(E,S)}))))).next((()=>this.populateOverlays(e,g,c))).next((()=>this.computeViews(e,p,g,Ye()))).next((E=>({batchId:m,changes:$E(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Se(n)).next((a=>{let o=rc();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const c=n.collectionGroup;let f=rc();return this.indexManager.getCollectionParents(e,c).next((m=>te.forEach(m,(p=>{const g=(function(w,S){return new kc(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next((E=>{E.forEach(((w,S)=>{f=f.insert(w,S)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,c,o)))).next((f=>{c.forEach(((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Nn.newInvalidDocument(E)))}));let m=rc();return f.forEach(((p,g)=>{const E=c.get(p);E!==void 0&&fc(E.mutation,g,ar.empty(),yt.now()),uf(n,g)&&(m=m.insert(p,g))})),m}))}}class ZC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:ui(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:qC(o.bundledQuery),readTime:ui(o.readTime)}})(n)),te.resolve()}}class eI{constructor(){this.overlays=new Mt(Se.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Ns();return te.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((o,c)=>{this.St(e,n,c)})),te.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),te.resolve()}getOverlaysForCollection(e,n,a){const o=Ns(),c=n.length+1,f=new Se(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===c&&p.largestBatchId>a&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let c=new Mt(((g,E)=>g-E));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>a){let E=c.get(g.largestBatchId);E===null&&(E=Ns(),c=c.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Ns(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return te.resolve(m)}St(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new vC(n,a));let c=this.qr.get(n);c===void 0&&(c=Ye(),this.qr.set(n,c)),this.qr.set(n,c.add(a.key))}}class tI{constructor(){this.sessionToken=bn.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}class hg{constructor(){this.Qr=new rn(un.$r),this.Ur=new rn(un.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const a=new un(e,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Gr(new un(e,n))}zr(e,n){e.forEach((a=>this.removeReference(a,n)))}jr(e){const n=new Se(new wt([])),a=new un(n,e),o=new un(n,e+1),c=[];return this.Ur.forEachInRange([a,o],(f=>{this.Gr(f),c.push(f.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Se(new wt([])),a=new un(n,e),o=new un(n,e+1);let c=Ye();return this.Ur.forEachInRange([a,o],(f=>{c=c.add(f.key)})),c}containsKey(e){const n=new un(e,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class un{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Se.comparator(e.key,n.key)||Ge(e.Yr,n.Yr)}static Kr(e,n){return Ge(e.Yr,n.Yr)||Se.comparator(e.key,n.key)}}class nI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new rn(un.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new yC(c,n,a,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new un(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.ei(a),c=o<0?0:o;return te.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?tg:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new un(n,0),o=new un(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(f=>{const m=this.Xr(f.Yr);c.push(m)})),te.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new rn(Ge);return n.forEach((o=>{const c=new un(o,0),f=new un(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,f],(m=>{a=a.add(m.Yr)}))})),te.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let c=a;Se.isDocumentKey(c)||(c=c.child(""));const f=new un(new Se(c),0);let m=new rn(Ge);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),f),te.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){st(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return te.forEach(n.mutations,(o=>{const c=new un(o.key,n.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,n){const a=new un(n,0),o=this.Zr.firstAfterOrEqual(a);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class rI{constructor(e){this.ri=e,this.docs=(function(){return new Mt(Se.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),c=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return te.resolve(a?a.document.mutableCopy():Nn.newInvalidDocument(n))}getEntries(e,n){let a=Ki();return n.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():Nn.newInvalidDocument(o))})),te.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let c=Ki();const f=n.path,m=new Se(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||DR(IR(E),a)<=0||(o.has(E.key)||uf(n,E))&&(c=c.insert(E.key,E.mutableCopy()))}return te.resolve(c)}getAllFromCollectionGroup(e,n,a,o){De(9500)}ii(e,n){return te.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new iI(this)}getSize(e){return te.resolve(this.size)}}class iI extends XC{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class aI{constructor(e){this.persistence=e,this.si=new Us((n=>ig(n)),ag),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.oi=0,this._i=new hg,this.targetCount=0,this.ai=Yo.ur()}forEachTarget(e,n){return this.si.forEach(((a,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Yo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,a){let o=0;const c=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.si.delete(f),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),te.waitFor(c).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const a=this.si.get(n)||null;return te.resolve(a)}addMatchingKeys(e,n,a){return this._i.Wr(n,a),te.resolve()}removeMatchingKeys(e,n,a){this._i.zr(n,a);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((f=>{c.push(o.markPotentiallyOrphaned(e,f))})),te.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const a=this._i.Hr(n);return te.resolve(a)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}class dT{constructor(e,n){this.ui={},this.overlays={},this.ci=new af(0),this.li=!1,this.li=!0,this.hi=new tI,this.referenceDelegate=e(this),this.Pi=new aI(this),this.indexManager=new HC,this.remoteDocumentCache=(function(o){return new rI(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new BC(n),this.Ii=new ZC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new eI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ui[e.toKey()];return a||(a=new nI(n,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,a){pe("MemoryPersistence","Starting transaction:",e);const o=new sI(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,n){return te.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,n))))}}class sI extends kR{constructor(e){super(),this.currentSequenceNumber=e}}class fg{constructor(e){this.persistence=e,this.Ri=new hg,this.Vi=null}static mi(e){return new fg(e)}get fi(){if(this.Vi)return this.Vi;throw De(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),te.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(a=>{const o=Se.fromPath(a);return this.gi(e,o).next((c=>{c||n.removeEntry(o,ke.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Gh{constructor(e,n){this.persistence=e,this.pi=new Us((a=>VR(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=KC(this,n)}static mi(e,n){return new Gh(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>n.next((o=>a+o))))}wr(e){let n=0;return this.pr(e,(a=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((a,o)=>this.br(e,a,o).next((c=>c?te.resolve():n(o)))))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(a++,c.removeEntry(f,ke.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),te.resolve()}removeReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=xh(e.data.value)),n}br(e,n,a){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return te.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class dg{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Es=a,this.ds=o}static As(e,n){let a=Ye(),o=Ye();for(const c of n.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new dg(e,n.fromCache,a,o)}}class oI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class lI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Mx()?8:MR(Rn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,o){const c={result:null};return this.ys(e,n).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.ws(e,n,o,a).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new oI;return this.Ss(e,n,f).next((m=>{if(c.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>c.result))}bs(e,n,a,o){return a.documentReadCount<this.fs?(Co()<=Fe.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(Co()<=Fe.DEBUG&&pe("QueryEngine","Query:",Io(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Co()<=Fe.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ci(n))):te.resolve())}ys(e,n){if(E1(n))return te.resolve(null);let a=ci(n);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=up(n,null,"F"),a=ci(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const f=Ye(...c);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,a).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,f,p.readTime)?this.ys(e,up(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,a,o){return E1(n)||o.isEqual(ke.min())?te.resolve(null):this.ps.getDocuments(e,a).next((c=>{const f=this.Ds(n,c);return this.Cs(n,f,a,o)?te.resolve(null):(Co()<=Fe.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Io(n)),this.vs(e,f,n,CR(o,yc)).next((m=>m)))}))}Ds(e,n){let a=new rn(GE(e));return n.forEach(((o,c)=>{uf(e,c)&&(a=a.add(c))})),a}Cs(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,n,a){return Co()<=Fe.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Io(n)),this.ps.getDocumentsMatchingQuery(e,n,Ya.min(),a)}vs(e,n,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((c=>(n.forEach((f=>{c=c.insert(f.key,f)})),c)))}}const mg="LocalStore",cI=3e8;class uI{constructor(e,n,a,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new Mt(Ge),this.xs=new Us((c=>ig(c)),ag),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function hI(r,e,n,a){return new uI(r,e,n,a)}async function mT(r,e){const n=je(r);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(a)))).next((c=>{const f=[],m=[];let p=Ye();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of c){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(a,p).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function fI(r,e){const n=je(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const w=g.batch,S=w.keys();let j=te.resolve();return S.forEach((F=>{j=j.next((()=>E.getEntry(p,F))).next((Y=>{const U=g.docVersions.get(F);st(U!==null,48541),Y.version.compareTo(U)<0&&(w.applyToRemoteDocument(Y,g),Y.isValidDocument()&&(Y.setReadTime(g.commitVersion),E.addEntry(Y)))}))})),j.next((()=>m.mutationQueue.removeMutationBatch(p,w)))})(n,a,e,c).next((()=>c.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(m){let p=Ye();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(a,o)))}))}function pT(r){const e=je(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function dI(r,e){const n=je(r),a=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,w)=>{const S=o.get(w);if(!S)return;m.push(n.Pi.removeMatchingKeys(c,E.removedDocuments,w).next((()=>n.Pi.addMatchingKeys(c,E.addedDocuments,w))));let j=S.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?j=j.withResumeToken(bn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):E.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(E.resumeToken,a)),o=o.insert(w,j),(function(Y,U,K){return Y.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=cI?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(S,j,E)&&m.push(n.Pi.updateTargetData(c,j))}));let p=Ki(),g=Ye();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,E))})),m.push(mI(c,f,e.documentUpdates).next((E=>{p=E.ks,g=E.qs}))),!a.isEqual(ke.min())){const E=n.Pi.getLastRemoteSnapshotVersion(c).next((w=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));m.push(E)}return te.waitFor(m).next((()=>f.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,p,g))).next((()=>p))})).then((c=>(n.Ms=o,c)))}function mI(r,e,n){let a=Ye(),o=Ye();return n.forEach((c=>a=a.add(c))),e.getEntries(r,a).next((c=>{let f=Ki();return n.forEach(((m,p)=>{const g=c.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(ke.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):pe(mg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function pI(r,e){const n=je(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=tg),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function gI(r,e){const n=je(r);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return n.Pi.getTargetData(a,e).next((c=>c?(o=c,te.resolve(o)):n.Pi.allocateTargetId(a).next((f=>(o=new Ua(e,f,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=n.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(e,a.targetId)),a}))}async function pp(r,e,n){const a=je(r),o=a.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",c,(f=>a.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Wo(f))throw f;pe(mg,`Failed to update sequence numbers for target ${e}: ${f}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function M1(r,e,n){const a=je(r);let o=ke.min(),c=Ye();return a.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,E){const w=je(p),S=w.xs.get(E);return S!==void 0?te.resolve(w.Ms.get(S)):w.Pi.getTargetData(g,E)})(a,f,ci(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{c=p}))})).next((()=>a.Fs.getDocumentsMatchingQuery(f,e,n?o:ke.min(),n?c:Ye()))).next((m=>(yI(a,tC(e),m),{documents:m,Qs:c})))))}function yI(r,e,n){let a=r.Os.get(e)||ke.min();n.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(e,a)}class j1{constructor(){this.activeTargetIds=oC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vI{constructor(){this.Mo=new j1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,a){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new j1,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class _I{Oo(e){}shutdown(){}}const V1="ConnectivityMonitor";class P1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pe(V1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){pe(V1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let mh=null;function gp(){return mh===null?mh=(function(){return 268435456+Math.round(2147483648*Math.random())})():mh++,"0x"+mh.toString(16)}const Vm="RestConnection",bI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class EI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Uh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,n,a,o,c){const f=gp(),m=this.zo(e,n.toUriEncodedString());pe(Vm,`Sending RPC '${e}' ${f}:`,m,a);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,c);const{host:g}=new URL(m),E=Ps(g);return this.Jo(e,m,p,a,E).then((w=>(pe(Vm,`Received RPC '${e}' ${f}: `,w),w)),(w=>{throw qo(Vm,`RPC '${e}' ${f} failed with error: `,w,"url: ",m,"request:",a),w}))}Ho(e,n,a,o,c,f){return this.Go(e,n,a,o,c)}jo(e,n,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ko})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}zo(e,n){const a=bI[e];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}class TI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Sn="WebChannelConnection";class wI extends EI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,o,c){const f=gp();return new Promise(((m,p)=>{const g=new vE;g.setWithCredentials(!0),g.listenOnce(_E.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case wh.NO_ERROR:const w=g.getResponseJson();pe(Sn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),m(w);break;case wh.TIMEOUT:pe(Sn,`RPC '${e}' ${f} timed out`),p(new fe(Z.DEADLINE_EXCEEDED,"Request time out"));break;case wh.HTTP_ERROR:const S=g.getStatus();if(pe(Sn,`RPC '${e}' ${f} failed with status:`,S,"response text:",g.getResponseText()),S>0){let j=g.getResponseJson();Array.isArray(j)&&(j=j[0]);const F=j?.error;if(F&&F.status&&F.message){const Y=(function(K){const re=K.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(re)>=0?re:Z.UNKNOWN})(F.status);p(new fe(Y,F.message))}else p(new fe(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new fe(Z.UNAVAILABLE,"Connection failed."));break;default:De(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{pe(Sn,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);pe(Sn,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,a,15)}))}T_(e,n,a){const o=gp(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=TE(),m=EE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const E=c.join("");pe(Sn,`Creating RPC '${e}' stream ${o}: ${E}`,p);const w=f.createWebChannel(E,p);this.I_(w);let S=!1,j=!1;const F=new TI({Yo:U=>{j?pe(Sn,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(S||(pe(Sn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),S=!0),pe(Sn,`RPC '${e}' stream ${o} sending:`,U),w.send(U))},Zo:()=>w.close()}),Y=(U,K,re)=>{U.listen(K,(se=>{try{re(se)}catch(ce){setTimeout((()=>{throw ce}),0)}}))};return Y(w,nc.EventType.OPEN,(()=>{j||(pe(Sn,`RPC '${e}' stream ${o} transport opened.`),F.o_())})),Y(w,nc.EventType.CLOSE,(()=>{j||(j=!0,pe(Sn,`RPC '${e}' stream ${o} transport closed`),F.a_(),this.E_(w))})),Y(w,nc.EventType.ERROR,(U=>{j||(j=!0,qo(Sn,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),F.a_(new fe(Z.UNAVAILABLE,"The operation could not be completed")))})),Y(w,nc.EventType.MESSAGE,(U=>{if(!j){const K=U.data[0];st(!!K,16349);const re=K,se=re?.error||re[0]?.error;if(se){pe(Sn,`RPC '${e}' stream ${o} received error:`,se);const ce=se.status;let ge=(function(A){const R=Wt[A];if(R!==void 0)return nT(R)})(ce),be=se.message;ge===void 0&&(ge=Z.INTERNAL,be="Unknown error status: "+ce+" with message "+se.message),j=!0,F.a_(new fe(ge,be)),w.close()}else pe(Sn,`RPC '${e}' stream ${o} received:`,K),F.u_(K)}})),Y(m,bE.STAT_EVENT,(U=>{U.stat===rp.PROXY?pe(Sn,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===rp.NOPROXY&&pe(Sn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Pm(){return typeof document<"u"?document:null}function mf(r){return new NC(r,!0)}class gT{constructor(e,n,a=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-a);o>0&&pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const L1="PersistentStream";class yT{constructor(e,n,a,o,c,f,m,p){this.Mi=e,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new gT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(Qi(n.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===n&&this.G_(a,o)}),(a=>{e((()=>{const o=new fe(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,n){const a=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(L1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(pe(L1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xI extends yT{constructor(e,n,a,o,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,f),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=IC(this.serializer,e),a=(function(c){if(!("targetChange"in c))return ke.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?ke.min():f.readTime?ui(f.readTime):ke.min()})(e);return this.listener.H_(n,a)}Y_(e){const n={};n.database=mp(this.serializer),n.addTarget=(function(c,f){let m;const p=f.target;if(m=lp(p)?{documents:kC(c,p)}:{query:MC(c,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=aT(c,f.resumeToken);const g=hp(c,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(ke.min())>0){m.readTime=Fh(c,f.snapshotVersion.toTimestamp());const g=hp(c,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const a=VC(this.serializer,e);a&&(n.labels=a),this.q_(n)}Z_(e){const n={};n.database=mp(this.serializer),n.removeTarget=e,this.q_(n)}}class SI extends yT{constructor(e,n,a,o,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,f),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=OC(e.writeResults,e.commitTime),a=ui(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=mp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>DC(this.serializer,a)))};this.q_(n)}}class AI{}class NI extends AI{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Go(e,fp(n,a),o,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(Z.UNKNOWN,c.toString())}))}Ho(e,n,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,fp(n,a),o,f,m,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new fe(Z.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class RI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qi(n),this.aa=!1):pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const js="RemoteStore";class CI{constructor(e,n,a,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((f=>{a.enqueueAndForget((async()=>{zs(this)&&(pe(js,"Restarting streams for network reachability change."),await(async function(p){const g=je(p);g.Ea.add(4),await Vc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await pf(g)})(this))}))})),this.Ra=new RI(a,o)}}async function pf(r){if(zs(r))for(const e of r.da)await e(!0)}async function Vc(r){for(const e of r.da)await e(!1)}function vT(r,e){const n=je(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),vg(n)?yg(n):Jo(n).O_()&&gg(n,e))}function pg(r,e){const n=je(r),a=Jo(n);n.Ia.delete(e),a.O_()&&_T(n,e),n.Ia.size===0&&(a.O_()?a.L_():zs(n)&&n.Ra.set("Unknown"))}function gg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Jo(r).Y_(e)}function _T(r,e){r.Va.Ue(e),Jo(r).Z_(e)}function yg(r){r.Va=new wC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Jo(r).start(),r.Ra.ua()}function vg(r){return zs(r)&&!Jo(r).x_()&&r.Ia.size>0}function zs(r){return je(r).Ea.size===0}function bT(r){r.Va=void 0}async function II(r){r.Ra.set("Online")}async function DI(r){r.Ia.forEach(((e,n)=>{gg(r,e)}))}async function OI(r,e){bT(r),vg(r)?(r.Ra.ha(e),yg(r)):r.Ra.set("Unknown")}async function kI(r,e,n){if(r.Ra.set("Online"),e instanceof iT&&e.state===2&&e.cause)try{await(async function(o,c){const f=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(a){pe(js,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Yh(r,a)}else if(e instanceof Nh?r.Va.Ze(e):e instanceof rT?r.Va.st(e):r.Va.tt(e),!n.isEqual(ke.min()))try{const a=await pT(r.localStore);n.compareTo(a)>=0&&await(function(c,f){const m=c.Va.Tt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=c.Ia.get(g);E&&c.Ia.set(g,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const E=c.Ia.get(p);if(!E)return;c.Ia.set(p,E.withResumeToken(bn.EMPTY_BYTE_STRING,E.snapshotVersion)),_T(c,p);const w=new Ua(E.target,p,g,E.sequenceNumber);gg(c,w)})),c.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(a){pe(js,"Failed to raise snapshot:",a),await Yh(r,a)}}async function Yh(r,e,n){if(!Wo(e))throw e;r.Ea.add(1),await Vc(r),r.Ra.set("Offline"),n||(n=()=>pT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{pe(js,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await pf(r)}))}function ET(r,e){return e().catch((n=>Yh(r,n,e)))}async function gf(r){const e=je(r),n=Xa(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:tg;for(;MI(e);)try{const o=await pI(e.localStore,a);if(o===null){e.Ta.length===0&&n.L_();break}a=o.batchId,jI(e,o)}catch(o){await Yh(e,o)}TT(e)&&wT(e)}function MI(r){return zs(r)&&r.Ta.length<10}function jI(r,e){r.Ta.push(e);const n=Xa(r);n.O_()&&n.X_&&n.ea(e.mutations)}function TT(r){return zs(r)&&!Xa(r).x_()&&r.Ta.length>0}function wT(r){Xa(r).start()}async function VI(r){Xa(r).ra()}async function PI(r){const e=Xa(r);for(const n of r.Ta)e.ea(n.mutations)}async function LI(r,e,n){const a=r.Ta.shift(),o=lg.from(a,e,n);await ET(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await gf(r)}async function UI(r,e){e&&Xa(r).X_&&await(async function(a,o){if((function(f){return bC(f)&&f!==Z.ABORTED})(o.code)){const c=a.Ta.shift();Xa(a).B_(),await ET(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await gf(a)}})(r,e),TT(r)&&wT(r)}async function U1(r,e){const n=je(r);n.asyncQueue.verifyOperationInProgress(),pe(js,"RemoteStore received new credentials");const a=zs(n);n.Ea.add(3),await Vc(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await pf(n)}async function zI(r,e){const n=je(r);e?(n.Ea.delete(2),await pf(n)):e||(n.Ea.add(2),await Vc(n),n.Ra.set("Unknown"))}function Jo(r){return r.ma||(r.ma=(function(n,a,o){const c=je(n);return c.sa(),new xI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:II.bind(null,r),t_:DI.bind(null,r),r_:OI.bind(null,r),H_:kI.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),vg(r)?yg(r):r.Ra.set("Unknown")):(await r.ma.stop(),bT(r))}))),r.ma}function Xa(r){return r.fa||(r.fa=(function(n,a,o){const c=je(n);return c.sa(),new SI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:VI.bind(null,r),r_:UI.bind(null,r),ta:PI.bind(null,r),na:LI.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await gf(r)):(await r.fa.stop(),r.Ta.length>0&&(pe(js,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class _g{constructor(e,n,a,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new Fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,c){const f=Date.now()+a,m=new _g(e,n,f,o,c);return m.start(a),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bg(r,e){if(Qi("AsyncQueue",`${e}: ${r}`),Wo(r))return new fe(Z.UNAVAILABLE,`${e}: ${r}`);throw r}class Uo{static emptySet(e){return new Uo(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||Se.comparator(n.key,a.key):(n,a)=>Se.comparator(n.key,a.key),this.keyedMap=rc(),this.sortedSet=new Mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Uo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new Uo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}class z1{constructor(){this.ga=new Mt(Se.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):De(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,a)=>{e.push(a)})),e}}class $o{constructor(e,n,a,o,c,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,a,o,c){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new $o(e,n,Uo.emptySet(n),f,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}class BI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class qI{constructor(){this.queries=B1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const o=je(n),c=o.queries;o.queries=B1(),c.forEach(((f,m)=>{for(const p of m.Sa)p.onError(a)}))})(this,new fe(Z.ABORTED,"Firestore shutting down"))}}function B1(){return new Us((r=>FE(r)),cf)}async function Eg(r,e){const n=je(r);let a=3;const o=e.query;let c=n.queries.get(o);c?!c.ba()&&e.Da()&&(a=2):(c=new BI,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=bg(f,`Initialization of query '${Io(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&wg(n)}async function Tg(r,e){const n=je(r),a=e.query;let o=3;const c=n.queries.get(a);if(c){const f=c.Sa.indexOf(e);f>=0&&(c.Sa.splice(f,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function HI(r,e){const n=je(r);let a=!1;for(const o of e){const c=o.query,f=n.queries.get(c);if(f){for(const m of f.Sa)m.Fa(o)&&(a=!0);f.wa=o}}a&&wg(n)}function FI(r,e,n){const a=je(r),o=a.queries.get(e);if(o)for(const c of o.Sa)c.onError(n);a.queries.delete(e)}function wg(r){r.Ca.forEach((e=>{e.next()}))}var yp,q1;(q1=yp||(yp={})).Ma="default",q1.Cache="cache";class xg{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new $o(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=$o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==yp.Cache}}class xT{constructor(e){this.key=e}}class ST{constructor(e){this.key=e}}class GI{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ye(),this.mutatedKeys=Ye(),this.eu=GE(e),this.tu=new Uo(this.eu)}get nu(){return this.Ya}ru(e,n){const a=n?n.iu:new z1,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,w)=>{const S=o.get(E),j=uf(this.query,w)?w:null,F=!!S&&this.mutatedKeys.has(S.key),Y=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let U=!1;S&&j?S.data.isEqual(j.data)?F!==Y&&(a.track({type:3,doc:j}),U=!0):this.su(S,j)||(a.track({type:2,doc:j}),U=!0,(p&&this.eu(j,p)>0||g&&this.eu(j,g)<0)&&(m=!0)):!S&&j?(a.track({type:0,doc:j}),U=!0):S&&!j&&(a.track({type:1,doc:S}),U=!0,(p||g)&&(m=!0)),U&&(j?(f=f.add(j),c=Y?c.add(E):c.delete(E)):(f=f.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{tu:f,iu:a,Cs:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,w)=>(function(j,F){const Y=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{Rt:U})}};return Y(j)-Y(F)})(E.type,w.type)||this.eu(E.doc,w.doc))),this.ou(a),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new $o(this.query,e.tu,c,f,e.mutatedKeys,p===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new z1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ye(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const n=[];return e.forEach((a=>{this.Xa.has(a)||n.push(new ST(a))})),this.Xa.forEach((a=>{e.has(a)||n.push(new xT(a))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ye();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return $o.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Sg="SyncEngine";class YI{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class $I{constructor(e){this.key=e,this.hu=!1}}class QI{constructor(e,n,a,o,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Us((m=>FE(m)),cf),this.Iu=new Map,this.Eu=new Set,this.du=new Mt(Se.comparator),this.Au=new Map,this.Ru=new hg,this.Vu={},this.mu=new Map,this.fu=Yo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function KI(r,e,n=!0){const a=DT(r);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await AT(a,e,n,!0),o}async function XI(r,e){const n=DT(r);await AT(n,e,!0,!1)}async function AT(r,e,n,a){const o=await gI(r.localStore,ci(e)),c=o.targetId,f=r.sharedClientState.addLocalQueryTarget(c,n);let m;return a&&(m=await WI(r,e,c,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&vT(r.remoteStore,o),m}async function WI(r,e,n,a,o){r.pu=(w,S,j)=>(async function(Y,U,K,re){let se=U.view.ru(K);se.Cs&&(se=await M1(Y.localStore,U.query,!1).then((({documents:C})=>U.view.ru(C,se))));const ce=re&&re.targetChanges.get(U.targetId),ge=re&&re.targetMismatches.get(U.targetId)!=null,be=U.view.applyChanges(se,Y.isPrimaryClient,ce,ge);return F1(Y,U.targetId,be.au),be.snapshot})(r,w,S,j);const c=await M1(r.localStore,e,!0),f=new GI(e,c.Qs),m=f.ru(c.documents),p=jc.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);F1(r,n,g.au);const E=new YI(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function JI(r,e,n){const a=je(r),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((f=>!cf(f,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await pp(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),n&&pg(a.remoteStore,o.targetId),vp(a,o.targetId)})).catch(Xo)):(vp(a,o.targetId),await pp(a.localStore,o.targetId,!0))}async function ZI(r,e){const n=je(r),a=n.Tu.get(e),o=n.Iu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),pg(n.remoteStore,a.targetId))}async function e4(r,e,n){const a=o4(r);try{const o=await(function(f,m){const p=je(f),g=yt.now(),E=m.reduce(((j,F)=>j.add(F.key)),Ye());let w,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let F=Ki(),Y=Ye();return p.Ns.getEntries(j,E).next((U=>{F=U,F.forEach(((K,re)=>{re.isValidDocument()||(Y=Y.add(K))}))})).next((()=>p.localDocuments.getOverlayedDocuments(j,F))).next((U=>{w=U;const K=[];for(const re of m){const se=pC(re,w.get(re.key).overlayedDocument);se!=null&&K.push(new Za(re.key,se,VE(se.value.mapValue),xr.exists(!0)))}return p.mutationQueue.addMutationBatch(j,g,K,m)})).next((U=>{S=U;const K=U.applyToLocalDocumentSet(w,Y);return p.documentOverlayCache.saveOverlays(j,U.batchId,K)}))})).then((()=>({batchId:S.batchId,changes:$E(w)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new Mt(Ge)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g})(a,o.batchId,n),await Pc(a,o.changes),await gf(a.remoteStore)}catch(o){const c=bg(o,"Failed to persist write");n.reject(c)}}async function NT(r,e){const n=je(r);try{const a=await dI(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const f=n.Au.get(c);f&&(st(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?st(f.hu,14607):o.removedDocuments.size>0&&(st(f.hu,42227),f.hu=!1))})),await Pc(n,a,e)}catch(a){await Xo(a)}}function H1(r,e,n){const a=je(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Tu.forEach(((c,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=je(f);p.onlineState=m;let g=!1;p.queries.forEach(((E,w)=>{for(const S of w.Sa)S.va(m)&&(g=!0)})),g&&wg(p)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function t4(r,e,n){const a=je(r);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Au.get(e),c=o&&o.key;if(c){let f=new Mt(Se.comparator);f=f.insert(c,Nn.newNoDocument(c,ke.min()));const m=Ye().add(c),p=new df(ke.min(),new Map,new Mt(Ge),f,m);await NT(a,p),a.du=a.du.remove(c),a.Au.delete(e),Ag(a)}else await pp(a.localStore,e,!1).then((()=>vp(a,e,n))).catch(Xo)}async function n4(r,e){const n=je(r),a=e.batch.batchId;try{const o=await fI(n.localStore,e);CT(n,a,null),RT(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Pc(n,o)}catch(o){await Xo(o)}}async function r4(r,e,n){const a=je(r);try{const o=await(function(f,m){const p=je(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((w=>(st(w!==null,37113),E=w.keys(),p.mutationQueue.removeMutationBatch(g,w)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(a.localStore,e);CT(a,e,n),RT(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await Pc(a,o)}catch(o){await Xo(o)}}function RT(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function CT(r,e,n){const a=je(r);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function vp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),n&&r.Pu.yu(a,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||IT(r,a)}))}function IT(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(pg(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Ag(r))}function F1(r,e,n){for(const a of n)a instanceof xT?(r.Ru.addReference(a.key,e),i4(r,a)):a instanceof ST?(pe(Sg,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||IT(r,a.key)):De(19791,{wu:a})}function i4(r,e){const n=e.key,a=n.path.canonicalString();r.du.get(n)||r.Eu.has(a)||(pe(Sg,"New document in limbo: "+n),r.Eu.add(a),Ag(r))}function Ag(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new Se(wt.fromString(e)),a=r.fu.next();r.Au.set(a,new $I(n)),r.du=r.du.insert(n,a),vT(r.remoteStore,new Ua(ci(lf(n.path)),a,"TargetPurposeLimboResolution",af.ce))}}async function Pc(r,e,n){const a=je(r),o=[],c=[],f=[];a.Tu.isEmpty()||(a.Tu.forEach(((m,p)=>{f.push(a.pu(p,e,n).then((g=>{if((g||n)&&a.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;a.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=dg.As(p.targetId,g);c.push(E)}})))})),await Promise.all(f),a.Pu.H_(o),await(async function(p,g){const E=je(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>te.forEach(g,(S=>te.forEach(S.Es,(j=>E.persistence.referenceDelegate.addReference(w,S.targetId,j))).next((()=>te.forEach(S.ds,(j=>E.persistence.referenceDelegate.removeReference(w,S.targetId,j)))))))))}catch(w){if(!Wo(w))throw w;pe(mg,"Failed to update sequence numbers: "+w)}for(const w of g){const S=w.targetId;if(!w.fromCache){const j=E.Ms.get(S),F=j.snapshotVersion,Y=j.withLastLimboFreeSnapshotVersion(F);E.Ms=E.Ms.insert(S,Y)}}})(a.localStore,c))}async function a4(r,e){const n=je(r);if(!n.currentUser.isEqual(e)){pe(Sg,"User change. New user:",e.toKey());const a=await mT(n.localStore,e);n.currentUser=e,(function(c,f){c.mu.forEach((m=>{m.forEach((p=>{p.reject(new fe(Z.CANCELLED,f))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Pc(n,a.Ls)}}function s4(r,e){const n=je(r),a=n.Au.get(e);if(a&&a.hu)return Ye().add(a.key);{let o=Ye();const c=n.Iu.get(e);if(!c)return o;for(const f of c){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function DT(r){const e=je(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=NT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=s4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=t4.bind(null,e),e.Pu.H_=HI.bind(null,e.eventManager),e.Pu.yu=FI.bind(null,e.eventManager),e}function o4(r){const e=je(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=n4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=r4.bind(null,e),e}class $h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return hI(this.persistence,new lI,e.initialUser,this.serializer)}Cu(e){return new dT(fg.mi,this.serializer)}Du(e){return new vI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$h.provider={build:()=>new $h};class l4 extends $h{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){st(this.persistence.referenceDelegate instanceof Gh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new $C(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Fn.withCacheSize(this.cacheSizeBytes):Fn.DEFAULT;return new dT((a=>Gh.mi(a,n)),this.serializer)}}class _p{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>H1(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=a4.bind(null,this.syncEngine),await zI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new qI})()}createDatastore(e){const n=mf(e.databaseInfo.databaseId),a=(function(c){return new wI(c)})(e.databaseInfo);return(function(c,f,m,p){return new NI(c,f,m,p)})(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,o,c,f,m){return new CI(a,o,c,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>H1(this.syncEngine,n,0)),(function(){return P1.v()?new P1:new _I})())}createSyncEngine(e,n){return(function(o,c,f,m,p,g,E){const w=new QI(o,c,f,m,p,g);return E&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const a=je(n);pe(js,"RemoteStore shutting down."),a.Ea.add(5),await Vc(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}_p.provider={build:()=>new _p};class Ng{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Qi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Wa="FirestoreClient";class c4{constructor(e,n,a,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=An.UNAUTHENTICATED,this.clientId=eg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async f=>{pe(Wa,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(a,(f=>(pe(Wa,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=bg(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Lm(r,e){r.asyncQueue.verifyOperationInProgress(),pe(Wa,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let a=n.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await mT(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function G1(r,e){r.asyncQueue.verifyOperationInProgress();const n=await u4(r);pe(Wa,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((a=>U1(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>U1(e.remoteStore,o))),r._onlineComponents=e}async function u4(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){pe(Wa,"Using user provided OfflineComponentProvider");try{await Lm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;qo("Error using user provided cache. Falling back to memory cache: "+n),await Lm(r,new $h)}}else pe(Wa,"Using default OfflineComponentProvider"),await Lm(r,new l4(void 0));return r._offlineComponents}async function OT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(pe(Wa,"Using user provided OnlineComponentProvider"),await G1(r,r._uninitializedComponentsProvider._online)):(pe(Wa,"Using default OnlineComponentProvider"),await G1(r,new _p))),r._onlineComponents}function h4(r){return OT(r).then((e=>e.syncEngine))}async function Qh(r){const e=await OT(r),n=e.eventManager;return n.onListen=KI.bind(null,e.syncEngine),n.onUnlisten=JI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=XI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ZI.bind(null,e.syncEngine),n}function f4(r,e,n={}){const a=new Fi;return r.asyncQueue.enqueueAndForget((async()=>(function(c,f,m,p,g){const E=new Ng({next:S=>{E.Nu(),f.enqueueAndForget((()=>Tg(c,w)));const j=S.docs.has(m);!j&&S.fromCache?g.reject(new fe(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&S.fromCache&&p&&p.source==="server"?g.reject(new fe(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),w=new xg(lf(m.path),E,{includeMetadataChanges:!0,qa:!0});return Eg(c,w)})(await Qh(r),r.asyncQueue,e,n,a))),a.promise}function d4(r,e,n={}){const a=new Fi;return r.asyncQueue.enqueueAndForget((async()=>(function(c,f,m,p,g){const E=new Ng({next:S=>{E.Nu(),f.enqueueAndForget((()=>Tg(c,w))),S.fromCache&&p.source==="server"?g.reject(new fe(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),w=new xg(m,E,{includeMetadataChanges:!0,qa:!0});return Eg(c,w)})(await Qh(r),r.asyncQueue,e,n,a))),a.promise}function kT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const Y1=new Map;const MT="firestore.googleapis.com",$1=!0;class Q1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=MT,this.ssl=$1}else this.host=e.host,this.ssl=e.ssl??$1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GC)throw new fe(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kT(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new fe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new fe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new fe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yf{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Q1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Q1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new vR;switch(a.type){case"firstParty":return new TR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new fe(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=Y1.get(n);a&&(pe("ComponentProvider","Removing Datastore"),Y1.delete(n),a.terminate())})(this),Promise.resolve()}}function m4(r,e,n,a={}){r=Vr(r,yf);const o=Ps(e),c=r._getSettings(),f={...c,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(zp(`https://${m}`),Bp("Firestore",!0)),c.host!==MT&&c.host!==m&&qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:m,ssl:o,emulatorOptions:a};if(!Ds(p,f)&&(r._setSettings(p),a.mockUserToken)){let g,E;if(typeof a.mockUserToken=="string")g=a.mockUserToken,E=An.MOCK_USER;else{g=Sx(a.mockUserToken,r._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new fe(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new An(w)}r._authCredentials=new _R(new xE(g,E))}}class Bs{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Bs(this.firestore,e,this._query)}}class Ft{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}toJSON(){return{type:Ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(Oc(n,Ft._jsonSchema))return new Ft(e,a||null,new Se(wt.fromString(n.referencePath)))}}Ft._jsonSchemaVersion="firestore/documentReference/1.0",Ft._jsonSchema={type:Zt("string",Ft._jsonSchemaVersion),referencePath:Zt("string")};class Fa extends Bs{constructor(e,n,a){super(e,n,lf(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new Se(e))}withConverter(e){return new Fa(this.firestore,e,this._path)}}function p4(r,e,...n){if(r=kt(r),SE("collection","path",e),r instanceof yf){const a=wt.fromString(e,...n);return o1(a),new Fa(r,null,a)}{if(!(r instanceof Ft||r instanceof Fa))throw new fe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(wt.fromString(e,...n));return o1(a),new Fa(r.firestore,null,a)}}function zo(r,e,...n){if(r=kt(r),arguments.length===1&&(e=eg.newId()),SE("doc","path",e),r instanceof yf){const a=wt.fromString(e,...n);return s1(a),new Ft(r,null,new Se(a))}{if(!(r instanceof Ft||r instanceof Fa))throw new fe(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(wt.fromString(e,...n));return s1(a),new Ft(r.firestore,r instanceof Fa?r.converter:null,new Se(a))}}const K1="AsyncQueue";class X1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new gT(this,"async_queue_retry"),this._c=()=>{const a=Pm();a&&pe(K1,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=Pm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Pm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Fi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Wo(e))throw e;pe(K1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Qi("INTERNAL UNHANDLED ERROR: ",W1(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=_g.createAndSchedule(this,e,n,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&De(47125,{Pc:W1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function W1(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function J1(r){return(function(n,a){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Vs extends yf{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new X1,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new X1(e),this._firestoreClient=void 0,await e}}}function g4(r,e){const n=typeof r=="object"?r:Fp(),a=typeof r=="string"?r:Uh,o=Zh(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=Nb("firestore");c&&m4(o,...c)}return o}function Lc(r){if(r._terminated)throw new fe(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||y4(r),r._firestoreClient}function y4(r){const e=r._freezeSettings(),n=(function(o,c,f,m){return new UR(o,c,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,kT(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new c4(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class wr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wr(bn.fromBase64String(e))}catch(n){throw new fe(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new wr(bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:wr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Oc(e,wr._jsonSchema))return wr.fromBase64String(e.bytes)}}wr._jsonSchemaVersion="firestore/bytes/1.0",wr._jsonSchema={type:Zt("string",wr._jsonSchemaVersion),bytes:Zt("string")};class vf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class _f{constructor(e){this._methodName=e}}class hi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hi._jsonSchemaVersion}}static fromJSON(e){if(Oc(e,hi._jsonSchema))return new hi(e.latitude,e.longitude)}}hi._jsonSchemaVersion="firestore/geoPoint/1.0",hi._jsonSchema={type:Zt("string",hi._jsonSchemaVersion),latitude:Zt("number"),longitude:Zt("number")};class fi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Oc(e,fi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new fi(e.vectorValues);throw new fe(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fi._jsonSchemaVersion="firestore/vectorValue/1.0",fi._jsonSchema={type:Zt("string",fi._jsonSchemaVersion),vectorValues:Zt("object")};const v4=/^__.*__$/;class _4{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new Za(e,this.data,this.fieldMask,n,this.fieldTransforms):new Mc(e,this.data,n,this.fieldTransforms)}}class jT{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new Za(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function VT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De(40011,{Ac:r})}}class Rg{constructor(e,n,a,o,c,f){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Rg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.gc(e),a}yc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Kh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(VT(this.Ac)&&v4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class b4{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||mf(e)}Cc(e,n,a,o=!1){return new Rg({Ac:e,methodName:n,Dc:a,path:vn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cg(r){const e=r._freezeSettings(),n=mf(r._databaseId);return new b4(r._databaseId,!!e.ignoreUndefinedProperties,n)}function PT(r,e,n,a,o,c={}){const f=r.Cc(c.merge||c.mergeFields?2:0,e,n,o);Dg("Data must be an object, but it was:",f,a);const m=LT(a,f);let p,g;if(c.merge)p=new ar(f.fieldMask),g=f.fieldTransforms;else if(c.mergeFields){const E=[];for(const w of c.mergeFields){const S=bp(e,w,n);if(!f.contains(S))throw new fe(Z.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);zT(E,S)||E.push(S)}p=new ar(E),g=f.fieldTransforms.filter((w=>p.covers(w.field)))}else p=null,g=f.fieldTransforms;return new _4(new Yn(m),p,g)}class bf extends _f{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bf}}class Ig extends _f{_toFieldTransform(e){return new hC(e.path,new Ec)}isEqual(e){return e instanceof Ig}}function E4(r,e,n,a){const o=r.Cc(1,e,n);Dg("Data must be an object, but it was:",o,a);const c=[],f=Yn.empty();Ja(a,((p,g)=>{const E=Og(e,p,n);g=kt(g);const w=o.yc(E);if(g instanceof bf)c.push(E);else{const S=Uc(g,w);S!=null&&(c.push(E),f.set(E,S))}}));const m=new ar(c);return new jT(f,m,o.fieldTransforms)}function T4(r,e,n,a,o,c){const f=r.Cc(1,e,n),m=[bp(e,a,n)],p=[o];if(c.length%2!=0)throw new fe(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<c.length;S+=2)m.push(bp(e,c[S])),p.push(c[S+1]);const g=[],E=Yn.empty();for(let S=m.length-1;S>=0;--S)if(!zT(g,m[S])){const j=m[S];let F=p[S];F=kt(F);const Y=f.yc(j);if(F instanceof bf)g.push(j);else{const U=Uc(F,Y);U!=null&&(g.push(j),E.set(j,U))}}const w=new ar(g);return new jT(E,w,f.fieldTransforms)}function w4(r,e,n,a=!1){return Uc(n,r.Cc(a?4:3,e))}function Uc(r,e){if(UT(r=kt(r)))return Dg("Unsupported field value:",e,r),LT(r,e);if(r instanceof _f)return(function(a,o){if(!VT(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let f=0;for(const m of a){let p=Uc(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),f++}return{arrayValue:{values:c}}})(r,e)}return(function(a,o){if((a=kt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return lC(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=yt.fromDate(a);return{timestampValue:Fh(o.serializer,c)}}if(a instanceof yt){const c=new yt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Fh(o.serializer,c)}}if(a instanceof hi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof wr)return{bytesValue:aT(o.serializer,a._byteString)};if(a instanceof Ft){const c=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(c))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ug(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof fi)return(function(f,m){return{mapValue:{fields:{[ME]:{stringValue:jE},[zh]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return sg(m.serializer,g)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${rf(a)}`)})(r,e)}function LT(r,e){const n={};return RE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ja(r,((a,o)=>{const c=Uc(o,e.mc(a));c!=null&&(n[a]=c)})),{mapValue:{fields:n}}}function UT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof yt||r instanceof hi||r instanceof wr||r instanceof Ft||r instanceof _f||r instanceof fi)}function Dg(r,e,n){if(!UT(n)||!AE(n)){const a=rf(n);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function bp(r,e,n){if((e=kt(e))instanceof vf)return e._internalPath;if(typeof e=="string")return Og(r,e);throw Kh("Field path arguments must be of type string or ",r,!1,void 0,n)}const x4=new RegExp("[~\\*/\\[\\]]");function Og(r,e,n){if(e.search(x4)>=0)throw Kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new vf(...e.split("."))._internalPath}catch{throw Kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Kh(r,e,n,a,o){const c=a&&!a.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(c||f)&&(p+=" (found",c&&(p+=` in field ${a}`),f&&(p+=` in document ${o}`),p+=")"),new fe(Z.INVALID_ARGUMENT,m+r+p)}function zT(r,e){return r.some((n=>n.isEqual(e)))}class BT{constructor(e,n,a,o,c){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new S4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(qT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class S4 extends BT{data(){return super.data()}}function qT(r,e){return typeof e=="string"?Og(r,e):e instanceof vf?e._internalPath:e._delegate._internalPath}function HT(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new fe(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kg{}class A4 extends kg{}function Um(r,e,...n){let a=[];e instanceof kg&&a.push(e),a=a.concat(n),(function(c){const f=c.filter((p=>p instanceof jg)).length,m=c.filter((p=>p instanceof Mg)).length;if(f>1||f>0&&m>0)throw new fe(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)r=o._apply(r);return r}class Mg extends A4{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new Mg(e,n,a)}_apply(e){const n=this._parse(e);return FT(e._query,n),new Bs(e.firestore,e.converter,cp(e._query,n))}_parse(e){const n=Cg(e.firestore);return(function(c,f,m,p,g,E,w){let S;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new fe(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){eb(w,E);const F=[];for(const Y of w)F.push(Z1(p,c,Y));S={arrayValue:{values:F}}}else S=Z1(p,c,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||eb(w,E),S=w4(m,f,w,E==="in"||E==="not-in");return Jt.create(g,E,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class jg extends kg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new jg(e,n)}_parse(e){const n=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:Lr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let f=o;const m=c.getFlattenedFilters();for(const p of m)FT(f,p),f=cp(f,p)})(e._query,n),new Bs(e.firestore,e.converter,cp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Z1(r,e,n){if(typeof(n=kt(n))=="string"){if(n==="")throw new fe(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!HE(e)&&n.indexOf("/")!==-1)throw new fe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(wt.fromString(n));if(!Se.isDocumentKey(a))throw new fe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return p1(r,new Se(a))}if(n instanceof Ft)return p1(r,n._key);throw new fe(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rf(n)}.`)}function eb(r,e){if(!Array.isArray(r)||r.length===0)throw new fe(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FT(r,e){const n=(function(o,c){for(const f of o)for(const m of f.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class N4{convertValue(e,n="none"){switch(Ka(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return Ja(e,((o,c)=>{a[o]=this.convertValue(c,n)})),a}convertVectorValue(e){const n=e.fields?.[zh].arrayValue?.values?.map((a=>Ht(a.doubleValue)));return new fi(n)}convertGeoPoint(e){return new hi(Ht(e.latitude),Ht(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=of(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(vc(e));default:return null}}convertTimestamp(e){const n=$a(e);return new yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=wt.fromString(e);st(hT(a),9688,{name:e});const o=new _c(a.get(1),a.get(3)),c=new Se(a.popFirst(5));return o.isEqual(n)||Qi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function GT(r,e,n){let a;return a=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,a}class ac{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Rs extends BT{constructor(e,n,a,o,c,f){super(e,n,a,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(qT("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Rs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Rs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Rs._jsonSchema={type:Zt("string",Rs._jsonSchemaVersion),bundleSource:Zt("string","DocumentSnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class Rh extends Rs{data(e={}){return super.data(e)}}class Cs{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new ac(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new Rh(this._firestore,this._userDataWriter,a.key,a,new ac(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new Rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ac(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const p=new Rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ac(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:R4(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Cs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=eg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function R4(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:r})}}function C4(r){r=Vr(r,Ft);const e=Vr(r.firestore,Vs);return f4(Lc(e),r._key).then((n=>$T(e,r,n)))}Cs._jsonSchemaVersion="firestore/querySnapshot/1.0",Cs._jsonSchema={type:Zt("string",Cs._jsonSchemaVersion),bundleSource:Zt("string","QuerySnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class Vg extends N4{constructor(e){super(),this.firestore=e}convertBytes(e){return new wr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,n)}}function tb(r){r=Vr(r,Bs);const e=Vr(r.firestore,Vs),n=Lc(e),a=new Vg(e);return HT(r._query),d4(n,r._query).then((o=>new Cs(e,a,r,o)))}function Bo(r,e,n){r=Vr(r,Ft);const a=Vr(r.firestore,Vs),o=GT(r.converter,e,n);return YT(a,[PT(Cg(a),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,xr.none())])}function I4(r,...e){r=kt(r);let n={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||J1(e[a])||(n=e[a++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(J1(e[a])){const p=e[a];e[a]=p.next?.bind(p),e[a+1]=p.error?.bind(p),e[a+2]=p.complete?.bind(p)}let c,f,m;if(r instanceof Ft)f=Vr(r.firestore,Vs),m=lf(r._key.path),c={next:p=>{e[a]&&e[a]($T(f,r,p))},error:e[a+1],complete:e[a+2]};else{const p=Vr(r,Bs);f=Vr(p.firestore,Vs),m=p._query;const g=new Vg(f);c={next:E=>{e[a]&&e[a](new Cs(f,g,p,E))},error:e[a+1],complete:e[a+2]},HT(r._query)}return(function(g,E,w,S){const j=new Ng(S),F=new xg(E,j,w);return g.asyncQueue.enqueueAndForget((async()=>Eg(await Qh(g),F))),()=>{j.Nu(),g.asyncQueue.enqueueAndForget((async()=>Tg(await Qh(g),F)))}})(Lc(f),m,o,c)}function YT(r,e){return(function(a,o){const c=new Fi;return a.asyncQueue.enqueueAndForget((async()=>e4(await h4(a),o,c))),c.promise})(Lc(r),e)}function $T(r,e,n){const a=n.docs.get(e._key),o=new Vg(r);return new Rs(r,o,e._key,a,new ac(n.hasPendingWrites,n.fromCache),e.converter)}class D4{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Cg(e)}set(e,n,a){this._verifyNotCommitted();const o=zm(e,this._firestore),c=GT(o.converter,n,a),f=PT(this._dataReader,"WriteBatch.set",o._key,c,o.converter!==null,a);return this._mutations.push(f.toMutation(o._key,xr.none())),this}update(e,n,a,...o){this._verifyNotCommitted();const c=zm(e,this._firestore);let f;return f=typeof(n=kt(n))=="string"||n instanceof vf?T4(this._dataReader,"WriteBatch.update",c._key,n,a,o):E4(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(f.toMutation(c._key,xr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=zm(e,this._firestore);return this._mutations=this._mutations.concat(new og(n._key,xr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new fe(Z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function zm(r,e){if((r=kt(r)).firestore!==e)throw new fe(Z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function Ep(){return new Ig("serverTimestamp")}function Tp(r){return Lc(r=Vr(r,Vs)),new D4(r,(e=>YT(r,e)))}(function(e,n=!0){(function(o){Ko=o})(Qo),Os(new Ga("firestore",((a,{instanceIdentifier:o,options:c})=>{const f=a.getProvider("app").getImmediate(),m=new Vs(new bR(a.getProvider("auth-internal")),new wR(f,a.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new fe(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _c(g.options.projectId,E)})(f,o),f);return c={useFetchStreams:n,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),ai(n1,r1,e),ai(n1,r1,"esm2020")})();var O4="firebase",k4="12.7.0";ai(O4,k4,"app");const QT="functions";class M4{constructor(e,n,a,o){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Gn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=a.getImmediate({optional:!0}),this.auth||n.get().then(c=>this.auth=c,()=>{}),this.messaging||a.get().then(c=>this.messaging=c,()=>{}),this.appCheck||o?.get().then(c=>this.appCheck=c,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),a=await this.getMessagingToken(),o=await this.getAppCheckToken(e);return{authToken:n,messagingToken:a,appCheckToken:o}}}const wp="us-central1";class j4{constructor(e,n,a,o,c=wp,f=(...m)=>fetch(...m)){this.app=e,this.fetchImpl=f,this.emulatorOrigin=null,this.contextProvider=new M4(e,n,a,o),this.cancelAllRequests=new Promise(m=>{this.deleteService=()=>Promise.resolve(m())});try{const m=new URL(c);this.customDomain=m.origin+(m.pathname==="/"?"":m.pathname),this.region=wp}catch{this.customDomain=null,this.region=c}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function V4(r,e,n){const a=Ps(e);r.emulatorOrigin=`http${a?"s":""}://${e}:${n}`,a&&(zp(r.emulatorOrigin+"/backends"),Bp("Functions",!0))}const nb="@firebase/functions",rb="0.13.1";const P4="auth-internal",L4="app-check-internal",U4="messaging-internal";function z4(r){const e=(n,{instanceIdentifier:a})=>{const o=n.getProvider("app").getImmediate(),c=n.getProvider(P4),f=n.getProvider(U4),m=n.getProvider(L4);return new j4(o,c,f,m,a)};Os(new Ga(QT,e,"PUBLIC").setMultipleInstances(!0)),ai(nb,rb,r),ai(nb,rb,"esm2020")}function B4(r=Fp(),e=wp){const a=Zh(kt(r),QT).getImmediate({identifier:e}),o=Nb("functions");return o&&q4(a,...o),a}function q4(r,e,n){V4(kt(r),e,n)}z4();let H4=typeof __firebase_config<"u"?JSON.parse(__firebase_config):{apiKey:"AIzaSyDTcSIPkEt2dtyAmlcC1xFVuZ68e8y1SKM",authDomain:"momentum-fitness-ai.firebaseapp.com",projectId:"momentum-fitness-ai",storageBucket:"momentum-fitness-ai.firebasestorage.app",messagingSenderId:"335276198384",appId:"1:335276198384:web:ac58a4771d605892203535",measurementId:"G-9DJX8R1NX8"},ph,zi,za,F4;try{ph=Ob(H4),zi=gR(ph),za=g4(ph),F4=B4(ph,"us-central1")}catch(r){console.error("Critical Error initializing Firebase:",r)}const Xh={es:{lang:"es",appTitle:"Momentum",warmupTitle:"Calentamiento",warmupDesc:"Prepara tu cuerpo para el mximo rendimiento y previene lesiones.",cooldownTitle:"Enfriamiento",cooldownDesc:"Ayuda a tu cuerpo a recuperarse y mejorar la flexibilidad.",startMain:"COMENZAR",finishComplete:"FINALIZAR"},en:{lang:"en",appTitle:"Momentum",warmupTitle:"Warm-up",warmupDesc:"Prepare your body for peak performance and prevent injuries.",cooldownTitle:"Cooldown",cooldownDesc:"Help your body recover and improve flexibility.",startMain:"START",finishComplete:"FINISH"}},G4=(r,e)=>{let n=60;const a=r?.mainGoal||"";if(a.includes("Fuerza")||a.includes("Strength")?n=180:a.includes("Hipertrofia")||a.includes("Hypertrophy")?n=90:(a.includes("Grasa")||a.includes("Cardio")||a.includes("Fat"))&&(n=45),e?.tipo_bloque==="superserie"&&(a.includes("Fuerza")||a.includes("Strength")?n=180:n=60),e?.tipo_bloque!=="superserie"){const o=parseFloat(r?.bioage?.hrr)||0,c=parseFloat(r?.bioage?.vo2max)||0;o>30&&c>45&&(n-=15)}return Math.max(30,n)},Y4=(r,e=28)=>{if(!r)return null;const n=new Date(r);if(isNaN(n.getTime()))return null;const o=Math.abs(new Date-n),f=Math.ceil(o/(1e3*60*60*24))%e||e;return f>=1&&f<=5?{phase:"menstrual",day:f,label:"Menstrual",desc:"Energa baja. Recuperacin."}:f>=6&&f<=13?{phase:"follicular",day:f,label:"Folicular",desc:"Energa alta. Fuerza."}:f>=14&&f<=16?{phase:"ovulation",day:f,label:"Ovulacin",desc:"Pico de Fuerza."}:{phase:"luteal",day:f,label:"Ltea",desc:"Energa moderada."}},$4=r=>{const e=Math.floor(r/60),n=r%60;return`${e}:${n.toString().padStart(2,"0")}`},Bi=r=>{if(!r)return"";let e=r,n;const a=/^(?:Superserie:?|Serie\s?\w+|[A-Z]\d+[:.)-]?|[A-Z][:.)-]|\d+[:.)-])\s*/i;do n=e,e=e.replace(a,"").replace(/^[A-Z]\d+\s+/,"").trim();while(e!==n&&e.length>0);return e},KT=r=>{if(!r)return"Entrenamiento";let e=r.replace(/^(?:Lunes|Martes|Mircoles|Miercoles|Jueves|Viernes|Sbado|Sabado|Domingo)(?:\s*[:,-])?\s*/i,"");return e=e.replace(/^(?:Da|Dia)\s*\d+\s*[:,-]?\s*/i,""),e.trim()||"Entrenamiento"},Bm=r=>{if(!r)return"--";let e=r.replace(/segundos?|segun\w*/gi,"seg").replace(/minutos?|mins?/gi,"min");if(/min|seg|sec|m\b|s\b/i.test(e))return e.substring(0,8);const n=e.match(/\d+/);return n?n[0]:"--"},qm=r=>{if(!r||/PC|Bodyweight/i.test(r))return"BW";if(r.includes("%")||/Nvl/i.test(r))return r.substring(0,6);const e=r.match(/[\d.]+/);return e?`${e[0]} kg`:"BW"},XT={type:"OBJECT",properties:{tipo_bloque:{type:"STRING",enum:["normal","superserie"]},ejercicio:{type:"STRING"},tecnica_general:{type:"STRING"},componentes:{type:"ARRAY",items:{type:"OBJECT",properties:{numero_serie:{type:"INTEGER"},repeticiones_ejercicio:{type:"STRING"},carga_sugerida:{type:"STRING"},repeticiones_ejercicioA:{type:"STRING"},carga_sugeridaA:{type:"STRING"},repeticiones_ejercicioB:{type:"STRING"},carga_sugeridaB:{type:"STRING"},completado:{type:"BOOLEAN",default:!1}},required:["numero_serie"]}}},required:["tipo_bloque","ejercicio","componentes","tecnica_general"]},Q4="AIzaSyC168hQr_3MAlid9sSwOFAKxim0kCg4F5w";async function Pg(r){const{userQuery:e,contextType:n,profile:a,historyContext:o,language:c,extraConstraints:f,schema:m,responseKey:p}=r,g=c==="en"?"RESPOND IN ENGLISH.":"RESPONDE EN ESPAOL.",E=a.bioage||{},w=parseFloat(a.weight)||70,S=parseFloat(E.sq1rm)||0;S>0||Math.round(w*(a.gender==="Hombre"?1.2:.8));let j="";if(n==="BIOAGE_ANALYSIS")j=`Eres Especialista Clnico. ${g}. Calcula edad biolgica basada en ${a.age} aos, VO2Max ${E.vo2max}, Fuerza ${E.sq1rm}. Si faltan datos, estima con lo disponible.`;else{const U=[];S>1.5*w&&E.plank>0&&E.plank<45&&U.push("RIESGO LUMBAR (Fuerza > Estabilidad): Sustituir Sentadilla pesada por variantes unilaterales.");const K=a.gender==="Hombre"?15:10;E.pushups>0&&E.pushups<K&&U.push("DFICIT RESISTENCIA EMPUJE: Priorizar volumen en empuje.");const re=U.length>0?`
- Datos Clnicos Adicionales: 
${U.map(ce=>`  - ${ce}`).join(`
`)}`:`
- Datos Clnicos Adicionales: Perfil saludable.`,se=Array.isArray(o)?o.join(`
`):o||"Sin historial.";j=`Eres "FitCoach AI", un experto en fitness y ciencias del deporte. ${g}
Tu misin es crear rutinas de entrenamiento seguras, efectivas y basadas en evidencia cientfica.
Debes basar tus recomendaciones en los principios de entrenamiento de fuerza y acondicionamiento de organizaciones reconocidas como la NSCA (National Strength and Conditioning Association) y el ACSM (American College of Sports Medicine).

**Contexto del Atleta:**
- Perfil: ${a.gender}, ${a.age} aos, ${w}kg.
- Objetivo Principal: ${a.mainGoal}.
- Nivel de Experiencia (Estimado): Basado en el historial y fuerza base.
- Lesiones a considerar: ${a.injuries||"Ninguna"}.
- Tiempo por sesin: ${a.timeAvailable} min.
- Historial de Entrenamiento y Feedback: ${se}
- Restricciones Adicionales: ${f||"Ninguna"}
${re}

**INSTRUCCIONES CLAVE:**
1.  **Metodologa Cientfica:** La rutina debe seguir una progresin lgica. Prioriza ejercicios compuestos multiarticulares y complemntalos con ejercicios de aislamiento segn el objetivo. Incluye calentamiento, parte principal y enfriamiento.
2.  **No Alucinar:** No inventes ejercicios. Usa nombres de ejercicios reales y reconocidos. Si un ejercicio tiene variantes, especifcala (ej: "Sentadilla Blgara" en vez de solo "Sentadilla").
3.  **Duracin Precisa:** La duracin total de la sesin debe ser lo ms cercana posible a los ${a.timeAvailable} minutos especificados.

**REGLAS DE FORMATO DE SALIDA:**
- La respuesta DEBE ser un objeto JSON estricto y vlido.
- Para superseries, el campo "ejercicio" DEBE usar el formato "A1: [Nombre Ejercicio 1] + A2: [Nombre Ejercicio 2]".
- La carga debe estar en kg y las repeticiones deben ser numricas.`}const F=[{version:"v1beta",model:"gemini-2.5-flash-preview-09-2025"},{version:"v1beta",model:"gemini-1.5-flash"},{version:"v1beta",model:"gemini-1.5-flash-latest"},{version:"v1beta",model:"gemini-1.5-pro"},{version:"v1",model:"gemini-pro"}];let Y=null;for(const U of F){const{version:K,model:re}=U,se=`https://generativelanguage.googleapis.com/${K}/models/${re}:generateContent?key=${Q4}`;let ce={contents:[{parts:[{text:e}]}],generationConfig:{temperature:.7}};K==="v1beta"?(ce.systemInstruction={parts:[{text:j}]},ce.generationConfig.responseMimeType="application/json",m&&(ce.generationConfig.responseSchema=m)):ce.contents[0].parts[0].text=`${j}

User Request: ${e}

RESPOND STRICTLY IN JSON.`;try{console.log(`Attempting Client-Side AI call: ${K}/${re}`);const ge=await fetch(se,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ce)});if(!ge.ok){const k=await ge.text(),D=`Gemini API Error ${ge.status} for ${K}/${re}: ${k}`;console.warn(D),Y=new Error(D);continue}const C=(await ge.json()).candidates?.[0]?.content?.parts?.[0]?.text;if(!C)throw new Error("AI returned empty response.");let A=C;A.includes("```json")?A=A.split("```json")[1].split("```")[0]:A.includes("```")&&(A=A.split("```")[1].split("```")[0]);const R=JSON.parse(A);return p?R[p]:R}catch(ge){console.error(`Error with ${K}/${re}:`,ge),Y=ge}}throw Y||new Error("All AI models failed. Please check API Key permissions.")}async function K4(r,e,n){const a=`Genera un nuevo plan semanal de ${r.daysPerWeek} das.`;return await Pg({userQuery:a,contextType:"WEEKLY_PLAN",profile:r,historyContext:e,language:n,schema:{type:"OBJECT",properties:{planSemanal:{type:"ARRAY",items:{type:"OBJECT",properties:{diaEnfoque:{type:"STRING"},descripcionBreve:{type:"STRING"},duracionEstimada:{type:"STRING"},calentamiento:{type:"STRING"},rutinaPrincipal:{type:"ARRAY",items:XT},enfriamiento:{type:"STRING"},consejoPro:{type:"STRING"}},required:["diaEnfoque","descripcionBreve","rutinaPrincipal","enfriamiento","consejoPro","duracionEstimada"]}}}},responseKey:"planSemanal"})}async function X4(r,e,n,a){const{newFocus:o,newTime:c,noEquipment:f}=n,m=`Nuevo Enfoque: ${o}. TIEMPO: ${c} min. ${f?"Sin Equipo":"Con Equipo"}.`,p={...r,timeAvailable:c},g=`Ajusta esta rutina: ${JSON.stringify(e)}.`;return await Pg({userQuery:g,contextType:"SESSION_ADJUSTMENT",profile:p,historyContext:[],language:a,extraConstraints:m,schema:{type:"OBJECT",properties:{diaEnfoque:{type:"STRING"},descripcionBreve:{type:"STRING"},duracionEstimada:{type:"STRING"},calentamiento:{type:"STRING"},rutinaPrincipal:{type:"ARRAY",items:XT},enfriamiento:{type:"STRING"},consejoPro:{type:"STRING"}},required:["diaEnfoque","rutinaPrincipal"]}})}async function W4(r,e){return await Pg({userQuery:"Analiza mi edad biolgica",contextType:"BIOAGE_ANALYSIS",profile:r,language:e,schema:{type:"OBJECT",properties:{edadBiologica:{type:"INTEGER"},diferencia:{type:"INTEGER"},evaluacion:{type:"STRING"}},required:["edadBiologica","evaluacion"]}})}const WT=(typeof __app_id<"u"?__app_id:"momentum-fitness-ai").replace(/[\/.]/g,"_"),J4=r=>{const[e,n]=W.useState(null),[a,o]=W.useState(!1),[c,f]=W.useState(!1),[m,p]=W.useState(null);W.useEffect(()=>{const Y=iN(zi,U=>{n(U?U.uid:null),o(U?U.isAnonymous:!1),f(!0)});return()=>Y()},[]);const g=W.useCallback(async(Y,U)=>{p(null);try{await tN(zi,Y,U)}catch(K){console.error("Sign-in error:",K.code),["auth/user-not-found","auth/wrong-password","auth/invalid-credential"].includes(K.code)?p(r.errorInvalidCreds):p(r.errorAuth)}},[r]),E=W.useCallback(async(Y,U)=>{p(null);try{await eN(zi,Y,U)}catch(K){console.error("Sign-up error:",K.code),p(K.code==="auth/email-already-in-use"?r.errorEmailInUse:r.errorAuth)}},[r]),w=W.useCallback(async()=>{p(null);try{await $A(zi)}catch(Y){console.error("Anonymous sign-in error:",Y),p(r.errorAuth)}},[r]),S=W.useCallback(async()=>{p(null);try{await aN(zi)}catch(Y){console.error("Sign-out error:",Y),p(r.errorAuth)}},[r]),j=W.useCallback(async(Y,U)=>{if(!zi.currentUser)throw new Error("No user is currently signed in.");const K=Ls.credential(Y,U);await JA(zi.currentUser,K)},[]),F=W.useCallback(async Y=>{await ZA(zi,Y)},[]);return{userId:e,isAnonymous:a,isAuthReady:c,authError:m,setAuthError:p,handleSignIn:g,handleSignUp:E,handleAnonymousSignIn:w,handleSignOut:S,handleLinkAccount:j,handlePasswordReset:F}},Z4=(r,e,n)=>{const a={gender:"Hombre",age:30,height:175,weight:75,bodyFat:15,muscleMass:40,daysPerWeek:3,mainGoal:"Perder grasa corporal",experienceLevel:"Intermedio",injuries:"",muscleFocus:"recomendado",timeAvailable:45,currentPlanId:null,bioage:{},bioageEstimation:null,menstrualCycle:{lastPeriod:"",cycleLength:28}},[o,c]=W.useState(a),[f,m]=W.useState(null),[p,g]=W.useState(null),[E,w]=W.useState(!1),S=W.useMemo(()=>r&&za?zo(za,"artifacts",WT,"users",r,"profile","userProfile"):null,[r]);W.useEffect(()=>{if(!e||!r||!S){c(a);return}let U=!0;return(async()=>{try{const re=await C4(S);if(U)if(re.exists()){const se=re.data();c(ce=>({...a,...se,bioage:se.bioage||{},bioageEstimation:se.bioageEstimation||null,menstrualCycle:se.menstrualCycle||{lastPeriod:"",cycleLength:28}}))}else await Bo(S,a),c(a)}catch(re){console.error("Error fetching profile:",re)}})(),()=>{U=!1}},[e,r,S]);const j=U=>{const{name:K,value:re,type:se}=U.target;c(ce=>{let ge=re;return K==="bioage"||K==="menstrualCycle"?{...ce,[K]:re}:(K==="daysPerWeek"&&re!==""?ge=Math.max(1,Math.min(7,parseInt(re,10)||1)):se==="number"&&(ge=re===""?"":parseFloat(re)),{...ce,[K]:ge})})},F=W.useCallback(async U=>{if(S){g(null),m(null);try{await Bo(S,U,{merge:!0}),m(n.msgProfileSaved)}catch{g(n.errorSave)}setTimeout(()=>{m(null),g(null)},3e3)}},[S,n]),Y=W.useCallback(async(U,K)=>{w(!0),g(null);try{const re=await W4(U,K),se={...U,bioageEstimation:re};c(se),S&&await Bo(S,{bioageEstimation:re},{merge:!0})}catch(re){console.error(re),g("Error al calcular BioAge.")}finally{w(!1)}},[S]);return{profile:o,setProfile:c,handleProfileChange:j,handleProfileSave:F,handleAnalyzeBioage:Y,bioageLoading:E,profileSuccess:f,profileError:p,profileDocRef:S}},eD=(r,e,n,a,o,c,f,m,p,g,E,w)=>{const[S,j]=W.useState([]),F=W.useMemo(()=>r&&za?p4(za,"artifacts",WT,"users",r,"routines"):null,[r]);return W.useEffect(()=>{if(!e||!r||!F){j([]);return}let K=!0;const re=I4(Um(F),se=>{if(K){const ce=se.docs.map(ge=>({id:ge.id,...ge.data()}));j(ce)}},se=>{console.error(se)});return()=>{K=!1,re()}},[e,r,F]),{history:S,setHistory:j,handleGenerateWeeklyPlan:async K=>{if(!F||!g)return;c(!0),m(null),w(0);const re=[a.analyzing,a.designing,a.optimizing,a.finalizing];let se=0;o(re[se]);const ce=setInterval(()=>{se=(se+1)%re.length,o(re[se]),w(ge=>Math.min(ge+10,90))},2500);try{const ge=S.filter(N=>N.status==="completed").slice(0,5),be=await K4(n,ge,K);if(clearInterval(ce),w(100),!be||!Array.isArray(be)||be.length===0)throw new Error("La IA no gener un plan vlido. Por favor, intntalo de nuevo.");o(a.processing);const C=Tp(za);(await tb(Um(F))).docs.forEach(N=>{N.data().status!=="completed"&&C.delete(N.ref)}),await C.commit();const R=`plan_${Date.now()}`,k=Tp(za);be.forEach((N,we)=>{const Ue=zo(F);k.set(Ue,{...N,planId:R,weekDay:we,status:"pending",createdAt:Ep()})}),await Bo(g,{currentPlanId:R},{merge:!0}),k.commit(),E(N=>({...N,currentPlanId:R}));const V=(await tb(Um(F))).docs.map(N=>({id:N.id,...N.data()}));j(V),f(a.msgPlanGen)}catch(ge){console.error("Error generating weekly plan:",ge);const be=ge.message.includes("La IA no gener")?ge.message:a.errorSave;m(be),clearInterval(ce),w(0)}finally{c(!1),o(""),setTimeout(()=>f(null),3500)}},handleAdjustNextSession:async(K,re,se)=>{if(!(!F||!re)){c(!0),m(null),o(a.recalcParams);try{const ce=await X4(n,re,se,K);if(!ce||typeof ce!="object"||!ce.rutinaPrincipal)throw new Error("La IA no gener un ajuste vlido. Por favor, intntalo de nuevo.");const ge=zo(F,re.id);await Bo(ge,{...ce,status:"pending",modifiedAt:Ep()},{merge:!0}),p(!1),f(a.msgSessionUpd)}catch(ce){console.error("Error adjusting session:",ce);const ge=ce.message.includes("La IA no gener")?ce.message:a.errorSave;m(ge)}finally{c(!1),o(""),setTimeout(()=>f(null),3e3)}}},routinesColRef:F}},tD=()=>{const[r,e]=W.useState("es"),n=W.useMemo(()=>Xh[r]||Xh.es,[r]),[a,o]=W.useState("training"),[c,f]=W.useState("main"),[m,p]=W.useState(null),[g,E]=W.useState(!0),[w,S]=W.useState(""),[j,F]=W.useState(!1),[Y,U]=W.useState(null),[K,re]=W.useState(!1),[se,ce]=W.useState(!1),[ge,be]=W.useState(0),{userId:C,isAnonymous:A,isAuthReady:R,authError:k,setAuthError:D,handleSignIn:V,handleSignUp:N,handleAnonymousSignIn:we,handleSignOut:Ue,handleLinkAccount:H,handlePasswordReset:ae}=J4(n),{profile:ue,setProfile:Ne,handleProfileChange:Ae,handleProfileSave:O,handleAnalyzeBioage:Q,bioageLoading:oe,profileSuccess:ne,profileError:de,profileDocRef:Te}=Z4(C,R,n),[ie,me]=W.useState(null),{history:ve,setHistory:Je,handleGenerateWeeklyPlan:It,handleAdjustNextSession:en,routinesColRef:jt}=eD(C,R,ue,n,S,F,U,me,re,Te,Ne,be),[Qe,an]=W.useState(null),[ht,En]=W.useState(!1),[sr,ft]=W.useState(0),[vt,tn]=W.useState(0),[$n,Cn]=W.useState(!1),Dt=W.useRef(null),In=W.useRef(null),[pi,gi]=W.useState(!1),or=W.useRef(null),[yi,Ur]=W.useState(!1),[vi,ta]=W.useState(""),[Ut,Ot]=W.useState(null),[Tn,_t]=W.useState(!1),_i=W.useMemo(()=>ve.find(Oe=>Oe.id===m),[ve,m]),lr=W.useMemo(()=>ie||de,[ie,de]);W.useEffect(()=>{if(R){const Oe=setTimeout(()=>E(!1),1200);return()=>clearTimeout(Oe)}},[R]),W.useEffect(()=>{!C&&R&&(o("training"),f("main"),p(null))},[C,R]);const na=Oe=>gi(Oe.target.scrollTop>20),Dn=()=>e(Oe=>Oe==="es"?"en":"es"),Sr=W.useCallback(async(Oe,We)=>{an(null);try{return await H(Oe,We),!0}catch(et){return console.error("Link account error:",et.code),et.code==="auth/email-already-in-use"?an(n.errorEmailInUse):["auth/invalid-credential","auth/wrong-password"].includes(et.code)?an(n.errorInvalidCreds):an(n.errorAuth),!1}},[n,H]),xt=W.useCallback(async Oe=>{D(null);try{return await ae(Oe),!0}catch(We){return console.error("Password reset error:",We.code),We.code==="auth/user-not-found"?D(n.errorInvalidCreds):D(n.errorAuth),!1}},[n,ae,D]),bt=W.useCallback(()=>{A?ce(!0):Ue()},[A,Ue]),Et=W.useCallback(()=>{ce(!1),Ue()},[Ue]),sn=W.useCallback(Oe=>{Oe&&Oe.id&&(p(Oe.id),f("routine"),En(!0))},[]),Ze=W.useCallback(()=>{f("main"),p(null),En(!1),Cn(!1),tn(0),ft(0)},[]),hn=W.useCallback(async(Oe,We,et,Ke)=>{if(!jt||!Oe){Ze();return}const on={status:"completed",completedAt:new Date,feedback:We,notes:et,mode:Ke,completedOnDay:(new Date().getDay()+6)%7};Je(Ie=>Ie.map(tt=>tt.id===Oe?{...tt,...on,completedAt:yt.fromDate(on.completedAt)}:tt)),Ze(),U(n.msgSessionReg),setTimeout(()=>U(null),3e3);try{const Ie=zo(jt,Oe);await Bo(Ie,{...on,completedAt:Ep()},{merge:!0})}catch(Ie){console.error("Error saving feedback to Firebase:",Ie),me(n.errorHistorySave),Je(tt=>tt.map(ot=>ot.id===Oe?{...ot,status:"pending",completedAt:null,feedback:null,notes:null,mode:null}:ot)),setTimeout(()=>me(null),4e3)}},[jt,Ze,Je,n,me,U]),jn=W.useCallback(Oe=>{if(clearInterval(In.current),Oe){const We=G4(ue,Oe);tn(We),Cn(!0)}else Cn(!1),tn(0)},[ue]);W.useEffect(()=>(ht?Dt.current=setInterval(()=>{ft(Oe=>Oe+1)},1e3):clearInterval(Dt.current),()=>clearInterval(Dt.current)),[ht]),W.useEffect(()=>($n&&ht?In.current=setInterval(()=>{tn(Oe=>Oe<=1?(clearInterval(In.current),Cn(!1),0):Oe-1)},1e3):(clearInterval(In.current),vt>0&&(tn(0),Cn(!1))),()=>clearInterval(In.current)),[$n,ht]);const Qn=W.useCallback(()=>O(ue),[O,ue]),bi=W.useCallback(()=>It(r),[It,r]),cr=W.useCallback(()=>Q(ue,r),[Q,ue,r]),Ar=W.useCallback((Oe,We)=>en(r,Oe,We),[en,r]),ur=W.useCallback(()=>{Ot(JSON.stringify({profile:ue,history:ve},null,2))},[ue,ve]),Kn=()=>Ot(null),On=W.useCallback(()=>{Ut&&navigator.clipboard.writeText(Ut).then(()=>{_t(!0),setTimeout(()=>_t(!1),2e3)})},[Ut]),zr=W.useCallback(async Oe=>{try{const We=JSON.parse(Oe);if(!We.profile||!We.history)throw new Error("Invalid backup format.");if(await O(We.profile),jt){const et=Tp(za);We.history.forEach(Ke=>{const on=Ke.id?zo(jt,Ke.id):zo(jt);Ke.createdAt&&!Ke.createdAt.seconds&&(Ke.createdAt=yt.fromDate(new Date(Ke.createdAt))),Ke.completedAt&&!Ke.completedAt.seconds&&(Ke.completedAt=yt.fromDate(new Date(Ke.completedAt))),et.set(on,Ke,{merge:!0})}),await et.commit()}Ur(!1)}catch(We){ta(`Error: ${We.message}`)}},[jt,O]);return{t:n,activeTab:a,view:c,currentRoutine:_i,showSplash:g,scrolled:pi,headerRef:or,isImportModalOpen:yi,importTextError:vi,backupJson:Ut,copySuccess:Tn,isSessionActive:ht,sessionSeconds:sr,restSeconds:vt,progressText:w,loading:j,successMessage:Y,showAdjustment:K,userId:C,isAuthReady:R,authError:k,isAnonymous:A,linkAccountError:Qe,isSignOutWarningVisible:se,profile:ue,bioageLoading:oe,profileSuccess:ne,profileError:de,history:ve,generationProgress:ge,error:lr,toggleLanguage:Dn,setActiveTab:o,handleScroll:na,setProgressText:S,setShowAdjustment:re,setAuthError:D,setIsSignOutWarningVisible:ce,onSignIn:V,onSignUp:N,onAnonymousSignIn:we,onSignOutRequest:bt,onForceSignOut:Et,onLinkAccount:Sr,onPasswordReset:xt,handleViewRoutine:sn,handleBackToMain:Ze,handleRoutineFeedback:hn,handleExerciseComplete:jn,setRestSeconds:tn,setIsSessionActive:En,onProfileChange:Ae,onProfileSave:Qn,onAnalyzeBioage:cr,onGeneratePlan:bi,onGeneratePlan:bi,onAdjustNextSession:Ar,onGenerateBackup:ur,onCloseBackupModal:Kn,onCopyToClipboard:On,setIsImportModalOpen:Ur,onImportFromText:zr}};const nD=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rD=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,a)=>a?a.toUpperCase():n.toLowerCase()),ib=r=>{const e=rD(r);return e.charAt(0).toUpperCase()+e.slice(1)},JT=(...r)=>r.filter((e,n,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===n).join(" ").trim(),iD=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var aD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const sD=W.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:f,...m},p)=>W.createElement("svg",{ref:p,...aD,width:e,height:e,stroke:r,strokeWidth:a?Number(n)*24/Number(e):n,className:JT("lucide",o),...!c&&!iD(m)&&{"aria-hidden":"true"},...m},[...f.map(([g,E])=>W.createElement(g,E)),...Array.isArray(c)?c:[c]]));const _e=(r,e)=>{const n=W.forwardRef(({className:a,...o},c)=>W.createElement(sD,{ref:c,iconNode:e,className:JT(`lucide-${nD(ib(r))}`,`lucide-${r}`,a),...o}));return n.displayName=ib(r),n};const oD=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],lD=_e("activity",oD);const cD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],uD=_e("arrow-left",cD);const hD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],fD=_e("arrow-right",hD);const dD=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],mD=_e("brain-circuit",dD);const pD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],ab=_e("calendar-days",pD);const gD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],yD=_e("check",gD);const vD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],_D=_e("chevron-down",vD);const bD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ED=_e("chevron-right",bD);const TD=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],wD=_e("chevron-up",TD);const xD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],SD=_e("circle-check-big",xD);const AD=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],ND=_e("clipboard-list",AD);const RD=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],CD=_e("clipboard",RD);const ID=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],sb=_e("clock",ID);const DD=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],OD=_e("copy",DD);const kD=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],MD=_e("database",kD);const jD=[["path",{d:"m10 16 1.5 1.5",key:"11lckj"}],["path",{d:"m14 8-1.5-1.5",key:"1ohn8i"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993",key:"80uv8i"}],["path",{d:"m16.5 10.5 1 1",key:"696xn5"}],["path",{d:"m17 6-2.891-2.891",key:"xu6p2f"}],["path",{d:"M2 15c6.667-6 13.333 0 20-6",key:"1pyr53"}],["path",{d:"m20 9 .891.891",key:"3xwk7g"}],["path",{d:"M3.109 14.109 4 15",key:"q76aoh"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m7 18 2.891 2.891",key:"1sisit"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993",key:"q3hbxp"}]],VD=_e("dna",jD);const PD=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],LD=_e("download",PD);const UD=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],ob=_e("dumbbell",UD);const zD=[["path",{d:"M12 6a2 2 0 0 1 3.414-1.414l6 6a2 2 0 0 1 0 2.828l-6 6A2 2 0 0 1 12 18z",key:"b19h5q"}],["path",{d:"M2 6a2 2 0 0 1 3.414-1.414l6 6a2 2 0 0 1 0 2.828l-6 6A2 2 0 0 1 2 18z",key:"h7h5ge"}]],BD=_e("fast-forward",zD);const qD=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],HD=_e("file-braces",qD);const FD=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],GD=_e("flame",FD);const YD=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}],["path",{d:"M3.22 13H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"auskq0"}]],$D=_e("heart-pulse",YD);const QD=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],KD=_e("heart",QD);const XD=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],WD=_e("hourglass",XD);const JD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],ZD=_e("info",JD);const e5=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],t5=_e("languages",e5);const n5=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],r5=_e("layers",n5);const i5=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],a5=_e("link-2",i5);const s5=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],o5=_e("link",s5);const l5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],c5=_e("loader-circle",l5);const u5=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],h5=_e("log-out",u5);const f5=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],d5=_e("maximize-2",f5);const m5=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M7 11h10",key:"1twpyw"}],["path",{d:"M7 15h6",key:"d9of3u"}],["path",{d:"M7 7h8",key:"af5zfr"}]],p5=_e("message-square-text",m5);const g5=[["path",{d:"M5 12h14",key:"1ays0h"}]],y5=_e("minus",g5);const v5=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],_5=_e("moon",v5);const b5=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],E5=_e("pause",b5);const T5=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],w5=_e("play",T5);const x5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],S5=_e("plus",x5);const A5=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],N5=_e("refresh-cw",A5);const R5=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],C5=_e("ruler",R5);const I5=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],D5=_e("save",I5);const O5=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M18.944 12.33a1 1 0 0 0 0-.66 7.5 7.5 0 0 0-13.888 0 1 1 0 0 0 0 .66 7.5 7.5 0 0 0 13.888 0",key:"11ak4c"}]],k5=_e("scan-eye",O5);const M5=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],j5=_e("settings",M5);const V5=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],P5=_e("shield-alert",V5);const L5=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ZT=_e("sparkles",L5);const U5=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],z5=_e("star",U5);const B5=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],q5=_e("stethoscope",B5);const H5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],F5=_e("target",H5);const G5=[["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}],["path",{d:"M17 14V2",key:"8ymqnk"}]],Y5=_e("thumbs-down",G5);const $5=[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]],Q5=_e("thumbs-up",$5);const K5=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],X5=_e("timer",K5);const W5=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],J5=_e("toggle-left",W5);const Z5=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],eO=_e("toggle-right",Z5);const tO=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],nO=_e("triangle-alert",tO);const rO=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],iO=_e("trophy",rO);const aO=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],sO=_e("upload",aO);const oO=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],lO=_e("user",oO);const cO=[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]],uO=_e("weight",cO);const hO=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],fO=_e("wind",hO);const dO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],mO=_e("x",dO);const pO=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],gO=_e("youtube",pO);const yO=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],vO=_e("zap",yO),he=({name:r,className:e=""})=>{if(r==="youtube")return y.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17"}),y.jsx("path",{d:"m10 15 5-3-5-3z"})]});const a={dumbbell:ob,list:ND,user:lO,loader:c5,sparkles:ZT,arrowLeft:uD,database:MD,feedback:p5,check:SD,checkSimple:yD,target:F5,upload:sO,download:LD,close:mO,copy:OD,clipboard:CD,moon:_5,calendar:ab,clock:sb,refresh:N5,alert:nO,star:z5,biceps:ob,ruler:C5,weight:uO,activity:lD,flame:GD,play:w5,save:D5,settings:j5,logout:h5,chevronRight:ED,info:ZD,layers:r5,link:o5,plus:S5,timer:X5,toggleOn:eO,toggleOff:J5,lang:t5,chevronDown:_D,chevronUp:wD,heartPulse:$D,shieldAlert:P5,brain:mD,stethoscope:q5,scanEye:k5,fileJson:HD,link2:a5,dna:VD,flower:KD,calendarHeart:ab,hourglass:WD,coffee:sb,arrowRight:fD,zap:vO,trophy:iO,max:d5,youtube:gO,fastForward:BD,thumbsUp:Q5,thumbsDown:Y5,minus:y5,pause:E5,wind:fO}[r];return a?y.jsx(a,{className:`${e}`,strokeWidth:2}):null},_O=({routine:r,onBack:e,routineId:n,onRoutineFeedback:a,lang:o,onExerciseComplete:c,restSeconds:f,setRestSeconds:m,setIsSessionActive:p,isSessionActive:g,sessionSeconds:E})=>{const S=Xh?.[o||"es"]||Xh?.es||{},[j,F]=W.useState("warmup"),[Y,U]=W.useState(0),[K,re]=W.useState(""),[se,ce]=W.useState({}),[ge,be]=W.useState([]),[C,A]=W.useState({}),[R,k]=W.useState(!1),D=f>0;if(!r)return null;const V=r.rutinaPrincipal||[],N=V.length,we=j==="workout"?V[Y]:null,Ue=we?.tipo_bloque==="superserie",H=j==="warmup"?0:j==="cooldown"?100:(Y+1)/N*100,ae=ie=>{if(!ie)return;const me=ie.replace(/^(?:A[1-2]:?|B[1-2]:?|Superserie:?|Serie\s?\w+)\s*/i,"").replace(/\(.*\)/,"").trim(),ve=encodeURIComponent(`${me} tecnica ejercicio`);window.open(`https://www.youtube.com/results?search_query=${ve}`,"_blank","noopener,noreferrer")},ue=ie=>{const me=ie.target.getBoundingClientRect(),ve=Array.from({length:12}).map((Je,It)=>({id:Date.now()+It,x:me.left+me.width/2,y:me.top+me.height/2,tx:(Math.random()-.5)*200,ty:(Math.random()-.5)*200}));be(Je=>[...Je,...ve]),setTimeout(()=>be([]),1e3)},Ne=(ie,me,ve,Je)=>{const It=`${ie}-${me}`,en=!se[It];ce(jt=>({...jt,[It]:en})),en&&(ue(Je),c&&c(ve),m(60))},Ae=()=>{if(j==="warmup"){F("workout");return}if(j==="cooldown"){a?a(n,{sets:se,difficulty:C},K,"hybrid_mode"):(console.warn("onRoutineFeedback no est definido"),e&&e());return}Y<N-1?(U(ie=>ie+1),k(!1)):F("cooldown")},O=()=>{j==="cooldown"?F("workout"):j==="workout"&&(Y>0?U(ie=>ie-1):F("warmup"))},Q=(ie,me)=>{const ve=`${Y}_${ie}`;A(Je=>({...Je,[ve]:me}))},ne=(()=>{if(j!=="workout"||!we)return null;const ie=we.componentes||[];for(let me=0;me<ie.length;me++)if(!se[`${Y}-${me}`])return{type:"set",label:`Serie ${me+1}`,detail:"Mismo ejercicio",isNextEx:!1};if(Y<N-1){const me=V[Y+1];if(me.tipo_bloque==="superserie"){const ve=me.ejercicio.split("+"),Je=Bi(ve[0]||"Ejercicio 1"),It=Bi(ve[1]||"Ejercicio 2");return{type:"superset",label:`${Je} + ${It}`,names:[Je,It],detail:"Superserie: Prepara equipos",isNextEx:!0}}else{const ve=Bi(me.ejercicio);return{type:"exercise",label:ve,names:[ve],detail:"Prepara el equipo",isNextEx:!0}}}return{type:"finish",label:S.cooldownTitle||"Enfriamiento",detail:"Ya casi acabas",isNextEx:!0}})();let de=null,Te=null;if(we)if(Ue){const ie=["+","/",`
`," y "];let me=null;for(const ve of ie)if(we.ejercicio.includes(ve)){me=we.ejercicio.split(ve);break}de=Bi(me?me[0]:we.ejercicio),Te=Bi(me?me[1]:"Parte 2")}else de=Bi(we.ejercicio);return y.jsxs("div",{className:"relative animate-fadeIn min-h-[calc(100vh-140px)] flex flex-col",children:[ge.map(ie=>y.jsx("div",{className:"particle bg-teal-400",style:{left:ie.x,top:ie.y,"--tx":`${ie.tx}px`,"--ty":`${ie.ty}px`}},ie.id)),y.jsxs("div",{className:"mb-4 pt-2",children:[y.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-1 px-1",children:[y.jsx("span",{children:j==="warmup"?S.warmupTitle:j==="cooldown"?S.cooldownTitle:`Ejercicio ${Y+1} de ${N}`}),y.jsx("span",{children:j==="warmup"?"0%":j==="cooldown"?"100%":`${Math.round(H)}%`})]}),y.jsx("div",{className:"h-1.5 w-full bg-slate-800 rounded-full overflow-hidden",children:y.jsx("div",{className:"h-full bg-teal-500 transition-all duration-500 ease-out",style:{width:`${H}%`}})})]}),y.jsx("div",{className:"flex-1 flex flex-col relative pb-32",children:y.jsxs("div",{className:"animate-slideInRight flex-1",children:[j==="warmup"&&y.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center py-10",children:[y.jsx("div",{className:"w-24 h-24 rounded-full bg-orange-500/10 flex items-center justify-center mb-6 animate-pulse",children:y.jsx(he,{name:"flame",className:"w-12 h-12 text-orange-500"})}),y.jsx("h2",{className:"text-3xl font-black text-white mb-2",children:S.warmupTitle}),y.jsx("p",{className:"text-slate-400 text-sm max-w-xs mx-auto mb-8 leading-relaxed",children:r.calentamiento||S.warmupDesc}),y.jsx("button",{onClick:Ae,className:"px-8 py-4 bg-orange-500 hover:bg-orange-400 text-white font-bold rounded-xl shadow-lg shadow-orange-900/30 transition-all",children:S.startMain})]}),j==="cooldown"&&y.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center py-10",children:[y.jsx("div",{className:"w-24 h-24 rounded-full bg-blue-500/10 flex items-center justify-center mb-6 animate-pulse",children:y.jsx(he,{name:"wind",className:"w-12 h-12 text-blue-400"})}),y.jsx("h2",{className:"text-3xl font-black text-white mb-2",children:S.cooldownTitle}),y.jsx("p",{className:"text-slate-400 text-sm max-w-xs mx-auto mb-8 leading-relaxed",children:r.enfriamiento||S.cooldownDesc}),y.jsx("button",{onClick:Ae,className:"px-8 py-4 bg-teal-500 hover:bg-teal-400 text-white font-bold rounded-xl shadow-lg shadow-teal-900/30 transition-all",children:S.finishComplete})]}),j==="workout"&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"mb-6",children:Ue?y.jsxs("div",{className:"bg-slate-800/40 rounded-2xl border border-slate-700/50 overflow-hidden",children:[y.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-slate-800 to-slate-900 border-b border-slate-700",children:[y.jsx("h2",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest",children:"Superserie"}),y.jsxs("button",{onClick:()=>k(!R),className:"flex items-center gap-2 text-teal-400 hover:text-white text-xs font-bold transition-colors",children:[y.jsx(he,{name:"info",className:"w-4 h-4"})," ",y.jsx("span",{children:"TCNICA"})]})]}),y.jsxs("div",{className:"p-4 space-y-4",children:[y.jsxs("div",{className:"flex justify-between items-start gap-3",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("span",{className:"text-[10px] font-black text-cyan-400 bg-cyan-900/20 px-2 py-0.5 rounded border border-cyan-500/20 mb-1 inline-block",children:"A1"}),y.jsx("h3",{className:"text-lg font-black text-white leading-tight",children:de})]}),y.jsx("button",{onClick:ie=>{ie.stopPropagation(),ae(de)},className:"p-2 rounded-lg bg-slate-700 text-red-500 hover:bg-red-600 hover:text-white transition-colors",children:y.jsx(he,{name:"youtube",className:"w-5 h-5"})})]}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"h-px flex-1 bg-slate-700"}),y.jsx("div",{className:"p-1.5 rounded-full bg-slate-700 border border-slate-600",children:y.jsx(he,{name:"link2",className:"w-4 h-4 text-slate-400"})}),y.jsx("div",{className:"h-px flex-1 bg-slate-700"})]}),y.jsxs("div",{className:"flex justify-between items-start gap-3",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("span",{className:"text-[10px] font-black text-blue-400 bg-blue-900/20 px-2 py-0.5 rounded border border-blue-500/20 mb-1 inline-block",children:"A2"}),y.jsx("h3",{className:"text-lg font-black text-white leading-tight",children:Te})]}),y.jsx("button",{onClick:ie=>{ie.stopPropagation(),ae(Te)},className:"p-2 rounded-lg bg-slate-700 text-red-500 hover:bg-red-600 hover:text-white transition-colors",children:y.jsx(he,{name:"youtube",className:"w-5 h-5"})})]})]})]}):y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsx("div",{className:"flex-1 pr-2",children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("h2",{className:"text-3xl md:text-4xl font-black text-white leading-tight",children:de}),y.jsx("button",{onClick:()=>k(!R),className:"text-slate-400 hover:text-white transition-colors mt-1",children:y.jsx(he,{name:"info",className:"w-6 h-6"})})]})}),y.jsx("button",{onClick:ie=>{ie.stopPropagation(),ae(de)},className:"shrink-0 p-3 rounded-xl bg-slate-800 text-red-500 hover:bg-red-600 hover:text-white border border-slate-700 shadow-lg transition-all z-10",children:y.jsx(he,{name:"youtube",className:"w-6 h-6"})})]})}),R&&y.jsxs("div",{className:"mb-6 p-4 bg-slate-800/80 backdrop-blur-md rounded-xl border border-slate-600 text-xs text-slate-200 leading-relaxed animate-fadeIn shadow-xl",children:[y.jsx("h4",{className:"font-bold text-teal-400 mb-1 uppercase tracking-wider",children:"Tcnica & Tips"}),we.tecnica_general]}),y.jsx("div",{className:"bg-slate-900/50 border border-slate-700/50 rounded-2xl overflow-hidden shadow-xl",children:Ue?y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"grid grid-cols-[25px_2fr_2fr_45px] gap-1 bg-slate-800 border-b border-slate-700",children:[y.jsx("div",{className:"bg-slate-900"}),y.jsx("div",{className:"bg-cyan-900/20 text-cyan-400 text-[9px] font-black uppercase tracking-wider py-1 text-center border-r border-slate-700/50 truncate px-1",children:de}),y.jsx("div",{className:"bg-blue-900/20 text-blue-400 text-[9px] font-black uppercase tracking-wider py-1 text-center truncate px-1",children:Te}),y.jsx("div",{className:"bg-slate-900"})]}),y.jsxs("div",{className:"grid grid-cols-[25px_1fr_1fr_1fr_1fr_45px] gap-1 bg-slate-800/80 p-2 text-[8px] font-bold uppercase tracking-wider text-center border-b border-slate-700 text-slate-500",children:[y.jsx("div",{children:"#"}),y.jsx("div",{children:"Reps"}),y.jsx("div",{children:"Kg"}),y.jsx("div",{children:"Reps"}),y.jsx("div",{children:"Kg"}),y.jsx("div",{children:y.jsx(he,{name:"check",className:"w-3 h-3 mx-auto"})})]}),y.jsx("div",{className:"divide-y divide-slate-800/50",children:we.componentes.map((ie,me)=>{const ve=se[`${Y}-${me}`];return y.jsxs("div",{className:`grid grid-cols-[25px_1fr_1fr_1fr_1fr_45px] gap-1 items-center p-2 transition-colors ${ve?"bg-emerald-900/10":""}`,children:[y.jsx("div",{className:"w-6 h-6 rounded-full border border-slate-700 flex items-center justify-center text-[10px] font-bold text-slate-500 bg-slate-900",children:ie.numero_serie}),y.jsx("div",{className:"flex flex-col items-center justify-center h-12 bg-cyan-900/10 rounded border border-cyan-900/20",children:y.jsx("span",{className:"text-base font-black text-cyan-100 tracking-tight",children:Bm(ie.repeticiones_ejercicioA)})}),y.jsx("div",{className:"flex flex-col items-center justify-center h-12 bg-cyan-900/10 rounded border border-cyan-900/20",children:y.jsx("span",{className:"text-base font-black text-cyan-100 tracking-tight",children:qm(ie.carga_sugeridaA)})}),y.jsx("div",{className:"flex flex-col items-center justify-center h-12 bg-blue-900/10 rounded border border-blue-900/20",children:y.jsx("span",{className:"text-base font-black text-blue-100 tracking-tight",children:Bm(ie.repeticiones_ejercicioB)})}),y.jsx("div",{className:"flex flex-col items-center justify-center h-12 bg-blue-900/10 rounded border border-blue-900/20",children:y.jsx("span",{className:"text-base font-black text-blue-100 tracking-tight",children:qm(ie.carga_sugeridaB)})}),y.jsx("button",{onClick:Je=>Ne(Y,me,we,Je),className:`w-10 h-10 rounded-xl flex items-center justify-center transition-all duration-200 border mx-auto ${ve?"bg-emerald-500 border-emerald-500 text-white shadow-[0_0_10px_rgba(16,185,129,0.4)] scale-90":"bg-slate-800 border-slate-600 text-slate-600 hover:border-slate-500 hover:text-slate-400"}`,children:y.jsx(he,{name:"check",className:"w-5 h-5"})})]},me)})})]}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"grid grid-cols-[30px_1fr_1fr_50px] gap-3 bg-slate-800/80 p-3 text-[9px] font-bold text-slate-500 uppercase tracking-wider text-center border-b border-slate-700",children:[y.jsx("div",{children:"#"}),y.jsx("div",{children:"Repeticiones"}),y.jsx("div",{children:"Carga"}),y.jsx("div",{children:y.jsx(he,{name:"check",className:"w-4 h-4 mx-auto"})})]}),y.jsx("div",{className:"divide-y divide-slate-800/50",children:we.componentes.map((ie,me)=>{const ve=se[`${Y}-${me}`];return y.jsxs("div",{className:`grid grid-cols-[30px_1fr_1fr_50px] gap-3 items-center p-3 transition-colors ${ve?"bg-emerald-900/10":""}`,children:[y.jsx("div",{className:"w-6 h-6 rounded-full border border-slate-700 flex items-center justify-center text-[10px] font-bold text-slate-500 bg-slate-900",children:ie.numero_serie}),y.jsx("div",{className:"flex flex-col items-center justify-center h-16 bg-slate-800/50 rounded-xl border border-slate-700/50",children:y.jsx("span",{className:"text-3xl font-black text-white tracking-tighter",children:Bm(ie.repeticiones_ejercicio)})}),y.jsx("div",{className:"flex flex-col items-center justify-center h-16 bg-slate-800/50 rounded-xl border border-slate-700/50",children:y.jsx("span",{className:"text-3xl font-black text-teal-400 tracking-tighter",children:qm(ie.carga_sugerida)})}),y.jsx("button",{onClick:Je=>Ne(Y,me,we,Je),className:`w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-200 border mx-auto ${ve?"bg-emerald-500 border-emerald-500 text-white shadow-[0_0_10px_rgba(16,185,129,0.4)] scale-90":"bg-slate-800 border-slate-600 text-slate-600 hover:border-slate-500 hover:text-slate-400"}`,children:y.jsx(he,{name:"check",className:"w-6 h-6"})})]},me)})})]})})]})]})}),!D&&y.jsx("div",{className:"fixed bottom-6 left-0 right-0 flex justify-center z-50 pointer-events-none px-4",children:y.jsxs("div",{className:"pointer-events-auto flex items-center bg-slate-900/90 backdrop-blur-xl rounded-full border border-slate-700 shadow-2xl shadow-black/50 p-2 gap-4",children:[y.jsxs("div",{className:"flex items-center gap-3 pl-2",children:[y.jsx("button",{onClick:O,className:"p-3 text-slate-400 hover:text-white transition-colors active:scale-95 rounded-full hover:bg-slate-800/50",children:y.jsx(he,{name:"arrowLeft",className:"w-5 h-5"})}),y.jsx("button",{onClick:()=>p(!g),className:`p-4 rounded-full shadow-lg transition-all active:scale-95 flex items-center justify-center ${g?"bg-slate-700 text-slate-300":"bg-amber-500 text-white shadow-amber-500/30"}`,children:y.jsx(he,{name:g?"pause":"play",className:"w-6 h-6 fill-current"})}),y.jsx("button",{onClick:Ae,className:`group relative p-3 rounded-full transition-all active:scale-95 ${j==="cooldown"?"text-teal-400 hover:text-teal-300":"text-slate-400 hover:text-white"} hover:bg-slate-800/50`,children:y.jsx(he,{name:j==="cooldown"?"check":"arrowRight",className:"w-5 h-5"})})]}),y.jsx("div",{className:"w-px h-8 bg-slate-700/50"}),y.jsxs("div",{className:"flex items-center gap-2 pr-4 pl-1 font-mono font-bold text-lg text-teal-400",children:[y.jsx(he,{name:"timer",className:"w-4 h-4 opacity-70"}),y.jsx("span",{className:"tabular-nums tracking-tight",children:$4(E)})]})]})}),D&&y.jsx("div",{className:"fixed inset-0 z-[60] bg-slate-950/95 flex flex-col animate-fadeIn backdrop-blur-xl overflow-y-auto",children:y.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-6 min-h-0",children:[y.jsxs("div",{className:"mb-8 relative shrink-0",children:[y.jsx("div",{className:"absolute inset-0 bg-teal-500 blur-3xl opacity-20 animate-pulse rounded-full"}),y.jsx("div",{className:"text-[120px] font-black text-white tabular-nums leading-none tracking-tighter relative z-10 text-stroke",children:f})]}),y.jsx("h3",{className:"text-xl font-bold text-teal-400 mb-8 uppercase tracking-[0.3em] animate-pulse shrink-0",children:S.restTimer||"DESCANSO"}),y.jsxs("div",{className:"w-full max-w-sm space-y-4 mb-8",children:[y.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider text-center mb-2",children:S.rateEffort||"Esfuerzo percibido?"}),y.jsx("div",{className:"bg-slate-900/50 p-4 rounded-2xl border border-slate-700/50 backdrop-blur-sm",children:y.jsx("div",{className:"flex gap-3 w-full",children:[{val:"easy",icon:"zap",color:"text-emerald-400",border:"border-emerald-500/30",bg:"bg-emerald-500/10"},{val:"good",icon:"check",color:"text-blue-400",border:"border-blue-500/30",bg:"bg-blue-500/10"},{val:"hard",icon:"flame",color:"text-red-400",border:"border-red-500/30",bg:"bg-red-500/10"}].map(ie=>{const me=C[`${Y}_0`]===ie.val;return y.jsx("button",{onClick:()=>Q(0,ie.val),className:`flex-1 py-4 rounded-xl border flex items-center justify-center transition-all duration-300 ${me?`${ie.bg} ${ie.border} ${ie.color} ring-1 ring-inset ring-white/20 shadow-lg`:"border-slate-700 bg-slate-800/30 text-slate-500 hover:bg-slate-700 hover:text-slate-300"}`,children:y.jsx(he,{name:ie.icon,className:"w-6 h-6"})},ie.val)})})})]}),ne&&ne.isNextEx&&y.jsxs("div",{className:"w-full max-w-sm bg-slate-800/60 border border-slate-700 rounded-2xl p-5 mb-8 shrink-0 backdrop-blur-sm shadow-xl animate-fadeIn",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[y.jsx("div",{className:"p-2 rounded-lg bg-indigo-500/20 text-indigo-400 border border-indigo-500/30",children:y.jsx(he,{name:"fastForward",className:"w-5 h-5"})}),y.jsx("div",{children:y.jsx("div",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:ne.detail})})]}),y.jsx("div",{className:"flex justify-between items-center bg-slate-900/50 p-3 rounded-xl border border-slate-700/50",children:y.jsx("div",{className:"text-base font-bold text-white leading-tight line-clamp-1 px-2",children:ne.label})})]}),y.jsxs("div",{className:"flex gap-4 w-full max-w-sm shrink-0 mt-auto pb-8",children:[y.jsx("button",{onClick:()=>m(ie=>ie+30),className:"flex-1 py-4 rounded-xl bg-slate-800 border border-slate-700 text-slate-300 font-bold hover:bg-slate-700 hover:text-white active:scale-95 transition-all",children:"+30s"}),y.jsxs("button",{onClick:()=>m(0),className:"flex-[2] py-4 rounded-xl bg-teal-600 text-white font-bold hover:bg-teal-500 shadow-lg shadow-teal-900/50 active:scale-95 transition-all flex items-center justify-center gap-2",children:[y.jsx(he,{name:"play",className:"w-5 h-5 fill-current"}),S.letsGo||"A DARLE"]})]})]})})]})},bO=({children:r,className:e="",onClick:n})=>y.jsx("div",{onClick:n,className:`bg-slate-800/40 border border-slate-700/50 rounded-2xl shadow-sm backdrop-blur-xl transition-all duration-300 ${e}`,children:r}),EO=({label:r,icon:e,type:n="text",name:a,value:o,onChange:c,placeholder:f,options:m,isTextArea:p=!1})=>y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider ml-1",children:r}),y.jsxs("div",{className:"relative group",children:[y.jsx("div",{className:`absolute left-0 pl-4 flex items-center pointer-events-none text-slate-500 group-focus-within:text-teal-400 transition-colors duration-300 ${p?"top-4":"inset-y-0"}`,children:y.jsx(he,{name:e,className:"w-5 h-5"})}),m?y.jsx("select",{name:a,value:o,onChange:c,className:"w-full bg-slate-900/50 border border-slate-700 text-slate-100 rounded-xl py-4 pl-12 pr-4 text-sm focus:ring-4 focus:ring-teal-500/10 focus:border-teal-500 outline-none appearance-none cursor-pointer hover:bg-slate-800/50",children:m.map(g=>y.jsx("option",{value:g.value,children:g.label},g.value))}):p?y.jsx("textarea",{name:a,value:o,onChange:c,placeholder:f,rows:"3",className:"w-full bg-slate-900/50 border border-slate-700 text-slate-100 rounded-xl py-4 pl-12 pr-4 text-sm focus:ring-4 focus:ring-teal-500/10 focus:border-teal-500 outline-none min-h-[100px] resize-y"}):y.jsx("input",{type:n,name:a,value:o===0?"":o,onChange:c,placeholder:f,className:"w-full bg-slate-900/50 border border-slate-700 text-slate-100 rounded-xl py-4 pl-12 pr-4 text-sm focus:ring-4 focus:ring-teal-500/10 focus:border-teal-500 outline-none"})]})]}),ew=({progressText:r})=>y.jsxs("div",{className:"flex items-center gap-3 bg-slate-800/80 px-4 py-2 rounded-full border border-teal-500/20 shadow-xl shadow-teal-900/10 backdrop-blur-md transition-all scale-90 origin-right",children:[y.jsxs("div",{className:"gemini-loader-circle",children:[y.jsx("div",{className:"gemini-loader-path"}),y.jsx(ZT,{className:"gemini-loader-icon w-3 h-3",strokeWidth:2})]}),y.jsx("span",{className:"text-xs font-medium bg-gradient-to-r from-teal-300 to-violet-300 bg-clip-text text-transparent animate-pulse",children:r})]}),TO=({weekDistribution:r,completionLog:e,todayIndex:n})=>y.jsxs("div",{className:"flex items-center justify-between bg-slate-800/50 p-4 rounded-2xl border border-slate-700/50 mb-6 backdrop-blur-sm",children:[y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Tu Racha"}),y.jsxs("span",{className:"text-xs text-slate-300 font-medium",children:["Semana ",r.length>0?"Activa":"Off"]})]}),y.jsx("div",{className:"flex gap-2",children:[0,1,2,3,4,5,6].map(a=>{const o=e.has(a),c=a===n;let f="bg-slate-700/50",m="border-transparent";return o?f="bg-teal-500 shadow-[0_0_8px_rgba(20,184,166,0.5)]":c&&(f="bg-slate-800",m="border-teal-500 animate-pulse"),y.jsx("div",{className:`w-3 h-3 rounded-full border ${m} ${f} transition-all duration-500`},a)})})]}),tw=({exercises:r,limit:e})=>{if(!r||!Array.isArray(r)||r.length===0)return y.jsx("div",{className:"py-2 text-xs text-slate-500 italic text-center",children:"Detalles disponibles al iniciar."});const n=e?r.slice(0,e):r,a=e?Math.max(0,r.length-e):0;return y.jsxs("div",{className:"space-y-2 mt-4 mb-4",children:[n.map((o,c)=>{const f=o.tipo_bloque==="superserie";let m=null;if(f){const p=(o.ejercicio||"").split("+"),g=Bi(p[0]),E=Bi(p[1]||"").replace(/^[A-Z]\d+[\s.-]*/,"");m=y.jsxs("div",{className:"flex flex-col w-full gap-1",children:[y.jsx("div",{className:"flex justify-between items-baseline",children:y.jsxs("div",{className:"flex items-center gap-1.5 overflow-hidden",children:[y.jsx("span",{className:"text-[9px] font-black text-cyan-400 bg-cyan-900/30 px-1.5 py-0.5 rounded border border-cyan-500/20 whitespace-nowrap",children:"A1"}),y.jsx("p",{className:"text-xs font-medium text-slate-200 truncate",children:g})]})}),y.jsx("div",{className:"flex justify-between items-baseline",children:y.jsxs("div",{className:"flex items-center gap-1.5 overflow-hidden",children:[y.jsx("span",{className:"text-[9px] font-black text-blue-400 bg-blue-900/30 px-1.5 py-0.5 rounded border border-blue-500/20 whitespace-nowrap",children:"A2"}),y.jsx("p",{className:"text-xs font-medium text-slate-200 truncate",children:E})]})})]})}else{const p=Bi(o.ejercicio);let g="General";p.match(/barra/i)?g="Barra":p.match(/mancuerna/i)?g="Mancuernas":p.match(/polea|cable/i)?g="Polea":p.match(/mquina|maquina/i)&&(g="Mquina"),m=y.jsxs("div",{className:"flex-1 min-w-0 flex justify-between items-center",children:[y.jsx("p",{className:"text-xs font-medium text-slate-200 truncate pr-2",children:p}),y.jsx("span",{className:"text-[8px] font-bold text-slate-500 uppercase bg-slate-900 px-1.5 py-0.5 rounded border border-slate-700/50 whitespace-nowrap",children:g})]})}return y.jsxs("div",{className:`flex items-start gap-3 p-2.5 rounded-xl border transition-all ${f?"bg-slate-800/80 border-cyan-900/20":"bg-slate-800/40 border-slate-700/30"}`,children:[y.jsx("span",{className:`shrink-0 flex items-center justify-center w-5 h-5 rounded-full text-[9px] font-bold mt-0.5 ${f?"bg-cyan-900/20 text-cyan-500":"bg-teal-900/20 text-teal-500"}`,children:c+1}),m]},c)}),a>0&&y.jsx("div",{className:"text-center pt-2",children:y.jsxs("span",{className:"text-[10px] text-slate-500 font-medium bg-slate-800/50 px-3 py-1 rounded-full border border-slate-700/50",children:["+ ",a," ejercicios ms..."]})})]})},wO=({routine:r,onView:e,onAdjust:n})=>{if(!r)return y.jsx("div",{className:"p-4 text-center text-xs text-slate-500 border border-dashed border-slate-700 rounded-2xl",children:"Todo listo por hoy."});const a=r.routine||r,o=Array.isArray(a.rutinaPrincipal)?a.rutinaPrincipal:[];return y.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-slate-800 to-slate-900 border border-slate-700/50 shadow-xl p-5 mb-4 group",children:[y.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-teal-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/3 pointer-events-none group-hover:bg-teal-500/10 transition-colors duration-500"}),y.jsxs("div",{className:"relative z-10",children:[y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsxs("div",{className:"flex-1 mr-2",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx("span",{className:"px-2 py-0.5 rounded-md bg-teal-500/10 text-teal-400 text-[9px] font-black uppercase tracking-wider border border-teal-500/20 shadow-sm shadow-teal-900/20",children:"Sugerencia"}),y.jsxs("span",{className:"flex items-center gap-1 text-[10px] text-slate-400 font-mono",children:[y.jsx(he,{name:"clock",className:"w-3 h-3"})," ",a.duracionEstimada||"45 min"]})]}),y.jsx("h2",{className:"text-xl font-black text-white leading-tight line-clamp-2 drop-shadow-md",children:KT(r.diaEnfoque||a.diaEnfoque)})]}),y.jsx("button",{onClick:c=>{c.stopPropagation(),n()},className:"p-2.5 rounded-full bg-slate-800 text-slate-400 border border-slate-700 hover:text-white hover:border-slate-500 hover:bg-slate-700 transition-all shadow-lg active:scale-95",children:y.jsx(he,{name:"settings",className:"w-4 h-4"})})]}),y.jsx(tw,{exercises:o,limit:3}),y.jsxs("button",{onClick:()=>e(r),className:"w-full py-3.5 bg-teal-500 hover:bg-teal-400 text-slate-900 rounded-xl font-bold flex items-center justify-center gap-2 transition-all shadow-lg shadow-teal-900/20 active:scale-[0.98] group-hover:shadow-teal-500/20 mt-2",children:[y.jsx(he,{name:"play",className:"w-4 h-4 fill-current"}),y.jsx("span",{className:"tracking-wide text-sm",children:"COMENZAR SESIN"})]})]})]})},xO=({routines:r,onView:e,onAdjust:n})=>{const[a,o]=W.useState(null);return!r||r.length===0?y.jsx("div",{className:"text-center py-8 text-xs text-slate-500",children:"No hay opciones extra."}):y.jsxs("div",{className:"space-y-3 pb-20",children:[y.jsx("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider pl-1",children:"Otras Opciones"}),r.map(c=>{const f=a===c.id,m=c.routine||{};return y.jsxs("div",{className:`rounded-2xl border transition-all duration-300 overflow-hidden ${f?"bg-slate-800 border-teal-500/30 ring-1 ring-teal-500/20":"bg-slate-800/40 border-slate-700/50"}`,children:[y.jsxs("div",{className:"w-full flex items-center justify-between p-4 text-left cursor-pointer",onClick:()=>o(f?null:c.id),children:[y.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[y.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center transition-colors ${f?"bg-teal-500 text-slate-900 shadow-lg shadow-teal-500/20":"bg-slate-900 text-slate-500 border border-slate-700"}`,children:y.jsx(he,{name:"dumbbell",className:"w-5 h-5"})}),y.jsxs("div",{children:[y.jsx("h4",{className:`text-sm font-bold ${f?"text-white":"text-slate-300"}`,children:KT(c.diaEnfoque)}),y.jsx("p",{className:"text-[10px] text-slate-500 font-mono mt-0.5",children:m.duracionEstimada})]})]}),y.jsx("div",{className:`transition-transform duration-300 ${f?"rotate-180 text-teal-500":"text-slate-600"}`,children:y.jsx(he,{name:"chevronDown",className:"w-5 h-5"})})]}),f&&y.jsxs("div",{className:"px-4 pb-4 animate-fadeIn",children:[y.jsx("div",{className:"pt-2 border-t border-slate-700/50 mb-4",children:y.jsx(tw,{exercises:m.rutinaPrincipal||[],limit:99})}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{onClick:p=>{p.stopPropagation(),n(c)},className:"flex-1 py-2.5 rounded-lg border border-slate-600 text-slate-300 font-bold text-xs hover:bg-slate-700 transition-colors",children:"AJUSTAR"}),y.jsxs("button",{onClick:p=>{p.stopPropagation(),e(c)},className:"flex-[2] py-2.5 rounded-lg bg-teal-600 text-white font-bold text-xs hover:bg-teal-500 shadow-lg shadow-teal-900/20 transition-colors flex items-center justify-center gap-2",children:[y.jsx(he,{name:"play",className:"w-3 h-3 fill-current"})," INICIAR"]})]})]})]},c.id)})]})},SO=({nextRoutine:r,profile:e,onProfileChange:n,onAdjustNextSession:a,loading:o,progressText:c,lang:f})=>{const m={timeAvailable:"Tiempo",modality:"Modalidad",noEquipment:"Sin equipo",focusZone:"Zona",processing:"Procesando...",recalcParams:"Recalcular"},[p,g]=W.useState([]),[E,w]=W.useState(!1),[S,j]=W.useState(!1),F=U=>{const K=p.includes(U)?p.filter(re=>re!==U):[...p,U];g(K),n&&n({target:{name:"muscleFocus",value:K.join(", ")}})},Y=[{category:"Grupos",items:["Tren Superior","Tren Inferior","Core","Full Body"]},{category:"Msculos",items:["Glteos","Cudriceps","Pecho","Espalda","Brazos"]}];return y.jsxs(bO,{className:"p-6",children:[y.jsxs("div",{className:"flex justify-between items-start mb-6 border-b border-slate-700/50 pb-4",children:[y.jsx("div",{children:y.jsxs("h3",{className:"text-lg font-bold text-slate-100 flex items-center gap-2",children:[y.jsx(he,{name:"settings",className:"w-5 h-5 text-slate-400"})," ",r.diaEnfoque]})}),o&&y.jsx(ew,{progressText:c})]}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-2 gap-6 items-center",children:[y.jsx(EO,{label:m.timeAvailable,icon:"clock",type:"number",name:"timeAvailable",value:e.timeAvailable,onChange:n}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider ml-1",children:m.modality}),y.jsxs("button",{onClick:()=>w(!E),className:`w-full py-3 px-4 rounded-xl border flex items-center justify-between transition-all ${E?"bg-indigo-500/20 border-indigo-500/50 text-indigo-300":"bg-slate-900/50 border-slate-700 text-slate-400"}`,children:[y.jsx("span",{className:"text-sm font-semibold",children:m.noEquipment}),y.jsx(he,{name:E?"toggleOn":"toggleOff",className:`w-6 h-6 ${E?"text-indigo-400":"text-slate-600"}`})]})]})]}),y.jsxs("div",{className:"border border-slate-700 rounded-xl overflow-hidden",children:[y.jsxs("button",{onClick:()=>j(!S),className:"w-full p-4 flex items-center justify-between bg-slate-900/50 hover:bg-slate-800 transition-colors",children:[y.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:m.focusZone}),y.jsx(he,{name:S?"chevronUp":"chevronDown",className:"w-4 h-4 text-slate-500"})]}),S&&y.jsx("div",{className:"p-4 bg-slate-900/30 animate-fadeIn border-t border-slate-700/50",children:y.jsx("div",{className:"flex flex-wrap gap-2.5",children:Y.flatMap(U=>U.items).map(U=>{const K=p.includes(U);return y.jsx("button",{onClick:()=>F(U),className:`px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 border hover:scale-105 active:scale-95 ${K?"bg-teal-600 border-teal-500 text-white shadow-md shadow-teal-900/30":"bg-slate-800 border-slate-700 text-slate-400 hover:border-slate-500 hover:text-slate-200"}`,children:U},U)})})})]}),y.jsx("button",{onClick:()=>a(r,e,E),disabled:o,className:"w-full py-4 rounded-xl bg-slate-700 hover:bg-slate-600 text-white font-bold transition-all duration-300 disabled:opacity-50 disabled:scale-100 hover:scale-[1.02] active:scale-95 flex justify-center items-center gap-2 shadow-lg",children:o?m.processing:y.jsxs(y.Fragment,{children:[y.jsx(he,{name:"refresh",className:"w-5 h-5"})," ",m.recalcParams]})})]})]})},AO=({profile:r,onProfileChange:e,onGeneratePlan:n,onAdjustNextSession:a,loading:o,successMessage:c,errorMessage:f,history:m,onViewRoutine:p,generationProgress:g,lang:E,t:w,onAnalyzeBioage:S,bioageLoading:j,view:F,currentRoutine:Y,routineId:U,onRoutineFeedback:K,onExerciseComplete:re,isSessionActive:se,setIsSessionActive:ce,restSeconds:ge,setRestSeconds:be,sessionSeconds:C})=>{const[A,R]=W.useState(w.generating),[k,D]=W.useState("recommended"),[V,N]=W.useState(!1),[we,Ue]=W.useState(null),H=r.currentPlanId,ae=(new Date().getDay()+6)%7,ue=m.filter(ne=>ne.planId===H&&ne.status!=="archived_history").sort((ne,de)=>ne.weekDay-de.weekDay),Ne=new Map;m.forEach(ne=>{ne.planId===H&&ne.status==="completed"&&ne.completedOnDay!==void 0&&Ne.set(ne.completedOnDay,ne)});const O=ue.filter(ne=>ne.status==="pending")[0],Q=ue.filter(ne=>ne.id!==O?.id&&ne.status==="pending");W.useEffect(()=>{g<30?R(w.analyzing):g<60?R(w.designing):g<90?R(w.optimizing):R(w.finalizing)},[g,w]);const oe=ne=>{Ue(ne),N(!0)};return F==="routine"?y.jsx(_O,{routine:Y,routineId:U,onRoutineFeedback:K,successMessage:c,lang:E,onExerciseComplete:re,isSessionActive:se,setIsSessionActive:ce,restSeconds:ge,setRestSeconds:be,sessionSeconds:C}):y.jsxs("div",{className:"animate-fadeIn pb-24",children:[y.jsxs("div",{className:"space-y-2 mb-4",children:[c&&y.jsxs("div",{className:"p-4 bg-teal-500/10 border border-teal-500/20 text-teal-300 rounded-xl flex items-center shadow-lg backdrop-blur-md",children:[y.jsx(he,{name:"check",className:"mr-3 w-5 h-5"})," ",c]}),f&&y.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 text-red-300 rounded-xl flex items-center shadow-lg backdrop-blur-md",children:[y.jsx(he,{name:"alert",className:"mr-3 w-5 h-5"})," ",f]})]}),y.jsx(TO,{weekDistribution:ue,completionLog:Ne,todayIndex:ae}),y.jsxs("div",{className:"flex items-center justify-between mb-4 border-b border-slate-700/50 pb-1 px-2",children:[y.jsxs("div",{className:"flex gap-6",children:[y.jsxs("button",{onClick:()=>D("recommended"),className:`pb-2 text-xs font-bold transition-all relative uppercase tracking-wider ${k==="recommended"?"text-teal-400":"text-slate-500 hover:text-slate-300"}`,children:["Recomendado",k==="recommended"&&y.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-teal-500 rounded-t-full"})]}),y.jsxs("button",{onClick:()=>D("library"),className:`pb-2 text-xs font-bold transition-all relative uppercase tracking-wider ${k==="library"?"text-slate-200":"text-slate-500 hover:text-slate-300"}`,children:["Ms Opciones",k==="library"&&y.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-slate-200 rounded-t-full"})]})]}),y.jsxs("button",{onClick:()=>n(r),className:"pb-2 text-[10px] font-bold text-teal-400 hover:text-teal-300 flex items-center gap-1.5 transition-colors",children:[y.jsx(he,{name:"refresh",className:"w-3 h-3"})," ",w.regenerateCycle]})]}),y.jsxs("div",{className:"min-h-[250px]",children:[o?y.jsx("div",{className:"flex flex-col items-center justify-center py-10",children:y.jsx(ew,{progressText:A})}):y.jsxs(y.Fragment,{children:[k==="recommended"&&y.jsx(y.Fragment,{children:O?y.jsx("div",{className:"animate-fadeIn",children:y.jsx(wO,{routine:O,onView:p,onAdjust:()=>oe(O)})}):y.jsxs("div",{className:"text-center py-12 border border-dashed border-slate-700/50 rounded-2xl bg-slate-800/20",children:[y.jsx("div",{className:"w-16 h-16 bg-emerald-500/10 rounded-full flex items-center justify-center mx-auto mb-3 border border-emerald-500/20",children:y.jsx(he,{name:"check",className:"w-8 h-8 text-emerald-500"})}),y.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:"Semana Completada!"}),y.jsx("p",{className:"text-slate-500 text-xs mb-5 max-w-[200px] mx-auto",children:"No hay rutinas pendientes. Gran trabajo!"})]})}),k==="library"&&y.jsxs("div",{className:"animate-fadeIn",children:[y.jsx(xO,{routines:Q,onView:p,onAdjust:oe}),Q.length===0&&O&&y.jsx("div",{className:"text-center py-10 opacity-50",children:y.jsx("p",{className:"text-xs text-slate-500",children:"Solo queda la rutina recomendada."})})]})]}),V&&we&&y.jsx("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-slate-950/90 backdrop-blur-sm p-4 animate-fadeIn",children:y.jsxs("div",{className:"w-full max-w-md relative",children:[y.jsx("button",{onClick:()=>N(!1),className:"absolute -top-10 right-0 text-slate-400 hover:text-white",children:y.jsx(he,{name:"close",className:"w-8 h-8"})}),y.jsx(SO,{nextRoutine:we,profile:r,onProfileChange:e,onAdjustNextSession:(ne,de,Te)=>{a(ne||we,de,Te),N(!1)},loading:o,progressText:A,lang:E})]})}),ue.length===0&&!o&&y.jsxs("div",{className:"p-6 text-center border border-dashed border-slate-700 rounded-2xl mt-4",children:[y.jsx(he,{name:"sparkles",className:"w-8 h-8 text-teal-500 mx-auto mb-3"}),y.jsx("p",{className:"text-slate-400 text-xs mb-4",children:w.noPlan}),y.jsx("button",{onClick:()=>n(r),className:"w-full py-3 rounded-lg bg-teal-600 text-white font-bold text-xs shadow-lg shadow-teal-900/20 hover:bg-teal-500",children:w.startRoutine})]})]})]})},mi=({children:r,className:e="",onClick:n})=>y.jsx("div",{onClick:n,className:`bg-slate-800/40 border border-slate-700/50 rounded-2xl shadow-sm backdrop-blur-xl transition-all duration-300 ${e}`,children:r}),Ui=({label:r,icon:e,type:n="text",name:a,value:o,onChange:c,placeholder:f,options:m,isTextArea:p=!1})=>y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider ml-1",children:r}),y.jsxs("div",{className:"relative group",children:[y.jsx("div",{className:`absolute left-0 pl-4 flex items-center pointer-events-none text-slate-500 group-focus-within:text-teal-400 transition-colors duration-300 ${p?"top-4":"inset-y-0"}`,children:y.jsx(he,{name:e,className:"w-5 h-5"})}),m?y.jsx("select",{name:a,value:o,onChange:c,className:"w-full bg-slate-900/50 border border-slate-700 text-slate-100 rounded-xl py-4 pl-12 pr-4 text-sm focus:ring-4 focus:ring-teal-500/10 focus:border-teal-500 outline-none appearance-none cursor-pointer hover:bg-slate-800/50",children:m.map(g=>y.jsx("option",{value:g.value,children:g.label},g.value))}):p?y.jsx("textarea",{name:a,value:o,onChange:c,placeholder:f,rows:"3",className:"w-full bg-slate-900/50 border border-slate-700 text-slate-100 rounded-xl py-4 pl-12 pr-4 text-sm focus:ring-4 focus:ring-teal-500/10 focus:border-teal-500 outline-none min-h-[100px] resize-y"}):y.jsx("input",{type:n,name:a,value:o===0?"":o,onChange:c,placeholder:f,className:"w-full bg-slate-900/50 border border-slate-700 text-slate-100 rounded-xl py-4 pl-12 pr-4 text-sm focus:ring-4 focus:ring-teal-500/10 focus:border-teal-500 outline-none"})]})]}),ri=({label:r,name:e,value:n,onChange:a,unit:o,tooltip:c,isBio:f=!0})=>y.jsxs("div",{className:"space-y-2",children:[y.jsx("div",{className:"flex justify-between items-center ml-1",children:y.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:r})}),y.jsxs("div",{className:"relative group",children:[y.jsx("input",{type:"number",name:f?`bio_${e}`:e,value:n===0?"":n,onChange:a,className:"w-full bg-slate-950/30 border border-slate-700/70 text-slate-200 rounded-lg py-3 pl-3 pr-10 text-sm focus:ring-2 focus:ring-violet-500/30 focus:border-violet-500 outline-none",placeholder:"0"}),y.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs font-bold text-slate-600 pointer-events-none",children:o})]})]});function nw(r){var e,n,a="";if(typeof r=="string"||typeof r=="number")a+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(n=nw(r[e]))&&(a&&(a+=" "),a+=n)}else for(n in r)r[n]&&(a&&(a+=" "),a+=n);return a}function Ef(){for(var r,e,n=0,a="",o=arguments.length;n<o;n++)(r=arguments[n])&&(e=nw(r))&&(a&&(a+=" "),a+=e);return a}const NO=(r,e,n,a)=>{if(n==="length"||n==="prototype"||n==="arguments"||n==="caller")return;const o=Object.getOwnPropertyDescriptor(r,n),c=Object.getOwnPropertyDescriptor(e,n);!RO(o,c)&&a||Object.defineProperty(r,n,c)},RO=function(r,e){return r===void 0||r.configurable||r.writable===e.writable&&r.enumerable===e.enumerable&&r.configurable===e.configurable&&(r.writable||r.value===e.value)},CO=(r,e)=>{const n=Object.getPrototypeOf(e);n!==Object.getPrototypeOf(r)&&Object.setPrototypeOf(r,n)},IO=(r,e)=>`/* Wrapped ${r}*/
${e}`,DO=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),OO=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),kO=(r,e,n)=>{const a=n===""?"":`with ${n.trim()}() `,o=IO.bind(null,a,e.toString());Object.defineProperty(o,"name",OO);const{writable:c,enumerable:f,configurable:m}=DO;Object.defineProperty(r,"toString",{value:o,writable:c,enumerable:f,configurable:m})};function MO(r,e,{ignoreNonConfigurable:n=!1}={}){const{name:a}=r;for(const o of Reflect.ownKeys(e))NO(r,e,o,n);return CO(r,e),kO(r,e,a),r}const gh=2147483647,jO=new WeakMap,Hm=new WeakMap,VO=new WeakMap;function PO(r,e){const n=r.get(e);if(n){if(n.maxAge<=Date.now()){r.delete(e);return}return n}}function rw(r,{cacheKey:e,cache:n=new Map,maxAge:a}={}){if(a===0)return r;if(typeof a=="number"&&Number.isFinite(a)){if(a>gh)throw new TypeError(`The \`maxAge\` option cannot exceed ${gh}.`);if(a<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const o=function(...c){const f=e?e(c):c[0],m=PO(n,f);if(m)return m.data;const p=r.apply(this,c),g=typeof a=="function"?a(...c):a;if(g!==void 0&&g!==Number.POSITIVE_INFINITY){if(!Number.isFinite(g))throw new TypeError("The `maxAge` function must return a finite number, `0`, or `Infinity`.");if(g<=0)return p;if(g>gh)throw new TypeError(`The \`maxAge\` function result cannot exceed ${gh}.`)}if(n.set(f,{data:p,maxAge:g===void 0||g===Number.POSITIVE_INFINITY?Number.POSITIVE_INFINITY:Date.now()+g}),g!==void 0&&g!==Number.POSITIVE_INFINITY){const E=setTimeout(()=>{n.delete(f),Hm.get(o)?.delete(E)},g);E.unref?.();const w=Hm.get(o)??new Set;w.add(E),Hm.set(o,w)}return p};return MO(o,r,{ignoreNonConfigurable:!0}),jO.set(o,n),VO.set(o,e??(c=>c[0])),o}function LO(r){return typeof r=="string"}function UO(r,e,n){return n.indexOf(r)===e}function zO(r){return r.toLowerCase()===r}function lb(r){return r.indexOf(",")===-1?r:r.split(",")}function xp(r){if(!r)return r;if(r==="C"||r==="posix"||r==="POSIX")return"en-US";if(r.indexOf(".")!==-1){var e=r.split(".")[0],n=e===void 0?"":e;return xp(n)}if(r.indexOf("@")!==-1){var a=r.split("@")[0],n=a===void 0?"":a;return xp(n)}if(r.indexOf("-")===-1||!zO(r))return r;var o=r.split("-"),c=o[0],f=o[1],m=f===void 0?"":f;return"".concat(c,"-").concat(m.toUpperCase())}function BO(r){var e=r===void 0?{}:r,n=e.useFallbackLocale,a=n===void 0?!0:n,o=e.fallbackLocale,c=o===void 0?"en-US":o,f=[];if(typeof navigator<"u"){for(var m=navigator.languages||[],p=[],g=0,E=m;g<E.length;g++){var w=E[g];p=p.concat(lb(w))}var S=navigator.language,j=S&&lb(S);f=f.concat(p,j)}return a&&f.push(c),f.filter(LO).map(xp).filter(UO)}var qO=rw(BO,{cacheKey:JSON.stringify});function HO(r){return qO(r)[0]||null}var iw=rw(HO,{cacheKey:JSON.stringify});function ea(r,e,n){return function(o,c=n){const f=r(o)+c;return e(f)}}function zc(r){return function(n){return new Date(r(n).getTime()-1)}}function Bc(r,e){return function(a){return[r(a),e(a)]}}function Ct(r){if(r instanceof Date)return r.getFullYear();if(typeof r=="number")return r;const e=Number.parseInt(r,10);if(typeof r=="string"&&!Number.isNaN(e))return e;throw new Error(`Failed to get year from date: ${r}.`)}function es(r){if(r instanceof Date)return r.getMonth();throw new Error(`Failed to get month from date: ${r}.`)}function Tf(r){if(r instanceof Date)return r.getDate();throw new Error(`Failed to get year from date: ${r}.`)}function Zo(r){const e=Ct(r),n=e+(-e+1)%100,a=new Date;return a.setFullYear(n,0,1),a.setHours(0,0,0,0),a}const FO=ea(Ct,Zo,-100),aw=ea(Ct,Zo,100),Lg=zc(aw),GO=ea(Ct,Lg,-100),sw=Bc(Zo,Lg);function ts(r){const e=Ct(r),n=e+(-e+1)%10,a=new Date;return a.setFullYear(n,0,1),a.setHours(0,0,0,0),a}const ow=ea(Ct,ts,-10),Ug=ea(Ct,ts,10),wf=zc(Ug),lw=ea(Ct,wf,-10),cw=Bc(ts,wf);function el(r){const e=Ct(r),n=new Date;return n.setFullYear(e,0,1),n.setHours(0,0,0,0),n}const uw=ea(Ct,el,-1),zg=ea(Ct,el,1),xf=zc(zg),hw=ea(Ct,xf,-1),YO=Bc(el,xf);function Bg(r,e){return function(a,o=e){const c=Ct(a),f=es(a)+o,m=new Date;return m.setFullYear(c,f,1),m.setHours(0,0,0,0),r(m)}}function qs(r){const e=Ct(r),n=es(r),a=new Date;return a.setFullYear(e,n,1),a.setHours(0,0,0,0),a}const fw=Bg(qs,-1),qg=Bg(qs,1),qc=zc(qg),dw=Bg(qc,-1),$O=Bc(qs,qc);function QO(r,e){return function(a,o=e){const c=Ct(a),f=es(a),m=Tf(a)+o,p=new Date;return p.setFullYear(c,f,m),p.setHours(0,0,0,0),r(p)}}function Hc(r){const e=Ct(r),n=es(r),a=Tf(r),o=new Date;return o.setFullYear(e,n,a),o.setHours(0,0,0,0),o}const KO=QO(Hc,1),Hg=zc(KO),XO=Bc(Hc,Hg);function mw(r){return Tf(qc(r))}var _n={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},WO={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},Fg=[0,1,2,3,4,5,6],Fm=new Map;function JO(r){return function(n,a){var o=n||iw();Fm.has(o)||Fm.set(o,new Map);var c=Fm.get(o);return c.has(r)||c.set(r,new Intl.DateTimeFormat(o||void 0,r).format),c.get(r)(a)}}function ZO(r){var e=new Date(r);return new Date(e.setHours(12))}function Hs(r){return function(e,n){return JO(r)(e,ZO(n))}}var ek={day:"numeric"},tk={day:"numeric",month:"long",year:"numeric"},nk={month:"long"},rk={month:"long",year:"numeric"},ik={weekday:"short"},ak={weekday:"long"},sk={year:"numeric"},ok=Hs(ek),lk=Hs(tk),ck=Hs(nk),pw=Hs(rk),uk=Hs(ik),hk=Hs(ak),Sf=Hs(sk),fk=Fg[0],dk=Fg[5],cb=Fg[6];function xc(r,e){e===void 0&&(e=_n.ISO_8601);var n=r.getDay();switch(e){case _n.ISO_8601:return(n+6)%7;case _n.ISLAMIC:return(n+1)%7;case _n.HEBREW:case _n.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function mk(r){var e=Zo(r);return Ct(e)}function pk(r){var e=ts(r);return Ct(e)}function Sp(r,e){e===void 0&&(e=_n.ISO_8601);var n=Ct(r),a=es(r),o=r.getDate()-xc(r,e);return new Date(n,a,o)}function gk(r,e){e===void 0&&(e=_n.ISO_8601);var n=e===_n.GREGORY?_n.GREGORY:_n.ISO_8601,a=Sp(r,e),o=Ct(r)+1,c,f;do c=new Date(o,0,n===_n.ISO_8601?4:1),f=Sp(c,e),o-=1;while(r<f);return Math.round((a.getTime()-f.getTime())/(864e5*7))+1}function Is(r,e){switch(r){case"century":return Zo(e);case"decade":return ts(e);case"year":return el(e);case"month":return qs(e);case"day":return Hc(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function yk(r,e){switch(r){case"century":return FO(e);case"decade":return ow(e);case"year":return uw(e);case"month":return fw(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function gw(r,e){switch(r){case"century":return aw(e);case"decade":return Ug(e);case"year":return zg(e);case"month":return qg(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function vk(r,e){switch(r){case"decade":return ow(e,-100);case"year":return uw(e,-10);case"month":return fw(e,-12);default:throw new Error("Invalid rangeType: ".concat(r))}}function _k(r,e){switch(r){case"decade":return Ug(e,100);case"year":return zg(e,10);case"month":return qg(e,12);default:throw new Error("Invalid rangeType: ".concat(r))}}function yw(r,e){switch(r){case"century":return Lg(e);case"decade":return wf(e);case"year":return xf(e);case"month":return qc(e);case"day":return Hg(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function bk(r,e){switch(r){case"century":return GO(e);case"decade":return lw(e);case"year":return hw(e);case"month":return dw(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function Ek(r,e){switch(r){case"decade":return lw(e,-100);case"year":return hw(e,-10);case"month":return dw(e,-12);default:throw new Error("Invalid rangeType: ".concat(r))}}function ub(r,e){switch(r){case"century":return sw(e);case"decade":return cw(e);case"year":return YO(e);case"month":return $O(e);case"day":return XO(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function Tk(r,e,n){var a=[e,n].sort(function(o,c){return o.getTime()-c.getTime()});return[Is(r,a[0]),yw(r,a[1])]}function vw(r,e,n){return n.map(function(a){return(e||Sf)(r,a)}).join("  ")}function wk(r,e,n){return vw(r,e,sw(n))}function _w(r,e,n){return vw(r,e,cw(n))}function xk(r){return r.getDay()===new Date().getDay()}function bw(r,e){e===void 0&&(e=_n.ISO_8601);var n=r.getDay();switch(e){case _n.ISLAMIC:case _n.HEBREW:return n===dk||n===cb;case _n.ISO_8601:case _n.GREGORY:return n===cb||n===fk;default:throw new Error("Unsupported calendar type.")}}var ni="react-calendar__navigation";function Sk(r){var e=r.activeStartDate,n=r.drillUp,a=r.formatMonthYear,o=a===void 0?pw:a,c=r.formatYear,f=c===void 0?Sf:c,m=r.locale,p=r.maxDate,g=r.minDate,E=r.navigationAriaLabel,w=E===void 0?"":E,S=r.navigationAriaLive,j=r.navigationLabel,F=r.next2AriaLabel,Y=F===void 0?"":F,U=r.next2Label,K=U===void 0?"":U,re=r.nextAriaLabel,se=re===void 0?"":re,ce=r.nextLabel,ge=ce===void 0?"":ce,be=r.prev2AriaLabel,C=be===void 0?"":be,A=r.prev2Label,R=A===void 0?"":A,k=r.prevAriaLabel,D=k===void 0?"":k,V=r.prevLabel,N=V===void 0?"":V,we=r.setActiveStartDate,Ue=r.showDoubleView,H=r.view,ae=r.views,ue=ae.indexOf(H)>0,Ne=H!=="century",Ae=yk(H,e),O=Ne?vk(H,e):void 0,Q=gw(H,e),oe=Ne?_k(H,e):void 0,ne=(function(){if(Ae.getFullYear()<0)return!0;var Qe=bk(H,e);return g&&g>=Qe})(),de=Ne&&(function(){if(O.getFullYear()<0)return!0;var Qe=Ek(H,e);return g&&g>=Qe})(),Te=p&&p<Q,ie=Ne&&p&&p<oe;function me(){we(Ae,"prev")}function ve(){we(O,"prev2")}function Je(){we(Q,"next")}function It(){we(oe,"next2")}function en(Qe){var an=(function(){switch(H){case"century":return wk(m,f,Qe);case"decade":return _w(m,f,Qe);case"year":return f(m,Qe);case"month":return o(m,Qe);default:throw new Error("Invalid view: ".concat(H,"."))}})();return j?j({date:Qe,label:an,locale:m||iw()||void 0,view:H}):an}function jt(){var Qe="".concat(ni,"__label");return y.jsxs("button",{"aria-label":w,"aria-live":S,className:Qe,disabled:!ue,onClick:n,style:{flexGrow:1},type:"button",children:[y.jsx("span",{className:"".concat(Qe,"__labelText ").concat(Qe,"__labelText--from"),children:en(e)}),Ue?y.jsxs(y.Fragment,{children:[y.jsx("span",{className:"".concat(Qe,"__divider"),children:"  "}),y.jsx("span",{className:"".concat(Qe,"__labelText ").concat(Qe,"__labelText--to"),children:en(Q)})]}):null]})}return y.jsxs("div",{className:ni,children:[R!==null&&Ne?y.jsx("button",{"aria-label":C,className:"".concat(ni,"__arrow ").concat(ni,"__prev2-button"),disabled:de,onClick:ve,type:"button",children:R}):null,N!==null&&y.jsx("button",{"aria-label":D,className:"".concat(ni,"__arrow ").concat(ni,"__prev-button"),disabled:ne,onClick:me,type:"button",children:N}),jt(),ge!==null&&y.jsx("button",{"aria-label":se,className:"".concat(ni,"__arrow ").concat(ni,"__next-button"),disabled:Te,onClick:Je,type:"button",children:ge}),K!==null&&Ne?y.jsx("button",{"aria-label":Y,className:"".concat(ni,"__arrow ").concat(ni,"__next2-button"),disabled:ie,onClick:It,type:"button",children:K}):null]})}var Mo=function(){return Mo=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Mo.apply(this,arguments)},Ak=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n};function hb(r){return"".concat(r,"%")}function Gg(r){var e=r.children,n=r.className,a=r.count,o=r.direction,c=r.offset,f=r.style,m=r.wrap,p=Ak(r,["children","className","count","direction","offset","style","wrap"]);return y.jsx("div",Mo({className:n,style:Mo({display:"flex",flexDirection:o,flexWrap:m?"wrap":"nowrap"},f)},p,{children:W.Children.map(e,function(g,E){var w=c&&E===0?hb(100*c/a):null;return W.cloneElement(g,Mo(Mo({},g.props),{style:{flexBasis:hb(100/a),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:w,marginInlineStart:w,marginInlineEnd:0}}))})}))}function Nk(r,e,n){return e&&e>r?e:n&&n<r?n:r}function Sc(r,e){return e[0]<=r&&e[1]>=r}function Rk(r,e){return r[0]<=e[0]&&r[1]>=e[1]}function Ew(r,e){return Sc(r[0],e)||Sc(r[1],e)}function fb(r,e,n){var a=Ew(e,r),o=[];if(a){o.push(n);var c=Sc(r[0],e),f=Sc(r[1],e);c&&o.push("".concat(n,"Start")),f&&o.push("".concat(n,"End")),c&&f&&o.push("".concat(n,"BothEnds"))}return o}function Ck(r){return Array.isArray(r)?r[0]!==null&&r[1]!==null:r!==null}function Ik(r){if(!r)throw new Error("args is required");var e=r.value,n=r.date,a=r.hover,o="react-calendar__tile",c=[o];if(!n)return c;var f=new Date,m=(function(){if(Array.isArray(n))return n;var j=r.dateType;if(!j)throw new Error("dateType is required when date is not an array of two dates");return ub(j,n)})();if(Sc(f,m)&&c.push("".concat(o,"--now")),!e||!Ck(e))return c;var p=(function(){if(Array.isArray(e))return e;var j=r.valueType;if(!j)throw new Error("valueType is required when value is not an array of two dates");return ub(j,e)})();Rk(p,m)?c.push("".concat(o,"--active")):Ew(p,m)&&c.push("".concat(o,"--hasActive"));var g=fb(p,m,"".concat(o,"--range"));c.push.apply(c,g);var E=Array.isArray(e)?e:[e];if(a&&E.length===1){var w=a>p[0]?[p[0],a]:[a,p[0]],S=fb(w,m,"".concat(o,"--hover"));c.push.apply(c,S)}return c}function Af(r){for(var e=r.className,n=r.count,a=n===void 0?3:n,o=r.dateTransform,c=r.dateType,f=r.end,m=r.hover,p=r.offset,g=r.renderTile,E=r.start,w=r.step,S=w===void 0?1:w,j=r.value,F=r.valueType,Y=[],U=E;U<=f;U+=S){var K=o(U);Y.push(g({classes:Ik({date:K,dateType:c,hover:m,value:j,valueType:F}),date:K}))}return y.jsx(Gg,{className:e,count:a,offset:p,wrap:!0,children:Y})}function Nf(r){var e=r.activeStartDate,n=r.children,a=r.classes,o=r.date,c=r.formatAbbr,f=r.locale,m=r.maxDate,p=r.maxDateTransform,g=r.minDate,E=r.minDateTransform,w=r.onClick,S=r.onMouseOver,j=r.style,F=r.tileClassName,Y=r.tileContent,U=r.tileDisabled,K=r.view,re=W.useMemo(function(){var ce={activeStartDate:e,date:o,view:K};return typeof F=="function"?F(ce):F},[e,o,F,K]),se=W.useMemo(function(){var ce={activeStartDate:e,date:o,view:K};return typeof Y=="function"?Y(ce):Y},[e,o,Y,K]);return y.jsxs("button",{className:Ef(a,re),disabled:g&&E(g)>o||m&&p(m)<o||U?.({activeStartDate:e,date:o,view:K}),onClick:w?function(ce){return w(o,ce)}:void 0,onFocus:S?function(){return S(o)}:void 0,onMouseOver:S?function(){return S(o)}:void 0,style:j,type:"button",children:[c?y.jsx("abbr",{"aria-label":c(f,o),children:n}):n,se]})}var Ap=function(){return Ap=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Ap.apply(this,arguments)},Dk=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n},db="react-calendar__century-view__decades__decade";function Ok(r){var e=r.classes,n=e===void 0?[]:e,a=r.currentCentury,o=r.formatYear,c=o===void 0?Sf:o,f=Dk(r,["classes","currentCentury","formatYear"]),m=f.date,p=f.locale,g=[];return n&&g.push.apply(g,n),g.push(db),Zo(m).getFullYear()!==a&&g.push("".concat(db,"--neighboringCentury")),y.jsx(Nf,Ap({},f,{classes:g,maxDateTransform:wf,minDateTransform:ts,view:"century",children:_w(p,c,m)}))}var Np=function(){return Np=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Np.apply(this,arguments)},mb=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n};function kk(r){var e=r.activeStartDate,n=r.hover,a=r.showNeighboringCentury,o=r.value,c=r.valueType,f=mb(r,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),m=mk(e),p=m+(a?119:99);return y.jsx(Af,{className:"react-calendar__century-view__decades",dateTransform:ts,dateType:"decade",end:p,hover:n,renderTile:function(g){var E=g.date,w=mb(g,["date"]);return y.jsx(Ok,Np({},f,w,{activeStartDate:e,currentCentury:m,date:E}),E.getTime())},start:m,step:10,value:o,valueType:c})}var Rp=function(){return Rp=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Rp.apply(this,arguments)};function Mk(r){function e(){return y.jsx(kk,Rp({},r))}return y.jsx("div",{className:"react-calendar__century-view",children:e()})}var Cp=function(){return Cp=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Cp.apply(this,arguments)},jk=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n},pb="react-calendar__decade-view__years__year";function Vk(r){var e=r.classes,n=e===void 0?[]:e,a=r.currentDecade,o=r.formatYear,c=o===void 0?Sf:o,f=jk(r,["classes","currentDecade","formatYear"]),m=f.date,p=f.locale,g=[];return n&&g.push.apply(g,n),g.push(pb),ts(m).getFullYear()!==a&&g.push("".concat(pb,"--neighboringDecade")),y.jsx(Nf,Cp({},f,{classes:g,maxDateTransform:xf,minDateTransform:el,view:"decade",children:c(p,m)}))}var Ip=function(){return Ip=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Ip.apply(this,arguments)},gb=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n};function Pk(r){var e=r.activeStartDate,n=r.hover,a=r.showNeighboringDecade,o=r.value,c=r.valueType,f=gb(r,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),m=pk(e),p=m+(a?11:9);return y.jsx(Af,{className:"react-calendar__decade-view__years",dateTransform:el,dateType:"year",end:p,hover:n,renderTile:function(g){var E=g.date,w=gb(g,["date"]);return y.jsx(Vk,Ip({},f,w,{activeStartDate:e,currentDecade:m,date:E}),E.getTime())},start:m,value:o,valueType:c})}var Dp=function(){return Dp=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Dp.apply(this,arguments)};function Lk(r){function e(){return y.jsx(Pk,Dp({},r))}return y.jsx("div",{className:"react-calendar__decade-view",children:e()})}var Op=function(){return Op=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Op.apply(this,arguments)},Uk=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n},yb=function(r,e,n){if(n||arguments.length===2)for(var a=0,o=e.length,c;a<o;a++)(c||!(a in e))&&(c||(c=Array.prototype.slice.call(e,0,a)),c[a]=e[a]);return r.concat(c||Array.prototype.slice.call(e))},zk="react-calendar__year-view__months__month";function Bk(r){var e=r.classes,n=e===void 0?[]:e,a=r.formatMonth,o=a===void 0?ck:a,c=r.formatMonthYear,f=c===void 0?pw:c,m=Uk(r,["classes","formatMonth","formatMonthYear"]),p=m.date,g=m.locale;return y.jsx(Nf,Op({},m,{classes:yb(yb([],n,!0),[zk],!1),formatAbbr:f,maxDateTransform:qc,minDateTransform:qs,view:"year",children:o(g,p)}))}var kp=function(){return kp=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},kp.apply(this,arguments)},vb=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n};function qk(r){var e=r.activeStartDate,n=r.hover,a=r.value,o=r.valueType,c=vb(r,["activeStartDate","hover","value","valueType"]),f=0,m=11,p=Ct(e);return y.jsx(Af,{className:"react-calendar__year-view__months",dateTransform:function(g){var E=new Date;return E.setFullYear(p,g,1),qs(E)},dateType:"month",end:m,hover:n,renderTile:function(g){var E=g.date,w=vb(g,["date"]);return y.jsx(Bk,kp({},c,w,{activeStartDate:e,date:E}),E.getTime())},start:f,value:a,valueType:o})}var Mp=function(){return Mp=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Mp.apply(this,arguments)};function Hk(r){function e(){return y.jsx(qk,Mp({},r))}return y.jsx("div",{className:"react-calendar__year-view",children:e()})}var jp=function(){return jp=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},jp.apply(this,arguments)},Fk=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n},Gm="react-calendar__month-view__days__day";function Gk(r){var e=r.calendarType,n=r.classes,a=n===void 0?[]:n,o=r.currentMonthIndex,c=r.formatDay,f=c===void 0?ok:c,m=r.formatLongDate,p=m===void 0?lk:m,g=Fk(r,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),E=g.date,w=g.locale,S=[];return a&&S.push.apply(S,a),S.push(Gm),bw(E,e)&&S.push("".concat(Gm,"--weekend")),E.getMonth()!==o&&S.push("".concat(Gm,"--neighboringMonth")),y.jsx(Nf,jp({},g,{classes:S,formatAbbr:p,maxDateTransform:Hg,minDateTransform:Hc,view:"month",children:f(w,E)}))}var Vp=function(){return Vp=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Vp.apply(this,arguments)},_b=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n};function Yk(r){var e=r.activeStartDate,n=r.calendarType,a=r.hover,o=r.showFixedNumberOfWeeks,c=r.showNeighboringMonth,f=r.value,m=r.valueType,p=_b(r,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),g=Ct(e),E=es(e),w=o||c,S=xc(e,n),j=w?0:S,F=(w?-S:0)+1,Y=(function(){if(o)return F+42-1;var U=mw(e);if(c){var K=new Date;K.setFullYear(g,E,U),K.setHours(0,0,0,0);var re=7-xc(K,n)-1;return U+re}return U})();return y.jsx(Af,{className:"react-calendar__month-view__days",count:7,dateTransform:function(U){var K=new Date;return K.setFullYear(g,E,U),Hc(K)},dateType:"day",hover:a,end:Y,renderTile:function(U){var K=U.date,re=_b(U,["date"]);return y.jsx(Gk,Vp({},p,re,{activeStartDate:e,calendarType:n,currentMonthIndex:E,date:K}),K.getTime())},offset:j,start:F,value:f,valueType:m})}var Tw="react-calendar__month-view__weekdays",Ym="".concat(Tw,"__weekday");function $k(r){for(var e=r.calendarType,n=r.formatShortWeekday,a=n===void 0?uk:n,o=r.formatWeekday,c=o===void 0?hk:o,f=r.locale,m=r.onMouseLeave,p=new Date,g=qs(p),E=Ct(g),w=es(g),S=[],j=1;j<=7;j+=1){var F=new Date(E,w,j-xc(g,e)),Y=c(f,F);S.push(y.jsx("div",{className:Ef(Ym,xk(F)&&"".concat(Ym,"--current"),bw(F,e)&&"".concat(Ym,"--weekend")),children:y.jsx("abbr",{"aria-label":Y,title:Y,children:a(f,F).replace(".","")})},j))}return y.jsx(Gg,{className:Tw,count:7,onFocus:m,onMouseOver:m,children:S})}var Wh=function(){return Wh=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Wh.apply(this,arguments)},bb=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n},Eb="react-calendar__tile";function Qk(r){var e=r.onClickWeekNumber,n=r.weekNumber,a=y.jsx("span",{children:n});if(e){var o=r.date,c=r.onClickWeekNumber,f=r.weekNumber,m=bb(r,["date","onClickWeekNumber","weekNumber"]);return y.jsx("button",Wh({},m,{className:Eb,onClick:function(p){return c(f,o,p)},type:"button",children:a}))}else{r.date,r.onClickWeekNumber,r.weekNumber;var m=bb(r,["date","onClickWeekNumber","weekNumber"]);return y.jsx("div",Wh({},m,{className:Eb,children:a}))}}function Kk(r){var e=r.activeStartDate,n=r.calendarType,a=r.onClickWeekNumber,o=r.onMouseLeave,c=r.showFixedNumberOfWeeks,f=(function(){if(c)return 6;var g=mw(e),E=xc(e,n),w=g-(7-E);return 1+Math.ceil(w/7)})(),m=(function(){for(var g=Ct(e),E=es(e),w=Tf(e),S=[],j=0;j<f;j+=1)S.push(Sp(new Date(g,E,w+j*7),n));return S})(),p=m.map(function(g){return gk(g,n)});return y.jsx(Gg,{className:"react-calendar__month-view__weekNumbers",count:f,direction:"column",onFocus:o,onMouseOver:o,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:p.map(function(g,E){var w=m[E];if(!w)throw new Error("date is not defined");return y.jsx(Qk,{date:w,onClickWeekNumber:a,weekNumber:g},g)})})}var Pp=function(){return Pp=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Pp.apply(this,arguments)},Xk=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n};function Wk(r){if(r)for(var e=0,n=Object.entries(WO);e<n.length;e++){var a=n[e],o=a[0],c=a[1];if(c.includes(r))return o}return _n.ISO_8601}function Jk(r){var e=r.activeStartDate,n=r.locale,a=r.onMouseLeave,o=r.showFixedNumberOfWeeks,c=r.calendarType,f=c===void 0?Wk(n):c,m=r.formatShortWeekday,p=r.formatWeekday,g=r.onClickWeekNumber,E=r.showWeekNumbers,w=Xk(r,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function S(){return y.jsx($k,{calendarType:f,formatShortWeekday:m,formatWeekday:p,locale:n,onMouseLeave:a})}function j(){return E?y.jsx(Kk,{activeStartDate:e,calendarType:f,onClickWeekNumber:g,onMouseLeave:a,showFixedNumberOfWeeks:o}):null}function F(){return y.jsx(Yk,Pp({calendarType:f},w))}var Y="react-calendar__month-view";return y.jsx("div",{className:Ef(Y,E?"".concat(Y,"--weekNumbers"):""),children:y.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[j(),y.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[S(),F()]})]})})}var jo=function(){return jo=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},jo.apply(this,arguments)},yh="react-calendar",Ch=["century","decade","year","month"],Zk=["decade","year","month","day"],Yg=new Date;Yg.setFullYear(1,0,1);Yg.setHours(0,0,0,0);var e3=new Date(864e13);function sc(r){return r instanceof Date?r:new Date(r)}function ww(r,e){return Ch.slice(Ch.indexOf(r),Ch.indexOf(e)+1)}function t3(r,e,n){var a=ww(e,n);return a.indexOf(r)!==-1}function $g(r,e,n){return r&&t3(r,e,n)?r:n}function xw(r){var e=Ch.indexOf(r);return Zk[e]}function n3(r,e){var n=Array.isArray(r)?r[e]:r;if(!n)return null;var a=sc(n);if(Number.isNaN(a.getTime()))throw new Error("Invalid date: ".concat(r));return a}function Sw(r,e){var n=r.value,a=r.minDate,o=r.maxDate,c=r.maxDetail,f=n3(n,e);if(!f)return null;var m=xw(c),p=(function(){switch(e){case 0:return Is(m,f);case 1:return yw(m,f);default:throw new Error("Invalid index value: ".concat(e))}})();return Nk(p,a,o)}var Qg=function(r){return Sw(r,0)},Aw=function(r){return Sw(r,1)},r3=function(r){return[Qg,Aw].map(function(e){return e(r)})};function Nw(r){var e=r.maxDate,n=r.maxDetail,a=r.minDate,o=r.minDetail,c=r.value,f=r.view,m=$g(f,o,n),p=Qg({value:c,minDate:a,maxDate:e,maxDetail:n})||new Date;return Is(m,p)}function i3(r){var e=r.activeStartDate,n=r.defaultActiveStartDate,a=r.defaultValue,o=r.defaultView,c=r.maxDate,f=r.maxDetail,m=r.minDate,p=r.minDetail,g=r.value,E=r.view,w=$g(E,p,f),S=e||n;return S?Is(w,S):Nw({maxDate:c,maxDetail:f,minDate:m,minDetail:p,value:g||a,view:E||o})}function $m(r){return r&&(!Array.isArray(r)||r.length===1)}function vh(r,e){return r instanceof Date&&e instanceof Date&&r.getTime()===e.getTime()}var a3=W.forwardRef(function(e,n){var a=e.activeStartDate,o=e.allowPartialRange,c=e.calendarType,f=e.className,m=e.defaultActiveStartDate,p=e.defaultValue,g=e.defaultView,E=e.formatDay,w=e.formatLongDate,S=e.formatMonth,j=e.formatMonthYear,F=e.formatShortWeekday,Y=e.formatWeekday,U=e.formatYear,K=e.goToRangeStartOnSelect,re=K===void 0?!0:K,se=e.inputRef,ce=e.locale,ge=e.maxDate,be=ge===void 0?e3:ge,C=e.maxDetail,A=C===void 0?"month":C,R=e.minDate,k=R===void 0?Yg:R,D=e.minDetail,V=D===void 0?"century":D,N=e.navigationAriaLabel,we=e.navigationAriaLive,Ue=e.navigationLabel,H=e.next2AriaLabel,ae=e.next2Label,ue=e.nextAriaLabel,Ne=e.nextLabel,Ae=e.onActiveStartDateChange,O=e.onChange,Q=e.onClickDay,oe=e.onClickDecade,ne=e.onClickMonth,de=e.onClickWeekNumber,Te=e.onClickYear,ie=e.onDrillDown,me=e.onDrillUp,ve=e.onViewChange,Je=e.prev2AriaLabel,It=e.prev2Label,en=e.prevAriaLabel,jt=e.prevLabel,Qe=e.returnValue,an=Qe===void 0?"start":Qe,ht=e.selectRange,En=e.showDoubleView,sr=e.showFixedNumberOfWeeks,ft=e.showNavigation,vt=ft===void 0?!0:ft,tn=e.showNeighboringCentury,$n=e.showNeighboringDecade,Cn=e.showNeighboringMonth,Dt=Cn===void 0?!0:Cn,In=e.showWeekNumbers,pi=e.tileClassName,gi=e.tileContent,or=e.tileDisabled,yi=e.value,Ur=e.view,vi=W.useState(m),ta=vi[0],Ut=vi[1],Ot=W.useState(null),Tn=Ot[0],_t=Ot[1],_i=W.useState(Array.isArray(p)?p.map(function(Ie){return Ie!==null?sc(Ie):null}):p!=null?sc(p):null),lr=_i[0],na=_i[1],Dn=W.useState(g),Sr=Dn[0],xt=Dn[1],bt=a||ta||i3({activeStartDate:a,defaultActiveStartDate:m,defaultValue:p,defaultView:g,maxDate:be,maxDetail:A,minDate:k,minDetail:V,value:yi,view:Ur}),Et=(function(){var Ie=(function(){return ht&&$m(lr)?lr:yi!==void 0?yi:lr})();return Ie?Array.isArray(Ie)?Ie.map(function(tt){return tt!==null?sc(tt):null}):Ie!==null?sc(Ie):null:null})(),sn=xw(A),Ze=$g(Ur||Sr,V,A),hn=ww(V,A),jn=ht?Tn:null,Qn=hn.indexOf(Ze)<hn.length-1,bi=hn.indexOf(Ze)>0,cr=W.useCallback(function(Ie){var tt=(function(){switch(an){case"start":return Qg;case"end":return Aw;case"range":return r3;default:throw new Error("Invalid returnValue.")}})();return tt({maxDate:be,maxDetail:A,minDate:k,value:Ie})},[be,A,k,an]),Ar=W.useCallback(function(Ie,tt){Ut(Ie);var ot={action:tt,activeStartDate:Ie,value:Et,view:Ze};Ae&&!vh(bt,Ie)&&Ae(ot)},[bt,Ae,Et,Ze]),ur=W.useCallback(function(Ie,tt){var ot=(function(){switch(Ze){case"century":return oe;case"decade":return Te;case"year":return ne;case"month":return Q;default:throw new Error("Invalid view: ".concat(Ze,"."))}})();ot&&ot(Ie,tt)},[Q,oe,ne,Te,Ze]),Kn=W.useCallback(function(Ie,tt){if(Qn){ur(Ie,tt);var ot=hn[hn.indexOf(Ze)+1];if(!ot)throw new Error("Attempted to drill down from the lowest view.");Ut(Ie),xt(ot);var wn={action:"drillDown",activeStartDate:Ie,value:Et,view:ot};Ae&&!vh(bt,Ie)&&Ae(wn),ve&&Ze!==ot&&ve(wn),ie&&ie(wn)}},[bt,Qn,Ae,ur,ie,ve,Et,Ze,hn]),On=W.useCallback(function(){if(bi){var Ie=hn[hn.indexOf(Ze)-1];if(!Ie)throw new Error("Attempted to drill up from the highest view.");var tt=Is(Ie,bt);Ut(tt),xt(Ie);var ot={action:"drillUp",activeStartDate:tt,value:Et,view:Ie};Ae&&!vh(bt,tt)&&Ae(ot),ve&&Ze!==Ie&&ve(ot),me&&me(ot)}},[bt,bi,Ae,me,ve,Et,Ze,hn]),zr=W.useCallback(function(Ie,tt){var ot=Et;ur(Ie,tt);var wn=ht&&!$m(ot),Vt;if(ht)if(wn)Vt=Is(sn,Ie);else{if(!ot)throw new Error("previousValue is required");if(Array.isArray(ot))throw new Error("previousValue must not be an array");Vt=Tk(sn,ot,Ie)}else Vt=cr(Ie);var Br=!ht||wn||re?Nw({maxDate:be,maxDetail:A,minDate:k,minDetail:V,value:Vt,view:Ze}):null;tt.persist(),Ut(Br),na(Vt);var hr={action:"onChange",activeStartDate:Br,value:Vt,view:Ze};if(Ae&&!vh(bt,Br)&&Ae(hr),O)if(ht){var Vn=$m(Vt);if(!Vn)O(Vt||null,tt);else if(o){if(Array.isArray(Vt))throw new Error("value must not be an array");O([Vt||null,null],tt)}}else O(Vt||null,tt)},[bt,o,cr,re,be,A,k,V,Ae,O,ur,ht,Et,sn,Ze]);function Oe(Ie){_t(Ie)}function We(){_t(null)}W.useImperativeHandle(n,function(){return{activeStartDate:bt,drillDown:Kn,drillUp:On,onChange:zr,setActiveStartDate:Ar,value:Et,view:Ze}},[bt,Kn,On,zr,Ar,Et,Ze]);function et(Ie){var tt=Ie?gw(Ze,bt):Is(Ze,bt),ot=Qn?Kn:zr,wn={activeStartDate:tt,hover:jn,locale:ce,maxDate:be,minDate:k,onClick:ot,onMouseOver:ht?Oe:void 0,tileClassName:pi,tileContent:gi,tileDisabled:or,value:Et,valueType:sn};switch(Ze){case"century":return y.jsx(Mk,jo({formatYear:U,showNeighboringCentury:tn},wn));case"decade":return y.jsx(Lk,jo({formatYear:U,showNeighboringDecade:$n},wn));case"year":return y.jsx(Hk,jo({formatMonth:S,formatMonthYear:j},wn));case"month":return y.jsx(Jk,jo({calendarType:c,formatDay:E,formatLongDate:w,formatShortWeekday:F,formatWeekday:Y,onClickWeekNumber:de,onMouseLeave:ht?We:void 0,showFixedNumberOfWeeks:typeof sr<"u"?sr:En,showNeighboringMonth:Dt,showWeekNumbers:In},wn));default:throw new Error("Invalid view: ".concat(Ze,"."))}}function Ke(){return vt?y.jsx(Sk,{activeStartDate:bt,drillUp:On,formatMonthYear:j,formatYear:U,locale:ce,maxDate:be,minDate:k,navigationAriaLabel:N,navigationAriaLive:we,navigationLabel:Ue,next2AriaLabel:H,next2Label:ae,nextAriaLabel:ue,nextLabel:Ne,prev2AriaLabel:Je,prev2Label:It,prevAriaLabel:en,prevLabel:jt,setActiveStartDate:Ar,showDoubleView:En,view:Ze,views:hn}):null}var on=Array.isArray(Et)?Et:[Et];return y.jsxs("div",{className:Ef(yh,ht&&on.length===1&&"".concat(yh,"--selectRange"),En&&"".concat(yh,"--doubleView"),f),ref:se,children:[Ke(),y.jsxs("div",{className:"".concat(yh,"__viewContainer"),onBlur:ht?We:void 0,onMouseLeave:ht?We:void 0,children:[et(),En?et(!0):null]})]})});const s3=({history:r,onDateChange:e,selectedDate:n,t:a})=>{const o=Up.useMemo(()=>r.reduce((m,p)=>{if(p.status==="completed"&&p.createdAt?.seconds){const g=new Date(p.createdAt.seconds*1e3).toDateString();m.add(g)}return m},new Set),[r]),c=({date:m,view:p})=>p==="month"&&o.has(m.toDateString())?y.jsx("div",{className:"trained-day-dot"}):null,f=(m,p)=>["D","L","M","X","J","V","S"][p.getDay()];return y.jsx(a3,{onChange:e,value:n,tileContent:c,className:"w-full bg-slate-800/20 p-4 rounded-xl border border-slate-700/50",prevLabel:y.jsx(he,{name:"chevronLeft",className:"w-5 h-5"}),nextLabel:y.jsx(he,{name:"chevronRight",className:"w-5 h-5"}),next2Label:null,prev2Label:null,formatShortWeekday:f})},o3=r=>{if(r==null)return"N/A";const e=Math.floor(r/60),n=r%60;return`${e}:${n.toString().padStart(2,"0")}`};function l3({history:r,onViewRoutine:e,t:n}){const[a,o]=W.useState(null),c=W.useMemo(()=>r.filter(p=>p.status==="completed").sort((p,g)=>(g.createdAt?.seconds||0)-(p.createdAt?.seconds||0)),[r]),f=W.useMemo(()=>a?c.filter(p=>new Date(p.createdAt.seconds*1e3).toDateString()===a.toDateString()):c,[c,a]),m=p=>{a&&p.getTime()===a.getTime()?o(null):o(p)};return y.jsxs("div",{className:"animate-fadeIn pb-20",children:[y.jsxs("h2",{className:"text-lg font-bold text-slate-100 mb-6 flex items-center gap-2",children:[y.jsx(he,{name:"list",className:"w-5 h-5 text-teal-400"})," ",n.tabHistory]}),y.jsx("div",{className:"mb-8",children:y.jsx(s3,{history:r,onDateChange:m,selectedDate:a,t:n})}),f.length>0?y.jsx("div",{className:"space-y-4",children:f.map(p=>y.jsxs(mi,{className:"p-5 flex items-center justify-between group hover:bg-slate-800 transition-colors cursor-pointer",onClick:()=>e(p),children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx("span",{className:"text-xs font-mono text-slate-500 bg-slate-900 px-2 py-0.5 rounded",children:p.createdAt?.toDate?.().toLocaleDateString()||"N/A"}),y.jsxs("span",{className:"flex items-center gap-1 text-[10px] text-teal-400 font-bold uppercase",children:[y.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-teal-500"})," ",n.completed]})]}),y.jsx("h4",{className:"text-base font-bold text-slate-200 group-hover:text-teal-300 transition-colors",children:p.diaEnfoque}),p.totalTime!==void 0&&y.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-slate-400 mt-2 font-mono",children:[y.jsx(he,{name:"clock",className:"w-3.5 h-3.5"}),y.jsx("span",{children:o3(p.totalTime)})]})]}),y.jsx("div",{className:"p-3 rounded-full bg-slate-900 text-slate-500 border border-slate-700 group-hover:bg-teal-600 group-hover:text-white group-hover:border-teal-500 transition-all",children:y.jsx(he,{name:"chevronRight",className:"w-5 h-5"})})]},p.id))}):y.jsxs("div",{className:"text-center py-16 opacity-50 bg-slate-800/30 rounded-2xl border border-dashed border-slate-700",children:[y.jsx(he,{name:a?"searchX":"database",className:"w-12 h-12 mx-auto mb-4 text-slate-600"}),y.jsx("p",{className:"text-slate-500 font-medium",children:a?n.noRecordsForDate:n.noRecords}),a&&y.jsx("button",{onClick:()=>o(null),className:"mt-4 px-4 py-2 text-sm font-semibold text-teal-300 bg-teal-500/10 rounded-lg hover:bg-teal-500/20 transition-colors",children:n.showAll})]})]})}const Qm=({isValid:r,text:e})=>y.jsxs("div",{className:`flex items-center text-xs transition-colors duration-300 ${r?"text-green-400":"text-slate-500"}`,children:[y.jsx(he,{name:r?"checkCircle":"xCircle",className:"w-4 h-4 mr-2 flex-shrink-0"}),y.jsx("span",{children:e})]}),Rw=({value:r,onChange:e,placeholder:n,t:a})=>{const[o,c]=W.useState(!1),f=W.useMemo(()=>{const m=r.length>=6,p=/[A-Z]/.test(r),g=/[0-9]/.test(r);return{hasLength:m,hasUppercase:p,hasNumber:g}},[r]);return y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:o?"text":"password",value:r,onChange:e,placeholder:n||"Contrasea",className:"w-full bg-slate-900/70 border border-slate-700 rounded-lg pl-4 pr-10 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-teal-500 text-sm transition-colors",required:!0}),y.jsx("button",{type:"button",onClick:()=>c(!o),className:"absolute inset-y-0 right-0 flex items-center px-3 text-slate-500 hover:text-white transition-colors","aria-label":o?"Ocultar contrasea":"Mostrar contrasea",children:y.jsx(he,{name:o?"eyeOff":"eye",className:"w-5 h-5"})})]}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-x-4 gap-y-1 pt-1",children:[y.jsx(Qm,{isValid:f.hasLength,text:a.passRequirementLength}),y.jsx(Qm,{isValid:f.hasUppercase,text:a.passRequirementUpper}),y.jsx(Qm,{isValid:f.hasNumber,text:a.passRequirementNumber})]})]})},c3=({onLinkAccount:r,t:e,error:n})=>{const[a,o]=W.useState(""),[c,f]=W.useState(""),[m,p]=W.useState(!1),[g,E]=W.useState(!1),w=async S=>{S.preventDefault(),p(!0),E(!1);const j=await r(a,c);p(!1),j&&E(!0)};return g?y.jsx(mi,{className:"p-6 border-green-500/30 bg-green-900/20",children:y.jsxs("div",{className:"text-center",children:[y.jsx(he,{name:"checkCircle",className:"w-12 h-12 text-green-400 mx-auto mb-4"}),y.jsx("h3",{className:"text-lg font-bold text-white",children:e.accountLinkedTitle}),y.jsx("p",{className:"text-green-200/80 text-sm",children:e.accountLinkedMessage})]})}):y.jsxs(mi,{className:"p-6 border-teal-500/30 bg-slate-800/50",children:[y.jsxs("h3",{className:"text-sm font-bold text-teal-300 uppercase tracking-wider mb-3 flex items-center gap-2",children:[y.jsx(he,{name:"shieldCheck",className:"w-4 h-4"})," ",e.saveAccountPrompt]}),y.jsx("p",{className:"text-xs text-slate-400 mb-4",children:e.saveAccountMessage}),y.jsxs("form",{onSubmit:w,className:"space-y-4",children:[y.jsx("input",{type:"email",value:a,onChange:S=>o(S.target.value),placeholder:e.emailPlaceholder,className:"w-full bg-slate-900/70 border border-slate-700 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-teal-500 text-sm",required:!0}),y.jsx(Rw,{value:c,onChange:S=>f(S.target.value),placeholder:e.passwordPlaceholder,t:e}),y.jsx("button",{type:"submit",disabled:m,className:"w-full bg-teal-600 hover:bg-teal-500 disabled:bg-slate-700 disabled:text-slate-400 text-white font-bold py-2.5 rounded-lg text-sm shadow-lg shadow-teal-900/30 transition-all flex items-center justify-center gap-2",children:m?y.jsxs(y.Fragment,{children:[y.jsx(he,{name:"loader",className:"animate-spin w-5 h-5"})," ",e.processing]}):e.saveAccountButton}),n&&!m&&y.jsx("p",{className:"text-red-400 text-xs text-center pt-2 animate-fadeIn",children:n})]})]})},u3=({profile:r,onChange:e,onAnalyzeBioage:n,bioageLoading:a,t:o})=>{const[c,f]=W.useState(!1),m=r.bioage||{},p=g=>{const E=g.target.name.replace("bio_","");e({target:{name:"bioage",value:{...m,[E]:g.target.value}}})};return y.jsxs("div",{className:"rounded-2xl border border-violet-500/20 bg-gradient-to-br from-slate-900/80 to-slate-800/80 overflow-hidden shadow-lg transition-all duration-300",children:[y.jsxs("button",{type:"button",onClick:()=>f(!c),className:"w-full p-5 flex items-center justify-between hover:bg-slate-800/50 transition-colors",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2.5 rounded-xl bg-violet-500/10 text-violet-300 border border-violet-500/20",children:y.jsx(he,{name:"scanEye",className:"w-5 h-5"})}),y.jsx("div",{className:"text-left",children:y.jsx("h3",{className:"text-sm font-bold text-slate-100",children:o.bioageTitle})})]}),y.jsx(he,{name:c?"chevronUp":"chevronDown",className:`w-5 h-5 text-slate-500 transition-transform ${c?"rotate-0":"-rotate-90"}`})]}),c&&y.jsx("div",{className:"p-5 pt-0 animate-fadeIn border-t border-slate-700/50",children:y.jsxs("div",{className:"space-y-6 mt-4",children:[y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsx(ri,{name:"sq1rm",value:m.sq1rm,onChange:p,unit:"kg",label:"Squat 1RM"}),y.jsx(ri,{name:"plank",value:m.plank,onChange:p,unit:"seg",label:"Plank"})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsx(ri,{name:"pullups",value:m.pullups,onChange:p,unit:"reps",label:"Dominadas"}),y.jsx(ri,{name:"pushups",value:m.pushups,onChange:p,unit:"reps",label:"Flexiones"})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsx(ri,{name:"waist",value:m.waist,onChange:p,unit:"cm",label:"Cintura"}),y.jsx(ri,{name:"vo2max",value:m.vo2max,onChange:p,unit:"ml",label:"VO2 Max"})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsx(ri,{name:"rhr",value:m.rhr,onChange:p,unit:"bpm",label:"FC Reposo"}),y.jsx(ri,{name:"hrr",value:m.hrr,onChange:p,unit:"bpm",label:"Recuperacin"})]}),y.jsxs("button",{onClick:()=>n(r),disabled:a,className:"w-full py-3 rounded-xl bg-slate-800 border border-teal-500/30 text-teal-400 hover:bg-slate-700/80 transition-all font-bold text-xs flex items-center justify-center gap-2",children:[a?y.jsx(he,{name:"loader",className:"w-4 h-4 animate-spin"}):y.jsx(he,{name:"brain",className:"w-4 h-4"})," ",a?o.processing:o.calcBioAge]}),r.bioageEstimation&&y.jsxs("div",{className:"mt-4 p-4 bg-violet-900/20 border border-violet-500/30 rounded-xl animate-fadeIn",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsxs("div",{children:[y.jsx("div",{className:"text-[10px] uppercase text-violet-400 font-bold",children:o.realAge}),y.jsxs("div",{className:"text-xl font-mono text-slate-300",children:[r.age," ",y.jsx("span",{className:"text-xs",children:"aos"})]})]}),y.jsx(he,{name:"arrowRight",className:"text-violet-500/50 w-6 h-6"}),y.jsxs("div",{className:"text-right",children:[y.jsx("div",{className:"text-[10px] uppercase text-teal-400 font-bold",children:o.bioAgeResult}),y.jsxs("div",{className:"text-3xl font-black text-teal-300 drop-shadow-sm",children:[r.bioageEstimation.edadBiologica," ",y.jsx("span",{className:"text-base font-normal text-teal-500/80",children:"aos"})]})]})]}),r.bioageEstimation.evaluacion&&y.jsxs("div",{className:"text-xs text-slate-300 italic border-t border-violet-500/20 pt-2 mt-2 leading-relaxed",children:['"',r.bioageEstimation.evaluacion,'"']})]})]})})]})},h3=({profile:r,onChange:e,t:n})=>{if(r.gender!=="Mujer")return null;const a=r.menstrualCycle||{lastPeriod:"",cycleLength:28},o=Y4(a.lastPeriod,a.cycleLength),c=f=>e({target:{name:"menstrualCycle",value:{...a,[f.target.name]:f.target.value}}});return y.jsxs(mi,{className:"p-6 border-pink-500/20 bg-gradient-to-br from-slate-900 to-pink-900/10",children:[y.jsxs("h3",{className:"text-sm font-bold text-pink-300 uppercase tracking-wider mb-2 flex items-center gap-2",children:[y.jsx(he,{name:"flower",className:"w-4 h-4 text-pink-400"})," ",n.cycleTitle]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-5",children:[y.jsx("input",{type:"date",name:"lastPeriod",value:a.lastPeriod,onChange:c,className:"w-full bg-slate-900/50 border border-slate-700 text-slate-100 rounded-lg py-3 px-3 text-xs outline-none"}),y.jsx("input",{type:"number",name:"cycleLength",value:a.cycleLength,onChange:c,className:"w-full bg-slate-900/50 border border-slate-700 text-slate-100 rounded-lg py-3 px-3 text-xs outline-none"})]}),o&&y.jsxs("div",{className:"bg-pink-500/10 border border-pink-500/30 rounded-xl p-4",children:[y.jsx("h4",{className:"text-lg font-bold text-pink-100",children:o.label}),y.jsx("p",{className:"text-xs text-pink-200/80",children:o.desc})]})]})},f3=({onGenerateBackup:r,onShowImportModal:e,onSignOut:n,t:a})=>y.jsxs(mi,{className:"p-6",children:[y.jsxs("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-5 flex items-center gap-2 pb-2 border-b border-slate-700/50",children:[y.jsx(he,{name:"database",className:"w-4 h-4 text-slate-500"})," ",a.dataManagement]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("button",{onClick:r,className:"p-3 bg-slate-800 hover:bg-slate-700 rounded-lg text-sm font-semibold flex items-center justify-center gap-2 transition-colors",children:[y.jsx(he,{name:"download",className:"w-4 h-4"})," ",a.exportData]}),y.jsxs("button",{onClick:e,className:"p-3 bg-slate-800 hover:bg-slate-700 rounded-lg text-sm font-semibold flex items-center justify-center gap-2 transition-colors",children:[y.jsx(he,{name:"upload",className:"w-4 h-4"})," ",a.importData]})]}),y.jsx("div",{className:"mt-4 pt-4 border-t border-slate-700/50",children:y.jsxs("button",{onClick:n,className:"w-full p-3 bg-red-900/50 hover:bg-red-800/70 rounded-lg text-sm font-semibold flex items-center justify-center gap-2 transition-colors text-red-400 hover:text-red-300",children:[y.jsx(he,{name:"logOut",className:"w-4 h-4"})," ",a.signOut]})})]});function d3({profile:r,onProfileChange:e,onProfileSave:n,onGenerateBackup:a,onShowImportModal:o,onSignOut:c,profileSuccess:f,profileError:m,onAnalyzeBioage:p,bioageLoading:g,t:E,isAnonymous:w,onLinkAccount:S,linkAccountError:j}){return y.jsxs("div",{className:"animate-fadeIn pb-20 space-y-6",children:[w&&y.jsx(c3,{onLinkAccount:S,t:E,error:j}),y.jsxs("form",{onSubmit:F=>{F.preventDefault(),n(r)},className:"space-y-8",children:[y.jsxs(mi,{className:"p-6",children:[y.jsxs("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-5 flex items-center gap-2 pb-2 border-b border-slate-700/50",children:[y.jsx(he,{name:"user",className:"w-4 h-4 text-teal-400"})," ",E.biometrics]}),y.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[y.jsx(Ui,{label:E.gender,icon:"user",type:"select",name:"gender",value:r.gender,onChange:e,options:[{value:"Hombre",label:E.male},{value:"Mujer",label:E.female}]}),y.jsx(Ui,{label:E.age,icon:"calendar",type:"number",name:"age",value:r.age,onChange:e}),y.jsx(Ui,{label:E.height,icon:"ruler",type:"number",name:"height",value:r.height,onChange:e}),y.jsx(Ui,{label:E.weight,icon:"weight",type:"number",name:"weight",value:r.weight,onChange:e})]}),y.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-700/50 grid grid-cols-2 gap-6",children:[y.jsx(ri,{name:"bodyFat",value:r.bodyFat,onChange:e,unit:"%",label:E.bodyFat,tooltip:"Opcional: Grasa",isBio:!1}),y.jsx(ri,{name:"muscleMass",value:r.muscleMass,onChange:e,unit:"%",label:E.muscleMass,tooltip:"Opcional: Msculo",isBio:!1})]})]}),y.jsx(h3,{profile:r,onChange:e,t:E}),y.jsx(u3,{profile:r,onChange:e,onAnalyzeBioage:p,bioageLoading:g,t:E}),y.jsxs(mi,{className:"p-6",children:[y.jsxs("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-5 flex items-center gap-2 pb-2 border-b border-slate-700/50",children:[y.jsx(he,{name:"target",className:"w-4 h-4 text-violet-400"})," ",E.customFocus]}),y.jsxs("div",{className:"space-y-6",children:[y.jsx(Ui,{label:E.mainGoal,icon:"star",type:"select",name:"mainGoal",value:r.mainGoal,onChange:e,options:[{value:"Perder grasa corporal",label:E.goalFat},{value:"Crecimiento muscular (Hipertrofia)",label:E.goalMuscle},{value:"Incremento de fuerza",label:E.goalStrength},{value:"Mejora de rendimiento cardiovascular",label:E.goalCardio}]}),y.jsx(Ui,{label:E.expLevel,icon:"activity",type:"select",name:"experienceLevel",value:r.experienceLevel,onChange:e,options:[{value:"Principiante",label:E.expBeginner},{value:"Intermedio",label:E.expInter},{value:"Avanzado",label:E.expAdvanced}]}),y.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[y.jsx(Ui,{label:E.daysWeek,icon:"calendar",type:"number",name:"daysPerWeek",value:r.daysPerWeek,onChange:e}),y.jsx(Ui,{label:E.timeAvailable,icon:"clock",type:"number",name:"timeAvailable",value:r.timeAvailable,onChange:e})]}),y.jsx(Ui,{label:E.injuries,icon:"alert",type:"text",name:"injuries",value:r.injuries,onChange:e,placeholder:E.phInjuries,isTextArea:!0})]})]}),y.jsx("div",{className:"flex items-center gap-4 sticky bottom-24",children:y.jsxs("button",{type:"submit",className:"flex-1 py-4 bg-teal-600 hover:bg-teal-500 text-white font-bold rounded-xl shadow-lg shadow-teal-900/20 transition-all duration-300 hover:scale-[1.02] active:scale-95 flex justify-center items-center gap-2",children:[y.jsx(he,{name:"save",className:"w-5 h-5"})," ",E.saveFile]})}),f&&y.jsx("div",{className:"p-4 rounded-xl bg-teal-500/10 border border-teal-500/30 text-teal-400 text-sm font-medium text-center shadow-sm",children:f}),m&&y.jsx("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/30 text-red-400 text-sm font-medium text-center shadow-sm",children:m})]}),y.jsx("div",{className:"pt-8",children:y.jsx(f3,{onGenerateBackup:a,onShowImportModal:o,onSignOut:c,t:E})})]})}const m3=({mode:r,onSubmit:e,error:n,t:a,setMode:o,onPasswordReset:c,resetEmailSent:f,setResetEmailSent:m,setAuthError:p})=>{const[g,E]=W.useState(""),[w,S]=W.useState("");W.useEffect(()=>{E(""),S("")},[r]);const j=K=>{K.preventDefault(),r==="reset"?F():e(g,w)},F=async()=>{await c(g)&&m(!0)},Y={signin:a.signIn,signUp:a.signUp,reset:a.resetPassword},U={signin:a.signIn,signUp:a.signUp,reset:a.resetPassword};return f?y.jsxs("div",{className:"text-center animate-fadeIn",children:[y.jsx(he,{name:"checkCircle",className:"w-16 h-16 text-green-400 mx-auto mb-4"}),y.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:a.resetEmailSentTitle}),y.jsx("p",{className:"text-slate-300 mb-6",children:a.resetEmailSentMessage}),y.jsx("button",{onClick:()=>o("signin"),className:"w-full text-center text-teal-400 font-semibold hover:text-teal-300 transition-colors",children:a.backToLogin})]}):y.jsxs("form",{onSubmit:j,className:"space-y-6 animate-fadeIn",children:[y.jsx("h2",{className:"text-3xl font-bold text-center text-white",children:Y[r]}),r==="reset"&&y.jsx("p",{className:"text-center text-slate-400 text-sm",children:a.resetPasswordPrompt}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("input",{type:"email",value:g,onChange:K=>E(K.target.value),placeholder:a.emailPlaceholder,className:"w-full bg-slate-900/70 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-teal-500 text-sm",required:!0}),r!=="reset"&&y.jsx(Rw,{value:w,onChange:K=>S(K.target.value),placeholder:a.passwordPlaceholder,t:a})]}),n&&y.jsx("p",{className:"text-red-400 text-sm text-center bg-red-500/10 p-3 rounded-lg border border-red-500/30",children:n}),y.jsx("button",{type:"submit",className:"w-full bg-teal-600 hover:bg-teal-500 text-white font-bold py-3 rounded-lg shadow-lg shadow-teal-900/30 transition-colors",children:U[r]})]})};function p3({onSignIn:r,onSignUp:e,onAnonymousSignIn:n,onPasswordReset:a,error:o,t:c,setAuthError:f}){const[m,p]=W.useState("signin"),[g,E]=W.useState(!1),w=F=>{f(null),E(!1),p(F)},S=m==="signin"?c.signUp:c.signIn,j=()=>w(m==="signin"?"signup":"signin");return y.jsx("div",{className:"min-h-screen bg-slate-900 flex flex-col items-center justify-center p-4 font-sans",children:y.jsxs("div",{className:"w-full max-w-sm mx-auto",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx(he,{name:"dumbbell",className:"w-12 h-12 mx-auto text-teal-400 bg-teal-900/30 p-2 rounded-xl border border-teal-500/20"}),y.jsx("h1",{className:"text-4xl font-bold text-white mt-4 bg-clip-text text-transparent bg-gradient-to-r from-white to-slate-400",children:"Momentum AI"})]}),y.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-2xl p-8 backdrop-blur-sm",children:[y.jsx(m3,{mode:m,onSubmit:m==="signin"?r:e,onPasswordReset:a,error:o,t:c,setMode:w,setAuthError:f,resetEmailSent:g,setResetEmailSent:E}),y.jsxs("div",{className:"text-center mt-6 text-sm",children:[m==="signin"&&y.jsx("button",{onClick:()=>w("reset"),className:"text-slate-400 hover:text-teal-400 transition-colors mb-4",children:c.forgotPassword}),m==="reset"&&!g&&y.jsx("button",{onClick:()=>w("signin"),className:"text-slate-400 hover:text-teal-400 transition-colors mb-4",children:c.backToLogin})]}),y.jsxs("div",{className:"relative my-6",children:[y.jsx("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:y.jsx("div",{className:"w-full border-t border-slate-700"})}),y.jsx("div",{className:"relative flex justify-center text-sm",children:y.jsx("span",{className:"px-2 bg-slate-800 text-slate-500",children:"o"})})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("button",{onClick:j,className:"w-full bg-slate-700 hover:bg-slate-600 text-white font-bold py-3 rounded-lg transition-colors",children:S}),y.jsx("button",{onClick:n,className:"w-full text-center text-slate-400 font-semibold hover:text-white transition-colors",children:c.signInGuest})]})]})]})})}const g3=()=>y.jsx("style",{children:`
    body { background-color: #0f172a; color: #f8fafc; }
    .minimal-scrollbar { scrollbar-width: thin; scrollbar-color: #334155 #0f172a; }
    .minimal-scrollbar::-webkit-scrollbar { height: 6px; width: 6px; }
    .minimal-scrollbar::-webkit-scrollbar-track { background: #0f172a; border-radius: 8px; }
    .minimal-scrollbar::-webkit-scrollbar-thumb { background-color: #334155; border-radius: 8px; border: 2px solid #0f172a; }
    
    /* Animaciones */
    .animate-fadeIn { animation: fadeIn 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
    .animate-slideInRight { animation: slideInRight 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
    .animate-pop { animation: pop 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes slideInRight { from { opacity: 0; transform: translateX(50px); } to { opacity: 1; transform: translateX(0); } }
    @keyframes pop { 0% { transform: scale(0.9); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }
    @keyframes spin-slow { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
    @keyframes gradient-move { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
    
    /* Utilidades Extra */
    .gemini-loader-circle { width: 28px; height: 28px; position: relative; animation: spin-slow 2s linear infinite; }
    .gemini-loader-icon { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: #2dd4bf; }
    .gemini-loader-path {
      width: 28px; height: 28px; border-radius: 50%; padding: 2px;
      background: conic-gradient(from 0deg, #2dd4bf, #8b5cf6, #2dd4bf);
      mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
      mask-composite: exclude;
      animation: spin-slow 2s linear infinite;
    }
    .lava-lamp-bg {
        background: linear-gradient(-45deg, #0f172a, #1e1b4b, #0f172a, #064e3b);
        background-size: 400% 400%;
        animation: gradient-move 15s ease infinite;
    }
    .text-stroke { -webkit-text-stroke: 1px rgba(255,255,255,0.1); }
    .hide-scrollbar::-webkit-scrollbar { display: none; }
    .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    
    /* Confeti */
    .particle { position: absolute; width: 8px; height: 8px; border-radius: 50%; animation: particle-anim 1s forwards; pointer-events: none; z-index: 100; }
    @keyframes particle-anim {
        0% { transform: translate(0, 0) scale(1); opacity: 1; }
        100% { transform: translate(var(--tx), var(--ty)) scale(0); opacity: 0; }
    }
  `}),y3=({show:r})=>y.jsxs("div",{className:`fixed inset-0 z-50 bg-slate-950 flex flex-col items-center justify-center transition-opacity duration-1000 pointer-events-none ${r?"opacity-100":"opacity-0"}`,children:[y.jsxs("div",{className:"relative mb-6",children:[y.jsx("div",{className:"absolute inset-0 bg-teal-500 blur-2xl opacity-20 rounded-full animate-pulse"}),y.jsx(he,{name:"dumbbell",className:"w-12 h-12 text-teal-400 relative z-10"})]}),y.jsxs("h1",{className:"text-xl font-black text-white tracking-tight",children:["Momentum ",y.jsx("span",{className:"text-teal-400",children:"AI"})]})]}),v3=({jsonString:r,onClose:e,onCopy:n,copySuccess:a,t:o})=>y.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-sm flex items-center justify-center p-6 z-50 animate-fadeIn",children:y.jsxs(mi,{className:"w-full max-w-lg p-6 border-slate-600 bg-slate-900",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h3",{className:"text-slate-100 font-bold text-lg",children:o.copyBackup}),y.jsx("button",{onClick:e,children:y.jsx(he,{name:"close",className:"text-slate-400 hover:text-white"})})]}),y.jsx("textarea",{readOnly:!0,value:r,className:"w-full h-48 bg-slate-950 text-slate-400 text-xs p-4 rounded-xl border border-slate-700 mb-5 minimal-scrollbar font-mono focus:outline-none focus:border-teal-500"}),y.jsx("div",{className:"flex justify-end gap-3",children:y.jsx("button",{onClick:n,className:`px-5 py-2.5 rounded-lg font-bold text-sm transition-colors shadow-lg ${a?"bg-emerald-600 text-white":"bg-teal-600 text-white hover:bg-teal-500"}`,children:a?y.jsxs(y.Fragment,{children:[y.jsx(he,{name:"check",className:"inline w-4 h-4 mr-1"})," ",o.copied]}):y.jsxs(y.Fragment,{children:[y.jsx(he,{name:"copy",className:"inline w-4 h-4 mr-1"})," ",o.copyToClip]})})})]})}),_3=({onClose:r,onImport:e,importError:n,t:a})=>{const[o,c]=Up.useState("");return y.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-sm flex items-center justify-center p-6 z-50 animate-fadeIn",children:y.jsxs(mi,{className:"w-full max-w-lg p-6 border-slate-600 bg-slate-900",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h3",{className:"text-slate-100 font-bold text-lg",children:a.importData}),y.jsx("button",{onClick:r,children:y.jsx(he,{name:"close",className:"text-slate-400 hover:text-white"})})]}),y.jsx("textarea",{value:o,onChange:f=>c(f.target.value),className:"w-full h-48 bg-slate-950 text-slate-200 text-xs p-4 rounded-xl border border-slate-700 mb-5 minimal-scrollbar font-mono focus:ring-2 focus:ring-teal-500 outline-none",placeholder:"Pegar contenido JSON aqu..."}),y.jsx("div",{className:"flex justify-end gap-3",children:y.jsx("button",{onClick:()=>e(o),className:"px-5 py-2.5 rounded-lg bg-teal-600 text-white font-bold text-sm hover:bg-teal-500 shadow-lg",children:a.importBtn})}),n&&y.jsx("p",{className:"text-red-400 text-xs mt-3 bg-red-900/20 p-2 rounded border border-red-900/50",children:n})]})})},b3=({onContinue:r,onSave:e,onCancel:n,t:a})=>y.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-sm flex items-center justify-center p-6 z-50 animate-fadeIn",children:y.jsxs(mi,{className:"w-full max-w-md p-8 border-slate-600 bg-slate-900 text-center",children:[y.jsx(he,{name:"alertTriangle",className:"w-12 h-12 text-amber-400 mx-auto mb-4"}),y.jsx("h3",{className:"text-slate-100 font-bold text-2xl mb-2",children:a.signOutGuestTitle}),y.jsx("p",{className:"text-slate-400 mb-8",children:a.signOutGuestMessage}),y.jsxs("div",{className:"flex flex-col gap-3",children:[y.jsx("button",{onClick:e,className:"px-5 py-3 rounded-lg bg-teal-600 text-white font-bold text-sm hover:bg-teal-500 shadow-lg",children:a.saveAccountButton}),y.jsx("button",{onClick:r,className:"px-5 py-2.5 rounded-lg bg-red-800/80 text-white font-semibold text-sm hover:bg-red-700",children:a.signOutAndLoseData}),y.jsx("button",{onClick:n,className:"px-5 py-2 text-slate-400 font-medium text-sm hover:text-white",children:a.cancel})]})]})});function E3(){const{t:r,activeTab:e,view:n,currentRoutine:a,showSplash:o,scrolled:c,headerRef:f,isImportModalOpen:m,importTextError:p,backupJson:g,copySuccess:E,isSessionActive:w,sessionSeconds:S,restSeconds:j,userId:F,isAuthReady:Y,authError:U,linkAccountError:K,isAnonymous:re,profile:se,bioageLoading:ce,profileSuccess:ge,profileError:be,successMessage:C,history:A,loading:R,generationProgress:k,error:D,isSignOutWarningVisible:V,toggleLanguage:N,setActiveTab:we,handleScroll:Ue,handleViewRoutine:H,handleBackToMain:ae,handleRoutineFeedback:ue,handleExerciseComplete:Ne,setRestSeconds:Ae,setIsSessionActive:O,onProfileChange:Q,onProfileSave:oe,onAnalyzeBioage:ne,onGeneratePlan:de,onAdjustNextSession:Te,onGenerateBackup:ie,onCloseBackupModal:me,onCopyToClipboard:ve,setIsImportModalOpen:Je,onImportFromText:It,onSignIn:en,onSignUp:jt,onAnonymousSignIn:Qe,onSignOutRequest:an,onForceSignOut:ht,onLinkAccount:En,onPasswordReset:sr,setAuthError:ft,setIsSignOutWarningVisible:vt}=tD();if(!Y||o)return y.jsx(y3,{show:!0});if(!F)return y.jsx(p3,{onSignIn:en,onSignUp:jt,onAnonymousSignIn:Qe,onPasswordReset:sr,error:U,t:r,setAuthError:ft});const tn=()=>{vt(!1),we("profile")};return y.jsxs(y.Fragment,{children:[y.jsx(g3,{}),g&&y.jsx(v3,{jsonString:g,onClose:me,onCopy:ve,copySuccess:E,t:r}),m&&y.jsx(_3,{onClose:()=>Je(!1),onImport:It,importError:p,t:r}),V&&y.jsx(b3,{onContinue:ht,onSave:tn,onCancel:()=>vt(!1),t:r}),y.jsxs("div",{className:"h-screen supports-[height:100dvh]:h-[100dvh] flex flex-col overflow-hidden font-sans bg-slate-900 text-slate-100 selection:bg-teal-500/30",children:[y.jsx("header",{ref:f,className:`w-full z-40 fixed top-0 left-0 border-b transition-all duration-300 ${c?"bg-slate-900/90 backdrop-blur-xl border-slate-700/50 py-2 shadow-md":"bg-transparent border-transparent py-3"}`,children:y.jsxs("div",{className:"max-w-md mx-auto px-6 flex items-center justify-between",children:[y.jsxs("h1",{className:`font-bold text-slate-100 flex items-center transition-all ${c?"text-sm":"text-base"}`,children:[n==="routine"?y.jsx("button",{onClick:ae,className:"mr-3 text-slate-400 hover:text-white transition-colors p-2 rounded-full hover:bg-slate-800",children:y.jsx(he,{name:"arrowLeft",className:"w-6 h-6"})}):y.jsx("div",{className:"bg-teal-500/10 p-1.5 rounded-lg mr-2",children:y.jsx(he,{name:"dumbbell",className:"text-teal-400 w-4 h-4"})}),y.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-white to-slate-400",children:n==="routine"?r.routineInProgress:r.appTitle})]}),y.jsx("div",{className:"flex items-center gap-2 text-xs",children:n!=="routine"&&y.jsxs("div",{className:"flex items-center gap-2 scale-90 origin-right",children:[y.jsxs("button",{onClick:N,className:"flex items-center px-2 py-0.5 rounded-lg bg-slate-800 border border-slate-700 text-slate-400 hover:text-white hover:border-slate-500 transition-all font-bold font-mono tracking-tighter",children:[y.jsx("span",{className:r.lang==="es"?"text-teal-400":"",children:"ES"}),y.jsx("span",{className:"mx-1 opacity-30",children:"|"}),y.jsx("span",{className:r.lang==="en"?"text-teal-400":"",children:"EN"})]}),F&&y.jsxs("span",{className:`flex items-center px-2 py-0.5 rounded-full border ${re?"bg-yellow-500/10 border-yellow-500/20 text-yellow-300":"bg-teal-500/10 border-teal-500/20 text-teal-300"} font-semibold shadow-inner`,children:[y.jsx(he,{name:re?"userCheck":"activity",className:"w-3.5 h-3.5 mr-2"}),re?r.guest:r.online]})]})})]})}),y.jsx("main",{className:`flex-1 overflow-y-auto overflow-x-hidden minimal-scrollbar pt-16 ${n==="routine"?"snap-y snap-proximity":""}`,onScroll:Ue,children:y.jsxs("div",{className:"max-w-md mx-auto px-4 md:px-0 pb-32",children:[e==="training"&&y.jsx(AO,{profile:se,onProfileChange:Q,onGeneratePlan:de,onAdjustNextSession:Te,loading:R,successMessage:C,errorMessage:D,history:A,onViewRoutine:H,generationProgress:k,t:r,onAnalyzeBioage:ne,bioageLoading:ce,view:n,currentRoutine:a,onRoutineFeedback:ue,onExerciseComplete:Ne,isSessionActive:w,setIsSessionActive:O,restSeconds:j,setRestSeconds:Ae,sessionSeconds:S}),e==="history"&&y.jsx(l3,{history:A,t:r,onViewRoutine:H}),e==="profile"&&y.jsx(d3,{profile:se,onProfileChange:Q,onProfileSave:oe,onAnalyzeBioage:ne,bioageLoading:ce,profileSuccess:ge,profileError:be,onGenerateBackup:ie,onShowImportModal:()=>Je(!0),onSignOut:an,isAnonymous:re,onLinkAccount:En,linkAccountError:K,t:r})]})}),y.jsx("div",{className:"fixed bottom-6 left-0 right-0 z-40 flex justify-center pointer-events-none",children:n==="main"&&y.jsx("nav",{className:"bg-slate-800/50 backdrop-blur-xl border border-slate-700/50 shadow-2xl rounded-full px-6 py-3 flex gap-8 pointer-events-auto",children:["training","history","profile"].map($n=>{const Cn=e===$n,Dt={training:"target",history:"list",profile:"user"};return y.jsx("button",{onClick:()=>we($n),className:`relative p-3 rounded-full transition-all duration-300 group ${Cn?"bg-teal-500 text-white shadow-lg shadow-teal-500/30 -translate-y-2 scale-110":"text-slate-400 hover:text-slate-200 hover:bg-slate-700/50"}`,children:y.jsx(he,{name:Dt[$n],className:"w-6 h-6"})},$n)})})})]})]})}px.createRoot(document.getElementById("root")).render(y.jsx(Up.StrictMode,{children:y.jsx(E3,{})}));
