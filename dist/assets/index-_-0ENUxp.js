(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function Ab(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Em={exports:{}},Jl={};var v_;function sA(){if(v_)return Jl;v_=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:a,type:i,key:f,ref:o!==void 0?o:null,props:c}}return Jl.Fragment=e,Jl.jsx=n,Jl.jsxs=n,Jl}var __;function oA(){return __||(__=1,Em.exports=sA()),Em.exports}var y=oA(),Tm={exports:{}},je={};var b_;function lA(){if(b_)return je;b_=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),A=Symbol.iterator;function j(N){return N===null||typeof N!="object"?null:(N=A&&N[A]||N["@@iterator"],typeof N=="function"?N:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,U={};function X(N,q,ne){this.props=N,this.context=q,this.refs=U,this.updater=ne||G}X.prototype.isReactComponent={},X.prototype.setState=function(N,q){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,q,"setState")},X.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function ae(){}ae.prototype=X.prototype;function le(N,q,ne){this.props=N,this.context=q,this.refs=U,this.updater=ne||G}var he=le.prototype=new ae;he.constructor=le,Q(he,X.prototype),he.isPureReactComponent=!0;var ye=Array.isArray;function be(){}var I={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function R(N,q,ne){var re=ne.ref;return{$$typeof:a,type:N,key:q,ref:re!==void 0?re:null,props:ne}}function k(N,q){return R(N.type,q,N.props)}function O(N){return typeof N=="object"&&N!==null&&N.$$typeof===a}function V(N){var q={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ne){return q[ne]})}var C=/\/+/g;function Oe(N,q){return typeof N=="object"&&N!==null&&N.key!=null?V(""+N.key):q.toString(36)}function ze(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(be,be):(N.status="pending",N.then(function(q){N.status==="pending"&&(N.status="fulfilled",N.value=q)},function(q){N.status==="pending"&&(N.status="rejected",N.reason=q)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function H(N,q,ne,re,fe){var ie=typeof N;(ie==="undefined"||ie==="boolean")&&(N=null);var pe=!1;if(N===null)pe=!0;else switch(ie){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(N.$$typeof){case a:case e:pe=!0;break;case E:return pe=N._init,H(pe(N._payload),q,ne,re,fe)}}if(pe)return fe=fe(N),pe=re===""?"."+Oe(N,0):re,ye(fe)?(ne="",pe!=null&&(ne=pe.replace(C,"$&/")+"/"),H(fe,q,ne,"",function(Nt){return Nt})):fe!=null&&(O(fe)&&(fe=k(fe,ne+(fe.key==null||N&&N.key===fe.key?"":(""+fe.key).replace(C,"$&/")+"/")+pe)),q.push(fe)),1;pe=0;var xe=re===""?".":re+":";if(ye(N))for(var Me=0;Me<N.length;Me++)re=N[Me],ie=xe+Oe(re,Me),pe+=H(re,q,ne,ie,fe);else if(Me=j(N),typeof Me=="function")for(N=Me.call(N),Me=0;!(re=N.next()).done;)re=re.value,ie=xe+Oe(re,Me++),pe+=H(re,q,ne,ie,fe);else if(ie==="object"){if(typeof N.then=="function")return H(ze(N),q,ne,re,fe);throw q=String(N),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return pe}function se(N,q,ne){if(N==null)return N;var re=[],fe=0;return H(N,re,"","",function(ie){return q.call(ne,ie,fe++)}),re}function ce(N){if(N._status===-1){var q=N._result;q=q(),q.then(function(ne){(N._status===0||N._status===-1)&&(N._status=1,N._result=ne)},function(ne){(N._status===0||N._status===-1)&&(N._status=2,N._result=ne)}),N._status===-1&&(N._status=0,N._result=q)}if(N._status===1)return N._result.default;throw N._result}var Te=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},Ee={map:se,forEach:function(N,q,ne){se(N,function(){q.apply(this,arguments)},ne)},count:function(N){var q=0;return se(N,function(){q++}),q},toArray:function(N){return se(N,function(q){return q})||[]},only:function(N){if(!O(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return je.Activity=T,je.Children=Ee,je.Component=X,je.Fragment=n,je.Profiler=o,je.PureComponent=le,je.StrictMode=i,je.Suspense=g,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,je.__COMPILER_RUNTIME={__proto__:null,c:function(N){return I.H.useMemoCache(N)}},je.cache=function(N){return function(){return N.apply(null,arguments)}},je.cacheSignal=function(){return null},je.cloneElement=function(N,q,ne){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var re=Q({},N.props),fe=N.key;if(q!=null)for(ie in q.key!==void 0&&(fe=""+q.key),q)!x.call(q,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&q.ref===void 0||(re[ie]=q[ie]);var ie=arguments.length-2;if(ie===1)re.children=ne;else if(1<ie){for(var pe=Array(ie),xe=0;xe<ie;xe++)pe[xe]=arguments[xe+2];re.children=pe}return R(N.type,fe,re)},je.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},je.createElement=function(N,q,ne){var re,fe={},ie=null;if(q!=null)for(re in q.key!==void 0&&(ie=""+q.key),q)x.call(q,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(fe[re]=q[re]);var pe=arguments.length-2;if(pe===1)fe.children=ne;else if(1<pe){for(var xe=Array(pe),Me=0;Me<pe;Me++)xe[Me]=arguments[Me+2];fe.children=xe}if(N&&N.defaultProps)for(re in pe=N.defaultProps,pe)fe[re]===void 0&&(fe[re]=pe[re]);return R(N,ie,fe)},je.createRef=function(){return{current:null}},je.forwardRef=function(N){return{$$typeof:m,render:N}},je.isValidElement=O,je.lazy=function(N){return{$$typeof:E,_payload:{_status:-1,_result:N},_init:ce}},je.memo=function(N,q){return{$$typeof:p,type:N,compare:q===void 0?null:q}},je.startTransition=function(N){var q=I.T,ne={};I.T=ne;try{var re=N(),fe=I.S;fe!==null&&fe(ne,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(be,Te)}catch(ie){Te(ie)}finally{q!==null&&ne.types!==null&&(q.types=ne.types),I.T=q}},je.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},je.use=function(N){return I.H.use(N)},je.useActionState=function(N,q,ne){return I.H.useActionState(N,q,ne)},je.useCallback=function(N,q){return I.H.useCallback(N,q)},je.useContext=function(N){return I.H.useContext(N)},je.useDebugValue=function(){},je.useDeferredValue=function(N,q){return I.H.useDeferredValue(N,q)},je.useEffect=function(N,q){return I.H.useEffect(N,q)},je.useEffectEvent=function(N){return I.H.useEffectEvent(N)},je.useId=function(){return I.H.useId()},je.useImperativeHandle=function(N,q,ne){return I.H.useImperativeHandle(N,q,ne)},je.useInsertionEffect=function(N,q){return I.H.useInsertionEffect(N,q)},je.useLayoutEffect=function(N,q){return I.H.useLayoutEffect(N,q)},je.useMemo=function(N,q){return I.H.useMemo(N,q)},je.useOptimistic=function(N,q){return I.H.useOptimistic(N,q)},je.useReducer=function(N,q,ne){return I.H.useReducer(N,q,ne)},je.useRef=function(N){return I.H.useRef(N)},je.useState=function(N){return I.H.useState(N)},je.useSyncExternalStore=function(N,q,ne){return I.H.useSyncExternalStore(N,q,ne)},je.useTransition=function(){return I.H.useTransition()},je.version="19.2.3",je}var E_;function Up(){return E_||(E_=1,Tm.exports=lA()),Tm.exports}var K=Up();const zp=Ab(K);var wm={exports:{}},Zl={},Sm={exports:{}},Am={};var T_;function cA(){return T_||(T_=1,(function(a){function e(H,se){var ce=H.length;H.push(se);e:for(;0<ce;){var Te=ce-1>>>1,Ee=H[Te];if(0<o(Ee,se))H[Te]=se,H[ce]=Ee,ce=Te;else break e}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var se=H[0],ce=H.pop();if(ce!==se){H[0]=ce;e:for(var Te=0,Ee=H.length,N=Ee>>>1;Te<N;){var q=2*(Te+1)-1,ne=H[q],re=q+1,fe=H[re];if(0>o(ne,ce))re<Ee&&0>o(fe,ne)?(H[Te]=fe,H[re]=ce,Te=re):(H[Te]=ne,H[q]=ce,Te=q);else if(re<Ee&&0>o(fe,ce))H[Te]=fe,H[re]=ce,Te=re;else break e}}return se}function o(H,se){var ce=H.sortIndex-se.sortIndex;return ce!==0?ce:H.id-se.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();a.unstable_now=function(){return f.now()-m}}var g=[],p=[],E=1,T=null,A=3,j=!1,G=!1,Q=!1,U=!1,X=typeof setTimeout=="function"?setTimeout:null,ae=typeof clearTimeout=="function"?clearTimeout:null,le=typeof setImmediate<"u"?setImmediate:null;function he(H){for(var se=n(p);se!==null;){if(se.callback===null)i(p);else if(se.startTime<=H)i(p),se.sortIndex=se.expirationTime,e(g,se);else break;se=n(p)}}function ye(H){if(Q=!1,he(H),!G)if(n(g)!==null)G=!0,be||(be=!0,V());else{var se=n(p);se!==null&&ze(ye,se.startTime-H)}}var be=!1,I=-1,x=5,R=-1;function k(){return U?!0:!(a.unstable_now()-R<x)}function O(){if(U=!1,be){var H=a.unstable_now();R=H;var se=!0;try{e:{G=!1,Q&&(Q=!1,ae(I),I=-1),j=!0;var ce=A;try{t:{for(he(H),T=n(g);T!==null&&!(T.expirationTime>H&&k());){var Te=T.callback;if(typeof Te=="function"){T.callback=null,A=T.priorityLevel;var Ee=Te(T.expirationTime<=H);if(H=a.unstable_now(),typeof Ee=="function"){T.callback=Ee,he(H),se=!0;break t}T===n(g)&&i(g),he(H)}else i(g);T=n(g)}if(T!==null)se=!0;else{var N=n(p);N!==null&&ze(ye,N.startTime-H),se=!1}}break e}finally{T=null,A=ce,j=!1}se=void 0}}finally{se?V():be=!1}}}var V;if(typeof le=="function")V=function(){le(O)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Oe=C.port2;C.port1.onmessage=O,V=function(){Oe.postMessage(null)}}else V=function(){X(O,0)};function ze(H,se){I=X(function(){H(a.unstable_now())},se)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(H){H.callback=null},a.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<H?Math.floor(1e3/H):5},a.unstable_getCurrentPriorityLevel=function(){return A},a.unstable_next=function(H){switch(A){case 1:case 2:case 3:var se=3;break;default:se=A}var ce=A;A=se;try{return H()}finally{A=ce}},a.unstable_requestPaint=function(){U=!0},a.unstable_runWithPriority=function(H,se){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ce=A;A=H;try{return se()}finally{A=ce}},a.unstable_scheduleCallback=function(H,se,ce){var Te=a.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Te+ce:Te):ce=Te,H){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=ce+Ee,H={id:E++,callback:se,priorityLevel:H,startTime:ce,expirationTime:Ee,sortIndex:-1},ce>Te?(H.sortIndex=ce,e(p,H),n(g)===null&&H===n(p)&&(Q?(ae(I),I=-1):Q=!0,ze(ye,ce-Te))):(H.sortIndex=Ee,e(g,H),G||j||(G=!0,be||(be=!0,V()))),H},a.unstable_shouldYield=k,a.unstable_wrapCallback=function(H){var se=A;return function(){var ce=A;A=se;try{return H.apply(this,arguments)}finally{A=ce}}}})(Am)),Am}var w_;function uA(){return w_||(w_=1,Sm.exports=cA()),Sm.exports}var xm={exports:{}},Sn={};var S_;function hA(){if(S_)return Sn;S_=1;var a=Up();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,p,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:g,containerInfo:p,implementation:E}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Sn.createPortal=function(g,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return c(g,p,null,E)},Sn.flushSync=function(g){var p=f.T,E=i.p;try{if(f.T=null,i.p=2,g)return g()}finally{f.T=p,i.p=E,i.d.f()}},Sn.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(g,p))},Sn.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},Sn.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var E=p.as,T=m(E,p.crossOrigin),A=typeof p.integrity=="string"?p.integrity:void 0,j=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?i.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:j}):E==="script"&&i.d.X(g,{crossOrigin:T,integrity:A,fetchPriority:j,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Sn.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=m(p.as,p.crossOrigin);i.d.M(g,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(g)},Sn.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,T=m(E,p.crossOrigin);i.d.L(g,E,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Sn.preloadModule=function(g,p){if(typeof g=="string")if(p){var E=m(p.as,p.crossOrigin);i.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(g)},Sn.requestFormReset=function(g){i.d.r(g)},Sn.unstable_batchedUpdates=function(g,p){return g(p)},Sn.useFormState=function(g,p,E){return f.H.useFormState(g,p,E)},Sn.useFormStatus=function(){return f.H.useHostTransitionStatus()},Sn.version="19.2.3",Sn}var A_;function fA(){if(A_)return xm.exports;A_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),xm.exports=hA(),xm.exports}var x_;function dA(){if(x_)return Zl;x_=1;var a=uA(),e=Up(),n=fA();function i(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(i(188))}function p(t){var r=t.alternate;if(!r){if(r=c(t),r===null)throw Error(i(188));return r!==t?null:t}for(var s=t,l=r;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return g(h),t;if(d===l)return g(h),r;d=d.sibling}throw Error(i(188))}if(s.return!==l.return)s=h,l=d;else{for(var _=!1,w=h.child;w;){if(w===s){_=!0,s=h,l=d;break}if(w===l){_=!0,l=h,s=d;break}w=w.sibling}if(!_){for(w=d.child;w;){if(w===s){_=!0,s=d,l=h;break}if(w===l){_=!0,l=d,s=h;break}w=w.sibling}if(!_)throw Error(i(189))}}if(s.alternate!==l)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?t:r}function E(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=E(t),r!==null)return r;t=t.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),ae=Symbol.for("react.consumer"),le=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),ye=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Oe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Q:return"Fragment";case X:return"Profiler";case U:return"StrictMode";case ye:return"Suspense";case be:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case le:return t.displayName||"Context";case ae:return(t._context.displayName||"Context")+".Consumer";case he:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return r=t.displayName||null,r!==null?r:Oe(t.type)||"Memo";case x:r=t._payload,t=t._init;try{return Oe(t(r))}catch{}}return null}var ze=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Te=[],Ee=-1;function N(t){return{current:t}}function q(t){0>Ee||(t.current=Te[Ee],Te[Ee]=null,Ee--)}function ne(t,r){Ee++,Te[Ee]=t.current,t.current=r}var re=N(null),fe=N(null),ie=N(null),pe=N(null);function xe(t,r){switch(ne(ie,r),ne(fe,t),ne(re,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Bv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Bv(r),t=qv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}q(re),ne(re,t)}function Me(){q(re),q(fe),q(ie)}function Nt(t){t.memoizedState!==null&&ne(pe,t);var r=re.current,s=qv(r,t.type);r!==s&&(ne(fe,t),ne(re,s))}function bn(t){fe.current===t&&(q(re),q(fe)),pe.current===t&&(q(pe),Ql._currentValue=ce)}var an,Ft;function We(t){if(an===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);an=r&&r[1]||"",Ft=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+an+t+Ft}var rn=!1;function ut(t,r){if(!t||rn)return"";rn=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Y){var F=Y}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Y){F=Y}t.call(ee.prototype)}}else{try{throw Error()}catch(Y){F=Y}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Y){if(Y&&F&&typeof Y.stack=="string")return[Y.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],w=d[1];if(_&&w){var D=_.split(`
`),B=w.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===B.length)for(l=D.length-1,h=B.length-1;1<=l&&0<=h&&D[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==B[h]){var W=`
`+D[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=h);break}}}finally{rn=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?We(s):""}function En(t,r){switch(t.tag){case 26:case 27:case 5:return We(t.type);case 16:return We("Lazy");case 13:return t.child!==r&&r!==null?We("Suspense Fallback"):We("Suspense");case 19:return We("SuspenseList");case 0:case 15:return ut(t.type,!1);case 11:return ut(t.type.render,!1);case 1:return ut(t.type,!0);case 31:return We("Activity");default:return""}}function ca(t){try{var r="",s=null;do r+=En(t,s),s=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ht=Object.prototype.hasOwnProperty,yt=a.unstable_scheduleCallback,en=a.unstable_cancelCallback,Xn=a.unstable_shouldYield,Rn=a.unstable_requestPaint,Dt=a.unstable_now,In=a.unstable_getCurrentPriorityLevel,gr=a.unstable_ImmediatePriority,yr=a.unstable_UserBlockingPriority,ua=a.unstable_NormalPriority,vr=a.unstable_LowPriority,Ba=a.unstable_IdlePriority,_r=a.log,ei=a.unstable_setDisableYieldValue,Lt=null,Ot=null;function Tn(t){if(typeof _r=="function"&&ei(t),Ot&&typeof Ot.setStrictMode=="function")try{Ot.setStrictMode(Lt,t)}catch{}}var vt=Math.clz32?Math.clz32:ti,br=Math.log,ha=Math.LN2;function ti(t){return t>>>=0,t===0?32:31-(br(t)/ha|0)|0}var Dn=256,xa=262144,St=4194304;function _t(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function bt(t,r,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?h=_t(l):(_&=w,_!==0?h=_t(_):s||(s=w&~t,s!==0&&(h=_t(s))))):(w=l&~d,w!==0?h=_t(w):_!==0?h=_t(_):s||(s=l&~t,s!==0&&(h=_t(s)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,s=r&-r,d>=s||d===32&&(s&4194048)!==0)?r:h}function sn(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function tt(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function on(){var t=St;return St<<=1,(St&62914560)===0&&(St=4194304),t}function Un(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function Wn(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ni(t,r,s,l,h,d){var _=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var w=t.entanglements,D=t.expirationTimes,B=t.hiddenUpdates;for(s=_&~s;0<s;){var W=31-vt(s),ee=1<<W;w[W]=0,D[W]=-1;var F=B[W];if(F!==null)for(B[W]=null,W=0;W<F.length;W++){var Y=F[W];Y!==null&&(Y.lane&=-536870913)}s&=~ee}l!==0&&Jn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~r))}function Jn(t,r,s){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-vt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function Na(t,r){var s=t.entangledLanes|=r;for(t=t.entanglements;s;){var l=31-vt(s),h=1<<l;h&r|t[l]&r&&(t[l]|=r),s&=~h}}function fa(t,r){var s=r&-r;return s=(s&42)!==0?1:Zn(s),(s&(t.suspendedLanes|r))!==0?0:s}function Zn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function On(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function qa(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:h_(t.type))}function kn(t,r){var s=se.p;try{return se.p=t,r()}finally{se.p=s}}var Ae=Math.random().toString(36).slice(2),Re="__reactFiber$"+Ae,He="__reactProps$"+Ae,Fe="__reactContainer$"+Ae,Ne="__reactEvents$"+Ae,Je="__reactListeners$"+Ae,et="__reactHandles$"+Ae,jt="__reactResources$"+Ae,Tt="__reactMarker$"+Ae;function Mn(t){delete t[Re],delete t[He],delete t[Ne],delete t[Je],delete t[et]}function jn(t){var r=t[Re];if(r)return r;for(var s=t.parentNode;s;){if(r=s[Fe]||s[Re]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(t=Kv(t);t!==null;){if(s=t[Re])return s;t=Kv(t)}return r}t=s,s=t.parentNode}return null}function wn(t){if(t=t[Re]||t[Fe]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function Vn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(i(33))}function Ha(t){var r=t[jt];return r||(r=t[jt]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Gt(t){t[Tt]=!0}var tl=new Set,nl={};function Fa(t,r){Ga(t,r),Ga(t+"Capture",r)}function Ga(t,r){for(nl[t]=r,t=0;t<r.length;t++)tl.add(r[t])}var al=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rl={},il={};function Fc(t){return ht.call(il,t)?!0:ht.call(rl,t)?!1:al.test(t)?il[t]=!0:(rl[t]=!0,!1)}function Gs(t,r,s){if(Fc(r))if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+s)}}function ea(t,r,s){if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+s)}}function $t(t,r,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(r,s,""+l)}}function ln(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ai(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function sl(t,r,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){s=""+_,d.call(this,_)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(_){s=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function ot(t){if(!t._valueTracker){var r=ai(t)?"checked":"value";t._valueTracker=sl(t,r,""+t[r])}}function ns(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var s=r.getValue(),l="";return t&&(l=ai(t)?t.checked?"true":"false":t.value),t=l,t!==s?(r.setValue(t),!0):!1}function $a(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var as=/[\n"\\]/g;function zn(t){return t.replace(as,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function $s(t,r,s,l,h,d,_,w){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+ln(r)):t.value!==""+ln(r)&&(t.value=""+ln(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?ol(t,_,ln(r)):s!=null?ol(t,_,ln(s)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+ln(w):t.removeAttribute("name")}function Gc(t,r,s,l,h,d,_,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){ot(t);return}s=s!=null?""+ln(s):"",r=r!=null?""+ln(r):s,w||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),ot(t)}function ol(t,r,s){r==="number"&&$a(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function ri(t,r,s,l){if(t=t.options,r){r={};for(var h=0;h<s.length;h++)r["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=r.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+ln(s),r=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function $c(t,r,s){if(r!=null&&(r=""+ln(r),r!==t.value&&(t.value=r),s==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=s!=null?""+ln(s):""}function ii(t,r,s,l){if(r==null){if(l!=null){if(s!=null)throw Error(i(92));if(ze(l)){if(1<l.length)throw Error(i(93));l=l[0]}s=l}s==null&&(s=""),r=s}s=ln(r),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),ot(t)}function Bn(t,r){if(r){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=r;return}}t.textContent=r}var Yc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ll(t,r,s){var l=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,s):typeof s!="number"||s===0||Yc.has(r)?r==="float"?t.cssFloat=s:t[r]=(""+s).trim():t[r]=s+"px"}function cl(t,r,s){if(r!=null&&typeof r!="object")throw Error(i(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&s[h]!==l&&ll(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&ll(t,d,r[d])}function Ys(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),si=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qs(t){return si.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ca(){}var ul=null;function da(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var oi=null,Ya=null;function rs(t){var r=wn(t);if(r&&(t=r.stateNode)){var s=t[He]||null;e:switch(t=r.stateNode,r.type){case"input":if($s(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+zn(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var l=s[r];if(l!==t&&l.form===t.form){var h=l[He]||null;if(!h)throw Error(i(90));$s(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<s.length;r++)l=s[r],l.form===t.form&&ns(l)}break e;case"textarea":$c(t,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&ri(t,!!s.multiple,r,!1)}}}var Ks=!1;function li(t,r,s){if(Ks)return t(r,s);Ks=!0;try{var l=t(r);return l}finally{if(Ks=!1,(oi!==null||Ya!==null)&&(Bu(),oi&&(r=oi,t=Ya,Ya=oi=null,rs(r),t)))for(r=0;r<t.length;r++)rs(t[r])}}function Ra(t,r){var s=t.stateNode;if(s===null)return null;var l=s[He]||null;if(l===null)return null;s=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(i(231,r,typeof s));return s}var ma=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),is=!1;if(ma)try{var ft={};Object.defineProperty(ft,"passive",{get:function(){is=!0}}),window.addEventListener("test",ft,ft),window.removeEventListener("test",ft,ft)}catch{is=!1}var Qa=null,hl=null,ss=null;function fl(){if(ss)return ss;var t,r=hl,s=r.length,l,h="value"in Qa?Qa.value:Qa.textContent,d=h.length;for(t=0;t<s&&r[t]===h[t];t++);var _=s-t;for(l=1;l<=_&&r[s-l]===h[d-l];l++);return ss=h.slice(t,1<l?1-l:void 0)}function os(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Er(){return!0}function Ia(){return!1}function hn(t){function r(s,l,h,d,_){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(s=t[w],this[w]=s?s(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Er:Ia,this.isPropagationStopped=Ia,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Er)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Er)},persist:function(){},isPersistent:Er}),r}var Tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ka=hn(Tr),ci=T({},Tr,{view:0,detail:0}),dl=hn(ci),ui,Xs,Xa,Ws=T({},ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xa&&(Xa&&t.type==="mousemove"?(ui=t.screenX-Xa.screenX,Xs=t.screenY-Xa.screenY):Xs=ui=0,Xa=t),ui)},movementY:function(t){return"movementY"in t?t.movementY:Xs}}),ml=hn(Ws),ls=T({},Ws,{dataTransfer:0}),Kc=hn(ls),Xc=T({},ci,{relatedTarget:0}),cs=hn(Xc),pl=T({},Tr,{animationName:0,elapsedTime:0,pseudoElement:0}),Wc=hn(pl),Js=T({},Tr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Jc=hn(Js),Zc=T({},Tr,{data:0}),Wa=hn(Zc),eu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function au(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=nu[t])?!!r[t]:!1}function hi(){return au}var Pn=T({},ci,{key:function(t){if(t.key){var r=eu[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=os(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hi,charCode:function(t){return t.type==="keypress"?os(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?os(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ru=hn(Pn),iu=T({},Ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wr=hn(iu),u=T({},ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hi}),v=hn(u),b=T({},Tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=hn(b),L=T({},Ws,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$=hn(L),oe=T({},Tr,{newState:0,oldState:0}),Pe=hn(oe),Ut=[9,13,27,32],rt=ma&&"CompositionEvent"in window,Ct=null;ma&&"documentMode"in document&&(Ct=document.documentMode);var pa=ma&&"TextEvent"in window&&!Ct,Ja=ma&&(!rt||Ct&&8<Ct&&11>=Ct),Da=" ",Oa=!1;function us(t,r){switch(t){case"keyup":return Ut.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zs(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var eo=!1;function Iw(t,r){switch(t){case"compositionend":return Zs(r);case"keypress":return r.which!==32?null:(Oa=!0,Da);case"textInput":return t=r.data,t===Da&&Oa?null:t;default:return null}}function Dw(t,r){if(eo)return t==="compositionend"||!rt&&us(t,r)?(t=fl(),ss=hl=Qa=null,eo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ja&&r.locale!=="ko"?null:r.data;default:return null}}var Ow={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Ow[t.type]:r==="textarea"}function Zg(t,r,s,l){oi?Ya?Ya.push(l):Ya=[l]:oi=l,r=Qu(r,"onChange"),0<r.length&&(s=new Ka("onChange","change",null,s,l),t.push({event:s,listeners:r}))}var gl=null,yl=null;function kw(t){jv(t,0)}function su(t){var r=Vn(t);if(ns(r))return t}function ey(t,r){if(t==="change")return r}var ty=!1;if(ma){var Cf;if(ma){var Rf="oninput"in document;if(!Rf){var ny=document.createElement("div");ny.setAttribute("oninput","return;"),Rf=typeof ny.oninput=="function"}Cf=Rf}else Cf=!1;ty=Cf&&(!document.documentMode||9<document.documentMode)}function ay(){gl&&(gl.detachEvent("onpropertychange",ry),yl=gl=null)}function ry(t){if(t.propertyName==="value"&&su(yl)){var r=[];Zg(r,yl,t,da(t)),li(kw,r)}}function Mw(t,r,s){t==="focusin"?(ay(),gl=r,yl=s,gl.attachEvent("onpropertychange",ry)):t==="focusout"&&ay()}function jw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return su(yl)}function Vw(t,r){if(t==="click")return su(r)}function Pw(t,r){if(t==="input"||t==="change")return su(r)}function Lw(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var ta=typeof Object.is=="function"?Object.is:Lw;function vl(t,r){if(ta(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),l=Object.keys(r);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!ht.call(r,h)||!ta(t[h],r[h]))return!1}return!0}function iy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sy(t,r){var s=iy(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=r&&l>=r)return{node:s,offset:r-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=iy(s)}}function oy(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?oy(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function ly(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=$a(t.document);r instanceof t.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)t=r.contentWindow;else break;r=$a(t.document)}return r}function If(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var Uw=ma&&"documentMode"in document&&11>=document.documentMode,to=null,Df=null,_l=null,Of=!1;function cy(t,r,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Of||to==null||to!==$a(l)||(l=to,"selectionStart"in l&&If(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),_l&&vl(_l,l)||(_l=l,l=Qu(Df,"onSelect"),0<l.length&&(r=new Ka("onSelect","select",null,r,s),t.push({event:r,listeners:l}),r.target=to)))}function hs(t,r){var s={};return s[t.toLowerCase()]=r.toLowerCase(),s["Webkit"+t]="webkit"+r,s["Moz"+t]="moz"+r,s}var no={animationend:hs("Animation","AnimationEnd"),animationiteration:hs("Animation","AnimationIteration"),animationstart:hs("Animation","AnimationStart"),transitionrun:hs("Transition","TransitionRun"),transitionstart:hs("Transition","TransitionStart"),transitioncancel:hs("Transition","TransitionCancel"),transitionend:hs("Transition","TransitionEnd")},kf={},uy={};ma&&(uy=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function fs(t){if(kf[t])return kf[t];if(!no[t])return t;var r=no[t],s;for(s in r)if(r.hasOwnProperty(s)&&s in uy)return kf[t]=r[s];return t}var hy=fs("animationend"),fy=fs("animationiteration"),dy=fs("animationstart"),zw=fs("transitionrun"),Bw=fs("transitionstart"),qw=fs("transitioncancel"),my=fs("transitionend"),py=new Map,Mf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mf.push("scrollEnd");function ka(t,r){py.set(t,r),Fa(r,[t])}var ou=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ga=[],ao=0,jf=0;function lu(){for(var t=ao,r=jf=ao=0;r<t;){var s=ga[r];ga[r++]=null;var l=ga[r];ga[r++]=null;var h=ga[r];ga[r++]=null;var d=ga[r];if(ga[r++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&gy(s,h,d)}}function cu(t,r,s,l){ga[ao++]=t,ga[ao++]=r,ga[ao++]=s,ga[ao++]=l,jf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Vf(t,r,s,l){return cu(t,r,s,l),uu(t)}function ds(t,r){return cu(t,null,null,r),uu(t)}function gy(t,r,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-vt(s),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=s|536870912),d):null}function uu(t){if(50<Bl)throw Bl=0,Gd=null,Error(i(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var ro={};function Hw(t,r,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function na(t,r,s,l){return new Hw(t,r,s,l)}function Pf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Sr(t,r){var s=t.alternate;return s===null?(s=na(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function yy(t,r){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,r=s.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function hu(t,r,s,l,h,d){var _=0;if(l=t,typeof t=="function")Pf(t)&&(_=1);else if(typeof t=="string")_=QS(t,s,re.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=na(31,s,r,h),t.elementType=R,t.lanes=d,t;case Q:return ms(s.children,h,d,r);case U:_=8,h|=24;break;case X:return t=na(12,s,r,h|2),t.elementType=X,t.lanes=d,t;case ye:return t=na(13,s,r,h),t.elementType=ye,t.lanes=d,t;case be:return t=na(19,s,r,h),t.elementType=be,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case le:_=10;break e;case ae:_=9;break e;case he:_=11;break e;case I:_=14;break e;case x:_=16,l=null;break e}_=29,s=Error(i(130,t===null?"null":typeof t,"")),l=null}return r=na(_,s,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function ms(t,r,s,l){return t=na(7,t,l,r),t.lanes=s,t}function Lf(t,r,s){return t=na(6,t,null,r),t.lanes=s,t}function vy(t){var r=na(18,null,null,0);return r.stateNode=t,r}function Uf(t,r,s){return r=na(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var _y=new WeakMap;function ya(t,r){if(typeof t=="object"&&t!==null){var s=_y.get(t);return s!==void 0?s:(r={value:t,source:r,stack:ca(r)},_y.set(t,r),r)}return{value:t,source:r,stack:ca(r)}}var io=[],so=0,fu=null,bl=0,va=[],_a=0,fi=null,Za=1,er="";function Ar(t,r){io[so++]=bl,io[so++]=fu,fu=t,bl=r}function by(t,r,s){va[_a++]=Za,va[_a++]=er,va[_a++]=fi,fi=t;var l=Za;t=er;var h=32-vt(l)-1;l&=~(1<<h),s+=1;var d=32-vt(r)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Za=1<<32-vt(r)+h|s<<h|l,er=d+t}else Za=1<<d|s<<h|l,er=t}function zf(t){t.return!==null&&(Ar(t,1),by(t,1,0))}function Bf(t){for(;t===fu;)fu=io[--so],io[so]=null,bl=io[--so],io[so]=null;for(;t===fi;)fi=va[--_a],va[_a]=null,er=va[--_a],va[_a]=null,Za=va[--_a],va[_a]=null}function Ey(t,r){va[_a++]=Za,va[_a++]=er,va[_a++]=fi,Za=r.id,er=r.overflow,fi=t}var fn=null,At=null,Xe=!1,di=null,ba=!1,qf=Error(i(519));function mi(t){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw El(ya(r,t)),qf}function Ty(t){var r=t.stateNode,s=t.type,l=t.memoizedProps;switch(r[Re]=t,r[He]=l,s){case"dialog":qe("cancel",r),qe("close",r);break;case"iframe":case"object":case"embed":qe("load",r);break;case"video":case"audio":for(s=0;s<Hl.length;s++)qe(Hl[s],r);break;case"source":qe("error",r);break;case"img":case"image":case"link":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"input":qe("invalid",r),Gc(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":qe("invalid",r);break;case"textarea":qe("invalid",r),ii(r,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||l.suppressHydrationWarning===!0||Uv(r.textContent,s)?(l.popover!=null&&(qe("beforetoggle",r),qe("toggle",r)),l.onScroll!=null&&qe("scroll",r),l.onScrollEnd!=null&&qe("scrollend",r),l.onClick!=null&&(r.onclick=Ca),r=!0):r=!1,r||mi(t,!0)}function wy(t){for(fn=t.return;fn;)switch(fn.tag){case 5:case 31:case 13:ba=!1;return;case 27:case 3:ba=!0;return;default:fn=fn.return}}function oo(t){if(t!==fn)return!1;if(!Xe)return wy(t),Xe=!0,!1;var r=t.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||sm(t.type,t.memoizedProps)),s=!s),s&&At&&mi(t),wy(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));At=Qv(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));At=Qv(t)}else r===27?(r=At,Ci(t.type)?(t=hm,hm=null,At=t):At=r):At=fn?Ta(t.stateNode.nextSibling):null;return!0}function ps(){At=fn=null,Xe=!1}function Hf(){var t=di;return t!==null&&(Gn===null?Gn=t:Gn.push.apply(Gn,t),di=null),t}function El(t){di===null?di=[t]:di.push(t)}var Ff=N(null),gs=null,xr=null;function pi(t,r,s){ne(Ff,r._currentValue),r._currentValue=s}function Nr(t){t._currentValue=Ff.current,q(Ff)}function Gf(t,r,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===s)break;t=t.return}}function $f(t,r,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=h;for(var D=0;D<r.length;D++)if(w.context===r[D]){d.lanes|=s,w=d.alternate,w!==null&&(w.lanes|=s),Gf(d.return,s,t),l||(_=null);break e}d=w.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(i(341));_.lanes|=s,d=_.alternate,d!==null&&(d.lanes|=s),Gf(_,s,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function lo(t,r,s,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var w=h.type;ta(h.pendingProps.value,_.value)||(t!==null?t.push(w):t=[w])}}else if(h===pe.current){if(_=h.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ql):t=[Ql])}h=h.return}t!==null&&$f(r,t,s,l),r.flags|=262144}function du(t){for(t=t.firstContext;t!==null;){if(!ta(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ys(t){gs=t,xr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function dn(t){return Sy(gs,t)}function mu(t,r){return gs===null&&ys(t),Sy(t,r)}function Sy(t,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},xr===null){if(t===null)throw Error(i(308));xr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else xr=xr.next=r;return s}var Fw=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(s){return s()})}},Gw=a.unstable_scheduleCallback,$w=a.unstable_NormalPriority,Yt={$$typeof:le,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yf(){return{controller:new Fw,data:new Map,refCount:0}}function Tl(t){t.refCount--,t.refCount===0&&Gw($w,function(){t.controller.abort()})}var wl=null,Qf=0,co=0,uo=null;function Yw(t,r){if(wl===null){var s=wl=[];Qf=0,co=Wd(),uo={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Qf++,r.then(Ay,Ay),r}function Ay(){if(--Qf===0&&wl!==null){uo!==null&&(uo.status="fulfilled");var t=wl;wl=null,co=0,uo=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function Qw(t,r){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<s.length;h++)(0,s[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var xy=H.S;H.S=function(t,r){cv=Dt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Yw(t,r),xy!==null&&xy(t,r)};var vs=N(null);function Kf(){var t=vs.current;return t!==null?t:Et.pooledCache}function pu(t,r){r===null?ne(vs,vs.current):ne(vs,r.pool)}function Ny(){var t=Kf();return t===null?null:{parent:Yt._currentValue,pool:t}}var ho=Error(i(460)),Xf=Error(i(474)),gu=Error(i(542)),yu={then:function(){}};function Cy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ry(t,r,s){switch(s=t[s],s===void 0?t.push(r):s!==r&&(r.then(Ca,Ca),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Dy(t),t;default:if(typeof r.status=="string")r.then(Ca,Ca);else{if(t=Et,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Dy(t),t}throw bs=r,ho}}function _s(t){try{var r=t._init;return r(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(bs=s,ho):s}}var bs=null;function Iy(){if(bs===null)throw Error(i(459));var t=bs;return bs=null,t}function Dy(t){if(t===ho||t===gu)throw Error(i(483))}var fo=null,Sl=0;function vu(t){var r=Sl;return Sl+=1,fo===null&&(fo=[]),Ry(fo,t,r)}function Al(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function _u(t,r){throw r.$$typeof===A?Error(i(525)):(t=Object.prototype.toString.call(r),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Oy(t){function r(P,M){if(t){var z=P.deletions;z===null?(P.deletions=[M],P.flags|=16):z.push(M)}}function s(P,M){if(!t)return null;for(;M!==null;)r(P,M),M=M.sibling;return null}function l(P){for(var M=new Map;P!==null;)P.key!==null?M.set(P.key,P):M.set(P.index,P),P=P.sibling;return M}function h(P,M){return P=Sr(P,M),P.index=0,P.sibling=null,P}function d(P,M,z){return P.index=z,t?(z=P.alternate,z!==null?(z=z.index,z<M?(P.flags|=67108866,M):z):(P.flags|=67108866,M)):(P.flags|=1048576,M)}function _(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function w(P,M,z,J){return M===null||M.tag!==6?(M=Lf(z,P.mode,J),M.return=P,M):(M=h(M,z),M.return=P,M)}function D(P,M,z,J){var we=z.type;return we===Q?W(P,M,z.props.children,J,z.key):M!==null&&(M.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===x&&_s(we)===M.type)?(M=h(M,z.props),Al(M,z),M.return=P,M):(M=hu(z.type,z.key,z.props,null,P.mode,J),Al(M,z),M.return=P,M)}function B(P,M,z,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=Uf(z,P.mode,J),M.return=P,M):(M=h(M,z.children||[]),M.return=P,M)}function W(P,M,z,J,we){return M===null||M.tag!==7?(M=ms(z,P.mode,J,we),M.return=P,M):(M=h(M,z),M.return=P,M)}function ee(P,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Lf(""+M,P.mode,z),M.return=P,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case j:return z=hu(M.type,M.key,M.props,null,P.mode,z),Al(z,M),z.return=P,z;case G:return M=Uf(M,P.mode,z),M.return=P,M;case x:return M=_s(M),ee(P,M,z)}if(ze(M)||V(M))return M=ms(M,P.mode,z,null),M.return=P,M;if(typeof M.then=="function")return ee(P,vu(M),z);if(M.$$typeof===le)return ee(P,mu(P,M),z);_u(P,M)}return null}function F(P,M,z,J){var we=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return we!==null?null:w(P,M,""+z,J);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case j:return z.key===we?D(P,M,z,J):null;case G:return z.key===we?B(P,M,z,J):null;case x:return z=_s(z),F(P,M,z,J)}if(ze(z)||V(z))return we!==null?null:W(P,M,z,J,null);if(typeof z.then=="function")return F(P,M,vu(z),J);if(z.$$typeof===le)return F(P,M,mu(P,z),J);_u(P,z)}return null}function Y(P,M,z,J,we){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return P=P.get(z)||null,w(M,P,""+J,we);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case j:return P=P.get(J.key===null?z:J.key)||null,D(M,P,J,we);case G:return P=P.get(J.key===null?z:J.key)||null,B(M,P,J,we);case x:return J=_s(J),Y(P,M,z,J,we)}if(ze(J)||V(J))return P=P.get(z)||null,W(M,P,J,we,null);if(typeof J.then=="function")return Y(P,M,z,vu(J),we);if(J.$$typeof===le)return Y(P,M,z,mu(M,J),we);_u(M,J)}return null}function ge(P,M,z,J){for(var we=null,nt=null,_e=M,Ue=M=0,$e=null;_e!==null&&Ue<z.length;Ue++){_e.index>Ue?($e=_e,_e=null):$e=_e.sibling;var at=F(P,_e,z[Ue],J);if(at===null){_e===null&&(_e=$e);break}t&&_e&&at.alternate===null&&r(P,_e),M=d(at,M,Ue),nt===null?we=at:nt.sibling=at,nt=at,_e=$e}if(Ue===z.length)return s(P,_e),Xe&&Ar(P,Ue),we;if(_e===null){for(;Ue<z.length;Ue++)_e=ee(P,z[Ue],J),_e!==null&&(M=d(_e,M,Ue),nt===null?we=_e:nt.sibling=_e,nt=_e);return Xe&&Ar(P,Ue),we}for(_e=l(_e);Ue<z.length;Ue++)$e=Y(_e,P,Ue,z[Ue],J),$e!==null&&(t&&$e.alternate!==null&&_e.delete($e.key===null?Ue:$e.key),M=d($e,M,Ue),nt===null?we=$e:nt.sibling=$e,nt=$e);return t&&_e.forEach(function(ki){return r(P,ki)}),Xe&&Ar(P,Ue),we}function Ce(P,M,z,J){if(z==null)throw Error(i(151));for(var we=null,nt=null,_e=M,Ue=M=0,$e=null,at=z.next();_e!==null&&!at.done;Ue++,at=z.next()){_e.index>Ue?($e=_e,_e=null):$e=_e.sibling;var ki=F(P,_e,at.value,J);if(ki===null){_e===null&&(_e=$e);break}t&&_e&&ki.alternate===null&&r(P,_e),M=d(ki,M,Ue),nt===null?we=ki:nt.sibling=ki,nt=ki,_e=$e}if(at.done)return s(P,_e),Xe&&Ar(P,Ue),we;if(_e===null){for(;!at.done;Ue++,at=z.next())at=ee(P,at.value,J),at!==null&&(M=d(at,M,Ue),nt===null?we=at:nt.sibling=at,nt=at);return Xe&&Ar(P,Ue),we}for(_e=l(_e);!at.done;Ue++,at=z.next())at=Y(_e,P,Ue,at.value,J),at!==null&&(t&&at.alternate!==null&&_e.delete(at.key===null?Ue:at.key),M=d(at,M,Ue),nt===null?we=at:nt.sibling=at,nt=at);return t&&_e.forEach(function(iA){return r(P,iA)}),Xe&&Ar(P,Ue),we}function pt(P,M,z,J){if(typeof z=="object"&&z!==null&&z.type===Q&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case j:e:{for(var we=z.key;M!==null;){if(M.key===we){if(we=z.type,we===Q){if(M.tag===7){s(P,M.sibling),J=h(M,z.props.children),J.return=P,P=J;break e}}else if(M.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===x&&_s(we)===M.type){s(P,M.sibling),J=h(M,z.props),Al(J,z),J.return=P,P=J;break e}s(P,M);break}else r(P,M);M=M.sibling}z.type===Q?(J=ms(z.props.children,P.mode,J,z.key),J.return=P,P=J):(J=hu(z.type,z.key,z.props,null,P.mode,J),Al(J,z),J.return=P,P=J)}return _(P);case G:e:{for(we=z.key;M!==null;){if(M.key===we)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){s(P,M.sibling),J=h(M,z.children||[]),J.return=P,P=J;break e}else{s(P,M);break}else r(P,M);M=M.sibling}J=Uf(z,P.mode,J),J.return=P,P=J}return _(P);case x:return z=_s(z),pt(P,M,z,J)}if(ze(z))return ge(P,M,z,J);if(V(z)){if(we=V(z),typeof we!="function")throw Error(i(150));return z=we.call(z),Ce(P,M,z,J)}if(typeof z.then=="function")return pt(P,M,vu(z),J);if(z.$$typeof===le)return pt(P,M,mu(P,z),J);_u(P,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(s(P,M.sibling),J=h(M,z),J.return=P,P=J):(s(P,M),J=Lf(z,P.mode,J),J.return=P,P=J),_(P)):s(P,M)}return function(P,M,z,J){try{Sl=0;var we=pt(P,M,z,J);return fo=null,we}catch(_e){if(_e===ho||_e===gu)throw _e;var nt=na(29,_e,null,P.mode);return nt.lanes=J,nt.return=P,nt}}}var Es=Oy(!0),ky=Oy(!1),gi=!1;function Wf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function yi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function vi(t,r,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(it&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=uu(t),gy(t,null,s),r}return cu(t,l,r,s),uu(t)}function xl(t,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,Na(t,s)}}function Zf(t,r){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,s=s.next}while(s!==null);d===null?h=d=r:d=d.next=r}else h=d=r;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}var ed=!1;function Nl(){if(ed){var t=uo;if(t!==null)throw t}}function Cl(t,r,s,l){ed=!1;var h=t.updateQueue;gi=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var D=w,B=D.next;D.next=null,_===null?d=B:_.next=B,_=D;var W=t.alternate;W!==null&&(W=W.updateQueue,w=W.lastBaseUpdate,w!==_&&(w===null?W.firstBaseUpdate=B:w.next=B,W.lastBaseUpdate=D))}if(d!==null){var ee=h.baseState;_=0,W=B=D=null,w=d;do{var F=w.lane&-536870913,Y=F!==w.lane;if(Y?(Ge&F)===F:(l&F)===F){F!==0&&F===co&&(ed=!0),W!==null&&(W=W.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ge=t,Ce=w;F=r;var pt=s;switch(Ce.tag){case 1:if(ge=Ce.payload,typeof ge=="function"){ee=ge.call(pt,ee,F);break e}ee=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Ce.payload,F=typeof ge=="function"?ge.call(pt,ee,F):ge,F==null)break e;ee=T({},ee,F);break e;case 2:gi=!0}}F=w.callback,F!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[F]:Y.push(F))}else Y={lane:F,tag:w.tag,payload:w.payload,callback:w.callback,next:null},W===null?(B=W=Y,D=ee):W=W.next=Y,_|=F;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;Y=w,w=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);W===null&&(D=ee),h.baseState=D,h.firstBaseUpdate=B,h.lastBaseUpdate=W,d===null&&(h.shared.lanes=0),wi|=_,t.lanes=_,t.memoizedState=ee}}function My(t,r){if(typeof t!="function")throw Error(i(191,t));t.call(r)}function jy(t,r){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)My(s[t],r)}var mo=N(null),bu=N(0);function Vy(t,r){t=Vr,ne(bu,t),ne(mo,r),Vr=t|r.baseLanes}function td(){ne(bu,Vr),ne(mo,mo.current)}function nd(){Vr=bu.current,q(mo),q(bu)}var aa=N(null),Ea=null;function _i(t){var r=t.alternate;ne(zt,zt.current&1),ne(aa,t),Ea===null&&(r===null||mo.current!==null||r.memoizedState!==null)&&(Ea=t)}function ad(t){ne(zt,zt.current),ne(aa,t),Ea===null&&(Ea=t)}function Py(t){t.tag===22?(ne(zt,zt.current),ne(aa,t),Ea===null&&(Ea=t)):bi()}function bi(){ne(zt,zt.current),ne(aa,aa.current)}function ra(t){q(aa),Ea===t&&(Ea=null),q(zt)}var zt=N(0);function Eu(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||cm(s)||um(s)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Cr=0,Le=null,dt=null,Qt=null,Tu=!1,po=!1,Ts=!1,wu=0,Rl=0,go=null,Kw=0;function Vt(){throw Error(i(321))}function rd(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!ta(t[s],r[s]))return!1;return!0}function id(t,r,s,l,h,d){return Cr=d,Le=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,H.H=t===null||t.memoizedState===null?b0:bd,Ts=!1,d=s(l,h),Ts=!1,po&&(d=Uy(r,s,l,h)),Ly(t),d}function Ly(t){H.H=Ol;var r=dt!==null&&dt.next!==null;if(Cr=0,Qt=dt=Le=null,Tu=!1,Rl=0,go=null,r)throw Error(i(300));t===null||Kt||(t=t.dependencies,t!==null&&du(t)&&(Kt=!0))}function Uy(t,r,s,l){Le=t;var h=0;do{if(po&&(go=null),Rl=0,po=!1,25<=h)throw Error(i(301));if(h+=1,Qt=dt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}H.H=E0,d=r(s,l)}while(po);return d}function Xw(){var t=H.H,r=t.useState()[0];return r=typeof r.then=="function"?Il(r):r,t=t.useState()[0],(dt!==null?dt.memoizedState:null)!==t&&(Le.flags|=1024),r}function sd(){var t=wu!==0;return wu=0,t}function od(t,r,s){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~s}function ld(t){if(Tu){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Tu=!1}Cr=0,Qt=dt=Le=null,po=!1,Rl=wu=0,go=null}function Ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?Le.memoizedState=Qt=t:Qt=Qt.next=t,Qt}function Bt(){if(dt===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var r=Qt===null?Le.memoizedState:Qt.next;if(r!==null)Qt=r,dt=t;else{if(t===null)throw Le.alternate===null?Error(i(467)):Error(i(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Qt===null?Le.memoizedState=Qt=t:Qt=Qt.next=t}return Qt}function Su(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Il(t){var r=Rl;return Rl+=1,go===null&&(go=[]),t=Ry(go,t,r),r=Le,(Qt===null?r.memoizedState:Qt.next)===null&&(r=r.alternate,H.H=r===null||r.memoizedState===null?b0:bd),t}function Au(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Il(t);if(t.$$typeof===le)return dn(t)}throw Error(i(438,String(t)))}function cd(t){var r=null,s=Le.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var l=Le.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=Su(),Le.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(t),l=0;l<t;l++)s[l]=k;return r.index++,s}function Rr(t,r){return typeof r=="function"?r(t):r}function xu(t){var r=Bt();return ud(r,dt,t)}function ud(t,r,s){var l=t.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var w=_=null,D=null,B=r,W=!1;do{var ee=B.lane&-536870913;if(ee!==B.lane?(Ge&ee)===ee:(Cr&ee)===ee){var F=B.revertLane;if(F===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),ee===co&&(W=!0);else if((Cr&F)===F){B=B.next,F===co&&(W=!0);continue}else ee={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(w=D=ee,_=d):D=D.next=ee,Le.lanes|=F,wi|=F;ee=B.action,Ts&&s(d,ee),d=B.hasEagerState?B.eagerState:s(d,ee)}else F={lane:ee,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(w=D=F,_=d):D=D.next=F,Le.lanes|=ee,wi|=ee;B=B.next}while(B!==null&&B!==r);if(D===null?_=d:D.next=w,!ta(d,t.memoizedState)&&(Kt=!0,W&&(s=uo,s!==null)))throw s;t.memoizedState=d,t.baseState=_,t.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function hd(t){var r=Bt(),s=r.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,d=r.memoizedState;if(h!==null){s.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);ta(d,r.memoizedState)||(Kt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),s.lastRenderedState=d}return[d,l]}function zy(t,r,s){var l=Le,h=Bt(),d=Xe;if(d){if(s===void 0)throw Error(i(407));s=s()}else s=r();var _=!ta((dt||h).memoizedState,s);if(_&&(h.memoizedState=s,Kt=!0),h=h.queue,md(Hy.bind(null,l,h,t),[t]),h.getSnapshot!==r||_||Qt!==null&&Qt.memoizedState.tag&1){if(l.flags|=2048,yo(9,{destroy:void 0},qy.bind(null,l,h,s,r),null),Et===null)throw Error(i(349));d||(Cr&127)!==0||By(l,r,s)}return s}function By(t,r,s){t.flags|=16384,t={getSnapshot:r,value:s},r=Le.updateQueue,r===null?(r=Su(),Le.updateQueue=r,r.stores=[t]):(s=r.stores,s===null?r.stores=[t]:s.push(t))}function qy(t,r,s,l){r.value=s,r.getSnapshot=l,Fy(r)&&Gy(t)}function Hy(t,r,s){return s(function(){Fy(r)&&Gy(t)})}function Fy(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!ta(t,s)}catch{return!0}}function Gy(t){var r=ds(t,2);r!==null&&$n(r,t,2)}function fd(t){var r=Ln();if(typeof t=="function"){var s=t;if(t=s(),Ts){Tn(!0);try{s()}finally{Tn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:t},r}function $y(t,r,s,l){return t.baseState=s,ud(t,dt,typeof l=="function"?l:Rr)}function Ww(t,r,s,l,h){if(Ru(t))throw Error(i(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};H.T!==null?s(!0):d.isTransition=!1,l(d),s=r.pending,s===null?(d.next=r.pending=d,Yy(r,d)):(d.next=s.next,r.pending=s.next=d)}}function Yy(t,r){var s=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=H.T,_={};H.T=_;try{var w=s(h,l),D=H.S;D!==null&&D(_,w),Qy(t,r,w)}catch(B){dd(t,r,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),H.T=d}}else try{d=s(h,l),Qy(t,r,d)}catch(B){dd(t,r,B)}}function Qy(t,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Ky(t,r,l)},function(l){return dd(t,r,l)}):Ky(t,r,s)}function Ky(t,r,s){r.status="fulfilled",r.value=s,Xy(r),t.state=s,r=t.pending,r!==null&&(s=r.next,s===r?t.pending=null:(s=s.next,r.next=s,Yy(t,s)))}function dd(t,r,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=s,Xy(r),r=r.next;while(r!==l)}t.action=null}function Xy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Wy(t,r){return r}function Jy(t,r){if(Xe){var s=Et.formState;if(s!==null){e:{var l=Le;if(Xe){if(At){t:{for(var h=At,d=ba;h.nodeType!==8;){if(!d){h=null;break t}if(h=Ta(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){At=Ta(h.nextSibling),l=h.data==="F!";break e}}mi(l)}l=!1}l&&(r=s[0])}}return s=Ln(),s.memoizedState=s.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wy,lastRenderedState:r},s.queue=l,s=y0.bind(null,Le,l),l.dispatch=s,l=fd(!1),d=_d.bind(null,Le,!1,l.queue),l=Ln(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,s=Ww.bind(null,Le,h,d,s),h.dispatch=s,l.memoizedState=t,[r,s,!1]}function Zy(t){var r=Bt();return e0(r,dt,t)}function e0(t,r,s){if(r=ud(t,r,Wy)[0],t=xu(Rr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Il(r)}catch(_){throw _===ho?gu:_}else l=r;r=Bt();var h=r.queue,d=h.dispatch;return s!==r.memoizedState&&(Le.flags|=2048,yo(9,{destroy:void 0},Jw.bind(null,h,s),null)),[l,d,t]}function Jw(t,r){t.action=r}function t0(t){var r=Bt(),s=dt;if(s!==null)return e0(r,s,t);Bt(),r=r.memoizedState,s=Bt();var l=s.queue.dispatch;return s.memoizedState=t,[r,l,!1]}function yo(t,r,s,l){return t={tag:t,create:s,deps:l,inst:r,next:null},r=Le.updateQueue,r===null&&(r=Su(),Le.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,r.lastEffect=t),t}function n0(){return Bt().memoizedState}function Nu(t,r,s,l){var h=Ln();Le.flags|=t,h.memoizedState=yo(1|r,{destroy:void 0},s,l===void 0?null:l)}function Cu(t,r,s,l){var h=Bt();l=l===void 0?null:l;var d=h.memoizedState.inst;dt!==null&&l!==null&&rd(l,dt.memoizedState.deps)?h.memoizedState=yo(r,d,s,l):(Le.flags|=t,h.memoizedState=yo(1|r,d,s,l))}function a0(t,r){Nu(8390656,8,t,r)}function md(t,r){Cu(2048,8,t,r)}function Zw(t){Le.flags|=4;var r=Le.updateQueue;if(r===null)r=Su(),Le.updateQueue=r,r.events=[t];else{var s=r.events;s===null?r.events=[t]:s.push(t)}}function r0(t){var r=Bt().memoizedState;return Zw({ref:r,nextImpl:t}),function(){if((it&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function i0(t,r){return Cu(4,2,t,r)}function s0(t,r){return Cu(4,4,t,r)}function o0(t,r){if(typeof r=="function"){t=t();var s=r(t);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function l0(t,r,s){s=s!=null?s.concat([t]):null,Cu(4,4,o0.bind(null,r,t),s)}function pd(){}function c0(t,r){var s=Bt();r=r===void 0?null:r;var l=s.memoizedState;return r!==null&&rd(r,l[1])?l[0]:(s.memoizedState=[t,r],t)}function u0(t,r){var s=Bt();r=r===void 0?null:r;var l=s.memoizedState;if(r!==null&&rd(r,l[1]))return l[0];if(l=t(),Ts){Tn(!0);try{t()}finally{Tn(!1)}}return s.memoizedState=[l,r],l}function gd(t,r,s){return s===void 0||(Cr&1073741824)!==0&&(Ge&261930)===0?t.memoizedState=r:(t.memoizedState=s,t=hv(),Le.lanes|=t,wi|=t,s)}function h0(t,r,s,l){return ta(s,r)?s:mo.current!==null?(t=gd(t,s,l),ta(t,r)||(Kt=!0),t):(Cr&42)===0||(Cr&1073741824)!==0&&(Ge&261930)===0?(Kt=!0,t.memoizedState=s):(t=hv(),Le.lanes|=t,wi|=t,r)}function f0(t,r,s,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var _=H.T,w={};H.T=w,_d(t,!1,r,s);try{var D=h(),B=H.S;if(B!==null&&B(w,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=Qw(D,l);Dl(t,r,W,oa(t))}else Dl(t,r,l,oa(t))}catch(ee){Dl(t,r,{then:function(){},status:"rejected",reason:ee},oa())}finally{se.p=d,_!==null&&w.types!==null&&(_.types=w.types),H.T=_}}function eS(){}function yd(t,r,s,l){if(t.tag!==5)throw Error(i(476));var h=d0(t).queue;f0(t,h,r,ce,s===null?eS:function(){return m0(t),s(l)})}function d0(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:ce},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:s},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function m0(t){var r=d0(t);r.next===null&&(r=t.alternate.memoizedState),Dl(t,r.next.queue,{},oa())}function vd(){return dn(Ql)}function p0(){return Bt().memoizedState}function g0(){return Bt().memoizedState}function tS(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var s=oa();t=yi(s);var l=vi(r,t,s);l!==null&&($n(l,r,s),xl(l,r,s)),r={cache:Yf()},t.payload=r;return}r=r.return}}function nS(t,r,s){var l=oa();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ru(t)?v0(r,s):(s=Vf(t,r,s,l),s!==null&&($n(s,t,l),_0(s,r,l)))}function y0(t,r,s){var l=oa();Dl(t,r,s,l)}function Dl(t,r,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ru(t))v0(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,w=d(_,s);if(h.hasEagerState=!0,h.eagerState=w,ta(w,_))return cu(t,r,h,0),Et===null&&lu(),!1}catch{}if(s=Vf(t,r,h,l),s!==null)return $n(s,t,l),_0(s,r,l),!0}return!1}function _d(t,r,s,l){if(l={lane:2,revertLane:Wd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ru(t)){if(r)throw Error(i(479))}else r=Vf(t,s,l,2),r!==null&&$n(r,t,2)}function Ru(t){var r=t.alternate;return t===Le||r!==null&&r===Le}function v0(t,r){po=Tu=!0;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}function _0(t,r,s){if((s&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,Na(t,s)}}var Ol={readContext:dn,use:Au,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useInsertionEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useSyncExternalStore:Vt,useId:Vt,useHostTransitionStatus:Vt,useFormState:Vt,useActionState:Vt,useOptimistic:Vt,useMemoCache:Vt,useCacheRefresh:Vt};Ol.useEffectEvent=Vt;var b0={readContext:dn,use:Au,useCallback:function(t,r){return Ln().memoizedState=[t,r===void 0?null:r],t},useContext:dn,useEffect:a0,useImperativeHandle:function(t,r,s){s=s!=null?s.concat([t]):null,Nu(4194308,4,o0.bind(null,r,t),s)},useLayoutEffect:function(t,r){return Nu(4194308,4,t,r)},useInsertionEffect:function(t,r){Nu(4,2,t,r)},useMemo:function(t,r){var s=Ln();r=r===void 0?null:r;var l=t();if(Ts){Tn(!0);try{t()}finally{Tn(!1)}}return s.memoizedState=[l,r],l},useReducer:function(t,r,s){var l=Ln();if(s!==void 0){var h=s(r);if(Ts){Tn(!0);try{s(r)}finally{Tn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=nS.bind(null,Le,t),[l.memoizedState,t]},useRef:function(t){var r=Ln();return t={current:t},r.memoizedState=t},useState:function(t){t=fd(t);var r=t.queue,s=y0.bind(null,Le,r);return r.dispatch=s,[t.memoizedState,s]},useDebugValue:pd,useDeferredValue:function(t,r){var s=Ln();return gd(s,t,r)},useTransition:function(){var t=fd(!1);return t=f0.bind(null,Le,t.queue,!0,!1),Ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,s){var l=Le,h=Ln();if(Xe){if(s===void 0)throw Error(i(407));s=s()}else{if(s=r(),Et===null)throw Error(i(349));(Ge&127)!==0||By(l,r,s)}h.memoizedState=s;var d={value:s,getSnapshot:r};return h.queue=d,a0(Hy.bind(null,l,d,t),[t]),l.flags|=2048,yo(9,{destroy:void 0},qy.bind(null,l,d,s,r),null),s},useId:function(){var t=Ln(),r=Et.identifierPrefix;if(Xe){var s=er,l=Za;s=(l&~(1<<32-vt(l)-1)).toString(32)+s,r="_"+r+"R_"+s,s=wu++,0<s&&(r+="H"+s.toString(32)),r+="_"}else s=Kw++,r="_"+r+"r_"+s.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:vd,useFormState:Jy,useActionState:Jy,useOptimistic:function(t){var r=Ln();r.memoizedState=r.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=_d.bind(null,Le,!0,s),s.dispatch=r,[t,r]},useMemoCache:cd,useCacheRefresh:function(){return Ln().memoizedState=tS.bind(null,Le)},useEffectEvent:function(t){var r=Ln(),s={impl:t};return r.memoizedState=s,function(){if((it&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}},bd={readContext:dn,use:Au,useCallback:c0,useContext:dn,useEffect:md,useImperativeHandle:l0,useInsertionEffect:i0,useLayoutEffect:s0,useMemo:u0,useReducer:xu,useRef:n0,useState:function(){return xu(Rr)},useDebugValue:pd,useDeferredValue:function(t,r){var s=Bt();return h0(s,dt.memoizedState,t,r)},useTransition:function(){var t=xu(Rr)[0],r=Bt().memoizedState;return[typeof t=="boolean"?t:Il(t),r]},useSyncExternalStore:zy,useId:p0,useHostTransitionStatus:vd,useFormState:Zy,useActionState:Zy,useOptimistic:function(t,r){var s=Bt();return $y(s,dt,t,r)},useMemoCache:cd,useCacheRefresh:g0};bd.useEffectEvent=r0;var E0={readContext:dn,use:Au,useCallback:c0,useContext:dn,useEffect:md,useImperativeHandle:l0,useInsertionEffect:i0,useLayoutEffect:s0,useMemo:u0,useReducer:hd,useRef:n0,useState:function(){return hd(Rr)},useDebugValue:pd,useDeferredValue:function(t,r){var s=Bt();return dt===null?gd(s,t,r):h0(s,dt.memoizedState,t,r)},useTransition:function(){var t=hd(Rr)[0],r=Bt().memoizedState;return[typeof t=="boolean"?t:Il(t),r]},useSyncExternalStore:zy,useId:p0,useHostTransitionStatus:vd,useFormState:t0,useActionState:t0,useOptimistic:function(t,r){var s=Bt();return dt!==null?$y(s,dt,t,r):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:cd,useCacheRefresh:g0};E0.useEffectEvent=r0;function Ed(t,r,s,l){r=t.memoizedState,s=s(l,r),s=s==null?r:T({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Td={enqueueSetState:function(t,r,s){t=t._reactInternals;var l=oa(),h=yi(l);h.payload=r,s!=null&&(h.callback=s),r=vi(t,h,l),r!==null&&($n(r,t,l),xl(r,t,l))},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var l=oa(),h=yi(l);h.tag=1,h.payload=r,s!=null&&(h.callback=s),r=vi(t,h,l),r!==null&&($n(r,t,l),xl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=oa(),l=yi(s);l.tag=2,r!=null&&(l.callback=r),r=vi(t,l,s),r!==null&&($n(r,t,s),xl(r,t,s))}};function T0(t,r,s,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!vl(s,l)||!vl(h,d):!0}function w0(t,r,s,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,l),r.state!==t&&Td.enqueueReplaceState(r,r.state,null)}function ws(t,r){var s=r;if("ref"in r){s={};for(var l in r)l!=="ref"&&(s[l]=r[l])}if(t=t.defaultProps){s===r&&(s=T({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function S0(t){ou(t)}function A0(t){console.error(t)}function x0(t){ou(t)}function Iu(t,r){try{var s=t.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function N0(t,r,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function wd(t,r,s){return s=yi(s),s.tag=3,s.payload={element:null},s.callback=function(){Iu(t,r)},s}function C0(t){return t=yi(t),t.tag=3,t}function R0(t,r,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){N0(r,s,l)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){N0(r,s,l),typeof h!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function aS(t,r,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=s.alternate,r!==null&&lo(r,s,h,!0),s=aa.current,s!==null){switch(s.tag){case 31:case 13:return Ea===null?qu():s.alternate===null&&Pt===0&&(Pt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===yu?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([l]):r.add(l),Qd(t,l,h)),!1;case 22:return s.flags|=65536,l===yu?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([l]):s.add(l)),Qd(t,l,h)),!1}throw Error(i(435,s.tag))}return Qd(t,l,h),qu(),!1}if(Xe)return r=aa.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==qf&&(t=Error(i(422),{cause:l}),El(ya(t,s)))):(l!==qf&&(r=Error(i(423),{cause:l}),El(ya(r,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=ya(l,s),h=wd(t.stateNode,l,h),Zf(t,h),Pt!==4&&(Pt=2)),!1;var d=Error(i(520),{cause:l});if(d=ya(d,s),zl===null?zl=[d]:zl.push(d),Pt!==4&&(Pt=2),r===null)return!0;l=ya(l,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=wd(s.stateNode,l,t),Zf(s,t),!1;case 1:if(r=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Si===null||!Si.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=C0(h),R0(h,t,s,l),Zf(s,h),!1}s=s.return}while(s!==null);return!1}var Sd=Error(i(461)),Kt=!1;function mn(t,r,s,l){r.child=t===null?ky(r,null,s,l):Es(r,t.child,s,l)}function I0(t,r,s,l,h){s=s.render;var d=r.ref;if("ref"in l){var _={};for(var w in l)w!=="ref"&&(_[w]=l[w])}else _=l;return ys(r),l=id(t,r,s,_,d,h),w=sd(),t!==null&&!Kt?(od(t,r,h),Ir(t,r,h)):(Xe&&w&&zf(r),r.flags|=1,mn(t,r,l,h),r.child)}function D0(t,r,s,l,h){if(t===null){var d=s.type;return typeof d=="function"&&!Pf(d)&&d.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=d,O0(t,r,d,l,h)):(t=hu(s.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Od(t,h)){var _=d.memoizedProps;if(s=s.compare,s=s!==null?s:vl,s(_,l)&&t.ref===r.ref)return Ir(t,r,h)}return r.flags|=1,t=Sr(d,l),t.ref=r.ref,t.return=r,r.child=t}function O0(t,r,s,l,h){if(t!==null){var d=t.memoizedProps;if(vl(d,l)&&t.ref===r.ref)if(Kt=!1,r.pendingProps=l=d,Od(t,h))(t.flags&131072)!==0&&(Kt=!0);else return r.lanes=t.lanes,Ir(t,r,h)}return Ad(t,r,s,l,h)}function k0(t,r,s,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,t!==null){for(l=r.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,r.child=null;return M0(t,r,d,s,l)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&pu(r,d!==null?d.cachePool:null),d!==null?Vy(r,d):td(),Py(r);else return l=r.lanes=536870912,M0(t,r,d!==null?d.baseLanes|s:s,s,l)}else d!==null?(pu(r,d.cachePool),Vy(r,d),bi(),r.memoizedState=null):(t!==null&&pu(r,null),td(),bi());return mn(t,r,h,s),r.child}function kl(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function M0(t,r,s,l,h){var d=Kf();return d=d===null?null:{parent:Yt._currentValue,pool:d},r.memoizedState={baseLanes:s,cachePool:d},t!==null&&pu(r,null),td(),Py(r),t!==null&&lo(t,r,l,!0),r.childLanes=h,null}function Du(t,r){return r=ku({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function j0(t,r,s){return Es(r,t.child,null,s),t=Du(r,r.pendingProps),t.flags|=2,ra(r),r.memoizedState=null,t}function rS(t,r,s){var l=r.pendingProps,h=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Xe){if(l.mode==="hidden")return t=Du(r,l),r.lanes=536870912,kl(null,t);if(ad(r),(t=At)?(t=Yv(t,ba),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:fi!==null?{id:Za,overflow:er}:null,retryLane:536870912,hydrationErrors:null},s=vy(t),s.return=r,r.child=s,fn=r,At=null)):t=null,t===null)throw mi(r);return r.lanes=536870912,null}return Du(r,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(ad(r),h)if(r.flags&256)r.flags&=-257,r=j0(t,r,s);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(i(558));else if(Kt||lo(t,r,s,!1),h=(s&t.childLanes)!==0,Kt||h){if(l=Et,l!==null&&(_=fa(l,s),_!==0&&_!==d.retryLane))throw d.retryLane=_,ds(t,_),$n(l,t,_),Sd;qu(),r=j0(t,r,s)}else t=d.treeContext,At=Ta(_.nextSibling),fn=r,Xe=!0,di=null,ba=!1,t!==null&&Ey(r,t),r=Du(r,l),r.flags|=4096;return r}return t=Sr(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Ou(t,r){var s=r.ref;if(s===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(i(284));(t===null||t.ref!==s)&&(r.flags|=4194816)}}function Ad(t,r,s,l,h){return ys(r),s=id(t,r,s,l,void 0,h),l=sd(),t!==null&&!Kt?(od(t,r,h),Ir(t,r,h)):(Xe&&l&&zf(r),r.flags|=1,mn(t,r,s,h),r.child)}function V0(t,r,s,l,h,d){return ys(r),r.updateQueue=null,s=Uy(r,l,s,h),Ly(t),l=sd(),t!==null&&!Kt?(od(t,r,d),Ir(t,r,d)):(Xe&&l&&zf(r),r.flags|=1,mn(t,r,s,d),r.child)}function P0(t,r,s,l,h){if(ys(r),r.stateNode===null){var d=ro,_=s.contextType;typeof _=="object"&&_!==null&&(d=dn(_)),d=new s(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Td,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Wf(r),_=s.contextType,d.context=typeof _=="object"&&_!==null?dn(_):ro,d.state=r.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(Ed(r,s,_,l),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Td.enqueueReplaceState(d,d.state,null),Cl(r,l,d,h),Nl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var w=r.memoizedProps,D=ws(s,w);d.props=D;var B=d.context,W=s.contextType;_=ro,typeof W=="object"&&W!==null&&(_=dn(W));var ee=s.getDerivedStateFromProps;W=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||B!==_)&&w0(r,d,l,_),gi=!1;var F=r.memoizedState;d.state=F,Cl(r,l,d,h),Nl(),B=r.memoizedState,w||F!==B||gi?(typeof ee=="function"&&(Ed(r,s,ee,l),B=r.memoizedState),(D=gi||T0(r,s,D,l,F,B,_))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=B),d.props=l,d.state=B,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Jf(t,r),_=r.memoizedProps,W=ws(s,_),d.props=W,ee=r.pendingProps,F=d.context,B=s.contextType,D=ro,typeof B=="object"&&B!==null&&(D=dn(B)),w=s.getDerivedStateFromProps,(B=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ee||F!==D)&&w0(r,d,l,D),gi=!1,F=r.memoizedState,d.state=F,Cl(r,l,d,h),Nl();var Y=r.memoizedState;_!==ee||F!==Y||gi||t!==null&&t.dependencies!==null&&du(t.dependencies)?(typeof w=="function"&&(Ed(r,s,w,l),Y=r.memoizedState),(W=gi||T0(r,s,W,l,F,Y,D)||t!==null&&t.dependencies!==null&&du(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,D)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Y),d.props=l,d.state=Y,d.context=D,l=W):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,Ou(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Es(r,t.child,null,h),r.child=Es(r,null,s,h)):mn(t,r,s,h),r.memoizedState=d.state,t=r.child):t=Ir(t,r,h),t}function L0(t,r,s,l){return ps(),r.flags|=256,mn(t,r,s,l),r.child}var xd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nd(t){return{baseLanes:t,cachePool:Ny()}}function Cd(t,r,s){return t=t!==null?t.childLanes&~s:0,r&&(t|=sa),t}function U0(t,r,s){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(zt.current&2)!==0),_&&(h=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(Xe){if(h?_i(r):bi(),(t=At)?(t=Yv(t,ba),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:fi!==null?{id:Za,overflow:er}:null,retryLane:536870912,hydrationErrors:null},s=vy(t),s.return=r,r.child=s,fn=r,At=null)):t=null,t===null)throw mi(r);return um(t)?r.lanes=32:r.lanes=536870912,null}var w=l.children;return l=l.fallback,h?(bi(),h=r.mode,w=ku({mode:"hidden",children:w},h),l=ms(l,h,s,null),w.return=r,l.return=r,w.sibling=l,r.child=w,l=r.child,l.memoizedState=Nd(s),l.childLanes=Cd(t,_,s),r.memoizedState=xd,kl(null,l)):(_i(r),Rd(r,w))}var D=t.memoizedState;if(D!==null&&(w=D.dehydrated,w!==null)){if(d)r.flags&256?(_i(r),r.flags&=-257,r=Id(t,r,s)):r.memoizedState!==null?(bi(),r.child=t.child,r.flags|=128,r=null):(bi(),w=l.fallback,h=r.mode,l=ku({mode:"visible",children:l.children},h),w=ms(w,h,s,null),w.flags|=2,l.return=r,w.return=r,l.sibling=w,r.child=l,Es(r,t.child,null,s),l=r.child,l.memoizedState=Nd(s),l.childLanes=Cd(t,_,s),r.memoizedState=xd,r=kl(null,l));else if(_i(r),um(w)){if(_=w.nextSibling&&w.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(i(419)),l.stack="",l.digest=_,El({value:l,source:null,stack:null}),r=Id(t,r,s)}else if(Kt||lo(t,r,s,!1),_=(s&t.childLanes)!==0,Kt||_){if(_=Et,_!==null&&(l=fa(_,s),l!==0&&l!==D.retryLane))throw D.retryLane=l,ds(t,l),$n(_,t,l),Sd;cm(w)||qu(),r=Id(t,r,s)}else cm(w)?(r.flags|=192,r.child=t.child,r=null):(t=D.treeContext,At=Ta(w.nextSibling),fn=r,Xe=!0,di=null,ba=!1,t!==null&&Ey(r,t),r=Rd(r,l.children),r.flags|=4096);return r}return h?(bi(),w=l.fallback,h=r.mode,D=t.child,B=D.sibling,l=Sr(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,B!==null?w=Sr(B,w):(w=ms(w,h,s,null),w.flags|=2),w.return=r,l.return=r,l.sibling=w,r.child=l,kl(null,l),l=r.child,w=t.child.memoizedState,w===null?w=Nd(s):(h=w.cachePool,h!==null?(D=Yt._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=Ny(),w={baseLanes:w.baseLanes|s,cachePool:h}),l.memoizedState=w,l.childLanes=Cd(t,_,s),r.memoizedState=xd,kl(t.child,l)):(_i(r),s=t.child,t=s.sibling,s=Sr(s,{mode:"visible",children:l.children}),s.return=r,s.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=s,r.memoizedState=null,s)}function Rd(t,r){return r=ku({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function ku(t,r){return t=na(22,t,null,r),t.lanes=0,t}function Id(t,r,s){return Es(r,t.child,null,s),t=Rd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function z0(t,r,s){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Gf(t.return,r,s)}function Dd(t,r,s,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:d}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=s,_.tailMode=h,_.treeForkCount=d)}function B0(t,r,s){var l=r.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=zt.current,w=(_&2)!==0;if(w?(_=_&1|2,r.flags|=128):_&=1,ne(zt,_),mn(t,r,l,s),l=Xe?bl:0,!w&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&z0(t,s,r);else if(t.tag===19)z0(t,s,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=r.child,h=null;s!==null;)t=s.alternate,t!==null&&Eu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=r.child,r.child=null):(h=s.sibling,s.sibling=null),Dd(r,!1,h,s,d,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&Eu(t)===null){r.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Dd(r,!0,s,null,d,l);break;case"together":Dd(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function Ir(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),wi|=r.lanes,(s&r.childLanes)===0)if(t!==null){if(lo(t,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(i(153));if(r.child!==null){for(t=r.child,s=Sr(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=Sr(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}function Od(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&du(t)))}function iS(t,r,s){switch(r.tag){case 3:xe(r,r.stateNode.containerInfo),pi(r,Yt,t.memoizedState.cache),ps();break;case 27:case 5:Nt(r);break;case 4:xe(r,r.stateNode.containerInfo);break;case 10:pi(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,ad(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(_i(r),r.flags|=128,null):(s&r.child.childLanes)!==0?U0(t,r,s):(_i(r),t=Ir(t,r,s),t!==null?t.sibling:null);_i(r);break;case 19:var h=(t.flags&128)!==0;if(l=(s&r.childLanes)!==0,l||(lo(t,r,s,!1),l=(s&r.childLanes)!==0),h){if(l)return B0(t,r,s);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(zt,zt.current),l)break;return null;case 22:return r.lanes=0,k0(t,r,s,r.pendingProps);case 24:pi(r,Yt,t.memoizedState.cache)}return Ir(t,r,s)}function q0(t,r,s){if(t!==null)if(t.memoizedProps!==r.pendingProps)Kt=!0;else{if(!Od(t,s)&&(r.flags&128)===0)return Kt=!1,iS(t,r,s);Kt=(t.flags&131072)!==0}else Kt=!1,Xe&&(r.flags&1048576)!==0&&by(r,bl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=_s(r.elementType),r.type=t,typeof t=="function")Pf(t)?(l=ws(t,l),r.tag=1,r=P0(null,r,t,l,s)):(r.tag=0,r=Ad(null,r,t,l,s));else{if(t!=null){var h=t.$$typeof;if(h===he){r.tag=11,r=I0(null,r,t,l,s);break e}else if(h===I){r.tag=14,r=D0(null,r,t,l,s);break e}}throw r=Oe(t)||t,Error(i(306,r,""))}}return r;case 0:return Ad(t,r,r.type,r.pendingProps,s);case 1:return l=r.type,h=ws(l,r.pendingProps),P0(t,r,l,h,s);case 3:e:{if(xe(r,r.stateNode.containerInfo),t===null)throw Error(i(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,Jf(t,r),Cl(r,l,null,s);var _=r.memoizedState;if(l=_.cache,pi(r,Yt,l),l!==d.cache&&$f(r,[Yt],s,!0),Nl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=L0(t,r,l,s);break e}else if(l!==h){h=ya(Error(i(424)),r),El(h),r=L0(t,r,l,s);break e}else for(t=r.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,At=Ta(t.firstChild),fn=r,Xe=!0,di=null,ba=!0,s=ky(r,null,l,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(ps(),l===h){r=Ir(t,r,s);break e}mn(t,r,l,s)}r=r.child}return r;case 26:return Ou(t,r),t===null?(s=Zv(r.type,null,r.pendingProps,null))?r.memoizedState=s:Xe||(s=r.type,t=r.pendingProps,l=Ku(ie.current).createElement(s),l[Re]=r,l[He]=t,pn(l,s,t),Gt(l),r.stateNode=l):r.memoizedState=Zv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Nt(r),t===null&&Xe&&(l=r.stateNode=Xv(r.type,r.pendingProps,ie.current),fn=r,ba=!0,h=At,Ci(r.type)?(hm=h,At=Ta(l.firstChild)):At=h),mn(t,r,r.pendingProps.children,s),Ou(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Xe&&((h=l=At)&&(l=jS(l,r.type,r.pendingProps,ba),l!==null?(r.stateNode=l,fn=r,At=Ta(l.firstChild),ba=!1,h=!0):h=!1),h||mi(r)),Nt(r),h=r.type,d=r.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,sm(h,d)?l=null:_!==null&&sm(h,_)&&(r.flags|=32),r.memoizedState!==null&&(h=id(t,r,Xw,null,null,s),Ql._currentValue=h),Ou(t,r),mn(t,r,l,s),r.child;case 6:return t===null&&Xe&&((t=s=At)&&(s=VS(s,r.pendingProps,ba),s!==null?(r.stateNode=s,fn=r,At=null,t=!0):t=!1),t||mi(r)),null;case 13:return U0(t,r,s);case 4:return xe(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Es(r,null,l,s):mn(t,r,l,s),r.child;case 11:return I0(t,r,r.type,r.pendingProps,s);case 7:return mn(t,r,r.pendingProps,s),r.child;case 8:return mn(t,r,r.pendingProps.children,s),r.child;case 12:return mn(t,r,r.pendingProps.children,s),r.child;case 10:return l=r.pendingProps,pi(r,r.type,l.value),mn(t,r,l.children,s),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,ys(r),h=dn(h),l=l(h),r.flags|=1,mn(t,r,l,s),r.child;case 14:return D0(t,r,r.type,r.pendingProps,s);case 15:return O0(t,r,r.type,r.pendingProps,s);case 19:return B0(t,r,s);case 31:return rS(t,r,s);case 22:return k0(t,r,s,r.pendingProps);case 24:return ys(r),l=dn(Yt),t===null?(h=Kf(),h===null&&(h=Et,d=Yf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),r.memoizedState={parent:l,cache:h},Wf(r),pi(r,Yt,h)):((t.lanes&s)!==0&&(Jf(t,r),Cl(r,null,null,s),Nl()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),pi(r,Yt,l)):(l=d.cache,pi(r,Yt,l),l!==h.cache&&$f(r,[Yt],s,!0))),mn(t,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Dr(t){t.flags|=4}function kd(t,r,s,l,h){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(pv())t.flags|=8192;else throw bs=yu,Xf}else t.flags&=-16777217}function H0(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!r_(r))if(pv())t.flags|=8192;else throw bs=yu,Xf}function Mu(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?on():536870912,t.lanes|=r,Eo|=r)}function Ml(t,r){if(!Xe)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function xt(t){var r=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(r)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,r}function sS(t,r,s){var l=r.pendingProps;switch(Bf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(r),null;case 1:return xt(r),null;case 3:return s=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Nr(Yt),Me(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(oo(r)?Dr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Hf())),xt(r),null;case 26:var h=r.type,d=r.memoizedState;return t===null?(Dr(r),d!==null?(xt(r),H0(r,d)):(xt(r),kd(r,h,null,l,s))):d?d!==t.memoizedState?(Dr(r),xt(r),H0(r,d)):(xt(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&Dr(r),xt(r),kd(r,h,t,l,s)),null;case 27:if(bn(r),s=ie.current,h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Dr(r);else{if(!l){if(r.stateNode===null)throw Error(i(166));return xt(r),null}t=re.current,oo(r)?Ty(r):(t=Xv(h,l,s),r.stateNode=t,Dr(r))}return xt(r),null;case 5:if(bn(r),h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Dr(r);else{if(!l){if(r.stateNode===null)throw Error(i(166));return xt(r),null}if(d=re.current,oo(r))Ty(r);else{var _=Ku(ie.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Re]=r,d[He]=l;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=d;e:switch(pn(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Dr(r)}}return xt(r),kd(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,s),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Dr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(i(166));if(t=ie.current,oo(r)){if(t=r.stateNode,s=r.memoizedProps,l=null,h=fn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Re]=r,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Uv(t.nodeValue,s)),t||mi(r,!0)}else t=Ku(t).createTextNode(l),t[Re]=r,r.stateNode=t}return xt(r),null;case 31:if(s=r.memoizedState,t===null||t.memoizedState!==null){if(l=oo(r),s!==null){if(t===null){if(!l)throw Error(i(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[Re]=r}else ps(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;xt(r),t=!1}else s=Hf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return r.flags&256?(ra(r),r):(ra(r),null);if((r.flags&128)!==0)throw Error(i(558))}return xt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=oo(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(i(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Re]=r}else ps(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;xt(r),h=!1}else h=Hf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(ra(r),r):(ra(r),null)}return ra(r),(r.flags&128)!==0?(r.lanes=s,r):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),s!==t&&s&&(r.child.flags|=8192),Mu(r,r.updateQueue),xt(r),null);case 4:return Me(),t===null&&tm(r.stateNode.containerInfo),xt(r),null;case 10:return Nr(r.type),xt(r),null;case 19:if(q(zt),l=r.memoizedState,l===null)return xt(r),null;if(h=(r.flags&128)!==0,d=l.rendering,d===null)if(h)Ml(l,!1);else{if(Pt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=Eu(t),d!==null){for(r.flags|=128,Ml(l,!1),t=d.updateQueue,r.updateQueue=t,Mu(r,t),r.subtreeFlags=0,t=s,s=r.child;s!==null;)yy(s,t),s=s.sibling;return ne(zt,zt.current&1|2),Xe&&Ar(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&Dt()>Uu&&(r.flags|=128,h=!0,Ml(l,!1),r.lanes=4194304)}else{if(!h)if(t=Eu(d),t!==null){if(r.flags|=128,h=!0,t=t.updateQueue,r.updateQueue=t,Mu(r,t),Ml(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Xe)return xt(r),null}else 2*Dt()-l.renderingStartTime>Uu&&s!==536870912&&(r.flags|=128,h=!0,Ml(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(t=l.last,t!==null?t.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Dt(),t.sibling=null,s=zt.current,ne(zt,h?s&1|2:s&1),Xe&&Ar(r,l.treeForkCount),t):(xt(r),null);case 22:case 23:return ra(r),nd(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(s&536870912)!==0&&(r.flags&128)===0&&(xt(r),r.subtreeFlags&6&&(r.flags|=8192)):xt(r),s=r.updateQueue,s!==null&&Mu(r,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==s&&(r.flags|=2048),t!==null&&q(vs),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),Nr(Yt),xt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function oS(t,r){switch(Bf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Nr(Yt),Me(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return bn(r),null;case 31:if(r.memoizedState!==null){if(ra(r),r.alternate===null)throw Error(i(340));ps()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(ra(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(i(340));ps()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return q(zt),null;case 4:return Me(),null;case 10:return Nr(r.type),null;case 22:case 23:return ra(r),nd(),t!==null&&q(vs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Nr(Yt),null;case 25:return null;default:return null}}function F0(t,r){switch(Bf(r),r.tag){case 3:Nr(Yt),Me();break;case 26:case 27:case 5:bn(r);break;case 4:Me();break;case 31:r.memoizedState!==null&&ra(r);break;case 13:ra(r);break;case 19:q(zt);break;case 10:Nr(r.type);break;case 22:case 23:ra(r),nd(),t!==null&&q(vs);break;case 24:Nr(Yt)}}function jl(t,r){try{var s=r.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var d=s.create,_=s.inst;l=d(),_.destroy=l}s=s.next}while(s!==h)}}catch(w){ct(r,r.return,w)}}function Ei(t,r,s){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,w=_.destroy;if(w!==void 0){_.destroy=void 0,h=r;var D=s,B=w;try{B()}catch(W){ct(h,D,W)}}}l=l.next}while(l!==d)}}catch(W){ct(r,r.return,W)}}function G0(t){var r=t.updateQueue;if(r!==null){var s=t.stateNode;try{jy(r,s)}catch(l){ct(t,t.return,l)}}}function $0(t,r,s){s.props=ws(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){ct(t,r,l)}}function Vl(t,r){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){ct(t,r,h)}}function tr(t,r){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){ct(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){ct(t,r,h)}else s.current=null}function Y0(t){var r=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){ct(t,t.return,h)}}function Md(t,r,s){try{var l=t.stateNode;RS(l,t.type,s,r),l[He]=r}catch(h){ct(t,t.return,h)}}function Q0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ci(t.type)||t.tag===4}function jd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Q0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ci(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vd(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(t),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=Ca));else if(l!==4&&(l===27&&Ci(t.type)&&(s=t.stateNode,r=null),t=t.child,t!==null))for(Vd(t,r,s),t=t.sibling;t!==null;)Vd(t,r,s),t=t.sibling}function ju(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?s.insertBefore(t,r):s.appendChild(t);else if(l!==4&&(l===27&&Ci(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(ju(t,r,s),t=t.sibling;t!==null;)ju(t,r,s),t=t.sibling}function K0(t){var r=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);pn(r,l,s),r[Re]=t,r[He]=s}catch(d){ct(t,t.return,d)}}var Or=!1,Xt=!1,Pd=!1,X0=typeof WeakSet=="function"?WeakSet:Set,cn=null;function lS(t,r){if(t=t.containerInfo,rm=nh,t=ly(t),If(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var _=0,w=-1,D=-1,B=0,W=0,ee=t,F=null;t:for(;;){for(var Y;ee!==s||h!==0&&ee.nodeType!==3||(w=_+h),ee!==d||l!==0&&ee.nodeType!==3||(D=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),(Y=ee.firstChild)!==null;)F=ee,ee=Y;for(;;){if(ee===t)break t;if(F===s&&++B===h&&(w=_),F===d&&++W===l&&(D=_),(Y=ee.nextSibling)!==null)break;ee=F,F=ee.parentNode}ee=Y}s=w===-1||D===-1?null:{start:w,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for(im={focusedElem:t,selectionRange:s},nh=!1,cn=r;cn!==null;)if(r=cn,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,cn=t;else for(;cn!==null;){switch(r=cn,d=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=r,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var ge=ws(s.type,h);t=l.getSnapshotBeforeUpdate(ge,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ce){ct(s,s.return,Ce)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,s=t.nodeType,s===9)lm(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":lm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=r.sibling,t!==null){t.return=r.return,cn=t;break}cn=r.return}}function W0(t,r,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Mr(t,s),l&4&&jl(5,s);break;case 1:if(Mr(t,s),l&4)if(t=s.stateNode,r===null)try{t.componentDidMount()}catch(_){ct(s,s.return,_)}else{var h=ws(s.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){ct(s,s.return,_)}}l&64&&G0(s),l&512&&Vl(s,s.return);break;case 3:if(Mr(t,s),l&64&&(t=s.updateQueue,t!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{jy(t,r)}catch(_){ct(s,s.return,_)}}break;case 27:r===null&&l&4&&K0(s);case 26:case 5:Mr(t,s),r===null&&l&4&&Y0(s),l&512&&Vl(s,s.return);break;case 12:Mr(t,s);break;case 31:Mr(t,s),l&4&&ev(t,s);break;case 13:Mr(t,s),l&4&&tv(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=yS.bind(null,s),PS(t,s))));break;case 22:if(l=s.memoizedState!==null||Or,!l){r=r!==null&&r.memoizedState!==null||Xt,h=Or;var d=Xt;Or=l,(Xt=r)&&!d?jr(t,s,(s.subtreeFlags&8772)!==0):Mr(t,s),Or=h,Xt=d}break;case 30:break;default:Mr(t,s)}}function J0(t){var r=t.alternate;r!==null&&(t.alternate=null,J0(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Mn(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Rt=null,qn=!1;function kr(t,r,s){for(s=s.child;s!==null;)Z0(t,r,s),s=s.sibling}function Z0(t,r,s){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(Lt,s)}catch{}switch(s.tag){case 26:Xt||tr(s,r),kr(t,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Xt||tr(s,r);var l=Rt,h=qn;Ci(s.type)&&(Rt=s.stateNode,qn=!1),kr(t,r,s),Gl(s.stateNode),Rt=l,qn=h;break;case 5:Xt||tr(s,r);case 6:if(l=Rt,h=qn,Rt=null,kr(t,r,s),Rt=l,qn=h,Rt!==null)if(qn)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(s.stateNode)}catch(d){ct(s,r,d)}else try{Rt.removeChild(s.stateNode)}catch(d){ct(s,r,d)}break;case 18:Rt!==null&&(qn?(t=Rt,Gv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Ro(t)):Gv(Rt,s.stateNode));break;case 4:l=Rt,h=qn,Rt=s.stateNode.containerInfo,qn=!0,kr(t,r,s),Rt=l,qn=h;break;case 0:case 11:case 14:case 15:Ei(2,s,r),Xt||Ei(4,s,r),kr(t,r,s);break;case 1:Xt||(tr(s,r),l=s.stateNode,typeof l.componentWillUnmount=="function"&&$0(s,r,l)),kr(t,r,s);break;case 21:kr(t,r,s);break;case 22:Xt=(l=Xt)||s.memoizedState!==null,kr(t,r,s),Xt=l;break;default:kr(t,r,s)}}function ev(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ro(t)}catch(s){ct(r,r.return,s)}}}function tv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ro(t)}catch(s){ct(r,r.return,s)}}function cS(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new X0),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new X0),r;default:throw Error(i(435,t.tag))}}function Vu(t,r){var s=cS(t);r.forEach(function(l){if(!s.has(l)){s.add(l);var h=vS.bind(null,t,l);l.then(h,h)}})}function Hn(t,r){var s=r.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=t,_=r,w=_;e:for(;w!==null;){switch(w.tag){case 27:if(Ci(w.type)){Rt=w.stateNode,qn=!1;break e}break;case 5:Rt=w.stateNode,qn=!1;break e;case 3:case 4:Rt=w.stateNode.containerInfo,qn=!0;break e}w=w.return}if(Rt===null)throw Error(i(160));Z0(d,_,h),Rt=null,qn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)nv(r,t),r=r.sibling}var Ma=null;function nv(t,r){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Hn(r,t),Fn(t),l&4&&(Ei(3,t,t.return),jl(3,t),Ei(5,t,t.return));break;case 1:Hn(r,t),Fn(t),l&512&&(Xt||s===null||tr(s,s.return)),l&64&&Or&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Ma;if(Hn(r,t),Fn(t),l&512&&(Xt||s===null||tr(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Tt]||d[Re]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),pn(d,l,s),d[Re]=t,Gt(d),l=d;break e;case"link":var _=n_("link","href",h).get(l+(s.href||""));if(_){for(var w=0;w<_.length;w++)if(d=_[w],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(w,1);break t}}d=h.createElement(l),pn(d,l,s),h.head.appendChild(d);break;case"meta":if(_=n_("meta","content",h).get(l+(s.content||""))){for(w=0;w<_.length;w++)if(d=_[w],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(w,1);break t}}d=h.createElement(l),pn(d,l,s),h.head.appendChild(d);break;default:throw Error(i(468,l))}d[Re]=t,Gt(d),l=d}t.stateNode=l}else a_(h,t.type,t.stateNode);else t.stateNode=t_(h,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?a_(h,t.type,t.stateNode):t_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Md(t,t.memoizedProps,s.memoizedProps)}break;case 27:Hn(r,t),Fn(t),l&512&&(Xt||s===null||tr(s,s.return)),s!==null&&l&4&&Md(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Hn(r,t),Fn(t),l&512&&(Xt||s===null||tr(s,s.return)),t.flags&32){h=t.stateNode;try{Bn(h,"")}catch(ge){ct(t,t.return,ge)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Md(t,h,s!==null?s.memoizedProps:h)),l&1024&&(Pd=!0);break;case 6:if(Hn(r,t),Fn(t),l&4){if(t.stateNode===null)throw Error(i(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(ge){ct(t,t.return,ge)}}break;case 3:if(Ju=null,h=Ma,Ma=Xu(r.containerInfo),Hn(r,t),Ma=h,Fn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Ro(r.containerInfo)}catch(ge){ct(t,t.return,ge)}Pd&&(Pd=!1,av(t));break;case 4:l=Ma,Ma=Xu(t.stateNode.containerInfo),Hn(r,t),Fn(t),Ma=l;break;case 12:Hn(r,t),Fn(t);break;case 31:Hn(r,t),Fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vu(t,l)));break;case 13:Hn(r,t),Fn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Lu=Dt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vu(t,l)));break;case 22:h=t.memoizedState!==null;var D=s!==null&&s.memoizedState!==null,B=Or,W=Xt;if(Or=B||h,Xt=W||D,Hn(r,t),Xt=W,Or=B,Fn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(s===null||D||Or||Xt||Ss(t)),s=null,r=t;;){if(r.tag===5||r.tag===26){if(s===null){D=s=r;try{if(d=D.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{w=D.stateNode;var ee=D.memoizedProps.style,F=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;w.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(ge){ct(D,D.return,ge)}}}else if(r.tag===6){if(s===null){D=r;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(ge){ct(D,D.return,ge)}}}else if(r.tag===18){if(s===null){D=r;try{var Y=D.stateNode;h?$v(Y,!0):$v(D.stateNode,!1)}catch(ge){ct(D,D.return,ge)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Vu(t,s))));break;case 19:Hn(r,t),Fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vu(t,l)));break;case 30:break;case 21:break;default:Hn(r,t),Fn(t)}}function Fn(t){var r=t.flags;if(r&2){try{for(var s,l=t.return;l!==null;){if(Q0(l)){s=l;break}l=l.return}if(s==null)throw Error(i(160));switch(s.tag){case 27:var h=s.stateNode,d=jd(t);ju(t,d,h);break;case 5:var _=s.stateNode;s.flags&32&&(Bn(_,""),s.flags&=-33);var w=jd(t);ju(t,w,_);break;case 3:case 4:var D=s.stateNode.containerInfo,B=jd(t);Vd(t,B,D);break;default:throw Error(i(161))}}catch(W){ct(t,t.return,W)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function av(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;av(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Mr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)W0(t,r.alternate,r),r=r.sibling}function Ss(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Ei(4,r,r.return),Ss(r);break;case 1:tr(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&$0(r,r.return,s),Ss(r);break;case 27:Gl(r.stateNode);case 26:case 5:tr(r,r.return),Ss(r);break;case 22:r.memoizedState===null&&Ss(r);break;case 30:Ss(r);break;default:Ss(r)}t=t.sibling}}function jr(t,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:jr(h,d,s),jl(4,d);break;case 1:if(jr(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){ct(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var w=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)My(D[h],w)}catch(B){ct(l,l.return,B)}}s&&_&64&&G0(d),Vl(d,d.return);break;case 27:K0(d);case 26:case 5:jr(h,d,s),s&&l===null&&_&4&&Y0(d),Vl(d,d.return);break;case 12:jr(h,d,s);break;case 31:jr(h,d,s),s&&_&4&&ev(h,d);break;case 13:jr(h,d,s),s&&_&4&&tv(h,d);break;case 22:d.memoizedState===null&&jr(h,d,s),Vl(d,d.return);break;case 30:break;default:jr(h,d,s)}r=r.sibling}}function Ld(t,r){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Tl(s))}function Ud(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Tl(t))}function ja(t,r,s,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)rv(t,r,s,l),r=r.sibling}function rv(t,r,s,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:ja(t,r,s,l),h&2048&&jl(9,r);break;case 1:ja(t,r,s,l);break;case 3:ja(t,r,s,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Tl(t)));break;case 12:if(h&2048){ja(t,r,s,l),t=r.stateNode;try{var d=r.memoizedProps,_=d.id,w=d.onPostCommit;typeof w=="function"&&w(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){ct(r,r.return,D)}}else ja(t,r,s,l);break;case 31:ja(t,r,s,l);break;case 13:ja(t,r,s,l);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?ja(t,r,s,l):Pl(t,r):d._visibility&2?ja(t,r,s,l):(d._visibility|=2,vo(t,r,s,l,(r.subtreeFlags&10256)!==0||!1)),h&2048&&Ld(_,r);break;case 24:ja(t,r,s,l),h&2048&&Ud(r.alternate,r);break;default:ja(t,r,s,l)}}function vo(t,r,s,l,h){for(h=h&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=t,_=r,w=s,D=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:vo(d,_,w,D,h),jl(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&2?vo(d,_,w,D,h):Pl(d,_):(W._visibility|=2,vo(d,_,w,D,h)),h&&B&2048&&Ld(_.alternate,_);break;case 24:vo(d,_,w,D,h),h&&B&2048&&Ud(_.alternate,_);break;default:vo(d,_,w,D,h)}r=r.sibling}}function Pl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=t,l=r,h=l.flags;switch(l.tag){case 22:Pl(s,l),h&2048&&Ld(l.alternate,l);break;case 24:Pl(s,l),h&2048&&Ud(l.alternate,l);break;default:Pl(s,l)}r=r.sibling}}var Ll=8192;function _o(t,r,s){if(t.subtreeFlags&Ll)for(t=t.child;t!==null;)iv(t,r,s),t=t.sibling}function iv(t,r,s){switch(t.tag){case 26:_o(t,r,s),t.flags&Ll&&t.memoizedState!==null&&KS(s,Ma,t.memoizedState,t.memoizedProps);break;case 5:_o(t,r,s);break;case 3:case 4:var l=Ma;Ma=Xu(t.stateNode.containerInfo),_o(t,r,s),Ma=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Ll,Ll=16777216,_o(t,r,s),Ll=l):_o(t,r,s));break;default:_o(t,r,s)}}function sv(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Ul(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];cn=l,lv(l,t)}sv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ov(t),t=t.sibling}function ov(t){switch(t.tag){case 0:case 11:case 15:Ul(t),t.flags&2048&&Ei(9,t,t.return);break;case 3:Ul(t);break;case 12:Ul(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Pu(t)):Ul(t);break;default:Ul(t)}}function Pu(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];cn=l,lv(l,t)}sv(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Ei(8,r,r.return),Pu(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,Pu(r));break;default:Pu(r)}t=t.sibling}}function lv(t,r){for(;cn!==null;){var s=cn;switch(s.tag){case 0:case 11:case 15:Ei(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Tl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,cn=l;else e:for(s=t;cn!==null;){l=cn;var h=l.sibling,d=l.return;if(J0(l),l===s){cn=null;break e}if(h!==null){h.return=d,cn=h;break e}cn=d}}}var uS={getCacheForType:function(t){var r=dn(Yt),s=r.data.get(t);return s===void 0&&(s=t(),r.data.set(t,s)),s},cacheSignal:function(){return dn(Yt).controller.signal}},hS=typeof WeakMap=="function"?WeakMap:Map,it=0,Et=null,Be=null,Ge=0,lt=0,ia=null,Ti=!1,bo=!1,zd=!1,Vr=0,Pt=0,wi=0,As=0,Bd=0,sa=0,Eo=0,zl=null,Gn=null,qd=!1,Lu=0,cv=0,Uu=1/0,zu=null,Si=null,tn=0,Ai=null,To=null,Pr=0,Hd=0,Fd=null,uv=null,Bl=0,Gd=null;function oa(){return(it&2)!==0&&Ge!==0?Ge&-Ge:H.T!==null?Wd():qa()}function hv(){if(sa===0)if((Ge&536870912)===0||Xe){var t=xa;xa<<=1,(xa&3932160)===0&&(xa=262144),sa=t}else sa=536870912;return t=aa.current,t!==null&&(t.flags|=32),sa}function $n(t,r,s){(t===Et&&(lt===2||lt===9)||t.cancelPendingCommit!==null)&&(wo(t,0),xi(t,Ge,sa,!1)),Wn(t,s),((it&2)===0||t!==Et)&&(t===Et&&((it&2)===0&&(As|=s),Pt===4&&xi(t,Ge,sa,!1)),nr(t))}function fv(t,r,s){if((it&6)!==0)throw Error(i(327));var l=!s&&(r&127)===0&&(r&t.expiredLanes)===0||sn(t,r),h=l?mS(t,r):Yd(t,r,!0),d=l;do{if(h===0){bo&&!l&&xi(t,r,0,!1);break}else{if(s=t.current.alternate,d&&!fS(s)){h=Yd(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var w=t;h=zl;var D=w.current.memoizedState.isDehydrated;if(D&&(wo(w,_).flags|=256),_=Yd(w,_,!1),_!==2){if(zd&&!D){w.errorRecoveryDisabledLanes|=d,As|=d,h=4;break e}d=Gn,Gn=h,d!==null&&(Gn===null?Gn=d:Gn.push.apply(Gn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){wo(t,0),xi(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:xi(l,r,sa,!Ti);break e;case 2:Gn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(h=Lu+300-Dt(),10<h)){if(xi(l,r,sa,!Ti),bt(l,0,!0)!==0)break e;Pr=r,l.timeoutHandle=Hv(dv.bind(null,l,s,Gn,zu,qd,r,sa,As,Eo,Ti,d,"Throttled",-0,0),h);break e}dv(l,s,Gn,zu,qd,r,sa,As,Eo,Ti,d,null,-0,0)}}break}while(!0);nr(t)}function dv(t,r,s,l,h,d,_,w,D,B,W,ee,F,Y){if(t.timeoutHandle=-1,ee=r.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ca},iv(r,d,ee);var ge=(d&62914560)===d?Lu-Dt():(d&4194048)===d?cv-Dt():0;if(ge=XS(ee,ge),ge!==null){Pr=d,t.cancelPendingCommit=ge(Ev.bind(null,t,r,d,s,l,h,_,w,D,W,ee,null,F,Y)),xi(t,d,_,!B);return}}Ev(t,r,d,s,l,h,_,w,D)}function fS(t){for(var r=t;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!ta(d(),h))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function xi(t,r,s,l){r&=~Bd,r&=~As,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-vt(h),_=1<<d;l[d]=-1,h&=~_}s!==0&&Jn(t,s,r)}function Bu(){return(it&6)===0?(ql(0),!1):!0}function $d(){if(Be!==null){if(lt===0)var t=Be.return;else t=Be,xr=gs=null,ld(t),fo=null,Sl=0,t=Be;for(;t!==null;)F0(t.alternate,t),t=t.return;Be=null}}function wo(t,r){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,OS(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Pr=0,$d(),Et=t,Be=s=Sr(t.current,null),Ge=r,lt=0,ia=null,Ti=!1,bo=sn(t,r),zd=!1,Eo=sa=Bd=As=wi=Pt=0,Gn=zl=null,qd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-vt(l),d=1<<h;r|=t[h],l&=~d}return Vr=r,lu(),s}function mv(t,r){Le=null,H.H=Ol,r===ho||r===gu?(r=Iy(),lt=3):r===Xf?(r=Iy(),lt=4):lt=r===Sd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,ia=r,Be===null&&(Pt=1,Iu(t,ya(r,t.current)))}function pv(){var t=aa.current;return t===null?!0:(Ge&4194048)===Ge?Ea===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?t===Ea:!1}function gv(){var t=H.H;return H.H=Ol,t===null?Ol:t}function yv(){var t=H.A;return H.A=uS,t}function qu(){Pt=4,Ti||(Ge&4194048)!==Ge&&aa.current!==null||(bo=!0),(wi&134217727)===0&&(As&134217727)===0||Et===null||xi(Et,Ge,sa,!1)}function Yd(t,r,s){var l=it;it|=2;var h=gv(),d=yv();(Et!==t||Ge!==r)&&(zu=null,wo(t,r)),r=!1;var _=Pt;e:do try{if(lt!==0&&Be!==null){var w=Be,D=ia;switch(lt){case 8:$d(),_=6;break e;case 3:case 2:case 9:case 6:aa.current===null&&(r=!0);var B=lt;if(lt=0,ia=null,So(t,w,D,B),s&&bo){_=0;break e}break;default:B=lt,lt=0,ia=null,So(t,w,D,B)}}dS(),_=Pt;break}catch(W){mv(t,W)}while(!0);return r&&t.shellSuspendCounter++,xr=gs=null,it=l,H.H=h,H.A=d,Be===null&&(Et=null,Ge=0,lu()),_}function dS(){for(;Be!==null;)vv(Be)}function mS(t,r){var s=it;it|=2;var l=gv(),h=yv();Et!==t||Ge!==r?(zu=null,Uu=Dt()+500,wo(t,r)):bo=sn(t,r);e:do try{if(lt!==0&&Be!==null){r=Be;var d=ia;t:switch(lt){case 1:lt=0,ia=null,So(t,r,d,1);break;case 2:case 9:if(Cy(d)){lt=0,ia=null,_v(r);break}r=function(){lt!==2&&lt!==9||Et!==t||(lt=7),nr(t)},d.then(r,r);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:Cy(d)?(lt=0,ia=null,_v(r)):(lt=0,ia=null,So(t,r,d,7));break;case 5:var _=null;switch(Be.tag){case 26:_=Be.memoizedState;case 5:case 27:var w=Be;if(_?r_(_):w.stateNode.complete){lt=0,ia=null;var D=w.sibling;if(D!==null)Be=D;else{var B=w.return;B!==null?(Be=B,Hu(B)):Be=null}break t}}lt=0,ia=null,So(t,r,d,5);break;case 6:lt=0,ia=null,So(t,r,d,6);break;case 8:$d(),Pt=6;break e;default:throw Error(i(462))}}pS();break}catch(W){mv(t,W)}while(!0);return xr=gs=null,H.H=l,H.A=h,it=s,Be!==null?0:(Et=null,Ge=0,lu(),Pt)}function pS(){for(;Be!==null&&!Xn();)vv(Be)}function vv(t){var r=q0(t.alternate,t,Vr);t.memoizedProps=t.pendingProps,r===null?Hu(t):Be=r}function _v(t){var r=t,s=r.alternate;switch(r.tag){case 15:case 0:r=V0(s,r,r.pendingProps,r.type,void 0,Ge);break;case 11:r=V0(s,r,r.pendingProps,r.type.render,r.ref,Ge);break;case 5:ld(r);default:F0(s,r),r=Be=yy(r,Vr),r=q0(s,r,Vr)}t.memoizedProps=t.pendingProps,r===null?Hu(t):Be=r}function So(t,r,s,l){xr=gs=null,ld(r),fo=null,Sl=0;var h=r.return;try{if(aS(t,h,r,s,Ge)){Pt=1,Iu(t,ya(s,t.current)),Be=null;return}}catch(d){if(h!==null)throw Be=h,d;Pt=1,Iu(t,ya(s,t.current)),Be=null;return}r.flags&32768?(Xe||l===1?t=!0:bo||(Ge&536870912)!==0?t=!1:(Ti=t=!0,(l===2||l===9||l===3||l===6)&&(l=aa.current,l!==null&&l.tag===13&&(l.flags|=16384))),bv(r,t)):Hu(r)}function Hu(t){var r=t;do{if((r.flags&32768)!==0){bv(r,Ti);return}t=r.return;var s=sS(r.alternate,r,Vr);if(s!==null){Be=s;return}if(r=r.sibling,r!==null){Be=r;return}Be=r=t}while(r!==null);Pt===0&&(Pt=5)}function bv(t,r){do{var s=oS(t.alternate,t);if(s!==null){s.flags&=32767,Be=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(t=t.sibling,t!==null)){Be=t;return}Be=t=s}while(t!==null);Pt=6,Be=null}function Ev(t,r,s,l,h,d,_,w,D){t.cancelPendingCommit=null;do Fu();while(tn!==0);if((it&6)!==0)throw Error(i(327));if(r!==null){if(r===t.current)throw Error(i(177));if(d=r.lanes|r.childLanes,d|=jf,ni(t,s,d,_,w,D),t===Et&&(Be=Et=null,Ge=0),To=r,Ai=t,Pr=s,Hd=d,Fd=h,uv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,_S(ua,function(){return xv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,h=se.p,se.p=2,_=it,it|=4;try{lS(t,r,s)}finally{it=_,se.p=h,H.T=l}}tn=1,Tv(),wv(),Sv()}}function Tv(){if(tn===1){tn=0;var t=Ai,r=To,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var l=se.p;se.p=2;var h=it;it|=4;try{nv(r,t);var d=im,_=ly(t.containerInfo),w=d.focusedElem,D=d.selectionRange;if(_!==w&&w&&w.ownerDocument&&oy(w.ownerDocument.documentElement,w)){if(D!==null&&If(w)){var B=D.start,W=D.end;if(W===void 0&&(W=B),"selectionStart"in w)w.selectionStart=B,w.selectionEnd=Math.min(W,w.value.length);else{var ee=w.ownerDocument||document,F=ee&&ee.defaultView||window;if(F.getSelection){var Y=F.getSelection(),ge=w.textContent.length,Ce=Math.min(D.start,ge),pt=D.end===void 0?Ce:Math.min(D.end,ge);!Y.extend&&Ce>pt&&(_=pt,pt=Ce,Ce=_);var P=sy(w,Ce),M=sy(w,pt);if(P&&M&&(Y.rangeCount!==1||Y.anchorNode!==P.node||Y.anchorOffset!==P.offset||Y.focusNode!==M.node||Y.focusOffset!==M.offset)){var z=ee.createRange();z.setStart(P.node,P.offset),Y.removeAllRanges(),Ce>pt?(Y.addRange(z),Y.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),Y.addRange(z))}}}}for(ee=[],Y=w;Y=Y.parentNode;)Y.nodeType===1&&ee.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ee.length;w++){var J=ee[w];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}nh=!!rm,im=rm=null}finally{it=h,se.p=l,H.T=s}}t.current=r,tn=2}}function wv(){if(tn===2){tn=0;var t=Ai,r=To,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var l=se.p;se.p=2;var h=it;it|=4;try{W0(t,r.alternate,r)}finally{it=h,se.p=l,H.T=s}}tn=3}}function Sv(){if(tn===4||tn===3){tn=0,Rn();var t=Ai,r=To,s=Pr,l=uv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?tn=5:(tn=0,To=Ai=null,Av(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Si=null),On(s),r=r.stateNode,Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(Lt,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=H.T,h=se.p,se.p=2,H.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var w=l[_];d(w.value,{componentStack:w.stack})}}finally{H.T=r,se.p=h}}(Pr&3)!==0&&Fu(),nr(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===Gd?Bl++:(Bl=0,Gd=t):Bl=0,ql(0)}}function Av(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Tl(r)))}function Fu(){return Tv(),wv(),Sv(),xv()}function xv(){if(tn!==5)return!1;var t=Ai,r=Hd;Hd=0;var s=On(Pr),l=H.T,h=se.p;try{se.p=32>s?32:s,H.T=null,s=Fd,Fd=null;var d=Ai,_=Pr;if(tn=0,To=Ai=null,Pr=0,(it&6)!==0)throw Error(i(331));var w=it;if(it|=4,ov(d.current),rv(d,d.current,_,s),it=w,ql(0,!1),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(Lt,d)}catch{}return!0}finally{se.p=h,H.T=l,Av(t,r)}}function Nv(t,r,s){r=ya(s,r),r=wd(t.stateNode,r,2),t=vi(t,r,2),t!==null&&(Wn(t,2),nr(t))}function ct(t,r,s){if(t.tag===3)Nv(t,t,s);else for(;r!==null;){if(r.tag===3){Nv(r,t,s);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Si===null||!Si.has(l))){t=ya(s,t),s=C0(2),l=vi(r,s,2),l!==null&&(R0(s,l,r,t),Wn(l,2),nr(l));break}}r=r.return}}function Qd(t,r,s){var l=t.pingCache;if(l===null){l=t.pingCache=new hS;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(s)||(zd=!0,h.add(s),t=gS.bind(null,t,r,s),r.then(t,t))}function gS(t,r,s){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Et===t&&(Ge&s)===s&&(Pt===4||Pt===3&&(Ge&62914560)===Ge&&300>Dt()-Lu?(it&2)===0&&wo(t,0):Bd|=s,Eo===Ge&&(Eo=0)),nr(t)}function Cv(t,r){r===0&&(r=on()),t=ds(t,r),t!==null&&(Wn(t,r),nr(t))}function yS(t){var r=t.memoizedState,s=0;r!==null&&(s=r.retryLane),Cv(t,s)}function vS(t,r){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(r),Cv(t,s)}function _S(t,r){return yt(t,r)}var Gu=null,Ao=null,Kd=!1,$u=!1,Xd=!1,Ni=0;function nr(t){t!==Ao&&t.next===null&&(Ao===null?Gu=Ao=t:Ao=Ao.next=t),$u=!0,Kd||(Kd=!0,ES())}function ql(t,r){if(!Xd&&$u){Xd=!0;do for(var s=!1,l=Gu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-vt(42|t)+1)-1,d&=h&~(_&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,Ov(l,d))}else d=Ge,d=bt(l,l===Et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||sn(l,d)||(s=!0,Ov(l,d));l=l.next}while(s);Xd=!1}}function bS(){Rv()}function Rv(){$u=Kd=!1;var t=0;Ni!==0&&DS()&&(t=Ni);for(var r=Dt(),s=null,l=Gu;l!==null;){var h=l.next,d=Iv(l,r);d===0?(l.next=null,s===null?Gu=h:s.next=h,h===null&&(Ao=s)):(s=l,(t!==0||(d&3)!==0)&&($u=!0)),l=h}tn!==0&&tn!==5||ql(t),Ni!==0&&(Ni=0)}function Iv(t,r){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-vt(d),w=1<<_,D=h[_];D===-1?((w&s)===0||(w&l)!==0)&&(h[_]=tt(w,r)):D<=r&&(t.expiredLanes|=w),d&=~w}if(r=Et,s=Ge,s=bt(t,t===r?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===r&&(lt===2||lt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&en(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||sn(t,s)){if(r=s&-s,r===t.callbackPriority)return r;switch(l!==null&&en(l),On(s)){case 2:case 8:s=yr;break;case 32:s=ua;break;case 268435456:s=Ba;break;default:s=ua}return l=Dv.bind(null,t),s=yt(s,l),t.callbackPriority=r,t.callbackNode=s,r}return l!==null&&l!==null&&en(l),t.callbackPriority=2,t.callbackNode=null,2}function Dv(t,r){if(tn!==0&&tn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Fu()&&t.callbackNode!==s)return null;var l=Ge;return l=bt(t,t===Et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(fv(t,l,r),Iv(t,Dt()),t.callbackNode!=null&&t.callbackNode===s?Dv.bind(null,t):null)}function Ov(t,r){if(Fu())return null;fv(t,r,!0)}function ES(){kS(function(){(it&6)!==0?yt(gr,bS):Rv()})}function Wd(){if(Ni===0){var t=co;t===0&&(t=Dn,Dn<<=1,(Dn&261888)===0&&(Dn=256)),Ni=t}return Ni}function kv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Qs(""+t)}function Mv(t,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,t.id&&s.setAttribute("form",t.id),r.parentNode.insertBefore(s,r),t=new FormData(t),s.parentNode.removeChild(s),t}function TS(t,r,s,l,h){if(r==="submit"&&s&&s.stateNode===h){var d=kv((h[He]||null).action),_=l.submitter;_&&(r=(r=_[He]||null)?kv(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var w=new Ka("action","action",null,l,h);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ni!==0){var D=_?Mv(h,_):new FormData(h);yd(s,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(w.preventDefault(),D=_?Mv(h,_):new FormData(h),yd(s,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var Jd=0;Jd<Mf.length;Jd++){var Zd=Mf[Jd],wS=Zd.toLowerCase(),SS=Zd[0].toUpperCase()+Zd.slice(1);ka(wS,"on"+SS)}ka(hy,"onAnimationEnd"),ka(fy,"onAnimationIteration"),ka(dy,"onAnimationStart"),ka("dblclick","onDoubleClick"),ka("focusin","onFocus"),ka("focusout","onBlur"),ka(zw,"onTransitionRun"),ka(Bw,"onTransitionStart"),ka(qw,"onTransitionCancel"),ka(my,"onTransitionEnd"),Ga("onMouseEnter",["mouseout","mouseover"]),Ga("onMouseLeave",["mouseout","mouseover"]),Ga("onPointerEnter",["pointerout","pointerover"]),Ga("onPointerLeave",["pointerout","pointerover"]),Fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hl));function jv(t,r){r=(r&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var w=l[_],D=w.instance,B=w.currentTarget;if(w=w.listener,D!==d&&h.isPropagationStopped())break e;d=w,h.currentTarget=B;try{d(h)}catch(W){ou(W)}h.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(w=l[_],D=w.instance,B=w.currentTarget,w=w.listener,D!==d&&h.isPropagationStopped())break e;d=w,h.currentTarget=B;try{d(h)}catch(W){ou(W)}h.currentTarget=null,d=D}}}}function qe(t,r){var s=r[Ne];s===void 0&&(s=r[Ne]=new Set);var l=t+"__bubble";s.has(l)||(Vv(r,t,2,!1),s.add(l))}function em(t,r,s){var l=0;r&&(l|=4),Vv(s,t,l,r)}var Yu="_reactListening"+Math.random().toString(36).slice(2);function tm(t){if(!t[Yu]){t[Yu]=!0,tl.forEach(function(s){s!=="selectionchange"&&(AS.has(s)||em(s,!1,t),em(s,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Yu]||(r[Yu]=!0,em("selectionchange",!1,r))}}function Vv(t,r,s,l){switch(h_(r)){case 2:var h=ZS;break;case 8:h=eA;break;default:h=gm}s=h.bind(null,r,s,t),h=void 0,!is||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,s,{capture:!0,passive:h}):t.addEventListener(r,s,!0):h!==void 0?t.addEventListener(r,s,{passive:h}):t.addEventListener(r,s,!1)}function nm(t,r,s,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var w=l.stateNode.containerInfo;if(w===h)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;w!==null;){if(_=jn(w),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue e}w=w.parentNode}}l=l.return}li(function(){var B=d,W=da(s),ee=[];e:{var F=py.get(t);if(F!==void 0){var Y=Ka,ge=t;switch(t){case"keypress":if(os(s)===0)break e;case"keydown":case"keyup":Y=ru;break;case"focusin":ge="focus",Y=cs;break;case"focusout":ge="blur",Y=cs;break;case"beforeblur":case"afterblur":Y=cs;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Kc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=v;break;case hy:case fy:case dy:Y=Wc;break;case my:Y=S;break;case"scroll":case"scrollend":Y=dl;break;case"wheel":Y=$;break;case"copy":case"cut":case"paste":Y=Jc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=wr;break;case"toggle":case"beforetoggle":Y=Pe}var Ce=(r&4)!==0,pt=!Ce&&(t==="scroll"||t==="scrollend"),P=Ce?F!==null?F+"Capture":null:F;Ce=[];for(var M=B,z;M!==null;){var J=M;if(z=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||z===null||P===null||(J=Ra(M,P),J!=null&&Ce.push(Fl(M,J,z))),pt)break;M=M.return}0<Ce.length&&(F=new Y(F,ge,null,s,W),ee.push({event:F,listeners:Ce}))}}if((r&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",F&&s!==ul&&(ge=s.relatedTarget||s.fromElement)&&(jn(ge)||ge[Fe]))break e;if((Y||F)&&(F=W.window===W?W:(F=W.ownerDocument)?F.defaultView||F.parentWindow:window,Y?(ge=s.relatedTarget||s.toElement,Y=B,ge=ge?jn(ge):null,ge!==null&&(pt=c(ge),Ce=ge.tag,ge!==pt||Ce!==5&&Ce!==27&&Ce!==6)&&(ge=null)):(Y=null,ge=B),Y!==ge)){if(Ce=ml,J="onMouseLeave",P="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Ce=wr,J="onPointerLeave",P="onPointerEnter",M="pointer"),pt=Y==null?F:Vn(Y),z=ge==null?F:Vn(ge),F=new Ce(J,M+"leave",Y,s,W),F.target=pt,F.relatedTarget=z,J=null,jn(W)===B&&(Ce=new Ce(P,M+"enter",ge,s,W),Ce.target=z,Ce.relatedTarget=pt,J=Ce),pt=J,Y&&ge)t:{for(Ce=xS,P=Y,M=ge,z=0,J=P;J;J=Ce(J))z++;J=0;for(var we=M;we;we=Ce(we))J++;for(;0<z-J;)P=Ce(P),z--;for(;0<J-z;)M=Ce(M),J--;for(;z--;){if(P===M||M!==null&&P===M.alternate){Ce=P;break t}P=Ce(P),M=Ce(M)}Ce=null}else Ce=null;Y!==null&&Pv(ee,F,Y,Ce,!1),ge!==null&&pt!==null&&Pv(ee,pt,ge,Ce,!0)}}e:{if(F=B?Vn(B):window,Y=F.nodeName&&F.nodeName.toLowerCase(),Y==="select"||Y==="input"&&F.type==="file")var nt=ey;else if(Jg(F))if(ty)nt=Pw;else{nt=jw;var _e=Mw}else Y=F.nodeName,!Y||Y.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?B&&Ys(B.elementType)&&(nt=ey):nt=Vw;if(nt&&(nt=nt(t,B))){Zg(ee,nt,s,W);break e}_e&&_e(t,F,B),t==="focusout"&&B&&F.type==="number"&&B.memoizedProps.value!=null&&ol(F,"number",F.value)}switch(_e=B?Vn(B):window,t){case"focusin":(Jg(_e)||_e.contentEditable==="true")&&(to=_e,Df=B,_l=null);break;case"focusout":_l=Df=to=null;break;case"mousedown":Of=!0;break;case"contextmenu":case"mouseup":case"dragend":Of=!1,cy(ee,s,W);break;case"selectionchange":if(Uw)break;case"keydown":case"keyup":cy(ee,s,W)}var Ue;if(rt)e:{switch(t){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else eo?us(t,s)&&($e="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&($e="onCompositionStart");$e&&(Ja&&s.locale!=="ko"&&(eo||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&eo&&(Ue=fl()):(Qa=W,hl="value"in Qa?Qa.value:Qa.textContent,eo=!0)),_e=Qu(B,$e),0<_e.length&&($e=new Wa($e,t,null,s,W),ee.push({event:$e,listeners:_e}),Ue?$e.data=Ue:(Ue=Zs(s),Ue!==null&&($e.data=Ue)))),(Ue=pa?Iw(t,s):Dw(t,s))&&($e=Qu(B,"onBeforeInput"),0<$e.length&&(_e=new Wa("onBeforeInput","beforeinput",null,s,W),ee.push({event:_e,listeners:$e}),_e.data=Ue)),TS(ee,t,B,s,W)}jv(ee,r)})}function Fl(t,r,s){return{instance:t,listener:r,currentTarget:s}}function Qu(t,r){for(var s=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ra(t,s),h!=null&&l.unshift(Fl(t,h,d)),h=Ra(t,r),h!=null&&l.push(Fl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function xS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Pv(t,r,s,l,h){for(var d=r._reactName,_=[];s!==null&&s!==l;){var w=s,D=w.alternate,B=w.stateNode;if(w=w.tag,D!==null&&D===l)break;w!==5&&w!==26&&w!==27||B===null||(D=B,h?(B=Ra(s,d),B!=null&&_.unshift(Fl(s,B,D))):h||(B=Ra(s,d),B!=null&&_.push(Fl(s,B,D)))),s=s.return}_.length!==0&&t.push({event:r,listeners:_})}var NS=/\r\n?/g,CS=/\u0000|\uFFFD/g;function Lv(t){return(typeof t=="string"?t:""+t).replace(NS,`
`).replace(CS,"")}function Uv(t,r){return r=Lv(r),Lv(t)===r}function mt(t,r,s,l,h,d){switch(s){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Bn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Bn(t,""+l);break;case"className":ea(t,"class",l);break;case"tabIndex":ea(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ea(t,s,l);break;case"style":cl(t,l,d);break;case"data":if(r!=="object"){ea(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Qs(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(r!=="input"&&mt(t,r,"name",h.name,h,null),mt(t,r,"formEncType",h.formEncType,h,null),mt(t,r,"formMethod",h.formMethod,h,null),mt(t,r,"formTarget",h.formTarget,h,null)):(mt(t,r,"encType",h.encType,h,null),mt(t,r,"method",h.method,h,null),mt(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Qs(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Ca);break;case"onScroll":l!=null&&qe("scroll",t);break;case"onScrollEnd":l!=null&&qe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(i(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Qs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":qe("beforetoggle",t),qe("toggle",t),Gs(t,"popover",l);break;case"xlinkActuate":$t(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":$t(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":$t(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":$t(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":$t(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":$t(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":$t(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":$t(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":$t(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Gs(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Qc.get(s)||s,Gs(t,s,l))}}function am(t,r,s,l,h,d){switch(s){case"style":cl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(i(60));t.innerHTML=s}}break;case"children":typeof l=="string"?Bn(t,l):(typeof l=="number"||typeof l=="bigint")&&Bn(t,""+l);break;case"onScroll":l!=null&&qe("scroll",t);break;case"onScrollEnd":l!=null&&qe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ca);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nl.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),r=s.slice(2,h?s.length-7:void 0),d=t[He]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(r,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Gs(t,s,l)}}}function pn(t,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",t),qe("load",t);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var _=s[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:mt(t,r,d,_,s,null)}}h&&mt(t,r,"srcSet",s.srcSet,s,null),l&&mt(t,r,"src",s.src,s,null);return;case"input":qe("invalid",t);var w=d=_=h=null,D=null,B=null;for(l in s)if(s.hasOwnProperty(l)){var W=s[l];if(W!=null)switch(l){case"name":h=W;break;case"type":_=W;break;case"checked":D=W;break;case"defaultChecked":B=W;break;case"value":d=W;break;case"defaultValue":w=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,r));break;default:mt(t,r,l,W,s,null)}}Gc(t,d,w,D,B,_,h,!1);return;case"select":qe("invalid",t),l=_=d=null;for(h in s)if(s.hasOwnProperty(h)&&(w=s[h],w!=null))switch(h){case"value":d=w;break;case"defaultValue":_=w;break;case"multiple":l=w;default:mt(t,r,h,w,s,null)}r=d,s=_,t.multiple=!!l,r!=null?ri(t,!!l,r,!1):s!=null&&ri(t,!!l,s,!0);return;case"textarea":qe("invalid",t),d=h=l=null;for(_ in s)if(s.hasOwnProperty(_)&&(w=s[_],w!=null))switch(_){case"value":l=w;break;case"defaultValue":h=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:mt(t,r,_,w,s,null)}ii(t,l,h,d);return;case"option":for(D in s)s.hasOwnProperty(D)&&(l=s[D],l!=null)&&(D==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":mt(t,r,D,l,s,null));return;case"dialog":qe("beforetoggle",t),qe("toggle",t),qe("cancel",t),qe("close",t);break;case"iframe":case"object":qe("load",t);break;case"video":case"audio":for(l=0;l<Hl.length;l++)qe(Hl[l],t);break;case"image":qe("error",t),qe("load",t);break;case"details":qe("toggle",t);break;case"embed":case"source":case"link":qe("error",t),qe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in s)if(s.hasOwnProperty(B)&&(l=s[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:mt(t,r,B,l,s,null)}return;default:if(Ys(r)){for(W in s)s.hasOwnProperty(W)&&(l=s[W],l!==void 0&&am(t,r,W,l,s,void 0));return}}for(w in s)s.hasOwnProperty(w)&&(l=s[w],l!=null&&mt(t,r,w,l,s,null))}function RS(t,r,s,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,w=null,D=null,B=null,W=null;for(Y in s){var ee=s[Y];if(s.hasOwnProperty(Y)&&ee!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":D=ee;default:l.hasOwnProperty(Y)||mt(t,r,Y,null,l,ee)}}for(var F in l){var Y=l[F];if(ee=s[F],l.hasOwnProperty(F)&&(Y!=null||ee!=null))switch(F){case"type":d=Y;break;case"name":h=Y;break;case"checked":B=Y;break;case"defaultChecked":W=Y;break;case"value":_=Y;break;case"defaultValue":w=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,r));break;default:Y!==ee&&mt(t,r,F,Y,l,ee)}}$s(t,_,w,D,B,W,d,h);return;case"select":Y=_=w=F=null;for(d in s)if(D=s[d],s.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":Y=D;default:l.hasOwnProperty(d)||mt(t,r,d,null,l,D)}for(h in l)if(d=l[h],D=s[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":F=d;break;case"defaultValue":w=d;break;case"multiple":_=d;default:d!==D&&mt(t,r,h,d,l,D)}r=w,s=_,l=Y,F!=null?ri(t,!!s,F,!1):!!l!=!!s&&(r!=null?ri(t,!!s,r,!0):ri(t,!!s,s?[]:"",!1));return;case"textarea":Y=F=null;for(w in s)if(h=s[w],s.hasOwnProperty(w)&&h!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:mt(t,r,w,null,l,h)}for(_ in l)if(h=l[_],d=s[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":F=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==d&&mt(t,r,_,h,l,d)}$c(t,F,Y);return;case"option":for(var ge in s)F=s[ge],s.hasOwnProperty(ge)&&F!=null&&!l.hasOwnProperty(ge)&&(ge==="selected"?t.selected=!1:mt(t,r,ge,null,l,F));for(D in l)F=l[D],Y=s[D],l.hasOwnProperty(D)&&F!==Y&&(F!=null||Y!=null)&&(D==="selected"?t.selected=F&&typeof F!="function"&&typeof F!="symbol":mt(t,r,D,F,l,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in s)F=s[Ce],s.hasOwnProperty(Ce)&&F!=null&&!l.hasOwnProperty(Ce)&&mt(t,r,Ce,null,l,F);for(B in l)if(F=l[B],Y=s[B],l.hasOwnProperty(B)&&F!==Y&&(F!=null||Y!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(137,r));break;default:mt(t,r,B,F,l,Y)}return;default:if(Ys(r)){for(var pt in s)F=s[pt],s.hasOwnProperty(pt)&&F!==void 0&&!l.hasOwnProperty(pt)&&am(t,r,pt,void 0,l,F);for(W in l)F=l[W],Y=s[W],!l.hasOwnProperty(W)||F===Y||F===void 0&&Y===void 0||am(t,r,W,F,l,Y);return}}for(var P in s)F=s[P],s.hasOwnProperty(P)&&F!=null&&!l.hasOwnProperty(P)&&mt(t,r,P,null,l,F);for(ee in l)F=l[ee],Y=s[ee],!l.hasOwnProperty(ee)||F===Y||F==null&&Y==null||mt(t,r,ee,F,l,Y)}function zv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function IS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],d=h.transferSize,_=h.initiatorType,w=h.duration;if(d&&w&&zv(_)){for(_=0,w=h.responseEnd,l+=1;l<s.length;l++){var D=s[l],B=D.startTime;if(B>w)break;var W=D.transferSize,ee=D.initiatorType;W&&zv(ee)&&(D=D.responseEnd,_+=W*(D<w?1:(w-B)/(D-B)))}if(--l,r+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var rm=null,im=null;function Ku(t){return t.nodeType===9?t:t.ownerDocument}function Bv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function sm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var om=null;function DS(){var t=window.event;return t&&t.type==="popstate"?t===om?!1:(om=t,!0):(om=null,!1)}var Hv=typeof setTimeout=="function"?setTimeout:void 0,OS=typeof clearTimeout=="function"?clearTimeout:void 0,Fv=typeof Promise=="function"?Promise:void 0,kS=typeof queueMicrotask=="function"?queueMicrotask:typeof Fv<"u"?function(t){return Fv.resolve(null).then(t).catch(MS)}:Hv;function MS(t){setTimeout(function(){throw t})}function Ci(t){return t==="head"}function Gv(t,r){var s=r,l=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(h),Ro(r);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Gl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Gl(s);for(var d=s.firstChild;d;){var _=d.nextSibling,w=d.nodeName;d[Tt]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=_}}else s==="body"&&Gl(t.ownerDocument.body);s=h}while(s);Ro(r)}function $v(t,r){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?r?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(r?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function lm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":lm(s),Mn(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function jS(t,r,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Tt])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Ta(t.nextSibling),t===null)break}return null}function VS(t,r,s){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Ta(t.nextSibling),t===null))return null;return t}function Yv(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Ta(t.nextSibling),t===null))return null;return t}function cm(t){return t.data==="$?"||t.data==="$~"}function um(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function PS(t,r){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||s.readyState!=="loading")r();else{var l=function(){r(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ta(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var hm=null;function Qv(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(r===0)return Ta(t.nextSibling);r--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||r++}t=t.nextSibling}return null}function Kv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(r===0)return t;r--}else s!=="/$"&&s!=="/&"||r++}t=t.previousSibling}return null}function Xv(t,r,s){switch(r=Ku(s),t){case"html":if(t=r.documentElement,!t)throw Error(i(452));return t;case"head":if(t=r.head,!t)throw Error(i(453));return t;case"body":if(t=r.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Gl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Mn(t)}var wa=new Map,Wv=new Set;function Xu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Lr=se.d;se.d={f:LS,r:US,D:zS,C:BS,L:qS,m:HS,X:GS,S:FS,M:$S};function LS(){var t=Lr.f(),r=Bu();return t||r}function US(t){var r=wn(t);r!==null&&r.tag===5&&r.type==="form"?m0(r):Lr.r(t)}var xo=typeof document>"u"?null:document;function Jv(t,r,s){var l=xo;if(l&&typeof r=="string"&&r){var h=zn(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Wv.has(h)||(Wv.add(h),t={rel:t,crossOrigin:s,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),pn(r,"link",t),Gt(r),l.head.appendChild(r)))}}function zS(t){Lr.D(t),Jv("dns-prefetch",t,null)}function BS(t,r){Lr.C(t,r),Jv("preconnect",t,r)}function qS(t,r,s){Lr.L(t,r,s);var l=xo;if(l&&t&&r){var h='link[rel="preload"][as="'+zn(r)+'"]';r==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+zn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+zn(s.imageSizes)+'"]')):h+='[href="'+zn(t)+'"]';var d=h;switch(r){case"style":d=No(t);break;case"script":d=Co(t)}wa.has(d)||(t=T({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:t,as:r},s),wa.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector($l(d))||r==="script"&&l.querySelector(Yl(d))||(r=l.createElement("link"),pn(r,"link",t),Gt(r),l.head.appendChild(r)))}}function HS(t,r){Lr.m(t,r);var s=xo;if(s&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+zn(l)+'"][href="'+zn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Co(t)}if(!wa.has(d)&&(t=T({rel:"modulepreload",href:t},r),wa.set(d,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Yl(d)))return}l=s.createElement("link"),pn(l,"link",t),Gt(l),s.head.appendChild(l)}}}function FS(t,r,s){Lr.S(t,r,s);var l=xo;if(l&&t){var h=Ha(l).hoistableStyles,d=No(t);r=r||"default";var _=h.get(d);if(!_){var w={loading:0,preload:null};if(_=l.querySelector($l(d)))w.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":r},s),(s=wa.get(d))&&fm(t,s);var D=_=l.createElement("link");Gt(D),pn(D,"link",t),D._p=new Promise(function(B,W){D.onload=B,D.onerror=W}),D.addEventListener("load",function(){w.loading|=1}),D.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Wu(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:w},h.set(d,_)}}}function GS(t,r){Lr.X(t,r);var s=xo;if(s&&t){var l=Ha(s).hoistableScripts,h=Co(t),d=l.get(h);d||(d=s.querySelector(Yl(h)),d||(t=T({src:t,async:!0},r),(r=wa.get(h))&&dm(t,r),d=s.createElement("script"),Gt(d),pn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function $S(t,r){Lr.M(t,r);var s=xo;if(s&&t){var l=Ha(s).hoistableScripts,h=Co(t),d=l.get(h);d||(d=s.querySelector(Yl(h)),d||(t=T({src:t,async:!0,type:"module"},r),(r=wa.get(h))&&dm(t,r),d=s.createElement("script"),Gt(d),pn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Zv(t,r,s,l){var h=(h=ie.current)?Xu(h):null;if(!h)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=No(s.href),s=Ha(h).hoistableStyles,l=s.get(r),l||(l={type:"style",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=No(s.href);var d=Ha(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector($l(t)))&&!d._p&&(_.instance=d,_.state.loading=5),wa.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},wa.set(t,s),d||YS(h,t,s,_.state))),r&&l===null)throw Error(i(528,""));return _}if(r&&l!==null)throw Error(i(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Co(s),s=Ha(h).hoistableScripts,l=s.get(r),l||(l={type:"script",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function No(t){return'href="'+zn(t)+'"'}function $l(t){return'link[rel="stylesheet"]['+t+"]"}function e_(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function YS(t,r,s,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),pn(r,"link",s),Gt(r),t.head.appendChild(r))}function Co(t){return'[src="'+zn(t)+'"]'}function Yl(t){return"script[async]"+t}function t_(t,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+zn(s.href)+'"]');if(l)return r.instance=l,Gt(l),l;var h=T({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Gt(l),pn(l,"style",h),Wu(l,s.precedence,t),r.instance=l;case"stylesheet":h=No(s.href);var d=t.querySelector($l(h));if(d)return r.state.loading|=4,r.instance=d,Gt(d),d;l=e_(s),(h=wa.get(h))&&fm(l,h),d=(t.ownerDocument||t).createElement("link"),Gt(d);var _=d;return _._p=new Promise(function(w,D){_.onload=w,_.onerror=D}),pn(d,"link",l),r.state.loading|=4,Wu(d,s.precedence,t),r.instance=d;case"script":return d=Co(s.src),(h=t.querySelector(Yl(d)))?(r.instance=h,Gt(h),h):(l=s,(h=wa.get(d))&&(l=T({},s),dm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Gt(h),pn(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Wu(l,s.precedence,t));return r.instance}function Wu(t,r,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var w=l[_];if(w.dataset.precedence===r)d=w;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(t,r.firstChild))}function fm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function dm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Ju=null;function n_(t,r,s){if(Ju===null){var l=new Map,h=Ju=new Map;h.set(s,l)}else h=Ju,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var d=s[h];if(!(d[Tt]||d[Re]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=t+_;var w=l.get(_);w?w.push(d):l.set(_,[d])}}return l}function a_(t,r,s){t=t.ownerDocument||t,t.head.insertBefore(s,r==="title"?t.querySelector("head > title"):null)}function QS(t,r,s){if(s===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(t=r.disabled,typeof r.precedence=="string"&&t==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function r_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function KS(t,r,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=No(l.href),d=r.querySelector($l(h));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=Zu.bind(t),r.then(t,t)),s.state.loading|=4,s.instance=d,Gt(d);return}d=r.ownerDocument||r,l=e_(l),(h=wa.get(h))&&fm(l,h),d=d.createElement("link"),Gt(d);var _=d;_._p=new Promise(function(w,D){_.onload=w,_.onerror=D}),pn(d,"link",l),s.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Zu.bind(t),r.addEventListener("load",s),r.addEventListener("error",s))}}var mm=0;function XS(t,r){return t.stylesheets&&t.count===0&&th(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&th(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+r);0<t.imgBytes&&mm===0&&(mm=62500*IS());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&th(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>mm?50:800)+r);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Zu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)th(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var eh=null;function th(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,eh=new Map,r.forEach(WS,t),eh=null,Zu.call(t))}function WS(t,r){if(!(r.state.loading&4)){var s=eh.get(t);if(s)var l=s.get(null);else{s=new Map,eh.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),l=_)}l&&s.set(null,l)}h=r.instance,_=h.getAttribute("data-precedence"),d=s.get(_)||l,d===l&&s.set(null,h),s.set(_,h),this.count++,l=Zu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Ql={$$typeof:le,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function JS(t,r,s,l,h,d,_,w,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Un(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Un(0),this.hiddenUpdates=Un(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function i_(t,r,s,l,h,d,_,w,D,B,W,ee){return t=new JS(t,r,s,_,D,B,W,ee,w),r=1,d===!0&&(r|=24),d=na(3,null,null,r),t.current=d,d.stateNode=t,r=Yf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:r},Wf(d),t}function s_(t){return t?(t=ro,t):ro}function o_(t,r,s,l,h,d){h=s_(h),l.context===null?l.context=h:l.pendingContext=h,l=yi(r),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=vi(t,l,r),s!==null&&($n(s,t,r),xl(s,t,r))}function l_(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function pm(t,r){l_(t,r),(t=t.alternate)&&l_(t,r)}function c_(t){if(t.tag===13||t.tag===31){var r=ds(t,67108864);r!==null&&$n(r,t,67108864),pm(t,67108864)}}function u_(t){if(t.tag===13||t.tag===31){var r=oa();r=Zn(r);var s=ds(t,r);s!==null&&$n(s,t,r),pm(t,r)}}var nh=!0;function ZS(t,r,s,l){var h=H.T;H.T=null;var d=se.p;try{se.p=2,gm(t,r,s,l)}finally{se.p=d,H.T=h}}function eA(t,r,s,l){var h=H.T;H.T=null;var d=se.p;try{se.p=8,gm(t,r,s,l)}finally{se.p=d,H.T=h}}function gm(t,r,s,l){if(nh){var h=ym(l);if(h===null)nm(t,r,l,ah,s),f_(t,l);else if(nA(h,t,r,s,l))l.stopPropagation();else if(f_(t,l),r&4&&-1<tA.indexOf(t)){for(;h!==null;){var d=wn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=_t(d.pendingLanes);if(_!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;_;){var D=1<<31-vt(_);w.entanglements[1]|=D,_&=~D}nr(d),(it&6)===0&&(Uu=Dt()+500,ql(0))}}break;case 31:case 13:w=ds(d,2),w!==null&&$n(w,d,2),Bu(),pm(d,2)}if(d=ym(l),d===null&&nm(t,r,l,ah,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else nm(t,r,l,null,s)}}function ym(t){return t=da(t),vm(t)}var ah=null;function vm(t){if(ah=null,t=jn(t),t!==null){var r=c(t);if(r===null)t=null;else{var s=r.tag;if(s===13){if(t=f(r),t!==null)return t;t=null}else if(s===31){if(t=m(r),t!==null)return t;t=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return ah=t,null}function h_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(In()){case gr:return 2;case yr:return 8;case ua:case vr:return 32;case Ba:return 268435456;default:return 32}default:return 32}}var _m=!1,Ri=null,Ii=null,Di=null,Kl=new Map,Xl=new Map,Oi=[],tA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function f_(t,r){switch(t){case"focusin":case"focusout":Ri=null;break;case"dragenter":case"dragleave":Ii=null;break;case"mouseover":case"mouseout":Di=null;break;case"pointerover":case"pointerout":Kl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xl.delete(r.pointerId)}}function Wl(t,r,s,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=wn(r),r!==null&&c_(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function nA(t,r,s,l,h){switch(r){case"focusin":return Ri=Wl(Ri,t,r,s,l,h),!0;case"dragenter":return Ii=Wl(Ii,t,r,s,l,h),!0;case"mouseover":return Di=Wl(Di,t,r,s,l,h),!0;case"pointerover":var d=h.pointerId;return Kl.set(d,Wl(Kl.get(d)||null,t,r,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Xl.set(d,Wl(Xl.get(d)||null,t,r,s,l,h)),!0}return!1}function d_(t){var r=jn(t.target);if(r!==null){var s=c(r);if(s!==null){if(r=s.tag,r===13){if(r=f(s),r!==null){t.blockedOn=r,kn(t.priority,function(){u_(s)});return}}else if(r===31){if(r=m(s),r!==null){t.blockedOn=r,kn(t.priority,function(){u_(s)});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rh(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var s=ym(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);ul=l,s.target.dispatchEvent(l),ul=null}else return r=wn(s),r!==null&&c_(r),t.blockedOn=s,!1;r.shift()}return!0}function m_(t,r,s){rh(t)&&s.delete(r)}function aA(){_m=!1,Ri!==null&&rh(Ri)&&(Ri=null),Ii!==null&&rh(Ii)&&(Ii=null),Di!==null&&rh(Di)&&(Di=null),Kl.forEach(m_),Xl.forEach(m_)}function ih(t,r){t.blockedOn===r&&(t.blockedOn=null,_m||(_m=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,aA)))}var sh=null;function p_(t){sh!==t&&(sh=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){sh===t&&(sh=null);for(var r=0;r<t.length;r+=3){var s=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(vm(l||s)===null)continue;break}var d=wn(s);d!==null&&(t.splice(r,3),r-=3,yd(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Ro(t){function r(D){return ih(D,t)}Ri!==null&&ih(Ri,t),Ii!==null&&ih(Ii,t),Di!==null&&ih(Di,t),Kl.forEach(r),Xl.forEach(r);for(var s=0;s<Oi.length;s++){var l=Oi[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Oi.length&&(s=Oi[0],s.blockedOn===null);)d_(s),s.blockedOn===null&&Oi.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],_=h[He]||null;if(typeof d=="function")_||p_(s);else if(_){var w=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[He]||null)w=_.formAction;else if(vm(h)!==null)continue}else w=_.action;typeof w=="function"?s[l+1]=w:(s.splice(l,3),l-=3),p_(s)}}}function g_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function r(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),h!==null&&(h(),h=null)}}}function bm(t){this._internalRoot=t}oh.prototype.render=bm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(i(409));var s=r.current,l=oa();o_(s,l,t,r,null,null)},oh.prototype.unmount=bm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;o_(t.current,2,null,t,null,null),Bu(),r[Fe]=null}};function oh(t){this._internalRoot=t}oh.prototype.unstable_scheduleHydration=function(t){if(t){var r=qa();t={blockedOn:null,target:t,priority:r};for(var s=0;s<Oi.length&&r!==0&&r<Oi[s].priority;s++);Oi.splice(s,0,t),s===0&&d_(t)}};var y_=e.version;if(y_!=="19.2.3")throw Error(i(527,y_,"19.2.3"));se.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=p(r),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var rA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lh.isDisabled&&lh.supportsFiber)try{Lt=lh.inject(rA),Ot=lh}catch{}}return Zl.createRoot=function(t,r){if(!o(t))throw Error(i(299));var s=!1,l="",h=S0,d=A0,_=x0;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=i_(t,1,!1,null,null,s,l,null,h,d,_,g_),t[Fe]=r.current,tm(t),new bm(r)},Zl.hydrateRoot=function(t,r,s){if(!o(t))throw Error(i(299));var l=!1,h="",d=S0,_=A0,w=x0,D=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.formState!==void 0&&(D=s.formState)),r=i_(t,1,!0,r,s??null,l,h,D,d,_,w,g_),r.context=s_(null),s=r.current,l=oa(),l=Zn(l),h=yi(l),h.callback=null,vi(s,h,l),s=l,r.current.lanes=s,Wn(r,s),nr(r),t[Fe]=r.current,tm(t),new oh(r)},Zl.version="19.2.3",Zl}var N_;function mA(){if(N_)return wm.exports;N_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),wm.exports=dA(),wm.exports}var pA=mA();const gA=Ab(pA),yA=()=>{};var C_={};const xb=function(a){const e=[];let n=0;for(let i=0;i<a.length;i++){let o=a.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<a.length&&(a.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},vA=function(a){const e=[];let n=0,i=0;for(;n<a.length;){const o=a[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const c=a[n++];e[i++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=a[n++],f=a[n++],m=a[n++],g=((o&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const c=a[n++],f=a[n++];e[i++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},Nb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<a.length;o+=3){const c=a[o],f=o+1<a.length,m=f?a[o+1]:0,g=o+2<a.length,p=g?a[o+2]:0,E=c>>2,T=(c&3)<<4|m>>4;let A=(m&15)<<2|p>>6,j=p&63;g||(j=64,f||(A=64)),i.push(n[E],n[T],n[A],n[j])}return i.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(xb(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):vA(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<a.length;){const c=n[a.charAt(o++)],m=o<a.length?n[a.charAt(o)]:0;++o;const p=o<a.length?n[a.charAt(o)]:64;++o;const T=o<a.length?n[a.charAt(o)]:64;if(++o,c==null||m==null||p==null||T==null)throw new _A;const A=c<<2|m>>4;if(i.push(A),p!==64){const j=m<<4&240|p>>2;if(i.push(j),T!==64){const G=p<<6&192|T;i.push(G)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class _A extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bA=function(a){const e=xb(a);return Nb.encodeByteArray(e,!0)},Ih=function(a){return bA(a).replace(/\./g,"")},Cb=function(a){try{return Nb.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function EA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const TA=()=>EA().__FIREBASE_DEFAULTS__,wA=()=>{if(typeof process>"u"||typeof C_>"u")return;const a=C_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},SA=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&Cb(a[1]);return e&&JSON.parse(e)},Jh=()=>{try{return yA()||TA()||wA()||SA()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},Rb=a=>Jh()?.emulatorHosts?.[a],Ib=a=>{const e=Rb(a);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Db=()=>Jh()?.config,Ob=a=>Jh()?.[`_${a}`];class AA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function Ls(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Bp(a){return(await fetch(a,{credentials:"include"})).ok}function xA(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Ih(JSON.stringify(n)),Ih(JSON.stringify(f)),""].join(".")}const oc={};function NA(){const a={prod:[],emulator:[]};for(const e of Object.keys(oc))oc[e]?a.emulator.push(e):a.prod.push(e);return a}function CA(a){let e=document.getElementById(a),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),n=!0),{created:n,element:e}}let R_=!1;function qp(a,e){if(typeof window>"u"||typeof document>"u"||!Ls(window.location.host)||oc[a]===e||oc[a]||R_)return;oc[a]=e;function n(A){return`__firebase__banner__${A}`}const i="__firebase__banner",c=NA().prod.length>0;function f(){const A=document.getElementById(i);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,j){A.setAttribute("width","24"),A.setAttribute("id",j),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function p(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{R_=!0,f()},A}function E(A,j){A.setAttribute("id",j),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=CA(i),j=n("text"),G=document.getElementById(j)||document.createElement("span"),Q=n("learnmore"),U=document.getElementById(Q)||document.createElement("a"),X=n("preprendIcon"),ae=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const le=A.element;m(le),E(U,Q);const he=p();g(ae,X),le.append(ae,G,U,he),document.body.appendChild(le)}c?(G.innerText="Preview backend disconnected.",ae.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ae.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function Cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cn())}function IA(){const a=Jh()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function OA(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function kA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MA(){const a=Cn();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function jA(){return!IA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VA(){try{return typeof indexedDB=="object"}catch{return!1}}function PA(){return new Promise((a,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),a(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const LA="FirebaseError";class Kr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=LA,Object.setPrototypeOf(this,Kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xc.prototype.create)}}class xc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?UA(c,i):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Kr(o,m,i)}}function UA(a,e){return a.replace(zA,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const zA=/\{\$([^}]+)}/g;function BA(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}function Os(a,e){if(a===e)return!0;const n=Object.keys(a),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const c=a[o],f=e[o];if(I_(c)&&I_(f)){if(!Os(c,f))return!1}else if(c!==f)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function I_(a){return a!==null&&typeof a=="object"}function Nc(a){const e=[];for(const[n,i]of Object.entries(a))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function ec(a){const e={};return a.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,c]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function tc(a){const e=a.indexOf("?");if(!e)return"";const n=a.indexOf("#",e);return a.substring(e,n>0?n:void 0)}function qA(a,e){const n=new HA(a,e);return n.subscribe.bind(n)}class HA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let o;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");FA(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:i},o.next===void 0&&(o.next=Nm),o.error===void 0&&(o.error=Nm),o.complete===void 0&&(o.complete=Nm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FA(a,e){if(typeof a!="object"||a===null)return!1;for(const n of e)if(n in a&&typeof a[n]=="function")return!0;return!1}function Nm(){}function kt(a){return a&&a._delegate?a._delegate:a}class Gi{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const xs="[DEFAULT]";class GA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new AA;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YA(e))try{this.getOrInitializeService({instanceIdentifier:xs})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});i.resolve(c)}catch{}}}}clearInstance(e=xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xs){return this.instances.has(e)}getOptions(e=xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);i===m&&f.resolve(o)}return o}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const c=this.instances.get(i);return c&&e(c,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:$A(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=xs){return this.component?this.component.multipleInstances?e:xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $A(a){return a===xs?void 0:a}function YA(a){return a.instantiationMode==="EAGER"}class QA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new GA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ye;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Ye||(Ye={}));const KA={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},XA=Ye.INFO,WA={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},JA=(a,e,...n)=>{if(e<a.logLevel)return;const i=new Date().toISOString(),o=WA[e];if(o)console[o](`[${i}]  ${a.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hp{constructor(e){this.name=e,this._logLevel=XA,this._logHandler=JA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const ZA=(a,e)=>e.some(n=>a instanceof n);let D_,O_;function e2(){return D_||(D_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function t2(){return O_||(O_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kb=new WeakMap,Xm=new WeakMap,Mb=new WeakMap,Cm=new WeakMap,Fp=new WeakMap;function n2(a){const e=new Promise((n,i)=>{const o=()=>{a.removeEventListener("success",c),a.removeEventListener("error",f)},c=()=>{n(Bi(a.result)),o()},f=()=>{i(a.error),o()};a.addEventListener("success",c),a.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&kb.set(n,a)}).catch(()=>{}),Fp.set(e,a),e}function a2(a){if(Xm.has(a))return;const e=new Promise((n,i)=>{const o=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",f),a.removeEventListener("abort",f)},c=()=>{n(),o()},f=()=>{i(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",c),a.addEventListener("error",f),a.addEventListener("abort",f)});Xm.set(a,e)}let Wm={get(a,e,n){if(a instanceof IDBTransaction){if(e==="done")return Xm.get(a);if(e==="objectStoreNames")return a.objectStoreNames||Mb.get(a);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bi(a[e])},set(a,e,n){return a[e]=n,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function r2(a){Wm=a(Wm)}function i2(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=a.call(Rm(this),e,...n);return Mb.set(i,e.sort?e.sort():[e]),Bi(i)}:t2().includes(a)?function(...e){return a.apply(Rm(this),e),Bi(kb.get(this))}:function(...e){return Bi(a.apply(Rm(this),e))}}function s2(a){return typeof a=="function"?i2(a):(a instanceof IDBTransaction&&a2(a),ZA(a,e2())?new Proxy(a,Wm):a)}function Bi(a){if(a instanceof IDBRequest)return n2(a);if(Cm.has(a))return Cm.get(a);const e=s2(a);return e!==a&&(Cm.set(a,e),Fp.set(e,a)),e}const Rm=a=>Fp.get(a);function o2(a,e,{blocked:n,upgrade:i,blocking:o,terminated:c}={}){const f=indexedDB.open(a,e),m=Bi(f);return i&&f.addEventListener("upgradeneeded",g=>{i(Bi(f.result),g.oldVersion,g.newVersion,Bi(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const l2=["get","getKey","getAll","getAllKeys","count"],c2=["put","add","delete","clear"],Im=new Map;function k_(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Im.get(e))return Im.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=c2.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||l2.includes(n)))return;const c=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let p=g.store;return i&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return Im.set(e,c),c}r2(a=>({...a,get:(e,n,i)=>k_(e,n)||a.get(e,n,i),has:(e,n)=>!!k_(e,n)||a.has(e,n)}));class u2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(h2(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function h2(a){return a.getComponent()?.type==="VERSION"}const Jm="@firebase/app",M_="0.14.6";const Fr=new Hp("@firebase/app"),f2="@firebase/app-compat",d2="@firebase/analytics-compat",m2="@firebase/analytics",p2="@firebase/app-check-compat",g2="@firebase/app-check",y2="@firebase/auth",v2="@firebase/auth-compat",_2="@firebase/database",b2="@firebase/data-connect",E2="@firebase/database-compat",T2="@firebase/functions",w2="@firebase/functions-compat",S2="@firebase/installations",A2="@firebase/installations-compat",x2="@firebase/messaging",N2="@firebase/messaging-compat",C2="@firebase/performance",R2="@firebase/performance-compat",I2="@firebase/remote-config",D2="@firebase/remote-config-compat",O2="@firebase/storage",k2="@firebase/storage-compat",M2="@firebase/firestore",j2="@firebase/ai",V2="@firebase/firestore-compat",P2="firebase",L2="12.6.0";const Zm="[DEFAULT]",U2={[Jm]:"fire-core",[f2]:"fire-core-compat",[m2]:"fire-analytics",[d2]:"fire-analytics-compat",[g2]:"fire-app-check",[p2]:"fire-app-check-compat",[y2]:"fire-auth",[v2]:"fire-auth-compat",[_2]:"fire-rtdb",[b2]:"fire-data-connect",[E2]:"fire-rtdb-compat",[T2]:"fire-fn",[w2]:"fire-fn-compat",[S2]:"fire-iid",[A2]:"fire-iid-compat",[x2]:"fire-fcm",[N2]:"fire-fcm-compat",[C2]:"fire-perf",[R2]:"fire-perf-compat",[I2]:"fire-rc",[D2]:"fire-rc-compat",[O2]:"fire-gcs",[k2]:"fire-gcs-compat",[M2]:"fire-fst",[V2]:"fire-fst-compat",[j2]:"fire-vertex","fire-js":"fire-js",[P2]:"fire-js-all"};const Dh=new Map,z2=new Map,ep=new Map;function j_(a,e){try{a.container.addComponent(e)}catch(n){Fr.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,n)}}function ks(a){const e=a.name;if(ep.has(e))return Fr.debug(`There were multiple attempts to register component ${e}.`),!1;ep.set(e,a);for(const n of Dh.values())j_(n,a);for(const n of z2.values())j_(n,a);return!0}function Zh(a,e){const n=a.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),a.container.getProvider(e)}function Qn(a){return a==null?!1:a.settings!==void 0}const B2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qi=new xc("app","Firebase",B2);class q2{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Gi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qi.create("app-deleted",{appName:this._name})}}const Qo=L2;function jb(a,e={}){let n=a;typeof e!="object"&&(e={name:e});const i={name:Zm,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw qi.create("bad-app-name",{appName:String(o)});if(n||(n=Db()),!n)throw qi.create("no-options");const c=Dh.get(o);if(c){if(Os(n,c.options)&&Os(i,c.config))return c;throw qi.create("duplicate-app",{appName:o})}const f=new QA(o);for(const g of ep.values())f.addComponent(g);const m=new q2(n,i,f);return Dh.set(o,m),m}function Gp(a=Zm){const e=Dh.get(a);if(!e&&a===Zm&&Db())return jb();if(!e)throw qi.create("no-app",{appName:a});return e}function sr(a,e,n){let i=U2[a]??a;n&&(i+=`-${n}`);const o=i.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const f=[`Unable to register library "${i}" with version "${e}":`];o&&f.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fr.warn(f.join(" "));return}ks(new Gi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const H2="firebase-heartbeat-database",F2=1,dc="firebase-heartbeat-store";let Dm=null;function Vb(){return Dm||(Dm=o2(H2,F2,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(dc)}catch(n){console.warn(n)}}}}).catch(a=>{throw qi.create("idb-open",{originalErrorMessage:a.message})})),Dm}async function G2(a){try{const n=(await Vb()).transaction(dc),i=await n.objectStore(dc).get(Pb(a));return await n.done,i}catch(e){if(e instanceof Kr)Fr.warn(e.message);else{const n=qi.create("idb-get",{originalErrorMessage:e?.message});Fr.warn(n.message)}}}async function V_(a,e){try{const i=(await Vb()).transaction(dc,"readwrite");await i.objectStore(dc).put(e,Pb(a)),await i.done}catch(n){if(n instanceof Kr)Fr.warn(n.message);else{const i=qi.create("idb-set",{originalErrorMessage:n?.message});Fr.warn(i.message)}}}function Pb(a){return`${a.name}!${a.options.appId}`}const $2=1024,Y2=30;class Q2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new X2(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=P_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>Y2){const o=W2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Fr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=P_(),{heartbeatsToSend:n,unsentEntries:i}=K2(this._heartbeatsCache.heartbeats),o=Ih(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Fr.warn(e),""}}}function P_(){return new Date().toISOString().substring(0,10)}function K2(a,e=$2){const n=[];let i=a.slice();for(const o of a){const c=n.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),L_(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),L_(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class X2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VA()?PA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await G2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return V_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return V_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function L_(a){return Ih(JSON.stringify({version:2,heartbeats:a})).length}function W2(a){if(a.length===0)return-1;let e=0,n=a[0].date;for(let i=1;i<a.length;i++)a[i].date<n&&(n=a[i].date,e=i);return e}function J2(a){ks(new Gi("platform-logger",e=>new u2(e),"PRIVATE")),ks(new Gi("heartbeat",e=>new Q2(e),"PRIVATE")),sr(Jm,M_,a),sr(Jm,M_,"esm2020"),sr("fire-js","")}J2("");function Lb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Z2=Lb,Ub=new xc("auth","Firebase",Lb());const Oh=new Hp("@firebase/auth");function ex(a,...e){Oh.logLevel<=Ye.WARN&&Oh.warn(`Auth (${Qo}): ${a}`,...e)}function _h(a,...e){Oh.logLevel<=Ye.ERROR&&Oh.error(`Auth (${Qo}): ${a}`,...e)}function Ua(a,...e){throw $p(a,...e)}function or(a,...e){return $p(a,...e)}function zb(a,e,n){const i={...Z2(),[e]:n};return new xc("auth","Firebase",i).create(e,{appName:a.name})}function lr(a){return zb(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $p(a,...e){if(typeof a!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=a.name),a._errorFactory.create(n,...i)}return Ub.create(a,...e)}function Ie(a,e,...n){if(!a)throw $p(e,...n)}function Br(a){const e="INTERNAL ASSERTION FAILED: "+a;throw _h(e),new Error(e)}function Gr(a,e){a||Br(e)}function tp(){return typeof self<"u"&&self.location?.href||""}function tx(){return U_()==="http:"||U_()==="https:"}function U_(){return typeof self<"u"&&self.location?.protocol||null}function nx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tx()||OA()||"connection"in navigator)?navigator.onLine:!0}function ax(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class Cc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Gr(n>e,"Short delay should be less than long delay!"),this.isMobile=RA()||kA()}get(){return nx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Yp(a,e){Gr(a.emulator,"Emulator should always be set here");const{url:n}=a.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Bb{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const ix=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sx=new Cc(3e4,6e4);function Xr(a,e){return a.tenantId&&!e.tenantId?{...e,tenantId:a.tenantId}:e}async function Wr(a,e,n,i,o={}){return qb(a,o,async()=>{let c={},f={};i&&(e==="GET"?f=i:c={body:JSON.stringify(i)});const m=Nc({key:a.config.apiKey,...f}).slice(1),g=await a._getAdditionalHeaders();g["Content-Type"]="application/json",a.languageCode&&(g["X-Firebase-Locale"]=a.languageCode);const p={method:e,headers:g,...c};return DA()||(p.referrerPolicy="no-referrer"),a.emulatorConfig&&Ls(a.emulatorConfig.host)&&(p.credentials="include"),Bb.fetch()(await Hb(a,a.config.apiHost,n,m),p)})}async function qb(a,e,n){a._canInitEmulator=!1;const i={...rx,...e};try{const o=new lx(a),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw ch(a,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const m=c.ok?f.errorMessage:f.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw ch(a,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw ch(a,"email-already-in-use",f);if(g==="USER_DISABLED")throw ch(a,"user-disabled",f);const E=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw zb(a,E,p);Ua(a,E)}}catch(o){if(o instanceof Kr)throw o;Ua(a,"network-request-failed",{message:String(o)})}}async function Rc(a,e,n,i,o={}){const c=await Wr(a,e,n,i,o);return"mfaPendingCredential"in c&&Ua(a,"multi-factor-auth-required",{_serverResponse:c}),c}async function Hb(a,e,n,i){const o=`${e}${n}?${i}`,c=a,f=c.config.emulator?Yp(a.config,o):`${a.config.apiScheme}://${o}`;return ix.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}function ox(a){switch(a){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class lx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(or(this.auth,"network-request-failed")),sx.get())})}}function ch(a,e,n){const i={appName:a.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=or(a,e,i);return o.customData._tokenResponse=n,o}function z_(a){return a!==void 0&&a.enterprise!==void 0}class cx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ox(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ux(a,e){return Wr(a,"GET","/v2/recaptchaConfig",Xr(a,e))}async function hx(a,e){return Wr(a,"POST","/v1/accounts:delete",e)}async function kh(a,e){return Wr(a,"POST","/v1/accounts:lookup",e)}function lc(a){if(a)try{const e=new Date(Number(a));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fx(a,e=!1){const n=kt(a),i=await n.getIdToken(e),o=Qp(i);Ie(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,f=c?.sign_in_provider;return{claims:o,token:i,authTime:lc(Om(o.auth_time)),issuedAtTime:lc(Om(o.iat)),expirationTime:lc(Om(o.exp)),signInProvider:f||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Om(a){return Number(a)*1e3}function Qp(a){const[e,n,i]=a.split(".");if(e===void 0||n===void 0||i===void 0)return _h("JWT malformed, contained fewer than 3 sections"),null;try{const o=Cb(n);return o?JSON.parse(o):(_h("Failed to decode base64 JWT payload"),null)}catch(o){return _h("Caught error parsing JWT payload as JSON",o?.toString()),null}}function B_(a){const e=Qp(a);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function mc(a,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Kr&&dx(i)&&a.auth.currentUser===a&&await a.auth.signOut(),i}}function dx({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class mx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class np{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=lc(this.lastLoginAt),this.creationTime=lc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function pc(a){const e=a.auth,n=await a.getIdToken(),i=await mc(a,kh(e,{idToken:n}));Ie(i?.users.length,e,"internal-error");const o=i.users[0];a._notifyReloadListener(o);const c=o.providerUserInfo?.length?Fb(o.providerUserInfo):[],f=gx(a.providerData,c),m=a.isAnonymous,g=!(a.email&&o.passwordHash)&&!f?.length,p=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new np(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(a,E)}async function px(a){const e=kt(a);await pc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gx(a,e){return[...a.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function Fb(a){return a.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function yx(a,e){const n=await qb(a,{},async()=>{const i=Nc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=a.config,f=await Hb(a,o,"/v1/token",`key=${c}`),m=await a._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:i};return a.emulatorConfig&&Ls(a.emulatorConfig.host)&&(g.credentials="include"),Bb.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function vx(a,e){return Wr(a,"POST","/v2/accounts:revokeToken",Xr(a,e))}class Po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):B_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const n=B_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:o,expiresIn:c}=await yx(e,n);this.updateTokensAndExpiration(i,o,Number(c))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:o,expirationTime:c}=n,f=new Po;return i&&(Ie(typeof i=="string","internal-error",{appName:e}),f.refreshToken=i),o&&(Ie(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),c&&(Ie(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Po,this.toJSON())}_performRefresh(){return Br("not implemented")}}function Mi(a,e){Ie(typeof a=="string"||typeof a>"u","internal-error",{appName:e})}class Pa{constructor({uid:e,auth:n,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new mx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new np(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await mc(this,this.stsTokenManager.getToken(this.auth,e));return Ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return fx(this,e)}reload(){return px(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Pa({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await pc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(lr(this.auth));const e=await this.getIdToken();return await mc(this,hx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:j,providerData:G,stsTokenManager:Q}=n;Ie(T&&Q,e,"internal-error");const U=Po.fromJSON(this.name,Q);Ie(typeof T=="string",e,"internal-error"),Mi(i,e.name),Mi(o,e.name),Ie(typeof A=="boolean",e,"internal-error"),Ie(typeof j=="boolean",e,"internal-error"),Mi(c,e.name),Mi(f,e.name),Mi(m,e.name),Mi(g,e.name),Mi(p,e.name),Mi(E,e.name);const X=new Pa({uid:T,auth:e,email:o,emailVerified:A,displayName:i,isAnonymous:j,photoURL:f,phoneNumber:c,tenantId:m,stsTokenManager:U,createdAt:p,lastLoginAt:E});return G&&Array.isArray(G)&&(X.providerData=G.map(ae=>({...ae}))),g&&(X._redirectEventId=g),X}static async _fromIdTokenResponse(e,n,i=!1){const o=new Po;o.updateFromServerResponse(n);const c=new Pa({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await pc(c),c}static async _fromGetAccountInfoResponse(e,n,i){const o=n.users[0];Ie(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Fb(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!c?.length,m=new Po;m.updateFromIdToken(i);const g=new Pa({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new np(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,p),g}}const q_=new Map;function qr(a){Gr(a instanceof Function,"Expected a class definition");let e=q_.get(a);return e?(Gr(e instanceof a,"Instance stored in cache mismatched with class"),e):(e=new a,q_.set(a,e),e)}class Gb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Gb.type="NONE";const H_=Gb;function bh(a,e,n){return`firebase:${a}:${e}:${n}`}class Lo{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:o,name:c}=this.auth;this.fullUserKey=bh(this.userKey,o.apiKey,c),this.fullPersistenceKey=bh("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await kh(this.auth,{idToken:e}).catch(()=>{});return n?Pa._fromGetAccountInfoResponse(this.auth,n,e):null}return Pa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Lo(qr(H_),e,i);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let c=o[0]||qr(H_);const f=bh(i,e.config.apiKey,e.name);let m=null;for(const p of n)try{const E=await p._get(f);if(E){let T;if(typeof E=="string"){const A=await kh(e,{idToken:E}).catch(()=>{});if(!A)break;T=await Pa._fromGetAccountInfoResponse(e,A,E)}else T=Pa._fromJSON(e,E);p!==c&&(m=T),c=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new Lo(c,e,i):(c=g[0],m&&await c._set(f,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==c)try{await p._remove(f)}catch{}})),new Lo(c,e,i))}}function F_(a){const e=a.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Kb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($b(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Wb(e))return"Blackberry";if(Jb(e))return"Webos";if(Yb(e))return"Safari";if((e.includes("chrome/")||Qb(e))&&!e.includes("edge/"))return"Chrome";if(Xb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=a.match(n);if(i?.length===2)return i[1]}return"Other"}function $b(a=Cn()){return/firefox\//i.test(a)}function Yb(a=Cn()){const e=a.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Qb(a=Cn()){return/crios\//i.test(a)}function Kb(a=Cn()){return/iemobile/i.test(a)}function Xb(a=Cn()){return/android/i.test(a)}function Wb(a=Cn()){return/blackberry/i.test(a)}function Jb(a=Cn()){return/webos/i.test(a)}function Kp(a=Cn()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function _x(a=Cn()){return Kp(a)&&!!window.navigator?.standalone}function bx(){return MA()&&document.documentMode===10}function Zb(a=Cn()){return Kp(a)||Xb(a)||Jb(a)||Wb(a)||/windows phone/i.test(a)||Kb(a)}function eE(a,e=[]){let n;switch(a){case"Browser":n=F_(Cn());break;case"Worker":n=`${F_(Cn())}-${a}`;break;default:n=a}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qo}/${i}`}class Ex{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=c=>new Promise((f,m)=>{try{const g=e(c);f(g)}catch(g){m(g)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function Tx(a,e={}){return Wr(a,"GET","/v2/passwordPolicy",Xr(a,e))}const wx=6;class Sx{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??wx,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class Ax{constructor(e,n,i,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new G_(this),this.idTokenSubscription=new G_(this),this.beforeStateQueue=new Ex(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ub,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Lo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await kh(this,{idToken:e}),i=await Pa._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Qn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,f=i?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===f)&&m?.user&&(i=m.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await pc(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ax()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qn(this.app))return Promise.reject(lr(this));const n=e?kt(e):null;return n&&Ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(lr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qn(this.app)?Promise.reject(lr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Tx(this),n=new Sx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new xc("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await vx(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&qr(e)||this._popupRedirectResolver;Ie(n,this,"argument-error"),this.redirectPersistenceManager=await Lo.create(this,[qr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(m,this,"internal-error"),m.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,i,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&ex(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Jr(a){return kt(a)}class G_{constructor(e){this.auth=e,this.observer=null,this.addObserver=qA(n=>this.observer=n)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ef={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xx(a){ef=a}function tE(a){return ef.loadJS(a)}function Nx(){return ef.recaptchaEnterpriseScript}function Cx(){return ef.gapiScript}function Rx(a){return`__${a}${Math.floor(Math.random()*1e6)}`}class Ix{constructor(){this.enterprise=new Dx}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Dx{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Ox="recaptcha-enterprise",nE="NO_RECAPTCHA";class kx{constructor(e){this.type=Ox,this.auth=Jr(e)}async verify(e="verify",n=!1){async function i(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(f,m)=>{ux(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new cx(g);return c.tenantId==null?c._agentRecaptchaConfig=p:c._tenantRecaptchaConfigs[c.tenantId]=p,f(p.siteKey)}}).catch(g=>{m(g)})})}function o(c,f,m){const g=window.grecaptcha;z_(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(p=>{f(p)}).catch(()=>{f(nE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Ix().execute("siteKey",{action:"verify"}):new Promise((c,f)=>{i(this.auth).then(m=>{if(!n&&z_(window.grecaptcha))o(m,c,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=Nx();g.length!==0&&(g+=m),tE(g).then(()=>{o(m,c,f)}).catch(p=>{f(p)})}}).catch(m=>{f(m)})})}}async function $_(a,e,n,i=!1,o=!1){const c=new kx(a);let f;if(o)f=nE;else try{f=await c.verify(n)}catch{f=await c.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return i?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Mh(a,e,n,i,o){if(a._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await $_(a,e,n,n==="getOobCode");return i(a,c)}else return i(a,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await $_(a,e,n,n==="getOobCode");return i(a,f)}else return Promise.reject(c)})}function Mx(a,e){const n=Zh(a,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(Os(c,e??{}))return o;Ua(o,"already-initialized")}return n.initialize({options:e})}function jx(a,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(qr);e?.errorMap&&a._updateErrorMap(e.errorMap),a._initializeWithPersistence(i,e?.popupRedirectResolver)}function Vx(a,e,n){const i=Jr(a);Ie(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,c=aE(e),{host:f,port:m}=Px(e),g=m===null?"":`:${m}`,p={url:`${c}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Ie(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ie(Os(p,i.config.emulator)&&Os(E,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=E,i.settings.appVerificationDisabledForTesting=!0,Ls(f)?(Bp(`${c}//${f}${g}`),qp("Auth",!0)):Lx()}function aE(a){const e=a.indexOf(":");return e<0?"":a.substr(0,e+1)}function Px(a){const e=aE(a),n=/(\/\/)?([^?#/]+)/.exec(a.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const c=o[1];return{host:c,port:Y_(i.substr(c.length+1))}}else{const[c,f]=i.split(":");return{host:c,port:Y_(f)}}}function Y_(a){if(!a)return null;const e=Number(a);return isNaN(e)?null:e}function Lx(){function a(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class Xp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Br("not implemented")}_getIdTokenResponse(e){return Br("not implemented")}_linkToIdToken(e,n){return Br("not implemented")}_getReauthenticationResolver(e){return Br("not implemented")}}async function Ux(a,e){return Wr(a,"POST","/v1/accounts:signUp",e)}async function zx(a,e){return Rc(a,"POST","/v1/accounts:signInWithPassword",Xr(a,e))}async function Bx(a,e){return Wr(a,"POST","/v1/accounts:sendOobCode",Xr(a,e))}async function qx(a,e){return Bx(a,e)}async function Hx(a,e){return Rc(a,"POST","/v1/accounts:signInWithEmailLink",Xr(a,e))}async function Fx(a,e){return Rc(a,"POST","/v1/accounts:signInWithEmailLink",Xr(a,e))}class gc extends Xp{constructor(e,n,i,o=null){super("password",i),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new gc(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new gc(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mh(e,n,"signInWithPassword",zx);case"emailLink":return Hx(e,{email:this._email,oobCode:this._password});default:Ua(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mh(e,i,"signUpPassword",Ux);case"emailLink":return Fx(e,{idToken:n,email:this._email,oobCode:this._password});default:Ua(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Uo(a,e){return Rc(a,"POST","/v1/accounts:signInWithIdp",Xr(a,e))}const Gx="http://localhost";class Ms extends Xp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ms(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ua("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...c}=n;if(!i||!o)return null;const f=new Ms(i,o);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Uo(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Uo(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Uo(e,n)}buildRequest(){const e={requestUri:Gx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nc(n)}return e}}function $x(a){switch(a){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Yx(a){const e=ec(tc(a)).link,n=e?ec(tc(e)).deep_link_id:null,i=ec(tc(a)).deep_link_id;return(i?ec(tc(i)).link:null)||i||n||e||a}class Wp{constructor(e){const n=ec(tc(e)),i=n.apiKey??null,o=n.oobCode??null,c=$x(n.mode??null);Ie(i&&o&&c,"argument-error"),this.apiKey=i,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Yx(e);try{return new Wp(n)}catch{return null}}}class Us{constructor(){this.providerId=Us.PROVIDER_ID}static credential(e,n){return gc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Wp.parseLink(n);return Ie(i,"argument-error"),gc._fromEmailAndCode(e,i.code,i.tenantId)}}Us.PROVIDER_ID="password";Us.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Us.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class rE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ic extends rE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ji extends Ic{constructor(){super("facebook.com")}static credential(e){return Ms._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ji.credential(e.oauthAccessToken)}catch{return null}}}ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";ji.PROVIDER_ID="facebook.com";class Vi extends Ic{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ms._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Vi.credential(n,i)}catch{return null}}}Vi.GOOGLE_SIGN_IN_METHOD="google.com";Vi.PROVIDER_ID="google.com";class Pi extends Ic{constructor(){super("github.com")}static credential(e){return Ms._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pi.credential(e.oauthAccessToken)}catch{return null}}}Pi.GITHUB_SIGN_IN_METHOD="github.com";Pi.PROVIDER_ID="github.com";class Li extends Ic{constructor(){super("twitter.com")}static credential(e,n){return Ms._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Li.credential(n,i)}catch{return null}}}Li.TWITTER_SIGN_IN_METHOD="twitter.com";Li.PROVIDER_ID="twitter.com";async function iE(a,e){return Rc(a,"POST","/v1/accounts:signUp",Xr(a,e))}class $r{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,o=!1){const c=await Pa._fromIdTokenResponse(e,i,o),f=Q_(i);return new $r({user:c,providerId:f,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const o=Q_(i);return new $r({user:e,providerId:o,_tokenResponse:i,operationType:n})}}function Q_(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}async function Qx(a){if(Qn(a.app))return Promise.reject(lr(a));const e=Jr(a);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new $r({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await iE(e,{returnSecureToken:!0}),i=await $r._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(i.user),i}class jh extends Kr{constructor(e,n,i,o){super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,jh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,o){return new jh(e,n,i,o)}}function sE(a,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(a):n._getIdTokenResponse(a)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?jh._fromErrorAndOperation(a,c,e,i):c})}function Kx(a){return new Set(a.map(({providerId:e})=>e).filter(e=>!!e))}async function oE(a,e,n=!1){const i=await mc(a,e._linkToIdToken(a.auth,await a.getIdToken()),n);return $r._forOperation(a,"link",i)}async function Xx(a,e,n){await pc(e);const i=Kx(e.providerData);Ie(i.has(n)===a,e.auth,"provider-already-linked")}async function Wx(a,e,n=!1){const{auth:i}=a;if(Qn(i.app))return Promise.reject(lr(i));const o="reauthenticate";try{const c=await mc(a,sE(i,o,e,a),n);Ie(c.idToken,i,"internal-error");const f=Qp(c.idToken);Ie(f,i,"internal-error");const{sub:m}=f;return Ie(a.uid===m,i,"user-mismatch"),$r._forOperation(a,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ua(i,"user-mismatch"),c}}async function lE(a,e,n=!1){if(Qn(a.app))return Promise.reject(lr(a));const i="signIn",o=await sE(a,i,e),c=await $r._fromIdTokenResponse(a,i,o);return n||await a._updateCurrentUser(c.user),c}async function Jx(a,e){return lE(Jr(a),e)}async function Zx(a,e){const n=kt(a);return await Xx(!1,n,e.providerId),oE(n,e)}async function cE(a){const e=Jr(a);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function eN(a,e,n){const i=Jr(a);await Mh(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",qx)}async function tN(a,e,n){if(Qn(a.app))return Promise.reject(lr(a));const i=Jr(a),f=await Mh(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iE).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&cE(a),g}),m=await $r._fromIdTokenResponse(i,"signIn",f);return await i._updateCurrentUser(m.user),m}function nN(a,e,n){return Qn(a.app)?Promise.reject(lr(a)):Jx(kt(a),Us.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&cE(a),i})}function aN(a,e,n,i){return kt(a).onIdTokenChanged(e,n,i)}function rN(a,e,n){return kt(a).beforeAuthStateChanged(e,n)}function iN(a,e,n,i){return kt(a).onAuthStateChanged(e,n,i)}function sN(a){return kt(a).signOut()}const Vh="__sak";class uE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vh,"1"),this.storage.removeItem(Vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const oN=1e3,lN=10;class hE extends uE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Zb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&e(n,o,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const i=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(i);!n&&this.localCache[i]===f||this.notifyListeners(i,f)},c=this.storage.getItem(i);bx()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,lN):o()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},oN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}hE.type="LOCAL";const cN=hE;class fE extends uE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}fE.type="SESSION";const dE=fE;function uN(a){return Promise.all(a.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class tf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const i=new tf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:o,data:c}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const m=Array.from(f).map(async p=>p(n.origin,c)),g=await uN(m);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tf.receivers=[];function Jp(a="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return a+n}class hN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,f;return new Promise((m,g)=>{const p=Jp("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},i);f={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===p)switch(A.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(A.data.response);break;default:clearTimeout(E),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function cr(){return window}function fN(a){cr().location.href=a}function mE(){return typeof cr().WorkerGlobalScope<"u"&&typeof cr().importScripts=="function"}async function dN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mN(){return navigator?.serviceWorker?.controller||null}function pN(){return mE()?self:null}const pE="firebaseLocalStorageDb",gN=1,Ph="firebaseLocalStorage",gE="fbase_key";class Dc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nf(a,e){return a.transaction([Ph],e?"readwrite":"readonly").objectStore(Ph)}function yN(){const a=indexedDB.deleteDatabase(pE);return new Dc(a).toPromise()}function ap(){const a=indexedDB.open(pE,gN);return new Promise((e,n)=>{a.addEventListener("error",()=>{n(a.error)}),a.addEventListener("upgradeneeded",()=>{const i=a.result;try{i.createObjectStore(Ph,{keyPath:gE})}catch(o){n(o)}}),a.addEventListener("success",async()=>{const i=a.result;i.objectStoreNames.contains(Ph)?e(i):(i.close(),await yN(),e(await ap()))})})}async function K_(a,e,n){const i=nf(a,!0).put({[gE]:e,value:n});return new Dc(i).toPromise()}async function vN(a,e){const n=nf(a,!1).get(e),i=await new Dc(n).toPromise();return i===void 0?null:i.value}function X_(a,e){const n=nf(a,!0).delete(e);return new Dc(n).toPromise()}const _N=800,bN=3;class yE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ap(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>bN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tf._getInstance(pN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await dN(),!this.activeServiceWorker)return;this.sender=new hN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ap();return await K_(e,Vh,"1"),await X_(e,Vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>K_(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>vN(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>X_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=nf(o,!1).getAll();return new Dc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_N)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yE.type="LOCAL";const EN=yE;new Cc(3e4,6e4);function TN(a,e){return e?qr(e):(Ie(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class Zp extends Xp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Uo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Uo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function wN(a){return lE(a.auth,new Zp(a),a.bypassAuthState)}function SN(a){const{auth:e,user:n}=a;return Ie(n,e,"internal-error"),Wx(n,new Zp(a),a.bypassAuthState)}async function AN(a){const{auth:e,user:n}=a;return Ie(n,e,"internal-error"),oE(n,new Zp(a),a.bypassAuthState)}class vE{constructor(e,n,i,o,c=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:o,tenantId:c,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:i,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wN;case"linkViaPopup":case"linkViaRedirect":return AN;case"reauthViaPopup":case"reauthViaRedirect":return SN;default:Ua(this.auth,"internal-error")}}resolve(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xN=new Cc(2e3,1e4);class Mo extends vE{constructor(e,n,i,o,c){super(e,n,o,c),this.provider=i,this.authWindow=null,this.pollId=null,Mo.currentPopupAction&&Mo.currentPopupAction.cancel(),Mo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){Gr(this.filter.length===1,"Popup operations only handle one event");const e=Jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(or(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(or(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Mo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(or(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xN.get())};e()}}Mo.currentPopupAction=null;const NN="pendingRedirect",Eh=new Map;class CN extends vE{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Eh.get(this.auth._key());if(!e){try{const i=await RN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Eh.set(this.auth._key(),e)}return this.bypassAuthState||Eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RN(a,e){const n=ON(e),i=DN(a);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}function IN(a,e){Eh.set(a._key(),e)}function DN(a){return qr(a._redirectPersistence)}function ON(a){return bh(NN,a.config.apiKey,a.name)}async function kN(a,e,n=!1){if(Qn(a.app))return Promise.reject(lr(a));const i=Jr(a),o=TN(i,e),f=await new CN(i,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await i._persistUserIfCurrent(f.user),await i._setRedirectUser(null,e)),f}const MN=600*1e3;class jN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!_E(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(or(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MN&&this.cachedEventUids.clear(),this.cachedEventUids.has(W_(e))}saveEventToCache(e){this.cachedEventUids.add(W_(e)),this.lastProcessedEventTime=Date.now()}}function W_(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(e=>e).join("-")}function _E({type:a,error:e}){return a==="unknown"&&e?.code==="auth/no-auth-event"}function VN(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _E(a);default:return!1}}async function PN(a,e={}){return Wr(a,"GET","/v1/projects",e)}const LN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UN=/^https?/;async function zN(a){if(a.config.emulator)return;const{authorizedDomains:e}=await PN(a);for(const n of e)try{if(BN(n))return}catch{}Ua(a,"unauthorized-domain")}function BN(a){const e=tp(),{protocol:n,hostname:i}=new URL(e);if(a.startsWith("chrome-extension://")){const f=new URL(a);return f.hostname===""&&i===""?n==="chrome-extension:"&&a.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===i}if(!UN.test(n))return!1;if(LN.test(a))return i===a;const o=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}const qN=new Cc(3e4,6e4);function J_(){const a=cr().___jsl;if(a?.H){for(const e of Object.keys(a.H))if(a.H[e].r=a.H[e].r||[],a.H[e].L=a.H[e].L||[],a.H[e].r=[...a.H[e].L],a.CP)for(let n=0;n<a.CP.length;n++)a.CP[n]=null}}function HN(a){return new Promise((e,n)=>{function i(){J_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{J_(),n(or(a,"network-request-failed"))},timeout:qN.get()})}if(cr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(cr().gapi?.load)i();else{const o=Rx("iframefcb");return cr()[o]=()=>{gapi.load?i():n(or(a,"network-request-failed"))},tE(`${Cx()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw Th=null,e})}let Th=null;function FN(a){return Th=Th||HN(a),Th}const GN=new Cc(5e3,15e3),$N="__/auth/iframe",YN="emulator/auth/iframe",QN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XN(a){const e=a.config;Ie(e.authDomain,a,"auth-domain-config-required");const n=e.emulator?Yp(e,YN):`https://${a.config.authDomain}/${$N}`,i={apiKey:e.apiKey,appName:a.name,v:Qo},o=KN.get(a.config.apiHost);o&&(i.eid=o);const c=a._getFrameworks();return c.length&&(i.fw=c.join(",")),`${n}?${Nc(i).slice(1)}`}async function WN(a){const e=await FN(a),n=cr().gapi;return Ie(n,a,"internal-error"),e.open({where:document.body,url:XN(a),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QN,dontclear:!0},i=>new Promise(async(o,c)=>{await i.restyle({setHideOnLeave:!1});const f=or(a,"network-request-failed"),m=cr().setTimeout(()=>{c(f)},GN.get());function g(){cr().clearTimeout(m),o(i)}i.ping(g).then(g,()=>{c(f)})}))}const JN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZN=500,eC=600,tC="_blank",nC="http://localhost";class Z_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aC(a,e,n,i=ZN,o=eC){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-i)/2,0).toString();let m="";const g={...JN,width:i.toString(),height:o.toString(),top:c,left:f},p=Cn().toLowerCase();n&&(m=Qb(p)?tC:n),$b(p)&&(e=e||nC,g.scrollbars="yes");const E=Object.entries(g).reduce((A,[j,G])=>`${A}${j}=${G},`,"");if(_x(p)&&m!=="_self")return rC(e||"",m),new Z_(null);const T=window.open(e||"",m,E);Ie(T,a,"popup-blocked");try{T.focus()}catch{}return new Z_(T)}function rC(a,e){const n=document.createElement("a");n.href=a,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const iC="__/auth/handler",sC="emulator/auth/handler",oC=encodeURIComponent("fac");async function e1(a,e,n,i,o,c){Ie(a.config.authDomain,a,"auth-domain-config-required"),Ie(a.config.apiKey,a,"invalid-api-key");const f={apiKey:a.config.apiKey,appName:a.name,authType:n,redirectUrl:i,v:Qo,eventId:o};if(e instanceof rE){e.setDefaultLanguage(a.languageCode),f.providerId=e.providerId||"",BA(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(e instanceof Ic){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}a.tenantId&&(f.tid=a.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await a._getAppCheckToken(),p=g?`#${oC}=${encodeURIComponent(g)}`:"";return`${lC(a)}?${Nc(m).slice(1)}${p}`}function lC({config:a}){return a.emulator?Yp(a,sC):`https://${a.authDomain}/${iC}`}const km="webStorageSupport";class cC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dE,this._completeRedirectFn=kN,this._overrideRedirectResult=IN}async _openPopup(e,n,i,o){Gr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await e1(e,n,i,tp(),o);return aC(e,c,Jp())}async _openRedirect(e,n,i,o){await this._originValidation(e);const c=await e1(e,n,i,tp(),o);return fN(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Gr(c,"If manager is not set, promise should be"),c)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await WN(e),i=new jN(e);return n.register("authEvent",o=>(Ie(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(km,{type:km},o=>{const c=o?.[0]?.[km];c!==void 0&&n(!!c),Ua(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=zN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Zb()||Yb()||Kp()}}const uC=cC;var t1="@firebase/auth",n1="1.12.0";class hC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function fC(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dC(a){ks(new Gi("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=i.options;Ie(f&&!f.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:f,authDomain:m,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eE(a)},p=new Ax(i,o,c,g);return jx(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),ks(new Gi("auth-internal",e=>{const n=Jr(e.getProvider("auth").getImmediate());return(i=>new hC(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),sr(t1,n1,fC(a)),sr(t1,n1,"esm2020")}const mC=300,pC=Ob("authIdTokenMaxAge")||mC;let a1=null;const gC=a=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>pC)return;const o=n?.token;a1!==o&&(a1=o,await fetch(a,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function yC(a=Gp()){const e=Zh(a,"auth");if(e.isInitialized())return e.getImmediate();const n=Mx(a,{popupRedirectResolver:uC,persistence:[EN,cN,dE]}),i=Ob("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(i,location.origin);if(location.origin===c.origin){const f=gC(c.toString());rN(n,f,()=>f(n.currentUser)),aN(n,m=>f(m))}}const o=Rb("auth");return o&&Vx(n,`http://${o}`),n}function vC(){return document.getElementsByTagName("head")?.[0]??document}xx({loadJS(a){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",a),i.onload=e,i.onerror=o=>{const c=or("internal-error");c.customData=o,n(c)},i.type="text/javascript",i.charset="UTF-8",vC().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dC("Browser");var r1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Hi,bE;(function(){var a;function e(I,x){function R(){}R.prototype=x.prototype,I.F=x.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(k,O,V){for(var C=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)C[Oe-2]=arguments[Oe];return x.prototype[O].apply(k,C)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,x,R){R||(R=0);const k=Array(16);if(typeof x=="string")for(var O=0;O<16;++O)k[O]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(O=0;O<16;++O)k[O]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=I.g[0],R=I.g[1],O=I.g[2];let V=I.g[3],C;C=x+(V^R&(O^V))+k[0]+3614090360&4294967295,x=R+(C<<7&4294967295|C>>>25),C=V+(O^x&(R^O))+k[1]+3905402710&4294967295,V=x+(C<<12&4294967295|C>>>20),C=O+(R^V&(x^R))+k[2]+606105819&4294967295,O=V+(C<<17&4294967295|C>>>15),C=R+(x^O&(V^x))+k[3]+3250441966&4294967295,R=O+(C<<22&4294967295|C>>>10),C=x+(V^R&(O^V))+k[4]+4118548399&4294967295,x=R+(C<<7&4294967295|C>>>25),C=V+(O^x&(R^O))+k[5]+1200080426&4294967295,V=x+(C<<12&4294967295|C>>>20),C=O+(R^V&(x^R))+k[6]+2821735955&4294967295,O=V+(C<<17&4294967295|C>>>15),C=R+(x^O&(V^x))+k[7]+4249261313&4294967295,R=O+(C<<22&4294967295|C>>>10),C=x+(V^R&(O^V))+k[8]+1770035416&4294967295,x=R+(C<<7&4294967295|C>>>25),C=V+(O^x&(R^O))+k[9]+2336552879&4294967295,V=x+(C<<12&4294967295|C>>>20),C=O+(R^V&(x^R))+k[10]+4294925233&4294967295,O=V+(C<<17&4294967295|C>>>15),C=R+(x^O&(V^x))+k[11]+2304563134&4294967295,R=O+(C<<22&4294967295|C>>>10),C=x+(V^R&(O^V))+k[12]+1804603682&4294967295,x=R+(C<<7&4294967295|C>>>25),C=V+(O^x&(R^O))+k[13]+4254626195&4294967295,V=x+(C<<12&4294967295|C>>>20),C=O+(R^V&(x^R))+k[14]+2792965006&4294967295,O=V+(C<<17&4294967295|C>>>15),C=R+(x^O&(V^x))+k[15]+1236535329&4294967295,R=O+(C<<22&4294967295|C>>>10),C=x+(O^V&(R^O))+k[1]+4129170786&4294967295,x=R+(C<<5&4294967295|C>>>27),C=V+(R^O&(x^R))+k[6]+3225465664&4294967295,V=x+(C<<9&4294967295|C>>>23),C=O+(x^R&(V^x))+k[11]+643717713&4294967295,O=V+(C<<14&4294967295|C>>>18),C=R+(V^x&(O^V))+k[0]+3921069994&4294967295,R=O+(C<<20&4294967295|C>>>12),C=x+(O^V&(R^O))+k[5]+3593408605&4294967295,x=R+(C<<5&4294967295|C>>>27),C=V+(R^O&(x^R))+k[10]+38016083&4294967295,V=x+(C<<9&4294967295|C>>>23),C=O+(x^R&(V^x))+k[15]+3634488961&4294967295,O=V+(C<<14&4294967295|C>>>18),C=R+(V^x&(O^V))+k[4]+3889429448&4294967295,R=O+(C<<20&4294967295|C>>>12),C=x+(O^V&(R^O))+k[9]+568446438&4294967295,x=R+(C<<5&4294967295|C>>>27),C=V+(R^O&(x^R))+k[14]+3275163606&4294967295,V=x+(C<<9&4294967295|C>>>23),C=O+(x^R&(V^x))+k[3]+4107603335&4294967295,O=V+(C<<14&4294967295|C>>>18),C=R+(V^x&(O^V))+k[8]+1163531501&4294967295,R=O+(C<<20&4294967295|C>>>12),C=x+(O^V&(R^O))+k[13]+2850285829&4294967295,x=R+(C<<5&4294967295|C>>>27),C=V+(R^O&(x^R))+k[2]+4243563512&4294967295,V=x+(C<<9&4294967295|C>>>23),C=O+(x^R&(V^x))+k[7]+1735328473&4294967295,O=V+(C<<14&4294967295|C>>>18),C=R+(V^x&(O^V))+k[12]+2368359562&4294967295,R=O+(C<<20&4294967295|C>>>12),C=x+(R^O^V)+k[5]+4294588738&4294967295,x=R+(C<<4&4294967295|C>>>28),C=V+(x^R^O)+k[8]+2272392833&4294967295,V=x+(C<<11&4294967295|C>>>21),C=O+(V^x^R)+k[11]+1839030562&4294967295,O=V+(C<<16&4294967295|C>>>16),C=R+(O^V^x)+k[14]+4259657740&4294967295,R=O+(C<<23&4294967295|C>>>9),C=x+(R^O^V)+k[1]+2763975236&4294967295,x=R+(C<<4&4294967295|C>>>28),C=V+(x^R^O)+k[4]+1272893353&4294967295,V=x+(C<<11&4294967295|C>>>21),C=O+(V^x^R)+k[7]+4139469664&4294967295,O=V+(C<<16&4294967295|C>>>16),C=R+(O^V^x)+k[10]+3200236656&4294967295,R=O+(C<<23&4294967295|C>>>9),C=x+(R^O^V)+k[13]+681279174&4294967295,x=R+(C<<4&4294967295|C>>>28),C=V+(x^R^O)+k[0]+3936430074&4294967295,V=x+(C<<11&4294967295|C>>>21),C=O+(V^x^R)+k[3]+3572445317&4294967295,O=V+(C<<16&4294967295|C>>>16),C=R+(O^V^x)+k[6]+76029189&4294967295,R=O+(C<<23&4294967295|C>>>9),C=x+(R^O^V)+k[9]+3654602809&4294967295,x=R+(C<<4&4294967295|C>>>28),C=V+(x^R^O)+k[12]+3873151461&4294967295,V=x+(C<<11&4294967295|C>>>21),C=O+(V^x^R)+k[15]+530742520&4294967295,O=V+(C<<16&4294967295|C>>>16),C=R+(O^V^x)+k[2]+3299628645&4294967295,R=O+(C<<23&4294967295|C>>>9),C=x+(O^(R|~V))+k[0]+4096336452&4294967295,x=R+(C<<6&4294967295|C>>>26),C=V+(R^(x|~O))+k[7]+1126891415&4294967295,V=x+(C<<10&4294967295|C>>>22),C=O+(x^(V|~R))+k[14]+2878612391&4294967295,O=V+(C<<15&4294967295|C>>>17),C=R+(V^(O|~x))+k[5]+4237533241&4294967295,R=O+(C<<21&4294967295|C>>>11),C=x+(O^(R|~V))+k[12]+1700485571&4294967295,x=R+(C<<6&4294967295|C>>>26),C=V+(R^(x|~O))+k[3]+2399980690&4294967295,V=x+(C<<10&4294967295|C>>>22),C=O+(x^(V|~R))+k[10]+4293915773&4294967295,O=V+(C<<15&4294967295|C>>>17),C=R+(V^(O|~x))+k[1]+2240044497&4294967295,R=O+(C<<21&4294967295|C>>>11),C=x+(O^(R|~V))+k[8]+1873313359&4294967295,x=R+(C<<6&4294967295|C>>>26),C=V+(R^(x|~O))+k[15]+4264355552&4294967295,V=x+(C<<10&4294967295|C>>>22),C=O+(x^(V|~R))+k[6]+2734768916&4294967295,O=V+(C<<15&4294967295|C>>>17),C=R+(V^(O|~x))+k[13]+1309151649&4294967295,R=O+(C<<21&4294967295|C>>>11),C=x+(O^(R|~V))+k[4]+4149444226&4294967295,x=R+(C<<6&4294967295|C>>>26),C=V+(R^(x|~O))+k[11]+3174756917&4294967295,V=x+(C<<10&4294967295|C>>>22),C=O+(x^(V|~R))+k[2]+718787259&4294967295,O=V+(C<<15&4294967295|C>>>17),C=R+(V^(O|~x))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+V&4294967295}i.prototype.v=function(I,x){x===void 0&&(x=I.length);const R=x-this.blockSize,k=this.C;let O=this.h,V=0;for(;V<x;){if(O==0)for(;V<=R;)o(this,I,V),V+=this.blockSize;if(typeof I=="string"){for(;V<x;)if(k[O++]=I.charCodeAt(V++),O==this.blockSize){o(this,k),O=0;break}}else for(;V<x;)if(k[O++]=I[V++],O==this.blockSize){o(this,k),O=0;break}}this.h=O,this.o+=x},i.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;x=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=x&255,x/=256;for(this.v(I),I=Array(16),x=0,R=0;R<4;++R)for(let k=0;k<32;k+=8)I[x++]=this.g[R]>>>k&255;return I};function c(I,x){var R=m;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=x(I)}function f(I,x){this.h=x;const R=[];let k=!0;for(let O=I.length-1;O>=0;O--){const V=I[O]|0;k&&V==x||(R[O]=V,k=!1)}this.g=R}var m={};function g(I){return-128<=I&&I<128?c(I,function(x){return new f([x|0],x<0?-1:0)}):new f([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return T;if(I<0)return U(p(-I));const x=[];let R=1;for(let k=0;I>=R;k++)x[k]=I/R|0,R*=4294967296;return new f(x,0)}function E(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return U(E(I.substring(1),x));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(x,8));let k=T;for(let V=0;V<I.length;V+=8){var O=Math.min(8,I.length-V);const C=parseInt(I.substring(V,V+O),x);O<8?(O=p(Math.pow(x,O)),k=k.j(O).add(p(C))):(k=k.j(R),k=k.add(p(C)))}return k}var T=g(0),A=g(1),j=g(16777216);a=f.prototype,a.m=function(){if(Q(this))return-U(this).m();let I=0,x=1;for(let R=0;R<this.g.length;R++){const k=this.i(R);I+=(k>=0?k:4294967296+k)*x,x*=4294967296}return I},a.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(G(this))return"0";if(Q(this))return"-"+U(this).toString(I);const x=p(Math.pow(I,6));var R=this;let k="";for(;;){const O=he(R,x).g;R=X(R,O.j(x));let V=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=O,G(R))return V+k;for(;V.length<6;)V="0"+V;k=V+k}},a.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function G(I){if(I.h!=0)return!1;for(let x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function Q(I){return I.h==-1}a.l=function(I){return I=X(this,I),Q(I)?-1:G(I)?0:1};function U(I){const x=I.g.length,R=[];for(let k=0;k<x;k++)R[k]=~I.g[k];return new f(R,~I.h).add(A)}a.abs=function(){return Q(this)?U(this):this},a.add=function(I){const x=Math.max(this.g.length,I.g.length),R=[];let k=0;for(let O=0;O<=x;O++){let V=k+(this.i(O)&65535)+(I.i(O)&65535),C=(V>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);k=C>>>16,V&=65535,C&=65535,R[O]=C<<16|V}return new f(R,R[R.length-1]&-2147483648?-1:0)};function X(I,x){return I.add(U(x))}a.j=function(I){if(G(this)||G(I))return T;if(Q(this))return Q(I)?U(this).j(U(I)):U(U(this).j(I));if(Q(I))return U(this.j(U(I)));if(this.l(j)<0&&I.l(j)<0)return p(this.m()*I.m());const x=this.g.length+I.g.length,R=[];for(var k=0;k<2*x;k++)R[k]=0;for(k=0;k<this.g.length;k++)for(let O=0;O<I.g.length;O++){const V=this.i(k)>>>16,C=this.i(k)&65535,Oe=I.i(O)>>>16,ze=I.i(O)&65535;R[2*k+2*O]+=C*ze,ae(R,2*k+2*O),R[2*k+2*O+1]+=V*ze,ae(R,2*k+2*O+1),R[2*k+2*O+1]+=C*Oe,ae(R,2*k+2*O+1),R[2*k+2*O+2]+=V*Oe,ae(R,2*k+2*O+2)}for(I=0;I<x;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=x;I<2*x;I++)R[I]=0;return new f(R,0)};function ae(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function le(I,x){this.g=I,this.h=x}function he(I,x){if(G(x))throw Error("division by zero");if(G(I))return new le(T,T);if(Q(I))return x=he(U(I),x),new le(U(x.g),U(x.h));if(Q(x))return x=he(I,U(x)),new le(U(x.g),x.h);if(I.g.length>30){if(Q(I)||Q(x))throw Error("slowDivide_ only works with positive integers.");for(var R=A,k=x;k.l(I)<=0;)R=ye(R),k=ye(k);var O=be(R,1),V=be(k,1);for(k=be(k,2),R=be(R,2);!G(k);){var C=V.add(k);C.l(I)<=0&&(O=O.add(R),V=C),k=be(k,1),R=be(R,1)}return x=X(I,O.j(x)),new le(O,x)}for(O=T;I.l(x)>=0;){for(R=Math.max(1,Math.floor(I.m()/x.m())),k=Math.ceil(Math.log(R)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),V=p(R),C=V.j(x);Q(C)||C.l(I)>0;)R-=k,V=p(R),C=V.j(x);G(V)&&(V=A),O=O.add(V),I=X(I,C)}return new le(O,I)}a.B=function(I){return he(this,I).h},a.and=function(I){const x=Math.max(this.g.length,I.g.length),R=[];for(let k=0;k<x;k++)R[k]=this.i(k)&I.i(k);return new f(R,this.h&I.h)},a.or=function(I){const x=Math.max(this.g.length,I.g.length),R=[];for(let k=0;k<x;k++)R[k]=this.i(k)|I.i(k);return new f(R,this.h|I.h)},a.xor=function(I){const x=Math.max(this.g.length,I.g.length),R=[];for(let k=0;k<x;k++)R[k]=this.i(k)^I.i(k);return new f(R,this.h^I.h)};function ye(I){const x=I.g.length+1,R=[];for(let k=0;k<x;k++)R[k]=I.i(k)<<1|I.i(k-1)>>>31;return new f(R,I.h)}function be(I,x){const R=x>>5;x%=32;const k=I.g.length-R,O=[];for(let V=0;V<k;V++)O[V]=x>0?I.i(V+R)>>>x|I.i(V+R+1)<<32-x:I.i(V+R);return new f(O,I.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,bE=i,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=p,f.fromString=E,Hi=f}).apply(typeof r1<"u"?r1:typeof self<"u"?self:typeof window<"u"?window:{});var uh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var EE,nc,TE,wh,rp,wE,SE,AE;(function(){var a,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof uh=="object"&&uh];for(var v=0;v<u.length;++v){var b=u[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=n(this);function o(u,v){if(v)e:{var b=i;u=u.split(".");for(var S=0;S<u.length-1;S++){var L=u[S];if(!(L in b))break e;b=b[L]}u=u[u.length-1],S=b[u],v=v(S),v!=S&&v!=null&&e(b,u,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(v){var b=[],S;for(S in v)Object.prototype.hasOwnProperty.call(v,S)&&b.push([S,v[S]]);return b}});var c=c||{},f=this||self;function m(u){var v=typeof u;return v=="object"&&u!=null||v=="function"}function g(u,v,b){return u.call.apply(u.bind,arguments)}function p(u,v,b){return p=g,p.apply(null,arguments)}function E(u,v){var b=Array.prototype.slice.call(arguments,1);return function(){var S=b.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function T(u,v){function b(){}b.prototype=v.prototype,u.Z=v.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(S,L,$){for(var oe=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)oe[Pe-2]=arguments[Pe];return v.prototype[L].apply(S,oe)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function j(u){const v=u.length;if(v>0){const b=Array(v);for(let S=0;S<v;S++)b[S]=u[S];return b}return[]}function G(u,v){for(let S=1;S<arguments.length;S++){const L=arguments[S];var b=typeof L;if(b=b!="object"?b:L?Array.isArray(L)?"array":b:"null",b=="array"||b=="object"&&typeof L.length=="number"){b=u.length||0;const $=L.length||0;u.length=b+$;for(let oe=0;oe<$;oe++)u[b+oe]=L[oe]}else u.push(L)}}class Q{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function U(u){f.setTimeout(()=>{throw u},0)}function X(){var u=I;let v=null;return u.g&&(v=u.g,u.g=u.g.next,u.g||(u.h=null),v.next=null),v}class ae{constructor(){this.h=this.g=null}add(v,b){const S=le.get();S.set(v,b),this.h?this.h.next=S:this.g=S,this.h=S}}var le=new Q(()=>new he,u=>u.reset());class he{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,be=!1,I=new ae,x=()=>{const u=Promise.resolve(void 0);ye=()=>{u.then(R)}};function R(){for(var u;u=X();){try{u.h.call(u.g)}catch(b){U(b)}var v=le;v.j(u),v.h<100&&(v.h++,u.next=v.g,v.g=u)}be=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,v){this.type=u,this.g=this.target=v,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,v=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};f.addEventListener("test",b,v),f.removeEventListener("test",b,v)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function Oe(u,v){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,v)}T(Oe,O),Oe.prototype.init=function(u,v){const b=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=v,v=u.relatedTarget,v||(b=="mouseover"?v=u.fromElement:b=="mouseout"&&(v=u.toElement)),this.relatedTarget=v,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Oe.Z.h.call(this)},Oe.prototype.h=function(){Oe.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ze="closure_listenable_"+(Math.random()*1e6|0),H=0;function se(u,v,b,S,L){this.listener=u,this.proxy=null,this.src=v,this.type=b,this.capture=!!S,this.ha=L,this.key=++H,this.da=this.fa=!1}function ce(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Te(u,v,b){for(const S in u)v.call(b,u[S],S,u)}function Ee(u,v){for(const b in u)v.call(void 0,u[b],b,u)}function N(u){const v={};for(const b in u)v[b]=u[b];return v}const q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(u,v){let b,S;for(let L=1;L<arguments.length;L++){S=arguments[L];for(b in S)u[b]=S[b];for(let $=0;$<q.length;$++)b=q[$],Object.prototype.hasOwnProperty.call(S,b)&&(u[b]=S[b])}}function re(u){this.src=u,this.g={},this.h=0}re.prototype.add=function(u,v,b,S,L){const $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);const oe=ie(u,v,S,L);return oe>-1?(v=u[oe],b||(v.fa=!1)):(v=new se(v,this.src,$,!!S,L),v.fa=b,u.push(v)),v};function fe(u,v){const b=v.type;if(b in u.g){var S=u.g[b],L=Array.prototype.indexOf.call(S,v,void 0),$;($=L>=0)&&Array.prototype.splice.call(S,L,1),$&&(ce(v),u.g[b].length==0&&(delete u.g[b],u.h--))}}function ie(u,v,b,S){for(let L=0;L<u.length;++L){const $=u[L];if(!$.da&&$.listener==v&&$.capture==!!b&&$.ha==S)return L}return-1}var pe="closure_lm_"+(Math.random()*1e6|0),xe={};function Me(u,v,b,S,L){if(Array.isArray(v)){for(let $=0;$<v.length;$++)Me(u,v[$],b,S,L);return null}return b=ca(b),u&&u[ze]?u.J(v,b,m(S)?!!S.capture:!1,L):Nt(u,v,b,!1,S,L)}function Nt(u,v,b,S,L,$){if(!v)throw Error("Invalid event type");const oe=m(L)?!!L.capture:!!L;let Pe=ut(u);if(Pe||(u[pe]=Pe=new re(u)),b=Pe.add(v,b,S,oe,$),b.proxy)return b;if(S=bn(),b.proxy=S,S.src=u,S.listener=b,u.addEventListener)V||(L=oe),L===void 0&&(L=!1),u.addEventListener(v.toString(),S,L);else if(u.attachEvent)u.attachEvent(We(v.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return b}function bn(){function u(b){return v.call(u.src,u.listener,b)}const v=rn;return u}function an(u,v,b,S,L){if(Array.isArray(v))for(var $=0;$<v.length;$++)an(u,v[$],b,S,L);else S=m(S)?!!S.capture:!!S,b=ca(b),u&&u[ze]?(u=u.i,$=String(v).toString(),$ in u.g&&(v=u.g[$],b=ie(v,b,S,L),b>-1&&(ce(v[b]),Array.prototype.splice.call(v,b,1),v.length==0&&(delete u.g[$],u.h--)))):u&&(u=ut(u))&&(v=u.g[v.toString()],u=-1,v&&(u=ie(v,b,S,L)),(b=u>-1?v[u]:null)&&Ft(b))}function Ft(u){if(typeof u!="number"&&u&&!u.da){var v=u.src;if(v&&v[ze])fe(v.i,u);else{var b=u.type,S=u.proxy;v.removeEventListener?v.removeEventListener(b,S,u.capture):v.detachEvent?v.detachEvent(We(b),S):v.addListener&&v.removeListener&&v.removeListener(S),(b=ut(v))?(fe(b,u),b.h==0&&(b.src=null,v[pe]=null)):ce(u)}}}function We(u){return u in xe?xe[u]:xe[u]="on"+u}function rn(u,v){if(u.da)u=!0;else{v=new Oe(v,this);const b=u.listener,S=u.ha||u.src;u.fa&&Ft(u),u=b.call(S,v)}return u}function ut(u){return u=u[pe],u instanceof re?u:null}var En="__closure_events_fn_"+(Math.random()*1e9>>>0);function ca(u){return typeof u=="function"?u:(u[En]||(u[En]=function(v){return u.handleEvent(v)}),u[En])}function ht(){k.call(this),this.i=new re(this),this.M=this,this.G=null}T(ht,k),ht.prototype[ze]=!0,ht.prototype.removeEventListener=function(u,v,b,S){an(this,u,v,b,S)};function yt(u,v){var b,S=u.G;if(S)for(b=[];S;S=S.G)b.push(S);if(u=u.M,S=v.type||v,typeof v=="string")v=new O(v,u);else if(v instanceof O)v.target=v.target||u;else{var L=v;v=new O(S,u),ne(v,L)}L=!0;let $,oe;if(b)for(oe=b.length-1;oe>=0;oe--)$=v.g=b[oe],L=en($,S,!0,v)&&L;if($=v.g=u,L=en($,S,!0,v)&&L,L=en($,S,!1,v)&&L,b)for(oe=0;oe<b.length;oe++)$=v.g=b[oe],L=en($,S,!1,v)&&L}ht.prototype.N=function(){if(ht.Z.N.call(this),this.i){var u=this.i;for(const v in u.g){const b=u.g[v];for(let S=0;S<b.length;S++)ce(b[S]);delete u.g[v],u.h--}}this.G=null},ht.prototype.J=function(u,v,b,S){return this.i.add(String(u),v,!1,b,S)},ht.prototype.K=function(u,v,b,S){return this.i.add(String(u),v,!0,b,S)};function en(u,v,b,S){if(v=u.i.g[String(v)],!v)return!0;v=v.concat();let L=!0;for(let $=0;$<v.length;++$){const oe=v[$];if(oe&&!oe.da&&oe.capture==b){const Pe=oe.listener,Ut=oe.ha||oe.src;oe.fa&&fe(u.i,oe),L=Pe.call(Ut,S)!==!1&&L}}return L&&!S.defaultPrevented}function Xn(u,v){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:f.setTimeout(u,v||0)}function Rn(u){u.g=Xn(()=>{u.g=null,u.i&&(u.i=!1,Rn(u))},u.l);const v=u.h;u.h=null,u.m.apply(null,v)}class Dt extends k{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Rn(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function In(u){k.call(this),this.h=u,this.g={}}T(In,k);var gr=[];function yr(u){Te(u.g,function(v,b){this.g.hasOwnProperty(b)&&Ft(v)},u),u.g={}}In.prototype.N=function(){In.Z.N.call(this),yr(this)},In.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ua=f.JSON.stringify,vr=f.JSON.parse,Ba=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function _r(){}function ei(){}var Lt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ot(){O.call(this,"d")}T(Ot,O);function Tn(){O.call(this,"c")}T(Tn,O);var vt={},br=null;function ha(){return br=br||new ht}vt.Ia="serverreachability";function ti(u){O.call(this,vt.Ia,u)}T(ti,O);function Dn(u){const v=ha();yt(v,new ti(v))}vt.STAT_EVENT="statevent";function xa(u,v){O.call(this,vt.STAT_EVENT,u),this.stat=v}T(xa,O);function St(u){const v=ha();yt(v,new xa(v,u))}vt.Ja="timingevent";function _t(u,v){O.call(this,vt.Ja,u),this.size=v}T(_t,O);function bt(u,v){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},v)}function sn(){this.g=!0}sn.prototype.ua=function(){this.g=!1};function tt(u,v,b,S,L,$){u.info(function(){if(u.g)if($){var oe="",Pe=$.split("&");for(let rt=0;rt<Pe.length;rt++){var Ut=Pe[rt].split("=");if(Ut.length>1){const Ct=Ut[0];Ut=Ut[1];const pa=Ct.split("_");oe=pa.length>=2&&pa[1]=="type"?oe+(Ct+"="+Ut+"&"):oe+(Ct+"=redacted&")}}}else oe=null;else oe=$;return"XMLHTTP REQ ("+S+") [attempt "+L+"]: "+v+`
`+b+`
`+oe})}function on(u,v,b,S,L,$,oe){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+L+"]: "+v+`
`+b+`
`+$+" "+oe})}function Un(u,v,b,S){u.info(function(){return"XMLHTTP TEXT ("+v+"): "+ni(u,b)+(S?" "+S:"")})}function Wn(u,v){u.info(function(){return"TIMEOUT: "+v})}sn.prototype.info=function(){};function ni(u,v){if(!u.g)return v;if(!v)return null;try{const $=JSON.parse(v);if($){for(u=0;u<$.length;u++)if(Array.isArray($[u])){var b=$[u];if(!(b.length<2)){var S=b[1];if(Array.isArray(S)&&!(S.length<1)){var L=S[0];if(L!="noop"&&L!="stop"&&L!="close")for(let oe=1;oe<S.length;oe++)S[oe]=""}}}}return ua($)}catch{return v}}var Jn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Na={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},fa;function Zn(){}T(Zn,_r),Zn.prototype.g=function(){return new XMLHttpRequest},fa=new Zn;function On(u){return encodeURIComponent(String(u))}function qa(u){var v=1;u=u.split(":");const b=[];for(;v>0&&u.length;)b.push(u.shift()),v--;return u.length&&b.push(u.join(":")),b}function kn(u,v,b,S){this.j=u,this.i=v,this.l=b,this.S=S||1,this.V=new In(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ae}function Ae(){this.i=null,this.g="",this.h=!1}var Re={},He={};function Fe(u,v,b){u.M=1,u.A=ns($t(v)),u.u=b,u.R=!0,Ne(u,null)}function Ne(u,v){u.F=Date.now(),Tt(u),u.B=$t(u.A);var b=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),Ys(b.i,"t",S),u.C=0,b=u.j.L,u.h=new Ae,u.g=nu(u.j,b?v:null,!u.u),u.P>0&&(u.O=new Dt(p(u.Y,u,u.g),u.P)),v=u.V,b=u.g,S=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(gr[0]=L.toString()),L=gr);for(let $=0;$<L.length;$++){const oe=Me(b,L[$],S||v.handleEvent,!1,v.h||v);if(!oe)break;v.g[oe.key]=oe}v=u.J?N(u.J):{},u.u?(u.v||(u.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,v)):(u.v="GET",u.g.ea(u.B,u.v,null,v)),Dn(),tt(u.i,u.v,u.B,u.l,u.S,u.u)}kn.prototype.ba=function(u){u=u.target;const v=this.O;v&&Ia(u)==3?v.j():this.Y(u)},kn.prototype.Y=function(u){try{if(u==this.g)e:{const Pe=Ia(this.g),Ut=this.g.ya(),rt=this.g.ca();if(!(Pe<3)&&(Pe!=3||this.g&&(this.h.h||this.g.la()||hn(this.g)))){this.K||Pe!=4||Ut==7||(Ut==8||rt<=0?Dn(3):Dn(2)),jn(this);var v=this.g.ca();this.X=v;var b=Je(this);if(this.o=v==200,on(this.i,this.v,this.B,this.l,this.S,Pe,v),this.o){if(this.U&&!this.L){t:{if(this.g){var S,L=this.g;if((S=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var $=S;break t}}$=null}if(u=$)Un(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ha(this,u);else{this.o=!1,this.m=3,St(12),Vn(this),wn(this);break e}}if(this.R){u=!0;let Ct;for(;!this.K&&this.C<b.length;)if(Ct=jt(this,b),Ct==He){Pe==4&&(this.m=4,St(14),u=!1),Un(this.i,this.l,null,"[Incomplete Response]");break}else if(Ct==Re){this.m=4,St(15),Un(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else Un(this.i,this.l,Ct,null),Ha(this,Ct);if(et(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pe!=4||b.length!=0||this.h.h||(this.m=1,St(16),u=!1),this.o=this.o&&u,!u)Un(this.i,this.l,b,"[Invalid Chunked Response]"),Vn(this),wn(this);else if(b.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),pl(oe),oe.P=!0,St(11))}}else Un(this.i,this.l,b,null),Ha(this,b);Pe==4&&Vn(this),this.o&&!this.K&&(Pe==4?Jc(this.j,this):(this.o=!1,Tt(this)))}else Tr(this.g),v==400&&b.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),Vn(this),wn(this)}}}catch{}};function Je(u){if(!et(u))return u.g.la();const v=hn(u.g);if(v==="")return"";let b="";const S=v.length,L=Ia(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Vn(u),wn(u),"";u.h.i=new f.TextDecoder}for(let $=0;$<S;$++)u.h.h=!0,b+=u.h.i.decode(v[$],{stream:!(L&&$==S-1)});return v.length=0,u.h.g+=b,u.C=0,u.h.g}function et(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function jt(u,v){var b=u.C,S=v.indexOf(`
`,b);return S==-1?He:(b=Number(v.substring(b,S)),isNaN(b)?Re:(S+=1,S+b>v.length?He:(v=v.slice(S,S+b),u.C=S+b,v)))}kn.prototype.cancel=function(){this.K=!0,Vn(this)};function Tt(u){u.T=Date.now()+u.H,Mn(u,u.H)}function Mn(u,v){if(u.D!=null)throw Error("WatchDog timer not null");u.D=bt(p(u.aa,u),v)}function jn(u){u.D&&(f.clearTimeout(u.D),u.D=null)}kn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Wn(this.i,this.B),this.M!=2&&(Dn(),St(17)),Vn(this),this.m=2,wn(this)):Mn(this,this.T-u)};function wn(u){u.j.I==0||u.K||Jc(u.j,u)}function Vn(u){jn(u);var v=u.O;v&&typeof v.dispose=="function"&&v.dispose(),u.O=null,yr(u.V),u.g&&(v=u.g,u.g=null,v.abort(),v.dispose())}function Ha(u,v){try{var b=u.j;if(b.I!=0&&(b.g==u||Ga(b.h,u))){if(!u.L&&Ga(b.h,u)&&b.I==3){try{var S=b.Ba.g.parse(v)}catch{S=null}if(Array.isArray(S)&&S.length==3){var L=S;if(L[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)Js(b),ui(b);else break e;cs(b),St(18)}}else b.xa=L[1],0<b.xa-b.K&&L[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=bt(p(b.Va,b),6e3));Fa(b.h)<=1&&b.ta&&(b.ta=void 0)}else Wa(b,11)}else if((u.L||b.g==u)&&Js(b),!C(v))for(L=b.Ba.g.parse(v),v=0;v<L.length;v++){let rt=L[v];const Ct=rt[0];if(!(Ct<=b.K))if(b.K=Ct,rt=rt[1],b.I==2)if(rt[0]=="c"){b.M=rt[1],b.ba=rt[2];const pa=rt[3];pa!=null&&(b.ka=pa,b.j.info("VER="+b.ka));const Ja=rt[4];Ja!=null&&(b.za=Ja,b.j.info("SVER="+b.za));const Da=rt[5];Da!=null&&typeof Da=="number"&&Da>0&&(S=1.5*Da,b.O=S,b.j.info("backChannelRequestTimeoutMs_="+S)),S=b;const Oa=u.g;if(Oa){const us=Oa.g?Oa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(us){var $=S.h;$.g||us.indexOf("spdy")==-1&&us.indexOf("quic")==-1&&us.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(al($,$.h),$.h=null))}if(S.G){const Zs=Oa.g?Oa.g.getResponseHeader("X-HTTP-Session-Id"):null;Zs&&(S.wa=Zs,ot(S.J,S.G,Zs))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),S=b;var oe=u;if(S.na=tu(S,S.L?S.ba:null,S.W),oe.L){rl(S.h,oe);var Pe=oe,Ut=S.O;Ut&&(Pe.H=Ut),Pe.D&&(jn(Pe),Tt(Pe)),S.g=oe}else Xc(S);b.i.length>0&&Xa(b)}else rt[0]!="stop"&&rt[0]!="close"||Wa(b,7);else b.I==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?Wa(b,7):dl(b):rt[0]!="noop"&&b.l&&b.l.qa(rt),b.A=0)}}Dn(4)}catch{}}var Gt=class{constructor(u,v){this.g=u,this.map=v}};function tl(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function nl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Fa(u){return u.h?1:u.g?u.g.size:0}function Ga(u,v){return u.h?u.h==v:u.g?u.g.has(v):!1}function al(u,v){u.g?u.g.add(v):u.h=v}function rl(u,v){u.h&&u.h==v?u.h=null:u.g&&u.g.has(v)&&u.g.delete(v)}tl.prototype.cancel=function(){if(this.i=il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function il(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let v=u.i;for(const b of u.g.values())v=v.concat(b.G);return v}return j(u.i)}var Fc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gs(u,v){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const S=u[b].indexOf("=");let L,$=null;S>=0?(L=u[b].substring(0,S),$=u[b].substring(S+1)):L=u[b],v(L,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function ea(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;u instanceof ea?(this.l=u.l,ln(this,u.j),this.o=u.o,this.g=u.g,ai(this,u.u),this.h=u.h,sl(this,Qc(u.i)),this.m=u.m):u&&(v=String(u).match(Fc))?(this.l=!1,ln(this,v[1]||"",!0),this.o=$a(v[2]||""),this.g=$a(v[3]||"",!0),ai(this,v[4]),this.h=$a(v[5]||"",!0),sl(this,v[6]||"",!0),this.m=$a(v[7]||"")):(this.l=!1,this.i=new ii(null,this.l))}ea.prototype.toString=function(){const u=[];var v=this.j;v&&u.push(as(v,$s,!0),":");var b=this.g;return(b||v=="file")&&(u.push("//"),(v=this.o)&&u.push(as(v,$s,!0),"@"),u.push(On(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(as(b,b.charAt(0)=="/"?ol:Gc,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",as(b,$c)),u.join("")},ea.prototype.resolve=function(u){const v=$t(this);let b=!!u.j;b?ln(v,u.j):b=!!u.o,b?v.o=u.o:b=!!u.g,b?v.g=u.g:b=u.u!=null;var S=u.h;if(b)ai(v,u.u);else if(b=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var L=v.h.lastIndexOf("/");L!=-1&&(S=v.h.slice(0,L+1)+S)}if(L=S,L==".."||L==".")S="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){S=L.lastIndexOf("/",0)==0,L=L.split("/");const $=[];for(let oe=0;oe<L.length;){const Pe=L[oe++];Pe=="."?S&&oe==L.length&&$.push(""):Pe==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),S&&oe==L.length&&$.push("")):($.push(Pe),S=!0)}S=$.join("/")}else S=L}return b?v.h=S:b=u.i.toString()!=="",b?sl(v,Qc(u.i)):b=!!u.m,b&&(v.m=u.m),v};function $t(u){return new ea(u)}function ln(u,v,b){u.j=b?$a(v,!0):v,u.j&&(u.j=u.j.replace(/:$/,""))}function ai(u,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);u.u=v}else u.u=null}function sl(u,v,b){v instanceof ii?(u.i=v,Qs(u.i,u.l)):(b||(v=as(v,ri)),u.i=new ii(v,u.l))}function ot(u,v,b){u.i.set(v,b)}function ns(u){return ot(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function $a(u,v){return u?v?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function as(u,v,b){return typeof u=="string"?(u=encodeURI(u).replace(v,zn),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function zn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var $s=/[#\/\?@]/g,Gc=/[#\?:]/g,ol=/[#\?]/g,ri=/[#\?@]/g,$c=/#/g;function ii(u,v){this.h=this.g=null,this.i=u||null,this.j=!!v}function Bn(u){u.g||(u.g=new Map,u.h=0,u.i&&Gs(u.i,function(v,b){u.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}a=ii.prototype,a.add=function(u,v){Bn(this),this.i=null,u=si(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(v),this.h+=1,this};function Yc(u,v){Bn(u),v=si(u,v),u.g.has(v)&&(u.i=null,u.h-=u.g.get(v).length,u.g.delete(v))}function ll(u,v){return Bn(u),v=si(u,v),u.g.has(v)}a.forEach=function(u,v){Bn(this),this.g.forEach(function(b,S){b.forEach(function(L){u.call(v,L,S,this)},this)},this)};function cl(u,v){Bn(u);let b=[];if(typeof v=="string")ll(u,v)&&(b=b.concat(u.g.get(si(u,v))));else for(u=Array.from(u.g.values()),v=0;v<u.length;v++)b=b.concat(u[v]);return b}a.set=function(u,v){return Bn(this),this.i=null,u=si(this,u),ll(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[v]),this.h+=1,this},a.get=function(u,v){return u?(u=cl(this,u),u.length>0?String(u[0]):v):v};function Ys(u,v,b){Yc(u,v),b.length>0&&(u.i=null,u.g.set(si(u,v),j(b)),u.h+=b.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],v=Array.from(this.g.keys());for(let S=0;S<v.length;S++){var b=v[S];const L=On(b);b=cl(this,b);for(let $=0;$<b.length;$++){let oe=L;b[$]!==""&&(oe+="="+On(b[$])),u.push(oe)}}return this.i=u.join("&")};function Qc(u){const v=new ii;return v.i=u.i,u.g&&(v.g=new Map(u.g),v.h=u.h),v}function si(u,v){return v=String(v),u.j&&(v=v.toLowerCase()),v}function Qs(u,v){v&&!u.j&&(Bn(u),u.i=null,u.g.forEach(function(b,S){const L=S.toLowerCase();S!=L&&(Yc(this,S),Ys(this,L,b))},u)),u.j=v}function Ca(u,v){const b=new sn;if(f.Image){const S=new Image;S.onload=E(da,b,"TestLoadImage: loaded",!0,v,S),S.onerror=E(da,b,"TestLoadImage: error",!1,v,S),S.onabort=E(da,b,"TestLoadImage: abort",!1,v,S),S.ontimeout=E(da,b,"TestLoadImage: timeout",!1,v,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else v(!1)}function ul(u,v){const b=new sn,S=new AbortController,L=setTimeout(()=>{S.abort(),da(b,"TestPingServer: timeout",!1,v)},1e4);fetch(u,{signal:S.signal}).then($=>{clearTimeout(L),$.ok?da(b,"TestPingServer: ok",!0,v):da(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(L),da(b,"TestPingServer: error",!1,v)})}function da(u,v,b,S,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),S(b)}catch{}}function oi(){this.g=new Ba}function Ya(u){this.i=u.Sb||null,this.h=u.ab||!1}T(Ya,_r),Ya.prototype.g=function(){return new rs(this.i,this.h)};function rs(u,v){ht.call(this),this.H=u,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(rs,ht),a=rs.prototype,a.open=function(u,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=v,this.readyState=1,Ra(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(v.body=u),(this.H||f).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,li(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ra(this)),this.g&&(this.readyState=3,Ra(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ks(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ks(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var v=u.value?u.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!u.done}))&&(this.response=this.responseText+=v)}u.done?li(this):Ra(this),this.readyState==3&&Ks(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,li(this))},a.Na=function(u){this.g&&(this.response=u,li(this))},a.ga=function(){this.g&&li(this)};function li(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Ra(u)}a.setRequestHeader=function(u,v){this.A.append(u,v)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=v.next();return u.join(`\r
`)};function Ra(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(rs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ma(u){let v="";return Te(u,function(b,S){v+=S,v+=":",v+=b,v+=`\r
`}),v}function is(u,v,b){e:{for(S in b){var S=!1;break e}S=!0}S||(b=ma(b),typeof u=="string"?b!=null&&On(b):ot(u,v,b))}function ft(u){ht.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(ft,ht);var Qa=/^https?$/i,hl=["POST","PUT"];a=ft.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,v,b,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);v=v?v.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():fa.g(),this.g.onreadystatechange=A(p(this.Ca,this));try{this.B=!0,this.g.open(v,String(u),!0),this.B=!1}catch($){ss(this,$);return}if(u=b||"",b=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var L in S)b.set(L,S[L]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const $ of S.keys())b.set($,S.get($));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(b.keys()).find($=>$.toLowerCase()=="content-type"),L=f.FormData&&u instanceof f.FormData,!(Array.prototype.indexOf.call(hl,v,void 0)>=0)||S||L||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,oe]of b)this.g.setRequestHeader($,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch($){ss(this,$)}};function ss(u,v){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=v,u.o=5,fl(u),Er(u)}function fl(u){u.A||(u.A=!0,yt(u,"complete"),yt(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,yt(this,"complete"),yt(this,"abort"),Er(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Er(this,!0)),ft.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?os(this):this.Xa())},a.Xa=function(){os(this)};function os(u){if(u.h&&typeof c<"u"){if(u.v&&Ia(u)==4)setTimeout(u.Ca.bind(u),0);else if(yt(u,"readystatechange"),Ia(u)==4){u.h=!1;try{const $=u.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var S;if(S=$===0){let oe=String(u.D).match(Fc)[1]||null;!oe&&f.self&&f.self.location&&(oe=f.self.location.protocol.slice(0,-1)),S=!Qa.test(oe?oe.toLowerCase():"")}b=S}if(b)yt(u,"complete"),yt(u,"success");else{u.o=6;try{var L=Ia(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",fl(u)}}finally{Er(u)}}}}function Er(u,v){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,v||yt(u,"ready");try{b.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Ia(u){return u.g?u.g.readyState:0}a.ca=function(){try{return Ia(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var v=this.g.responseText;return u&&v.indexOf(u)==0&&(v=v.substring(u.length)),vr(v)}};function hn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Tr(u){const v={};u=(u.g&&Ia(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(C(u[S]))continue;var b=qa(u[S]);const L=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const $=v[L]||[];v[L]=$,$.push(b)}Ee(v,function(S){return S.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ka(u,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||v}function ci(u){this.za=0,this.i=[],this.j=new sn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ka("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ka("baseRetryDelayMs",5e3,u),this.Za=Ka("retryDelaySeedMs",1e4,u),this.Ta=Ka("forwardChannelMaxRetries",2,u),this.va=Ka("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new tl(u&&u.concurrentRequestLimit),this.Ba=new oi,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=ci.prototype,a.ka=8,a.I=1,a.connect=function(u,v,b,S){St(0),this.W=u,this.H=v||{},b&&S!==void 0&&(this.H.OSID=b,this.H.OAID=S),this.F=this.X,this.J=tu(this,null,this.W),Xa(this)};function dl(u){if(Xs(u),u.I==3){var v=u.V++,b=$t(u.J);if(ot(b,"SID",u.M),ot(b,"RID",v),ot(b,"TYPE","terminate"),ls(u,b),v=new kn(u,u.j,v),v.M=2,v.A=ns($t(b)),b=!1,f.navigator&&f.navigator.sendBeacon)try{b=f.navigator.sendBeacon(v.A.toString(),"")}catch{}!b&&f.Image&&(new Image().src=v.A,b=!0),b||(v.g=nu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Tt(v)}eu(u)}function ui(u){u.g&&(pl(u),u.g.cancel(),u.g=null)}function Xs(u){ui(u),u.v&&(f.clearTimeout(u.v),u.v=null),Js(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&f.clearTimeout(u.m),u.m=null)}function Xa(u){if(!nl(u.h)&&!u.m){u.m=!0;var v=u.Ea;ye||x(),be||(ye(),be=!0),I.add(v,u),u.D=0}}function Ws(u,v){return Fa(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=v.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=bt(p(u.Ea,u,v),Zc(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new kn(this,this.j,u);let $=this.o;if(this.U&&($?($=N($),ne($,this.U)):$=this.U),this.u!==null||this.R||(L.J=$,$=null),this.S)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var S=this.i[b];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(v+=S,v>4096){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=Kc(this,L,v),b=$t(this.J),ot(b,"RID",u),ot(b,"CVER",22),this.G&&ot(b,"X-HTTP-Session-Id",this.G),ls(this,b),$&&(this.R?v="headers="+On(ma($))+"&"+v:this.u&&is(b,this.u,$)),al(this.h,L),this.Ra&&ot(b,"TYPE","init"),this.S?(ot(b,"$req",v),ot(b,"SID","null"),L.U=!0,Fe(L,b,null)):Fe(L,b,v),this.I=2}}else this.I==3&&(u?ml(this,u):this.i.length==0||nl(this.h)||ml(this))};function ml(u,v){var b;v?b=v.l:b=u.V++;const S=$t(u.J);ot(S,"SID",u.M),ot(S,"RID",b),ot(S,"AID",u.K),ls(u,S),u.u&&u.o&&is(S,u.u,u.o),b=new kn(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),v&&(u.i=v.G.concat(u.i)),v=Kc(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),al(u.h,b),Fe(b,S,v)}function ls(u,v){u.H&&Te(u.H,function(b,S){ot(v,S,b)}),u.l&&Te({},function(b,S){ot(v,S,b)})}function Kc(u,v,b){b=Math.min(u.i.length,b);const S=u.l?p(u.l.Ka,u.l,u):null;e:{var L=u.i;let Pe=-1;for(;;){const Ut=["count="+b];Pe==-1?b>0?(Pe=L[0].g,Ut.push("ofs="+Pe)):Pe=0:Ut.push("ofs="+Pe);let rt=!0;for(let Ct=0;Ct<b;Ct++){var $=L[Ct].g;const pa=L[Ct].map;if($-=Pe,$<0)Pe=Math.max(0,L[Ct].g-100),rt=!1;else try{$="req"+$+"_"||"";try{var oe=pa instanceof Map?pa:Object.entries(pa);for(const[Ja,Da]of oe){let Oa=Da;m(Da)&&(Oa=ua(Da)),Ut.push($+Ja+"="+encodeURIComponent(Oa))}}catch(Ja){throw Ut.push($+"type="+encodeURIComponent("_badmap")),Ja}}catch{S&&S(pa)}}if(rt){oe=Ut.join("&");break e}}oe=void 0}return u=u.i.splice(0,b),v.G=u,oe}function Xc(u){if(!u.g&&!u.v){u.Y=1;var v=u.Da;ye||x(),be||(ye(),be=!0),I.add(v,u),u.A=0}}function cs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=bt(p(u.Da,u),Zc(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,Wc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=bt(p(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),ui(this),Wc(this))};function pl(u){u.B!=null&&(f.clearTimeout(u.B),u.B=null)}function Wc(u){u.g=new kn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var v=$t(u.na);ot(v,"RID","rpc"),ot(v,"SID",u.M),ot(v,"AID",u.K),ot(v,"CI",u.F?"0":"1"),!u.F&&u.ia&&ot(v,"TO",u.ia),ot(v,"TYPE","xmlhttp"),ls(u,v),u.u&&u.o&&is(v,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=ns($t(v)),b.u=null,b.R=!0,Ne(b,u)}a.Va=function(){this.C!=null&&(this.C=null,ui(this),cs(this),St(19))};function Js(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function Jc(u,v){var b=null;if(u.g==v){Js(u),pl(u),u.g=null;var S=2}else if(Ga(u.h,v))b=v.G,rl(u.h,v),S=1;else return;if(u.I!=0){if(v.o)if(S==1){b=v.u?v.u.length:0,v=Date.now()-v.F;var L=u.D;S=ha(),yt(S,new _t(S,b)),Xa(u)}else Xc(u);else if(L=v.m,L==3||L==0&&v.X>0||!(S==1&&Ws(u,v)||S==2&&cs(u)))switch(b&&b.length>0&&(v=u.h,v.i=v.i.concat(b)),L){case 1:Wa(u,5);break;case 4:Wa(u,10);break;case 3:Wa(u,6);break;default:Wa(u,2)}}}function Zc(u,v){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*v}function Wa(u,v){if(u.j.info("Error code "+v),v==2){var b=p(u.bb,u),S=u.Ua;const L=!S;S=new ea(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ln(S,"https"),ns(S),L?Ca(S.toString(),b):ul(S.toString(),b)}else St(2);u.I=0,u.l&&u.l.pa(v),eu(u),Xs(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function eu(u){if(u.I=0,u.ja=[],u.l){const v=il(u.h);(v.length!=0||u.i.length!=0)&&(G(u.ja,v),G(u.ja,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.oa()}}function tu(u,v,b){var S=b instanceof ea?$t(b):new ea(b);if(S.g!="")v&&(S.g=v+"."+S.g),ai(S,S.u);else{var L=f.location;S=L.protocol,v=v?v+"."+L.hostname:L.hostname,L=+L.port;const $=new ea(null);S&&ln($,S),v&&($.g=v),L&&ai($,L),b&&($.h=b),S=$}return b=u.G,v=u.wa,b&&v&&ot(S,b,v),ot(S,"VER",u.ka),ls(u,S),S}function nu(u,v,b){if(v&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=u.Aa&&!u.ma?new ft(new Ya({ab:b})):new ft(u.ma),v.Fa(u.L),v}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function au(){}a=au.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function hi(){}hi.prototype.g=function(u,v){return new Pn(u,v)};function Pn(u,v){ht.call(this),this.g=new ci(v),this.l=u,this.h=v&&v.messageUrlParams||null,u=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(u?u["X-WebChannel-Content-Type"]=v.messageContentType:u={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(u?u["X-WebChannel-Client-Profile"]=v.sa:u={"X-WebChannel-Client-Profile":v.sa}),this.g.U=u,(u=v&&v.Qb)&&!C(u)&&(this.g.u=u),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!C(v)&&(this.g.G=v,u=this.h,u!==null&&v in u&&(u=this.h,v in u&&delete u[v])),this.j=new wr(this)}T(Pn,ht),Pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Pn.prototype.close=function(){dl(this.g)},Pn.prototype.o=function(u){var v=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=ua(u),u=b);v.i.push(new Gt(v.Ya++,u)),v.I==3&&Xa(v)},Pn.prototype.N=function(){this.g.l=null,delete this.j,dl(this.g),delete this.g,Pn.Z.N.call(this)};function ru(u){Ot.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var v=u.__sm__;if(v){e:{for(const b in v){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,v=v!==null&&u in v?v[u]:void 0),this.data=v}else this.data=u}T(ru,Ot);function iu(){Tn.call(this),this.status=1}T(iu,Tn);function wr(u){this.g=u}T(wr,au),wr.prototype.ra=function(){yt(this.g,"a")},wr.prototype.qa=function(u){yt(this.g,new ru(u))},wr.prototype.pa=function(u){yt(this.g,new iu)},wr.prototype.oa=function(){yt(this.g,"b")},hi.prototype.createWebChannel=hi.prototype.g,Pn.prototype.send=Pn.prototype.o,Pn.prototype.open=Pn.prototype.m,Pn.prototype.close=Pn.prototype.close,AE=function(){return new hi},SE=function(){return ha()},wE=vt,rp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Jn.NO_ERROR=0,Jn.TIMEOUT=8,Jn.HTTP_ERROR=6,wh=Jn,Na.COMPLETE="complete",TE=Na,ei.EventType=Lt,Lt.OPEN="a",Lt.CLOSE="b",Lt.ERROR="c",Lt.MESSAGE="d",ht.prototype.listen=ht.prototype.J,nc=ei,ft.prototype.listenOnce=ft.prototype.K,ft.prototype.getLastError=ft.prototype.Ha,ft.prototype.getLastErrorCode=ft.prototype.ya,ft.prototype.getStatus=ft.prototype.ca,ft.prototype.getResponseJson=ft.prototype.La,ft.prototype.getResponseText=ft.prototype.la,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Fa,EE=ft}).apply(typeof uh<"u"?uh:typeof self<"u"?self:typeof window<"u"?window:{});const i1="@firebase/firestore",s1="4.9.3";let xn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};xn.UNAUTHENTICATED=new xn(null),xn.GOOGLE_CREDENTIALS=new xn("google-credentials-uid"),xn.FIRST_PARTY=new xn("first-party-uid"),xn.MOCK_USER=new xn("mock-user");let Ko="12.7.0";const js=new Hp("@firebase/firestore");function Io(){return js.logLevel}function me(a,...e){if(js.logLevel<=Ye.DEBUG){const n=e.map(eg);js.debug(`Firestore (${Ko}): ${a}`,...n)}}function Yr(a,...e){if(js.logLevel<=Ye.ERROR){const n=e.map(eg);js.error(`Firestore (${Ko}): ${a}`,...n)}}function qo(a,...e){if(js.logLevel<=Ye.WARN){const n=e.map(eg);js.warn(`Firestore (${Ko}): ${a}`,...n)}}function eg(a){if(typeof a=="string")return a;try{return(function(n){return JSON.stringify(n)})(a)}catch{return a}}function De(a,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,xE(a,i,n)}function xE(a,e,n){let i=`FIRESTORE (${Ko}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Yr(i),new Error(i)}function st(a,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,a||xE(e,o,i)}function Ve(a,e){return a}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Kr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Hr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class NE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _C{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(xn.UNAUTHENTICATED)))}shutdown(){}}class bC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class EC{constructor(e){this.t=e,this.currentUser=xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){st(this.o===void 0,42304);let i=this.i;const o=g=>this.i!==i?(i=this.i,n(g)):Promise.resolve();let c=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Hr,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Hr)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(st(typeof i.accessToken=="string",31837,{l:i}),new NE(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new xn(e)}}class TC{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=xn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class wC{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new TC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(xn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class o1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){st(this.o===void 0,3512);const i=c=>{c.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,me("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>i(c)))};const o=c=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new o1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(st(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new o1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function AC(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<a;i++)n[i]=Math.floor(256*Math.random());return n}class tg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=AC(40);for(let c=0;c<o.length;++c)i.length<20&&o[c]<n&&(i+=e.charAt(o[c]%62))}return i}}function Qe(a,e){return a<e?-1:a>e?1:0}function ip(a,e){const n=Math.min(a.length,e.length);for(let i=0;i<n;i++){const o=a.charAt(i),c=e.charAt(i);if(o!==c)return Mm(o)===Mm(c)?Qe(o,c):Mm(o)?1:-1}return Qe(a.length,e.length)}const xC=55296,NC=57343;function Mm(a){const e=a.charCodeAt(0);return e>=xC&&e<=NC}function Ho(a,e,n){return a.length===e.length&&a.every(((i,o)=>n(i,e[o])))}const l1="__name__";class ir{constructor(e,n,i){n===void 0?n=0:n>e.length&&De(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&De(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return ir.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ir?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const c=ir.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Qe(e.length,n.length)}static compareSegments(e,n){const i=ir.isNumericId(e),o=ir.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?ir.extractNumericId(e).compare(ir.extractNumericId(n)):ip(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hi.fromString(e.substring(4,e.length-2))}}class wt extends ir{construct(e,n,i){return new wt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new de(Z.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((o=>o.length>0)))}return new wt(n)}static emptyPath(){return new wt([])}}const CC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yn extends ir{construct(e,n,i){return new yn(e,n,i)}static isValidIdentifier(e){return CC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===l1}static keyField(){return new yn([l1])}static fromServerFormat(e){const n=[];let i="",o=0;const c=()=>{if(i.length===0)throw new de(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new de(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new de(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(i+=m,o++):(c(),o++)}if(c(),f)throw new de(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yn(n)}static emptyPath(){return new yn([])}}class Se{constructor(e){this.path=e}static fromPath(e){return new Se(wt.fromString(e))}static fromName(e){return new Se(wt.fromString(e).popFirst(5))}static empty(){return new Se(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return wt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new wt(e.slice()))}}function CE(a,e,n){if(!n)throw new de(Z.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function RC(a,e,n,i){if(e===!0&&i===!0)throw new de(Z.INVALID_ARGUMENT,`${a} and ${n} cannot be used together.`)}function c1(a){if(!Se.isDocumentKey(a))throw new de(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function u1(a){if(Se.isDocumentKey(a))throw new de(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function RE(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function af(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":De(12329,{type:typeof a})}function La(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new de(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=af(a);throw new de(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return a}function Zt(a,e){const n={typeString:a};return e&&(n.value=e),n}function Oc(a,e){if(!RE(a))throw new de(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const o=e[i].typeString,c="value"in e[i]?{value:e[i].value}:void 0;if(!(i in a)){n=`JSON missing required field: '${i}'`;break}const f=a[i];if(o&&typeof f!==o){n=`JSON field '${i}' must be a ${o}.`;break}if(c!==void 0&&f!==c.value){n=`Expected '${i}' field to equal '${c.value}'`;break}}if(n)throw new de(Z.INVALID_ARGUMENT,n);return!0}const h1=-62135596800,f1=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*f1);return new gt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<h1)throw new de(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/f1}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Oc(e,gt._jsonSchema))return new gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-h1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gt._jsonSchemaVersion="firestore/timestamp/1.0",gt._jsonSchema={type:Zt("string",gt._jsonSchemaVersion),seconds:Zt("number"),nanoseconds:Zt("number")};class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new gt(0,0))}static max(){return new ke(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const yc=-1;function IC(a,e){const n=a.toTimestamp().seconds,i=a.toTimestamp().nanoseconds+1,o=ke.fromTimestamp(i===1e9?new gt(n+1,0):new gt(n,i));return new $i(o,Se.empty(),e)}function DC(a){return new $i(a.readTime,a.key,yc)}class $i{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new $i(ke.min(),Se.empty(),yc)}static max(){return new $i(ke.max(),Se.empty(),yc)}}function OC(a,e){let n=a.readTime.compareTo(e.readTime);return n!==0?n:(n=Se.comparator(a.documentKey,e.documentKey),n!==0?n:Qe(a.largestBatchId,e.largestBatchId))}const kC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Xo(a){if(a.code!==Z.FAILED_PRECONDITION||a.message!==kC)throw a;me("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((i,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(i,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,i)=>{n(e)}))}static reject(e){return new te(((n,i)=>{i(e)}))}static waitFor(e){return new te(((n,i)=>{let o=0,c=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++c,f&&c===o&&n()}),(g=>i(g)))})),f=!0,c===o&&n()}))}static or(e){let n=te.resolve(!1);for(const i of e)n=n.next((o=>o?te.resolve(o):i()));return n}static forEach(e,n){const i=[];return e.forEach(((o,c)=>{i.push(n.call(this,o,c))})),this.waitFor(i)}static mapArray(e,n){return new te(((i,o)=>{const c=e.length,f=new Array(c);let m=0;for(let g=0;g<c;g++){const p=g;n(e[p]).next((E=>{f[p]=E,++m,m===c&&i(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new te(((i,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):i()};c()}))}}function jC(a){const e=a.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wo(a){return a.name==="IndexedDbTransactionError"}class rf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}rf.ce=-1;const ng=-1;function sf(a){return a==null}function Lh(a){return a===0&&1/a==-1/0}function VC(a){return typeof a=="number"&&Number.isInteger(a)&&!Lh(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const IE="";function PC(a){let e="";for(let n=0;n<a.length;n++)e.length>0&&(e=d1(e)),e=LC(a.get(n),e);return d1(e)}function LC(a,e){let n=e;const i=a.length;for(let o=0;o<i;o++){const c=a.charAt(o);switch(c){case"\0":n+="";break;case IE:n+="";break;default:n+=c}}return n}function d1(a){return a+IE+""}function m1(a){let e=0;for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&e++;return e}function Ji(a,e){for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&e(n,a[n])}function DE(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class Mt{constructor(e,n){this.comparator=e,this.root=n||gn.EMPTY}insert(e,n){return new Mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(e){return new Mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hh(this.root,e,this.comparator,!1)}getReverseIterator(){return new hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hh(this.root,e,this.comparator,!0)}}class hh{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?i(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gn{constructor(e,n,i,o,c){this.key=e,this.value=n,this.color=i??gn.RED,this.left=o??gn.EMPTY,this.right=c??gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,c){return new gn(e??this.key,n??this.value,i??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const c=i(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,i),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return gn.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,n,i,o,c){return this}insert(e,n,i){return new gn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class nn{constructor(e){this.comparator=e,this.data=new Mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new p1(this.data.getIterator())}getIteratorFrom(e){return new p1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=i.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new nn(this.comparator);return n.data=e,n}}class p1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class la{constructor(e){this.fields=e,e.sort(yn.comparator)}static empty(){return new la([])}unionWith(e){let n=new nn(yn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new la(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ho(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class OE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class _n{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new OE("Invalid base64 string: "+c):c}})(e);return new _n(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c})(e);return new _n(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_n.EMPTY_BYTE_STRING=new _n("");const UC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yi(a){if(st(!!a,39018),typeof a=="string"){let e=0;const n=UC.exec(a);if(st(!!n,46558,{timestamp:a}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(a);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:qt(a.seconds),nanos:qt(a.nanos)}}function qt(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Qi(a){return typeof a=="string"?_n.fromBase64String(a):_n.fromUint8Array(a)}const kE="server_timestamp",ME="__type__",jE="__previous_value__",VE="__local_write_time__";function ag(a){return(a?.mapValue?.fields||{})[ME]?.stringValue===kE}function of(a){const e=a.mapValue.fields[jE];return ag(e)?of(e):e}function vc(a){const e=Yi(a.mapValue.fields[VE].timestampValue);return new gt(e.seconds,e.nanos)}class zC{constructor(e,n,i,o,c,f,m,g,p,E){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=E}}const Uh="(default)";class _c{constructor(e,n){this.projectId=e,this.database=n||Uh}static empty(){return new _c("","")}get isDefaultDatabase(){return this.database===Uh}isEqual(e){return e instanceof _c&&e.projectId===this.projectId&&e.database===this.database}}const PE="__type__",BC="__max__",fh={mapValue:{}},LE="__vector__",zh="value";function Ki(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?ag(a)?4:HC(a)?9007199254740991:qC(a)?10:11:De(28295,{value:a})}function mr(a,e){if(a===e)return!0;const n=Ki(a);if(n!==Ki(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return vc(a).isEqual(vc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=Yi(o.timestampValue),m=Yi(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(o,c){return Qi(o.bytesValue).isEqual(Qi(c.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(o,c){return qt(o.geoPointValue.latitude)===qt(c.geoPointValue.latitude)&&qt(o.geoPointValue.longitude)===qt(c.geoPointValue.longitude)})(a,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return qt(o.integerValue)===qt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=qt(o.doubleValue),m=qt(c.doubleValue);return f===m?Lh(f)===Lh(m):isNaN(f)&&isNaN(m)}return!1})(a,e);case 9:return Ho(a.arrayValue.values||[],e.arrayValue.values||[],mr);case 10:case 11:return(function(o,c){const f=o.mapValue.fields||{},m=c.mapValue.fields||{};if(m1(f)!==m1(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!mr(f[g],m[g])))return!1;return!0})(a,e);default:return De(52216,{left:a})}}function bc(a,e){return(a.values||[]).find((n=>mr(n,e)))!==void 0}function Fo(a,e){if(a===e)return 0;const n=Ki(a),i=Ki(e);if(n!==i)return Qe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(a.booleanValue,e.booleanValue);case 2:return(function(c,f){const m=qt(c.integerValue||c.doubleValue),g=qt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(a,e);case 3:return g1(a.timestampValue,e.timestampValue);case 4:return g1(vc(a),vc(e));case 5:return ip(a.stringValue,e.stringValue);case 6:return(function(c,f){const m=Qi(c),g=Qi(f);return m.compareTo(g)})(a.bytesValue,e.bytesValue);case 7:return(function(c,f){const m=c.split("/"),g=f.split("/");for(let p=0;p<m.length&&p<g.length;p++){const E=Qe(m[p],g[p]);if(E!==0)return E}return Qe(m.length,g.length)})(a.referenceValue,e.referenceValue);case 8:return(function(c,f){const m=Qe(qt(c.latitude),qt(f.latitude));return m!==0?m:Qe(qt(c.longitude),qt(f.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return y1(a.arrayValue,e.arrayValue);case 10:return(function(c,f){const m=c.fields||{},g=f.fields||{},p=m[zh]?.arrayValue,E=g[zh]?.arrayValue,T=Qe(p?.values?.length||0,E?.values?.length||0);return T!==0?T:y1(p,E)})(a.mapValue,e.mapValue);case 11:return(function(c,f){if(c===fh.mapValue&&f===fh.mapValue)return 0;if(c===fh.mapValue)return 1;if(f===fh.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),p=f.fields||{},E=Object.keys(p);g.sort(),E.sort();for(let T=0;T<g.length&&T<E.length;++T){const A=ip(g[T],E[T]);if(A!==0)return A;const j=Fo(m[g[T]],p[E[T]]);if(j!==0)return j}return Qe(g.length,E.length)})(a.mapValue,e.mapValue);default:throw De(23264,{he:n})}}function g1(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Qe(a,e);const n=Yi(a),i=Yi(e),o=Qe(n.seconds,i.seconds);return o!==0?o:Qe(n.nanos,i.nanos)}function y1(a,e){const n=a.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const c=Fo(n[o],i[o]);if(c)return c}return Qe(n.length,i.length)}function Go(a){return sp(a)}function sp(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(n){const i=Yi(n);return`time(${i.seconds},${i.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(n){return Qi(n).toBase64()})(a.bytesValue):"referenceValue"in a?(function(n){return Se.fromName(n).toString()})(a.referenceValue):"geoPointValue"in a?(function(n){return`geo(${n.latitude},${n.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(n){let i="[",o=!0;for(const c of n.values||[])o?o=!1:i+=",",i+=sp(c);return i+"]"})(a.arrayValue):"mapValue"in a?(function(n){const i=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const f of i)c?c=!1:o+=",",o+=`${f}:${sp(n.fields[f])}`;return o+"}"})(a.mapValue):De(61005,{value:a})}function Sh(a){switch(Ki(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=of(a);return e?16+Sh(e):16;case 5:return 2*a.stringValue.length;case 6:return Qi(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,c)=>o+Sh(c)),0)})(a.arrayValue);case 10:case 11:return(function(i){let o=0;return Ji(i.fields,((c,f)=>{o+=c.length+Sh(f)})),o})(a.mapValue);default:throw De(13486,{value:a})}}function v1(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function op(a){return!!a&&"integerValue"in a}function rg(a){return!!a&&"arrayValue"in a}function _1(a){return!!a&&"nullValue"in a}function b1(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Ah(a){return!!a&&"mapValue"in a}function qC(a){return(a?.mapValue?.fields||{})[PE]?.stringValue===LE}function cc(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return Ji(a.mapValue.fields,((n,i)=>e.mapValue.fields[n]=cc(i))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(a.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cc(a.arrayValue.values[n]);return e}return{...a}}function HC(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===BC}class Kn{constructor(e){this.value=e}static empty(){return new Kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Ah(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cc(n)}setAll(e){let n=yn.emptyPath(),i={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,i,o),i={},o=[],n=m.popLast()}f?i[m.lastSegment()]=cc(f):o.push(m.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,i,o)}delete(e){const n=this.field(e.popLast());Ah(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];Ah(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){Ji(n,((o,c)=>e[o]=c));for(const o of i)delete e[o]}clone(){return new Kn(cc(this.value))}}function UE(a){const e=[];return Ji(a.fields,((n,i)=>{const o=new yn([n]);if(Ah(i)){const c=UE(i.mapValue).fields;if(c.length===0)e.push(o);else for(const f of c)e.push(o.child(f))}else e.push(o)})),new la(e)}class Nn{constructor(e,n,i,o,c,f,m){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Nn(e,0,ke.min(),ke.min(),ke.min(),Kn.empty(),0)}static newFoundDocument(e,n,i,o){return new Nn(e,1,n,ke.min(),i,o,0)}static newNoDocument(e,n){return new Nn(e,2,n,ke.min(),ke.min(),Kn.empty(),0)}static newUnknownDocument(e,n){return new Nn(e,3,n,ke.min(),ke.min(),Kn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bh{constructor(e,n){this.position=e,this.inclusive=n}}function E1(a,e,n){let i=0;for(let o=0;o<a.position.length;o++){const c=e[o],f=a.position[o];if(c.field.isKeyField()?i=Se.comparator(Se.fromName(f.referenceValue),n.key):i=Fo(f,n.data.field(c.field)),c.dir==="desc"&&(i*=-1),i!==0)break}return i}function T1(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let n=0;n<a.position.length;n++)if(!mr(a.position[n],e.position[n]))return!1;return!0}class qh{constructor(e,n="asc"){this.field=e,this.dir=n}}function FC(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class zE{}class Jt extends zE{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new $C(e,n,i):n==="array-contains"?new KC(e,i):n==="in"?new XC(e,i):n==="not-in"?new WC(e,i):n==="array-contains-any"?new JC(e,i):new Jt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new YC(e,i):new QC(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Fo(n,this.value)):n!==null&&Ki(this.value)===Ki(n)&&this.matchesComparison(Fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class za extends zE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new za(e,n)}matches(e){return BE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function BE(a){return a.op==="and"}function qE(a){return GC(a)&&BE(a)}function GC(a){for(const e of a.filters)if(e instanceof za)return!1;return!0}function lp(a){if(a instanceof Jt)return a.field.canonicalString()+a.op.toString()+Go(a.value);if(qE(a))return a.filters.map((e=>lp(e))).join(",");{const e=a.filters.map((n=>lp(n))).join(",");return`${a.op}(${e})`}}function HE(a,e){return a instanceof Jt?(function(i,o){return o instanceof Jt&&i.op===o.op&&i.field.isEqual(o.field)&&mr(i.value,o.value)})(a,e):a instanceof za?(function(i,o){return o instanceof za&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((c,f,m)=>c&&HE(f,o.filters[m])),!0):!1})(a,e):void De(19439)}function FE(a){return a instanceof Jt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Go(n.value)}`})(a):a instanceof za?(function(n){return n.op.toString()+" {"+n.getFilters().map(FE).join(" ,")+"}"})(a):"Filter"}class $C extends Jt{constructor(e,n,i){super(e,n,i),this.key=Se.fromName(i.referenceValue)}matches(e){const n=Se.comparator(e.key,this.key);return this.matchesComparison(n)}}class YC extends Jt{constructor(e,n){super(e,"in",n),this.keys=GE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class QC extends Jt{constructor(e,n){super(e,"not-in",n),this.keys=GE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function GE(a,e){return(e.arrayValue?.values||[]).map((n=>Se.fromName(n.referenceValue)))}class KC extends Jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return rg(n)&&bc(n.arrayValue,this.value)}}class XC extends Jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&bc(this.value.arrayValue,n)}}class WC extends Jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(bc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!bc(this.value.arrayValue,n)}}class JC extends Jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!rg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>bc(this.value.arrayValue,i)))}}class ZC{constructor(e,n=null,i=[],o=[],c=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=c,this.startAt=f,this.endAt=m,this.Te=null}}function w1(a,e=null,n=[],i=[],o=null,c=null,f=null){return new ZC(a,e,n,i,o,c,f)}function ig(a){const e=Ve(a);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>lp(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(c){return c.field.canonicalString()+c.dir})(i))).join(","),sf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Go(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Go(i))).join(",")),e.Te=n}return e.Te}function sg(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<a.orderBy.length;n++)if(!FC(a.orderBy[n],e.orderBy[n]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let n=0;n<a.filters.length;n++)if(!HE(a.filters[n],e.filters[n]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!T1(a.startAt,e.startAt)&&T1(a.endAt,e.endAt)}function cp(a){return Se.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class kc{constructor(e,n=null,i=[],o=[],c=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function eR(a,e,n,i,o,c,f,m){return new kc(a,e,n,i,o,c,f,m)}function lf(a){return new kc(a)}function S1(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function $E(a){return a.collectionGroup!==null}function uc(a){const e=Ve(a);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new nn(yn.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new qh(c,i))})),n.has(yn.keyField().canonicalString())||e.Ie.push(new qh(yn.keyField(),i))}return e.Ie}function ur(a){const e=Ve(a);return e.Ee||(e.Ee=tR(e,uc(a))),e.Ee}function tR(a,e){if(a.limitType==="F")return w1(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new qh(o.field,c)}));const n=a.endAt?new Bh(a.endAt.position,a.endAt.inclusive):null,i=a.startAt?new Bh(a.startAt.position,a.startAt.inclusive):null;return w1(a.path,a.collectionGroup,e,a.filters,a.limit,n,i)}}function up(a,e){const n=a.filters.concat([e]);return new kc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),n,a.limit,a.limitType,a.startAt,a.endAt)}function hp(a,e,n){return new kc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,n,a.startAt,a.endAt)}function cf(a,e){return sg(ur(a),ur(e))&&a.limitType===e.limitType}function YE(a){return`${ig(ur(a))}|lt:${a.limitType}`}function Do(a){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((o=>FE(o))).join(", ")}]`),sf(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((o=>Go(o))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((o=>Go(o))).join(",")),`Target(${i})`})(ur(a))}; limitType=${a.limitType})`}function uf(a,e){return e.isFoundDocument()&&(function(i,o){const c=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):Se.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)})(a,e)&&(function(i,o){for(const c of uc(i))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(a,e)&&(function(i,o){for(const c of i.filters)if(!c.matches(o))return!1;return!0})(a,e)&&(function(i,o){return!(i.startAt&&!(function(f,m,g){const p=E1(f,m,g);return f.inclusive?p<=0:p<0})(i.startAt,uc(i),o)||i.endAt&&!(function(f,m,g){const p=E1(f,m,g);return f.inclusive?p>=0:p>0})(i.endAt,uc(i),o))})(a,e)}function nR(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function QE(a){return(e,n)=>{let i=!1;for(const o of uc(a)){const c=aR(o,e,n);if(c!==0)return c;i=i||o.field.isKeyField()}return 0}}function aR(a,e,n){const i=a.field.isKeyField()?Se.comparator(e.key,n.key):(function(c,f,m){const g=f.data.field(c),p=m.data.field(c);return g!==null&&p!==null?Fo(g,p):De(42886)})(a.field,e,n);switch(a.dir){case"asc":return i;case"desc":return-1*i;default:return De(19790,{direction:a.dir})}}class zs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,c]of i)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ji(this.inner,((n,i)=>{for(const[o,c]of i)e(o,c)}))}isEmpty(){return DE(this.inner)}size(){return this.innerSize}}const rR=new Mt(Se.comparator);function Qr(){return rR}const KE=new Mt(Se.comparator);function ac(...a){let e=KE;for(const n of a)e=e.insert(n.key,n);return e}function XE(a){let e=KE;return a.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Ns(){return hc()}function WE(){return hc()}function hc(){return new zs((a=>a.toString()),((a,e)=>a.isEqual(e)))}const iR=new Mt(Se.comparator),sR=new nn(Se.comparator);function Ke(...a){let e=sR;for(const n of a)e=e.add(n);return e}const oR=new nn(Qe);function lR(){return oR}function og(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lh(e)?"-0":e}}function JE(a){return{integerValue:""+a}}function cR(a,e){return VC(e)?JE(e):og(a,e)}class hf{constructor(){this._=void 0}}function uR(a,e,n){return a instanceof Ec?(function(o,c){const f={fields:{[ME]:{stringValue:kE},[VE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&ag(c)&&(c=of(c)),c&&(f.fields[jE]=c),{mapValue:f}})(n,e):a instanceof Tc?eT(a,e):a instanceof wc?tT(a,e):(function(o,c){const f=ZE(o,c),m=A1(f)+A1(o.Ae);return op(f)&&op(o.Ae)?JE(m):og(o.serializer,m)})(a,e)}function hR(a,e,n){return a instanceof Tc?eT(a,e):a instanceof wc?tT(a,e):n}function ZE(a,e){return a instanceof Hh?(function(i){return op(i)||(function(c){return!!c&&"doubleValue"in c})(i)})(e)?e:{integerValue:0}:null}class Ec extends hf{}class Tc extends hf{constructor(e){super(),this.elements=e}}function eT(a,e){const n=nT(e);for(const i of a.elements)n.some((o=>mr(o,i)))||n.push(i);return{arrayValue:{values:n}}}class wc extends hf{constructor(e){super(),this.elements=e}}function tT(a,e){let n=nT(e);for(const i of a.elements)n=n.filter((o=>!mr(o,i)));return{arrayValue:{values:n}}}class Hh extends hf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function A1(a){return qt(a.integerValue||a.doubleValue)}function nT(a){return rg(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class fR{constructor(e,n){this.field=e,this.transform=n}}function dR(a,e){return a.field.isEqual(e.field)&&(function(i,o){return i instanceof Tc&&o instanceof Tc||i instanceof wc&&o instanceof wc?Ho(i.elements,o.elements,mr):i instanceof Hh&&o instanceof Hh?mr(i.Ae,o.Ae):i instanceof Ec&&o instanceof Ec})(a.transform,e.transform)}class mR{constructor(e,n){this.version=e,this.transformResults=n}}class Aa{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Aa}static exists(e){return new Aa(void 0,e)}static updateTime(e){return new Aa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xh(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class ff{}function aT(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new lg(a.key,Aa.none()):new Mc(a.key,a.data,Aa.none());{const n=a.data,i=Kn.empty();let o=new nn(yn.comparator);for(let c of e.fields)if(!o.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?i.delete(c):i.set(c,f),o=o.add(c)}return new Zi(a.key,i,new la(o.toArray()),Aa.none())}}function pR(a,e,n){a instanceof Mc?(function(o,c,f){const m=o.value.clone(),g=N1(o.fieldTransforms,c,f.transformResults);m.setAll(g),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(a,e,n):a instanceof Zi?(function(o,c,f){if(!xh(o.precondition,c))return void c.convertToUnknownDocument(f.version);const m=N1(o.fieldTransforms,c,f.transformResults),g=c.data;g.setAll(rT(o)),g.setAll(m),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(a,e,n):(function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function fc(a,e,n,i){return a instanceof Mc?(function(c,f,m,g){if(!xh(c.precondition,f))return m;const p=c.value.clone(),E=C1(c.fieldTransforms,g,f);return p.setAll(E),f.convertToFoundDocument(f.version,p).setHasLocalMutations(),null})(a,e,n,i):a instanceof Zi?(function(c,f,m,g){if(!xh(c.precondition,f))return m;const p=C1(c.fieldTransforms,g,f),E=f.data;return E.setAll(rT(c)),E.setAll(p),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((T=>T.field)))})(a,e,n,i):(function(c,f,m){return xh(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(a,e,n)}function gR(a,e){let n=null;for(const i of a.fieldTransforms){const o=e.data.field(i.field),c=ZE(i.transform,o||null);c!=null&&(n===null&&(n=Kn.empty()),n.set(i.field,c))}return n||null}function x1(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Ho(i,o,((c,f)=>dR(c,f)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Mc extends ff{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Zi extends ff{constructor(e,n,i,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function rT(a){const e=new Map;return a.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=a.data.field(n);e.set(n,i)}})),e}function N1(a,e,n){const i=new Map;st(a.length===n.length,32656,{Re:n.length,Ve:a.length});for(let o=0;o<n.length;o++){const c=a[o],f=c.transform,m=e.data.field(c.field);i.set(c.field,hR(f,m,n[o]))}return i}function C1(a,e,n){const i=new Map;for(const o of a){const c=o.transform,f=n.data.field(o.field);i.set(o.field,uR(c,f,e))}return i}class lg extends ff{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yR extends ff{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vR{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&pR(c,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=fc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=fc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=WE();return this.mutations.forEach((o=>{const c=e.get(o.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=n.has(o.key)?null:m;const g=aT(f,m);g!==null&&i.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(ke.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ke())}isEqual(e){return this.batchId===e.batchId&&Ho(this.mutations,e.mutations,((n,i)=>x1(n,i)))&&Ho(this.baseMutations,e.baseMutations,((n,i)=>x1(n,i)))}}class cg{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){st(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return iR})();const c=e.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,i[f].version);return new cg(e,n,i,o)}}class _R{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class bR{constructor(e,n){this.count=e,this.unchangedNames=n}}var Wt,Ze;function ER(a){switch(a){case Z.OK:return De(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return De(15467,{code:a})}}function iT(a){if(a===void 0)return Yr("GRPC error has no .code"),Z.UNKNOWN;switch(a){case Wt.OK:return Z.OK;case Wt.CANCELLED:return Z.CANCELLED;case Wt.UNKNOWN:return Z.UNKNOWN;case Wt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Wt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Wt.INTERNAL:return Z.INTERNAL;case Wt.UNAVAILABLE:return Z.UNAVAILABLE;case Wt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Wt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Wt.NOT_FOUND:return Z.NOT_FOUND;case Wt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Wt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Wt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Wt.ABORTED:return Z.ABORTED;case Wt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Wt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Wt.DATA_LOSS:return Z.DATA_LOSS;default:return De(39323,{code:a})}}(Ze=Wt||(Wt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";function TR(){return new TextEncoder}const wR=new Hi([4294967295,4294967295],0);function R1(a){const e=TR().encode(a),n=new bE;return n.update(e),new Uint8Array(n.digest())}function I1(a){const e=new DataView(a.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Hi([n,i],0),new Hi([o,c],0)]}class ug{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new rc(`Invalid padding: ${n}`);if(i<0)throw new rc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new rc(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new rc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Hi.fromNumber(this.ge)}ye(e,n,i){let o=e.add(n.multiply(Hi.fromNumber(i)));return o.compare(wR)===1&&(o=new Hi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=R1(e),[i,o]=I1(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(i,o,c);if(!this.we(f))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new ug(c,o,n);return i.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=R1(e),[i,o]=I1(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(i,o,c);this.Se(f)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class rc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class df{constructor(e,n,i,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,jc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new df(ke.min(),o,new Mt(Qe),Qr(),Ke())}}class jc{constructor(e,n,i,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new jc(i,n,Ke(),Ke(),Ke())}}class Nh{constructor(e,n,i,o){this.be=e,this.removedTargetIds=n,this.key=i,this.De=o}}class sT{constructor(e,n){this.targetId=e,this.Ce=n}}class oT{constructor(e,n,i=_n.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class D1{constructor(){this.ve=0,this.Fe=O1(),this.Me=_n.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ke(),n=Ke(),i=Ke();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:De(38017,{changeType:c})}})),new jc(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=O1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class SR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Qr(),this.Je=dh(),this.He=dh(),this.Ye=new Mt(Qe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:De(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,i=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(cp(c))if(i===0){const f=new Se(c.path);this.et(n,f,Nn.newNoDocument(f,ke.min()))}else st(i===1,20013,{expectedCount:i});else{const f=this._t(n);if(f!==i){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:c=0}=n;let f,m;try{f=Qi(i).toUint8Array()}catch(g){if(g instanceof OE)return qo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new ug(f,o,c)}catch(g){return qo(g instanceof rc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let o=0;return i.forEach((c=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,f)=>{const m=this.ot(f);if(m){if(c.current&&cp(m.target)){const g=new Se(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Nn.newNoDocument(g,e))}c.Be&&(n.set(f,c.ke()),c.qe())}}));let i=Ke();this.He.forEach(((c,f)=>{let m=!0;f.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(i=i.add(c))})),this.je.forEach(((c,f)=>f.setReadTime(e)));const o=new df(e,n,this.Ye,this.je,i);return this.je=Qr(),this.Je=dh(),this.He=dh(),this.Ye=new Mt(Qe),o}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new D1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new nn(Qe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new nn(Qe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new D1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function dh(){return new Mt(Se.comparator)}function O1(){return new Mt(Se.comparator)}const AR={asc:"ASCENDING",desc:"DESCENDING"},xR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NR={and:"AND",or:"OR"};class CR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fp(a,e){return a.useProto3Json||sf(e)?e:{value:e}}function Fh(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lT(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function RR(a,e){return Fh(a,e.toTimestamp())}function hr(a){return st(!!a,49232),ke.fromTimestamp((function(n){const i=Yi(n);return new gt(i.seconds,i.nanos)})(a))}function hg(a,e){return dp(a,e).canonicalString()}function dp(a,e){const n=(function(o){return new wt(["projects",o.projectId,"databases",o.database])})(a).child("documents");return e===void 0?n:n.child(e)}function cT(a){const e=wt.fromString(a);return st(mT(e),10190,{key:e.toString()}),e}function mp(a,e){return hg(a.databaseId,e.path)}function jm(a,e){const n=cT(e);if(n.get(1)!==a.databaseId.projectId)throw new de(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+a.databaseId.projectId);if(n.get(3)!==a.databaseId.database)throw new de(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+a.databaseId.database);return new Se(hT(n))}function uT(a,e){return hg(a.databaseId,e)}function IR(a){const e=cT(a);return e.length===4?wt.emptyPath():hT(e)}function pp(a){return new wt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function hT(a){return st(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function k1(a,e,n){return{name:mp(a,e),fields:n.value.mapValue.fields}}function DR(a,e){let n;if("targetChange"in e){e.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:De(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(p,E){return p.useProto3Json?(st(E===void 0||typeof E=="string",58123),_n.fromBase64String(E||"")):(st(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),_n.fromUint8Array(E||new Uint8Array))})(a,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(p){const E=p.code===void 0?Z.UNKNOWN:iT(p.code);return new de(E,p.message||"")})(f);n=new oT(i,o,c,m||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=jm(a,i.document.name),c=hr(i.document.updateTime),f=i.document.createTime?hr(i.document.createTime):ke.min(),m=new Kn({mapValue:{fields:i.document.fields}}),g=Nn.newFoundDocument(o,c,f,m),p=i.targetIds||[],E=i.removedTargetIds||[];n=new Nh(p,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=jm(a,i.document),c=i.readTime?hr(i.readTime):ke.min(),f=Nn.newNoDocument(o,c),m=i.removedTargetIds||[];n=new Nh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=jm(a,i.document),c=i.removedTargetIds||[];n=new Nh([],c,o,null)}else{if(!("filter"in e))return De(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:c}=i,f=new bR(o,c),m=i.targetId;n=new sT(m,f)}}return n}function OR(a,e){let n;if(e instanceof Mc)n={update:k1(a,e.key,e.value)};else if(e instanceof lg)n={delete:mp(a,e.key)};else if(e instanceof Zi)n={update:k1(a,e.key,e.data),updateMask:BR(e.fieldMask)};else{if(!(e instanceof yR))return De(16599,{Vt:e.type});n={verify:mp(a,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(c,f){const m=f.transform;if(m instanceof Ec)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Tc)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof wc)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Hh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw De(20930,{transform:f.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:RR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:De(27497)})(a,e.precondition)),n}function kR(a,e){return a&&a.length>0?(st(e!==void 0,14353),a.map((n=>(function(o,c){let f=o.updateTime?hr(o.updateTime):hr(c);return f.isEqual(ke.min())&&(f=hr(c)),new mR(f,o.transformResults||[])})(n,e)))):[]}function MR(a,e){return{documents:[uT(a,e.path)]}}function jR(a,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=uT(a,o);const c=(function(p){if(p.length!==0)return dT(za.create(p,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const f=(function(p){if(p.length!==0)return p.map((E=>(function(A){return{field:Oo(A.field),direction:LR(A.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=fp(a,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function VR(a){let e=IR(a.parent);const n=a.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){st(i===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];n.where&&(c=(function(T){const A=fT(T);return A instanceof za&&qE(A)?A.getFilters():[A]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((A=>(function(G){return new qh(ko(G.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let A;return A=typeof T=="object"?T.value:T,sf(A)?null:A})(n.limit));let g=null;n.startAt&&(g=(function(T){const A=!!T.before,j=T.values||[];return new Bh(j,A)})(n.startAt));let p=null;return n.endAt&&(p=(function(T){const A=!T.before,j=T.values||[];return new Bh(j,A)})(n.endAt)),eR(e,o,f,c,m,"F",g,p)}function PR(a,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function fT(a){return a.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ko(n.unaryFilter.field);return Jt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=ko(n.unaryFilter.field);return Jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ko(n.unaryFilter.field);return Jt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ko(n.unaryFilter.field);return Jt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}})(a):a.fieldFilter!==void 0?(function(n){return Jt.create(ko(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(n){return za.create(n.compositeFilter.filters.map((i=>fT(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return De(1026)}})(n.compositeFilter.op))})(a):De(30097,{filter:a})}function LR(a){return AR[a]}function UR(a){return xR[a]}function zR(a){return NR[a]}function Oo(a){return{fieldPath:a.canonicalString()}}function ko(a){return yn.fromServerFormat(a.fieldPath)}function dT(a){return a instanceof Jt?(function(n){if(n.op==="=="){if(b1(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NAN"}};if(_1(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(b1(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NOT_NAN"}};if(_1(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oo(n.field),op:UR(n.op),value:n.value}}})(a):a instanceof za?(function(n){const i=n.getFilters().map((o=>dT(o)));return i.length===1?i[0]:{compositeFilter:{op:zR(n.op),filters:i}}})(a):De(54877,{filter:a})}function BR(a){const e=[];return a.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function mT(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class Ui{constructor(e,n,i,o,c=ke.min(),f=ke.min(),m=_n.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Ui(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class qR{constructor(e){this.yt=e}}function HR(a){const e=VR({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?hp(e,e.limit,"L"):e}class FR{constructor(){this.Cn=new GR}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve($i.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve($i.min())}updateCollectionGroup(e,n,i){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class GR{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new nn(wt.comparator),c=!o.has(i);return this.index[n]=o.add(i),c}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new nn(wt.comparator)).toArray()}}const M1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pT=41943040;class Yn{static withCacheSize(e){return new Yn(e,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}Yn.DEFAULT_COLLECTION_PERCENTILE=10,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yn.DEFAULT=new Yn(pT,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yn.DISABLED=new Yn(-1,0,0);class $o{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new $o(0)}static cr(){return new $o(-1)}}const j1="LruGarbageCollector",$R=1048576;function V1([a,e],[n,i]){const o=Qe(a,n);return o===0?Qe(e,i):o}class YR{constructor(e){this.Ir=e,this.buffer=new nn(V1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();V1(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class QR{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(j1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wo(n)?me(j1,"Ignoring IndexedDB error during garbage collection: ",n):await Xo(n)}await this.Vr(3e5)}))}}class KR{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(rf.ce);const i=new YR(n);return this.mr.forEachTarget(e,(o=>i.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>i.Ar(o))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(M1)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),M1):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,o,c,f,m,g,p;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(i=T,m=Date.now(),this.removeTargets(e,i,n)))).next((T=>(c=T,g=Date.now(),this.removeOrphanedDocuments(e,i)))).next((T=>(p=Date.now(),Io()<=Ye.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${T} documents in `+(p-g)+`ms
Total Duration: ${p-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:T}))))}}function XR(a,e){return new KR(a,e)}class WR{constructor(){this.changes=new zs((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?te.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class JR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class ZR{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(i!==null&&fc(i.mutation,o,la.empty(),gt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Ke()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Ke()){const o=Ns();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,i).next((c=>{let f=ac();return c.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const i=Ns();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Ke())))}populateOverlays(e,n,i){const o=[];return i.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,i,o){let c=Qr();const f=hc(),m=(function(){return hc()})();return n.forEach(((g,p)=>{const E=i.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof Zi)?c=c.insert(p.key,p):E!==void 0?(f.set(p.key,E.mutation.getFieldMask()),fc(E.mutation,p,E.mutation.getFieldMask(),gt.now())):f.set(p.key,la.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((p,E)=>f.set(p,E))),n.forEach(((p,E)=>m.set(p,new JR(E,f.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const i=hc();let o=new Mt(((f,m)=>f-m)),c=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let E=i.get(g)||la.empty();E=m.applyToLocalView(p,E),i.set(g,E);const T=(o.get(m.batchId)||Ke()).add(g);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,E=g.value,T=WE();E.forEach((A=>{if(!c.has(A)){const j=aT(n.get(A),i.get(A));j!==null&&T.set(A,j),c=c.add(A)}})),f.push(this.documentOverlayCache.saveOverlays(e,p,T))}return te.waitFor(f)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,o){return(function(f){return Se.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$E(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next((c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-c.size):te.resolve(Ns());let m=yc,g=c;return f.next((p=>te.forEach(p,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),c.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next((A=>{g=g.insert(E,A)}))))).next((()=>this.populateOverlays(e,p,c))).next((()=>this.computeViews(e,g,p,Ke()))).next((E=>({batchId:m,changes:XE(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Se(n)).next((i=>{let o=ac();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const c=n.collectionGroup;let f=ac();return this.indexManager.getCollectionParents(e,c).next((m=>te.forEach(m,(g=>{const p=(function(T,A){return new kc(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,p,i,o).next((E=>{E.forEach(((T,A)=>{f=f.insert(T,A)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,i,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,c,o)))).next((f=>{c.forEach(((g,p)=>{const E=p.getKey();f.get(E)===null&&(f=f.insert(E,Nn.newInvalidDocument(E)))}));let m=ac();return f.forEach(((g,p)=>{const E=c.get(g);E!==void 0&&fc(E.mutation,p,la.empty(),gt.now()),uf(n,p)&&(m=m.insert(g,p))})),m}))}}class eI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:hr(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:HR(o.bundledQuery),readTime:hr(o.readTime)}})(n)),te.resolve()}}class tI{constructor(){this.overlays=new Mt(Se.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Ns();return te.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&i.set(o,c)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((o,c)=>{this.St(e,n,c)})),te.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(i)),te.resolve()}getOverlaysForCollection(e,n,i){const o=Ns(),c=n.length+1,f=new Se(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===c&&g.largestBatchId>i&&o.set(g.getKey(),g)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let c=new Mt(((p,E)=>p-E));const f=this.overlays.getIterator();for(;f.hasNext();){const p=f.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let E=c.get(p.largestBatchId);E===null&&(E=Ns(),c=c.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const m=Ns(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,E)=>m.set(p,E))),!(m.size()>=o)););return te.resolve(m)}St(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(i.key,new _R(n,i));let c=this.qr.get(n);c===void 0&&(c=Ke(),this.qr.set(n,c)),this.qr.set(n,c.add(i.key))}}class nI{constructor(){this.sessionToken=_n.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}class fg{constructor(){this.Qr=new nn(un.$r),this.Ur=new nn(un.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new un(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new un(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new Se(new wt([])),i=new un(n,e),o=new un(n,e+1),c=[];return this.Ur.forEachInRange([i,o],(f=>{this.Gr(f),c.push(f.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Se(new wt([])),i=new un(n,e),o=new un(n,e+1);let c=Ke();return this.Ur.forEachInRange([i,o],(f=>{c=c.add(f.key)})),c}containsKey(e){const n=new un(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class un{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Se.comparator(e.key,n.key)||Qe(e.Yr,n.Yr)}static Kr(e,n){return Qe(e.Yr,n.Yr)||Se.comparator(e.key,n.key)}}class aI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new nn(un.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new vR(c,n,i,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new un(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.ei(i),c=o<0?0:o;return te.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?ng:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new un(n,0),o=new un(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([i,o],(f=>{const m=this.Xr(f.Yr);c.push(m)})),te.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new nn(Qe);return n.forEach((o=>{const c=new un(o,0),f=new un(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,f],(m=>{i=i.add(m.Yr)}))})),te.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let c=i;Se.isDocumentKey(c)||(c=c.child(""));const f=new un(new Se(c),0);let m=new nn(Qe);return this.Zr.forEachWhile((g=>{const p=g.key.path;return!!i.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Yr)),!0)}),f),te.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((i=>{const o=this.Xr(i);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){st(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return te.forEach(n.mutations,(o=>{const c=new un(o.key,n.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new un(n,0),o=this.Zr.firstAfterOrEqual(i);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class rI{constructor(e){this.ri=e,this.docs=(function(){return new Mt(Se.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),c=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return te.resolve(i?i.document.mutableCopy():Nn.newInvalidDocument(n))}getEntries(e,n){let i=Qr();return n.forEach((o=>{const c=this.docs.get(o);i=i.insert(o,c?c.document.mutableCopy():Nn.newInvalidDocument(o))})),te.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let c=Qr();const f=n.path,m=new Se(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:E}}=g.getNext();if(!f.isPrefixOf(p.path))break;p.path.length>f.length+1||OC(DC(E),i)<=0||(o.has(E.key)||uf(n,E))&&(c=c.insert(E.key,E.mutableCopy()))}return te.resolve(c)}getAllFromCollectionGroup(e,n,i,o){De(9500)}ii(e,n){return te.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new iI(this)}getSize(e){return te.resolve(this.size)}}class iI extends WR{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class sI{constructor(e){this.persistence=e,this.si=new zs((n=>ig(n)),sg),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.oi=0,this._i=new fg,this.targetCount=0,this.ai=$o.ur()}forEachTarget(e,n){return this.si.forEach(((i,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new $o(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,i){let o=0;const c=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&i.get(m.targetId)===null&&(this.si.delete(f),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),te.waitFor(c).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return te.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),te.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((f=>{c.push(o.markPotentiallyOrphaned(e,f))})),te.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return te.resolve(i)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}class gT{constructor(e,n){this.ui={},this.overlays={},this.ci=new rf(0),this.li=!1,this.li=!0,this.hi=new nI,this.referenceDelegate=e(this),this.Pi=new sI(this),this.indexManager=new FR,this.remoteDocumentCache=(function(o){return new rI(o)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new qR(n),this.Ii=new eI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new tI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new aI(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){me("MemoryPersistence","Starting transaction:",e);const o=new oI(this.ci.next());return this.referenceDelegate.Ei(),i(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,n){return te.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class oI extends MC{constructor(e){super(),this.currentSequenceNumber=e}}class dg{constructor(e){this.persistence=e,this.Ri=new fg,this.Vi=null}static mi(e){return new dg(e)}get fi(){if(this.Vi)return this.Vi;throw De(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),te.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(i=>{const o=Se.fromPath(i);return this.gi(e,o).next((c=>{c||n.removeEntry(o,ke.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Gh{constructor(e,n){this.persistence=e,this.pi=new zs((i=>PC(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=XR(this,n)}static mi(e,n){return new Gh(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((o=>i+o))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((i,o)=>this.br(e,i,o).next((c=>c?te.resolve():n(o)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(i++,c.removeEntry(f,ke.min()))})))).next((()=>c.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),te.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Sh(e.data.value)),n}br(e,n,i){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return te.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class mg{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=o}static As(e,n){let i=Ke(),o=Ke();for(const c of n.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new mg(e,n.fromCache,i,o)}}class lI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class cI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return jA()?8:jC(Cn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,o){const c={result:null};return this.ys(e,n).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.ws(e,n,o,i).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new lI;return this.Ss(e,n,f).next((m=>{if(c.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>c.result))}bs(e,n,i,o){return i.documentReadCount<this.fs?(Io()<=Ye.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Do(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(Io()<=Ye.DEBUG&&me("QueryEngine","Query:",Do(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(Io()<=Ye.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Do(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ur(n))):te.resolve())}ys(e,n){if(S1(n))return te.resolve(null);let i=ur(n);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=hp(n,null,"F"),i=ur(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((c=>{const f=Ke(...c);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,i).next((g=>{const p=this.Ds(n,m);return this.Cs(n,p,f,g.readTime)?this.ys(e,hp(n,null,"F")):this.vs(e,p,n,g)}))))})))))}ws(e,n,i,o){return S1(n)||o.isEqual(ke.min())?te.resolve(null):this.ps.getDocuments(e,i).next((c=>{const f=this.Ds(n,c);return this.Cs(n,f,i,o)?te.resolve(null):(Io()<=Ye.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Do(n)),this.vs(e,f,n,IC(o,yc)).next((m=>m)))}))}Ds(e,n){let i=new nn(QE(e));return n.forEach(((o,c)=>{uf(e,c)&&(i=i.add(c))})),i}Cs(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,n,i){return Io()<=Ye.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Do(n)),this.ps.getDocumentsMatchingQuery(e,n,$i.min(),i)}vs(e,n,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next((c=>(n.forEach((f=>{c=c.insert(f.key,f)})),c)))}}const pg="LocalStore",uI=3e8;class hI{constructor(e,n,i,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new Mt(Qe),this.xs=new zs((c=>ig(c)),sg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function fI(a,e,n,i){return new hI(a,e,n,i)}async function yT(a,e){const n=Ve(a);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next((c=>(o=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((c=>{const f=[],m=[];let g=Ke();for(const p of o){f.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}for(const p of c){m.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(i,g).next((p=>({Ls:p,removedBatchIds:f,addedBatchIds:m})))}))}))}function dI(a,e){const n=Ve(a);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,E){const T=p.batch,A=T.keys();let j=te.resolve();return A.forEach((G=>{j=j.next((()=>E.getEntry(g,G))).next((Q=>{const U=p.docVersions.get(G);st(U!==null,48541),Q.version.compareTo(U)<0&&(T.applyToRemoteDocument(Q,p),Q.isValidDocument()&&(Q.setReadTime(p.commitVersion),E.addEntry(Q)))}))})),j.next((()=>m.mutationQueue.removeMutationBatch(g,T)))})(n,i,e,c).next((()=>c.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(m){let g=Ke();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(i,o)))}))}function vT(a){const e=Ve(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function mI(a,e){const n=Ve(a),i=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const A=o.get(T);if(!A)return;m.push(n.Pi.removeMatchingKeys(c,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(c,E.addedDocuments,T))));let j=A.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(T)!==null?j=j.withResumeToken(_n.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):E.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(E.resumeToken,i)),o=o.insert(T,j),(function(Q,U,X){return Q.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=uI?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0})(A,j,E)&&m.push(n.Pi.updateTargetData(c,j))}));let g=Qr(),p=Ke();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,E))})),m.push(pI(c,f,e.documentUpdates).next((E=>{g=E.ks,p=E.qs}))),!i.isEqual(ke.min())){const E=n.Pi.getLastRemoteSnapshotVersion(c).next((T=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,i)));m.push(E)}return te.waitFor(m).next((()=>f.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,p))).next((()=>g))})).then((c=>(n.Ms=o,c)))}function pI(a,e,n){let i=Ke(),o=Ke();return n.forEach((c=>i=i.add(c))),e.getEntries(a,i).next((c=>{let f=Qr();return n.forEach(((m,g)=>{const p=c.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(ke.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):me(pg,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function gI(a,e){const n=Ve(a);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=ng),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function yI(a,e){const n=Ve(a);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return n.Pi.getTargetData(i,e).next((c=>c?(o=c,te.resolve(o)):n.Pi.allocateTargetId(i).next((f=>(o=new Ui(e,f,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=n.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function gp(a,e,n){const i=Ve(a),o=i.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",c,(f=>i.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Wo(f))throw f;me(pg,`Failed to update sequence numbers for target ${e}: ${f}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function P1(a,e,n){const i=Ve(a);let o=ke.min(),c=Ke();return i.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,p,E){const T=Ve(g),A=T.xs.get(E);return A!==void 0?te.resolve(T.Ms.get(A)):T.Pi.getTargetData(p,E)})(i,f,ur(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(f,m.targetId).next((g=>{c=g}))})).next((()=>i.Fs.getDocumentsMatchingQuery(f,e,n?o:ke.min(),n?c:Ke()))).next((m=>(vI(i,nR(e),m),{documents:m,Qs:c})))))}function vI(a,e,n){let i=a.Os.get(e)||ke.min();n.forEach(((o,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)})),a.Os.set(e,i)}class L1{constructor(){this.activeTargetIds=lR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _I{constructor(){this.Mo=new L1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new L1,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class bI{Oo(e){}shutdown(){}}const U1="ConnectivityMonitor";class z1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(U1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(U1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let mh=null;function yp(){return mh===null?mh=(function(){return 268435456+Math.round(2147483648*Math.random())})():mh++,"0x"+mh.toString(16)}const Vm="RestConnection",EI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===Uh?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,n,i,o,c){const f=yp(),m=this.zo(e,n.toUriEncodedString());me(Vm,`Sending RPC '${e}' ${f}:`,m,i);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,c);const{host:p}=new URL(m),E=Ls(p);return this.Jo(e,m,g,i,E).then((T=>(me(Vm,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw qo(Vm,`RPC '${e}' ${f} failed with error: `,T,"url: ",m,"request:",i),T}))}Ho(e,n,i,o,c,f){return this.Go(e,n,i,o,c)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ko})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),i&&i.headers.forEach(((o,c)=>e[c]=o))}zo(e,n){const i=EI[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}class wI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const An="WebChannelConnection";class SI extends TI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,o,c){const f=yp();return new Promise(((m,g)=>{const p=new EE;p.setWithCredentials(!0),p.listenOnce(TE.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case wh.NO_ERROR:const T=p.getResponseJson();me(An,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),m(T);break;case wh.TIMEOUT:me(An,`RPC '${e}' ${f} timed out`),g(new de(Z.DEADLINE_EXCEEDED,"Request time out"));break;case wh.HTTP_ERROR:const A=p.getStatus();if(me(An,`RPC '${e}' ${f} failed with status:`,A,"response text:",p.getResponseText()),A>0){let j=p.getResponseJson();Array.isArray(j)&&(j=j[0]);const G=j?.error;if(G&&G.status&&G.message){const Q=(function(X){const ae=X.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(ae)>=0?ae:Z.UNKNOWN})(G.status);g(new de(Q,G.message))}else g(new de(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new de(Z.UNAVAILABLE,"Connection failed."));break;default:De(9055,{l_:e,streamId:f,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{me(An,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);me(An,`RPC '${e}' ${f} sending request:`,o),p.send(n,"POST",E,i,15)}))}T_(e,n,i){const o=yp(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=AE(),m=SE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,i),g.encodeInitMessageHeaders=!0;const E=c.join("");me(An,`Creating RPC '${e}' stream ${o}: ${E}`,g);const T=f.createWebChannel(E,g);this.I_(T);let A=!1,j=!1;const G=new wI({Yo:U=>{j?me(An,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(A||(me(An,`Opening RPC '${e}' stream ${o} transport.`),T.open(),A=!0),me(An,`RPC '${e}' stream ${o} sending:`,U),T.send(U))},Zo:()=>T.close()}),Q=(U,X,ae)=>{U.listen(X,(le=>{try{ae(le)}catch(he){setTimeout((()=>{throw he}),0)}}))};return Q(T,nc.EventType.OPEN,(()=>{j||(me(An,`RPC '${e}' stream ${o} transport opened.`),G.o_())})),Q(T,nc.EventType.CLOSE,(()=>{j||(j=!0,me(An,`RPC '${e}' stream ${o} transport closed`),G.a_(),this.E_(T))})),Q(T,nc.EventType.ERROR,(U=>{j||(j=!0,qo(An,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),G.a_(new de(Z.UNAVAILABLE,"The operation could not be completed")))})),Q(T,nc.EventType.MESSAGE,(U=>{if(!j){const X=U.data[0];st(!!X,16349);const ae=X,le=ae?.error||ae[0]?.error;if(le){me(An,`RPC '${e}' stream ${o} received error:`,le);const he=le.status;let ye=(function(x){const R=Wt[x];if(R!==void 0)return iT(R)})(he),be=le.message;ye===void 0&&(ye=Z.INTERNAL,be="Unknown error status: "+he+" with message "+le.message),j=!0,G.a_(new de(ye,be)),T.close()}else me(An,`RPC '${e}' stream ${o} received:`,X),G.u_(X)}})),Q(m,wE.STAT_EVENT,(U=>{U.stat===rp.PROXY?me(An,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===rp.NOPROXY&&me(An,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{G.__()}),0),G}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Pm(){return typeof document<"u"?document:null}function mf(a){return new CR(a,!0)}class _T{constructor(e,n,i=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-i);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const B1="PersistentStream";class bT{constructor(e,n,i,o,c,f,m,g){this.Mi=e,this.S_=i,this.b_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _T(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(Yr(n.toString()),Yr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===n&&this.G_(i,o)}),(i=>{e((()=>{const o=new de(Z.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(B1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(me(B1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class AI extends bT{constructor(e,n,i,o,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,f),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=DR(this.serializer,e),i=(function(c){if(!("targetChange"in c))return ke.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?ke.min():f.readTime?hr(f.readTime):ke.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=pp(this.serializer),n.addTarget=(function(c,f){let m;const g=f.target;if(m=cp(g)?{documents:MR(c,g)}:{query:jR(c,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=lT(c,f.resumeToken);const p=fp(c,f.expectedCount);p!==null&&(m.expectedCount=p)}else if(f.snapshotVersion.compareTo(ke.min())>0){m.readTime=Fh(c,f.snapshotVersion.toTimestamp());const p=fp(c,f.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const i=PR(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=pp(this.serializer),n.removeTarget=e,this.q_(n)}}class xI extends bT{constructor(e,n,i,o,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,f),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=kR(e.writeResults,e.commitTime),i=hr(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=pp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>OR(this.serializer,i)))};this.q_(n)}}class NI{}class CI extends NI{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new de(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Go(e,dp(n,i),o,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(Z.UNKNOWN,c.toString())}))}Ho(e,n,i,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,dp(n,i),o,f,m,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new de(Z.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class RI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Yr(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Vs="RemoteStore";class II{constructor(e,n,i,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((f=>{i.enqueueAndForget((async()=>{Bs(this)&&(me(Vs,"Restarting streams for network reachability change."),await(async function(g){const p=Ve(g);p.Ea.add(4),await Vc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await pf(p)})(this))}))})),this.Ra=new RI(i,o)}}async function pf(a){if(Bs(a))for(const e of a.da)await e(!0)}async function Vc(a){for(const e of a.da)await e(!1)}function ET(a,e){const n=Ve(a);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),_g(n)?vg(n):Jo(n).O_()&&yg(n,e))}function gg(a,e){const n=Ve(a),i=Jo(n);n.Ia.delete(e),i.O_()&&TT(n,e),n.Ia.size===0&&(i.O_()?i.L_():Bs(n)&&n.Ra.set("Unknown"))}function yg(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Jo(a).Y_(e)}function TT(a,e){a.Va.Ue(e),Jo(a).Z_(e)}function vg(a){a.Va=new SR({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Jo(a).start(),a.Ra.ua()}function _g(a){return Bs(a)&&!Jo(a).x_()&&a.Ia.size>0}function Bs(a){return Ve(a).Ea.size===0}function wT(a){a.Va=void 0}async function DI(a){a.Ra.set("Online")}async function OI(a){a.Ia.forEach(((e,n)=>{yg(a,e)}))}async function kI(a,e){wT(a),_g(a)?(a.Ra.ha(e),vg(a)):a.Ra.set("Unknown")}async function MI(a,e,n){if(a.Ra.set("Online"),e instanceof oT&&e.state===2&&e.cause)try{await(async function(o,c){const f=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(a,e)}catch(i){me(Vs,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await $h(a,i)}else if(e instanceof Nh?a.Va.Ze(e):e instanceof sT?a.Va.st(e):a.Va.tt(e),!n.isEqual(ke.min()))try{const i=await vT(a.localStore);n.compareTo(i)>=0&&await(function(c,f){const m=c.Va.Tt(f);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const E=c.Ia.get(p);E&&c.Ia.set(p,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,p)=>{const E=c.Ia.get(g);if(!E)return;c.Ia.set(g,E.withResumeToken(_n.EMPTY_BYTE_STRING,E.snapshotVersion)),TT(c,g);const T=new Ui(E.target,g,p,E.sequenceNumber);yg(c,T)})),c.remoteSyncer.applyRemoteEvent(m)})(a,n)}catch(i){me(Vs,"Failed to raise snapshot:",i),await $h(a,i)}}async function $h(a,e,n){if(!Wo(e))throw e;a.Ea.add(1),await Vc(a),a.Ra.set("Offline"),n||(n=()=>vT(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{me(Vs,"Retrying IndexedDB access"),await n(),a.Ea.delete(1),await pf(a)}))}function ST(a,e){return e().catch((n=>$h(a,n,e)))}async function gf(a){const e=Ve(a),n=Xi(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ng;for(;jI(e);)try{const o=await gI(e.localStore,i);if(o===null){e.Ta.length===0&&n.L_();break}i=o.batchId,VI(e,o)}catch(o){await $h(e,o)}AT(e)&&xT(e)}function jI(a){return Bs(a)&&a.Ta.length<10}function VI(a,e){a.Ta.push(e);const n=Xi(a);n.O_()&&n.X_&&n.ea(e.mutations)}function AT(a){return Bs(a)&&!Xi(a).x_()&&a.Ta.length>0}function xT(a){Xi(a).start()}async function PI(a){Xi(a).ra()}async function LI(a){const e=Xi(a);for(const n of a.Ta)e.ea(n.mutations)}async function UI(a,e,n){const i=a.Ta.shift(),o=cg.from(i,e,n);await ST(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await gf(a)}async function zI(a,e){e&&Xi(a).X_&&await(async function(i,o){if((function(f){return ER(f)&&f!==Z.ABORTED})(o.code)){const c=i.Ta.shift();Xi(i).B_(),await ST(i,(()=>i.remoteSyncer.rejectFailedWrite(c.batchId,o))),await gf(i)}})(a,e),AT(a)&&xT(a)}async function q1(a,e){const n=Ve(a);n.asyncQueue.verifyOperationInProgress(),me(Vs,"RemoteStore received new credentials");const i=Bs(n);n.Ea.add(3),await Vc(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await pf(n)}async function BI(a,e){const n=Ve(a);e?(n.Ea.delete(2),await pf(n)):e||(n.Ea.add(2),await Vc(n),n.Ra.set("Unknown"))}function Jo(a){return a.ma||(a.ma=(function(n,i,o){const c=Ve(n);return c.sa(),new AI(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(a.datastore,a.asyncQueue,{Xo:DI.bind(null,a),t_:OI.bind(null,a),r_:kI.bind(null,a),H_:MI.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),_g(a)?vg(a):a.Ra.set("Unknown")):(await a.ma.stop(),wT(a))}))),a.ma}function Xi(a){return a.fa||(a.fa=(function(n,i,o){const c=Ve(n);return c.sa(),new xI(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:PI.bind(null,a),r_:zI.bind(null,a),ta:LI.bind(null,a),na:UI.bind(null,a)}),a.da.push((async e=>{e?(a.fa.B_(),await gf(a)):(await a.fa.stop(),a.Ta.length>0&&(me(Vs,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class bg{constructor(e,n,i,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=c,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,c){const f=Date.now()+i,m=new bg(e,n,f,o,c);return m.start(i),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Eg(a,e){if(Yr("AsyncQueue",`${e}: ${a}`),Wo(a))return new de(Z.UNAVAILABLE,`${e}: ${a}`);throw a}class zo{static emptySet(e){return new zo(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Se.comparator(n.key,i.key):(n,i)=>Se.comparator(n.key,i.key),this.keyedMap=ac(),this.sortedSet=new Mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof zo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=i.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new zo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class H1{constructor(){this.ga=new Mt(Se.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):De(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Yo{constructor(e,n,i,o,c,f,m,g,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,o,c){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new Yo(e,n,zo.emptySet(n),f,i,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}class qI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class HI{constructor(){this.queries=F1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const o=Ve(n),c=o.queries;o.queries=F1(),c.forEach(((f,m)=>{for(const g of m.Sa)g.onError(i)}))})(this,new de(Z.ABORTED,"Firestore shutting down"))}}function F1(){return new zs((a=>YE(a)),cf)}async function Tg(a,e){const n=Ve(a);let i=3;const o=e.query;let c=n.queries.get(o);c?!c.ba()&&e.Da()&&(i=2):(c=new qI,i=e.Da()?0:1);try{switch(i){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Eg(f,`Initialization of query '${Do(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Sg(n)}async function wg(a,e){const n=Ve(a),i=e.query;let o=3;const c=n.queries.get(i);if(c){const f=c.Sa.indexOf(e);f>=0&&(c.Sa.splice(f,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function FI(a,e){const n=Ve(a);let i=!1;for(const o of e){const c=o.query,f=n.queries.get(c);if(f){for(const m of f.Sa)m.Fa(o)&&(i=!0);f.wa=o}}i&&Sg(n)}function GI(a,e,n){const i=Ve(a),o=i.queries.get(e);if(o)for(const c of o.Sa)c.onError(n);i.queries.delete(e)}function Sg(a){a.Ca.forEach((e=>{e.next()}))}var vp,G1;(G1=vp||(vp={})).Ma="default",G1.Cache="cache";class Ag{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Yo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vp.Cache}}class NT{constructor(e){this.key=e}}class CT{constructor(e){this.key=e}}class $I{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ke(),this.mutatedKeys=Ke(),this.eu=QE(e),this.tu=new zo(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new H1,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const A=o.get(E),j=uf(this.query,T)?T:null,G=!!A&&this.mutatedKeys.has(A.key),Q=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let U=!1;A&&j?A.data.isEqual(j.data)?G!==Q&&(i.track({type:3,doc:j}),U=!0):this.su(A,j)||(i.track({type:2,doc:j}),U=!0,(g&&this.eu(j,g)>0||p&&this.eu(j,p)<0)&&(m=!0)):!A&&j?(i.track({type:0,doc:j}),U=!0):A&&!j&&(i.track({type:1,doc:A}),U=!0,(g||p)&&(m=!0)),U&&(j?(f=f.add(j),c=Q?c.add(E):c.delete(E)):(f=f.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),c=c.delete(E.key),i.track({type:1,doc:E})}return{tu:f,iu:i,Cs:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,T)=>(function(j,G){const Q=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{Rt:U})}};return Q(j)-Q(G)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(i),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,p=g!==this.Za;return this.Za=g,f.length!==0||p?{snapshot:new Yo(this.query,e.tu,c,f,e.mutatedKeys,g===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new H1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ke(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new CT(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new NT(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Yo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const xg="SyncEngine";class YI{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class QI{constructor(e){this.key=e,this.hu=!1}}class KI{constructor(e,n,i,o,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new zs((m=>YE(m)),cf),this.Iu=new Map,this.Eu=new Set,this.du=new Mt(Se.comparator),this.Au=new Map,this.Ru=new fg,this.Vu={},this.mu=new Map,this.fu=$o.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function XI(a,e,n=!0){const i=MT(a);let o;const c=i.Tu.get(e);return c?(i.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await RT(i,e,n,!0),o}async function WI(a,e){const n=MT(a);await RT(n,e,!0,!1)}async function RT(a,e,n,i){const o=await yI(a.localStore,ur(e)),c=o.targetId,f=a.sharedClientState.addLocalQueryTarget(c,n);let m;return i&&(m=await JI(a,e,c,f==="current",o.resumeToken)),a.isPrimaryClient&&n&&ET(a.remoteStore,o),m}async function JI(a,e,n,i,o){a.pu=(T,A,j)=>(async function(Q,U,X,ae){let le=U.view.ru(X);le.Cs&&(le=await P1(Q.localStore,U.query,!1).then((({documents:I})=>U.view.ru(I,le))));const he=ae&&ae.targetChanges.get(U.targetId),ye=ae&&ae.targetMismatches.get(U.targetId)!=null,be=U.view.applyChanges(le,Q.isPrimaryClient,he,ye);return Y1(Q,U.targetId,be.au),be.snapshot})(a,T,A,j);const c=await P1(a.localStore,e,!0),f=new $I(e,c.Qs),m=f.ru(c.documents),g=jc.createSynthesizedTargetChangeForCurrentChange(n,i&&a.onlineState!=="Offline",o),p=f.applyChanges(m,a.isPrimaryClient,g);Y1(a,n,p.au);const E=new YI(e,n,f);return a.Tu.set(e,E),a.Iu.has(n)?a.Iu.get(n).push(e):a.Iu.set(n,[e]),p.snapshot}async function ZI(a,e,n){const i=Ve(a),o=i.Tu.get(e),c=i.Iu.get(o.targetId);if(c.length>1)return i.Iu.set(o.targetId,c.filter((f=>!cf(f,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await gp(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),n&&gg(i.remoteStore,o.targetId),_p(i,o.targetId)})).catch(Xo)):(_p(i,o.targetId),await gp(i.localStore,o.targetId,!0))}async function eD(a,e){const n=Ve(a),i=n.Tu.get(e),o=n.Iu.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),gg(n.remoteStore,i.targetId))}async function tD(a,e,n){const i=lD(a);try{const o=await(function(f,m){const g=Ve(f),p=gt.now(),E=m.reduce(((j,G)=>j.add(G.key)),Ke());let T,A;return g.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let G=Qr(),Q=Ke();return g.Ns.getEntries(j,E).next((U=>{G=U,G.forEach(((X,ae)=>{ae.isValidDocument()||(Q=Q.add(X))}))})).next((()=>g.localDocuments.getOverlayedDocuments(j,G))).next((U=>{T=U;const X=[];for(const ae of m){const le=gR(ae,T.get(ae.key).overlayedDocument);le!=null&&X.push(new Zi(ae.key,le,UE(le.value.mapValue),Aa.exists(!0)))}return g.mutationQueue.addMutationBatch(j,p,X,m)})).next((U=>{A=U;const X=U.applyToLocalDocumentSet(T,Q);return g.documentOverlayCache.saveOverlays(j,U.batchId,X)}))})).then((()=>({batchId:A.batchId,changes:XE(T)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let p=f.Vu[f.currentUser.toKey()];p||(p=new Mt(Qe)),p=p.insert(m,g),f.Vu[f.currentUser.toKey()]=p})(i,o.batchId,n),await Pc(i,o.changes),await gf(i.remoteStore)}catch(o){const c=Eg(o,"Failed to persist write");n.reject(c)}}async function IT(a,e){const n=Ve(a);try{const i=await mI(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const f=n.Au.get(c);f&&(st(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?st(f.hu,14607):o.removedDocuments.size>0&&(st(f.hu,42227),f.hu=!1))})),await Pc(n,i,e)}catch(i){await Xo(i)}}function $1(a,e,n){const i=Ve(a);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Tu.forEach(((c,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=Ve(f);g.onlineState=m;let p=!1;g.queries.forEach(((E,T)=>{for(const A of T.Sa)A.va(m)&&(p=!0)})),p&&Sg(g)})(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function nD(a,e,n){const i=Ve(a);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Au.get(e),c=o&&o.key;if(c){let f=new Mt(Se.comparator);f=f.insert(c,Nn.newNoDocument(c,ke.min()));const m=Ke().add(c),g=new df(ke.min(),new Map,new Mt(Qe),f,m);await IT(i,g),i.du=i.du.remove(c),i.Au.delete(e),Ng(i)}else await gp(i.localStore,e,!1).then((()=>_p(i,e,n))).catch(Xo)}async function aD(a,e){const n=Ve(a),i=e.batch.batchId;try{const o=await dI(n.localStore,e);OT(n,i,null),DT(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Pc(n,o)}catch(o){await Xo(o)}}async function rD(a,e,n){const i=Ve(a);try{const o=await(function(f,m){const g=Ve(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let E;return g.mutationQueue.lookupMutationBatch(p,m).next((T=>(st(T!==null,37113),E=T.keys(),g.mutationQueue.removeMutationBatch(p,T)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E))).next((()=>g.localDocuments.getDocuments(p,E)))}))})(i.localStore,e);OT(i,e,n),DT(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Pc(i,o)}catch(o){await Xo(o)}}function DT(a,e){(a.mu.get(e)||[]).forEach((n=>{n.resolve()})),a.mu.delete(e)}function OT(a,e,n){const i=Ve(a);let o=i.Vu[i.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function _p(a,e,n=null){a.sharedClientState.removeLocalQueryTarget(e);for(const i of a.Iu.get(e))a.Tu.delete(i),n&&a.Pu.yu(i,n);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((i=>{a.Ru.containsKey(i)||kT(a,i)}))}function kT(a,e){a.Eu.delete(e.path.canonicalString());const n=a.du.get(e);n!==null&&(gg(a.remoteStore,n),a.du=a.du.remove(e),a.Au.delete(n),Ng(a))}function Y1(a,e,n){for(const i of n)i instanceof NT?(a.Ru.addReference(i.key,e),iD(a,i)):i instanceof CT?(me(xg,"Document no longer in limbo: "+i.key),a.Ru.removeReference(i.key,e),a.Ru.containsKey(i.key)||kT(a,i.key)):De(19791,{wu:i})}function iD(a,e){const n=e.key,i=n.path.canonicalString();a.du.get(n)||a.Eu.has(i)||(me(xg,"New document in limbo: "+n),a.Eu.add(i),Ng(a))}function Ng(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const n=new Se(wt.fromString(e)),i=a.fu.next();a.Au.set(i,new QI(n)),a.du=a.du.insert(n,i),ET(a.remoteStore,new Ui(ur(lf(n.path)),i,"TargetPurposeLimboResolution",rf.ce))}}async function Pc(a,e,n){const i=Ve(a),o=[],c=[],f=[];i.Tu.isEmpty()||(i.Tu.forEach(((m,g)=>{f.push(i.pu(g,e,n).then((p=>{if((p||n)&&i.isPrimaryClient){const E=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;i.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(p){o.push(p);const E=mg.As(g.targetId,p);c.push(E)}})))})),await Promise.all(f),i.Pu.H_(o),await(async function(g,p){const E=Ve(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>te.forEach(p,(A=>te.forEach(A.Es,(j=>E.persistence.referenceDelegate.addReference(T,A.targetId,j))).next((()=>te.forEach(A.ds,(j=>E.persistence.referenceDelegate.removeReference(T,A.targetId,j)))))))))}catch(T){if(!Wo(T))throw T;me(pg,"Failed to update sequence numbers: "+T)}for(const T of p){const A=T.targetId;if(!T.fromCache){const j=E.Ms.get(A),G=j.snapshotVersion,Q=j.withLastLimboFreeSnapshotVersion(G);E.Ms=E.Ms.insert(A,Q)}}})(i.localStore,c))}async function sD(a,e){const n=Ve(a);if(!n.currentUser.isEqual(e)){me(xg,"User change. New user:",e.toKey());const i=await yT(n.localStore,e);n.currentUser=e,(function(c,f){c.mu.forEach((m=>{m.forEach((g=>{g.reject(new de(Z.CANCELLED,f))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Pc(n,i.Ls)}}function oD(a,e){const n=Ve(a),i=n.Au.get(e);if(i&&i.hu)return Ke().add(i.key);{let o=Ke();const c=n.Iu.get(e);if(!c)return o;for(const f of c){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function MT(a){const e=Ve(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=IT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nD.bind(null,e),e.Pu.H_=FI.bind(null,e.eventManager),e.Pu.yu=GI.bind(null,e.eventManager),e}function lD(a){const e=Ve(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rD.bind(null,e),e}class Yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return fI(this.persistence,new cI,e.initialUser,this.serializer)}Cu(e){return new gT(dg.mi,this.serializer)}Du(e){return new _I}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yh.provider={build:()=>new Yh};class cD extends Yh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){st(this.persistence.referenceDelegate instanceof Gh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new QR(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Yn.withCacheSize(this.cacheSizeBytes):Yn.DEFAULT;return new gT((i=>Gh.mi(i,n)),this.serializer)}}class bp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>$1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=sD.bind(null,this.syncEngine),await BI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new HI})()}createDatastore(e){const n=mf(e.databaseInfo.databaseId),i=(function(c){return new SI(c)})(e.databaseInfo);return(function(c,f,m,g){return new CI(c,f,m,g)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,o,c,f,m){return new II(i,o,c,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>$1(this.syncEngine,n,0)),(function(){return z1.v()?new z1:new bI})())}createSyncEngine(e,n){return(function(o,c,f,m,g,p,E){const T=new KI(o,c,f,m,g,p);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Ve(n);me(Vs,"RemoteStore shutting down."),i.Ea.add(5),await Vc(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}bp.provider={build:()=>new bp};class Cg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Yr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Wi="FirestoreClient";class uD{constructor(e,n,i,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=o,this.user=xn.UNAUTHENTICATED,this.clientId=tg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(i,(async f=>{me(Wi,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(i,(f=>(me(Wi,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Eg(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Lm(a,e){a.asyncQueue.verifyOperationInProgress(),me(Wi,"Initializing OfflineComponentProvider");const n=a.configuration;await e.initialize(n);let i=n.initialUser;a.setCredentialChangeListener((async o=>{i.isEqual(o)||(await yT(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function Q1(a,e){a.asyncQueue.verifyOperationInProgress();const n=await hD(a);me(Wi,"Initializing OnlineComponentProvider"),await e.initialize(n,a.configuration),a.setCredentialChangeListener((i=>q1(e.remoteStore,i))),a.setAppCheckTokenChangeListener(((i,o)=>q1(e.remoteStore,o))),a._onlineComponents=e}async function hD(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){me(Wi,"Using user provided OfflineComponentProvider");try{await Lm(a,a._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;qo("Error using user provided cache. Falling back to memory cache: "+n),await Lm(a,new Yh)}}else me(Wi,"Using default OfflineComponentProvider"),await Lm(a,new cD(void 0));return a._offlineComponents}async function jT(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(me(Wi,"Using user provided OnlineComponentProvider"),await Q1(a,a._uninitializedComponentsProvider._online)):(me(Wi,"Using default OnlineComponentProvider"),await Q1(a,new bp))),a._onlineComponents}function fD(a){return jT(a).then((e=>e.syncEngine))}async function Qh(a){const e=await jT(a),n=e.eventManager;return n.onListen=XI.bind(null,e.syncEngine),n.onUnlisten=ZI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=WI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=eD.bind(null,e.syncEngine),n}function dD(a,e,n={}){const i=new Hr;return a.asyncQueue.enqueueAndForget((async()=>(function(c,f,m,g,p){const E=new Cg({next:A=>{E.Nu(),f.enqueueAndForget((()=>wg(c,T)));const j=A.docs.has(m);!j&&A.fromCache?p.reject(new de(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&A.fromCache&&g&&g.source==="server"?p.reject(new de(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(A)},error:A=>p.reject(A)}),T=new Ag(lf(m.path),E,{includeMetadataChanges:!0,qa:!0});return Tg(c,T)})(await Qh(a),a.asyncQueue,e,n,i))),i.promise}function mD(a,e,n={}){const i=new Hr;return a.asyncQueue.enqueueAndForget((async()=>(function(c,f,m,g,p){const E=new Cg({next:A=>{E.Nu(),f.enqueueAndForget((()=>wg(c,T))),A.fromCache&&g.source==="server"?p.reject(new de(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(A)},error:A=>p.reject(A)}),T=new Ag(m,E,{includeMetadataChanges:!0,qa:!0});return Tg(c,T)})(await Qh(a),a.asyncQueue,e,n,i))),i.promise}function VT(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}const K1=new Map;const PT="firestore.googleapis.com",X1=!0;class W1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PT,this.ssl=X1}else this.host=e.host,this.ssl=e.ssl??X1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$R)throw new de(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VT(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new de(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new de(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new de(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yf{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new W1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new W1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new _C;switch(i.type){case"firstParty":return new wC(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new de(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=K1.get(n);i&&(me("ComponentProvider","Removing Datastore"),K1.delete(n),i.terminate())})(this),Promise.resolve()}}function pD(a,e,n,i={}){a=La(a,yf);const o=Ls(e),c=a._getSettings(),f={...c,emulatorOptions:a._getEmulatorOptions()},m=`${e}:${n}`;o&&(Bp(`https://${m}`),qp("Firestore",!0)),c.host!==PT&&c.host!==m&&qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:m,ssl:o,emulatorOptions:i};if(!Os(g,f)&&(a._setSettings(g),i.mockUserToken)){let p,E;if(typeof i.mockUserToken=="string")p=i.mockUserToken,E=xn.MOCK_USER;else{p=xA(i.mockUserToken,a._app?.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new de(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new xn(T)}a._authCredentials=new bC(new NE(p,E))}}class qs{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new qs(this.firestore,e,this._query)}}class Ht{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}toJSON(){return{type:Ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Oc(n,Ht._jsonSchema))return new Ht(e,i||null,new Se(wt.fromString(n.referencePath)))}}Ht._jsonSchemaVersion="firestore/documentReference/1.0",Ht._jsonSchema={type:Zt("string",Ht._jsonSchemaVersion),referencePath:Zt("string")};class Fi extends qs{constructor(e,n,i){super(e,n,lf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new Se(e))}withConverter(e){return new Fi(this.firestore,e,this._path)}}function gD(a,e,...n){if(a=kt(a),CE("collection","path",e),a instanceof yf){const i=wt.fromString(e,...n);return u1(i),new Fi(a,null,i)}{if(!(a instanceof Ht||a instanceof Fi))throw new de(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=a._path.child(wt.fromString(e,...n));return u1(i),new Fi(a.firestore,null,i)}}function Bo(a,e,...n){if(a=kt(a),arguments.length===1&&(e=tg.newId()),CE("doc","path",e),a instanceof yf){const i=wt.fromString(e,...n);return c1(i),new Ht(a,null,new Se(i))}{if(!(a instanceof Ht||a instanceof Fi))throw new de(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=a._path.child(wt.fromString(e,...n));return c1(i),new Ht(a.firestore,a instanceof Fi?a.converter:null,new Se(i))}}const J1="AsyncQueue";class Z1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _T(this,"async_queue_retry"),this._c=()=>{const i=Pm();i&&me(J1,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Pm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Pm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Hr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Wo(e))throw e;me(J1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Yr("INTERNAL UNHANDLED ERROR: ",eb(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=bg.createAndSchedule(this,e,n,i,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&De(47125,{Pc:eb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function eb(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}function tb(a){return(function(n,i){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of i)if(c in o&&typeof o[c]=="function")return!0;return!1})(a,["next","error","complete"])}class Ps extends yf{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new Z1,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Z1(e),this._firestoreClient=void 0,await e}}}function yD(a,e){const n=typeof a=="object"?a:Gp(),i=typeof a=="string"?a:Uh,o=Zh(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const c=Ib("firestore");c&&pD(o,...c)}return o}function Lc(a){if(a._terminated)throw new de(Z.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||vD(a),a._firestoreClient}function vD(a){const e=a._freezeSettings(),n=(function(o,c,f,m){return new zC(o,c,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,VT(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new uD(a._authCredentials,a._appCheckCredentials,a._queue,n,a._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(a._componentsProvider))}class Sa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sa(_n.fromBase64String(e))}catch(n){throw new de(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Sa(_n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Sa._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Oc(e,Sa._jsonSchema))return Sa.fromBase64String(e.bytes)}}Sa._jsonSchemaVersion="firestore/bytes/1.0",Sa._jsonSchema={type:Zt("string",Sa._jsonSchemaVersion),bytes:Zt("string")};class vf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class _f{constructor(e){this._methodName=e}}class fr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fr._jsonSchemaVersion}}static fromJSON(e){if(Oc(e,fr._jsonSchema))return new fr(e.latitude,e.longitude)}}fr._jsonSchemaVersion="firestore/geoPoint/1.0",fr._jsonSchema={type:Zt("string",fr._jsonSchemaVersion),latitude:Zt("number"),longitude:Zt("number")};class dr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let c=0;c<i.length;++c)if(i[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:dr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Oc(e,dr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new dr(e.vectorValues);throw new de(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}dr._jsonSchemaVersion="firestore/vectorValue/1.0",dr._jsonSchema={type:Zt("string",dr._jsonSchemaVersion),vectorValues:Zt("object")};const _D=/^__.*__$/;class bD{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Zi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Mc(e,this.data,n,this.fieldTransforms)}}class LT{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Zi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function UT(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De(40011,{Ac:a})}}class Rg{constructor(e,n,i,o,c,f){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Rg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Kh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(UT(this.Ac)&&_D.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ED{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||mf(e)}Cc(e,n,i,o=!1){return new Rg({Ac:e,methodName:n,Dc:i,path:yn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ig(a){const e=a._freezeSettings(),n=mf(a._databaseId);return new ED(a._databaseId,!!e.ignoreUndefinedProperties,n)}function zT(a,e,n,i,o,c={}){const f=a.Cc(c.merge||c.mergeFields?2:0,e,n,o);Og("Data must be an object, but it was:",f,i);const m=BT(i,f);let g,p;if(c.merge)g=new la(f.fieldMask),p=f.fieldTransforms;else if(c.mergeFields){const E=[];for(const T of c.mergeFields){const A=Ep(e,T,n);if(!f.contains(A))throw new de(Z.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);HT(E,A)||E.push(A)}g=new la(E),p=f.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,p=f.fieldTransforms;return new bD(new Kn(m),g,p)}class bf extends _f{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bf}}class Dg extends _f{_toFieldTransform(e){return new fR(e.path,new Ec)}isEqual(e){return e instanceof Dg}}function TD(a,e,n,i){const o=a.Cc(1,e,n);Og("Data must be an object, but it was:",o,i);const c=[],f=Kn.empty();Ji(i,((g,p)=>{const E=kg(e,g,n);p=kt(p);const T=o.yc(E);if(p instanceof bf)c.push(E);else{const A=Uc(p,T);A!=null&&(c.push(E),f.set(E,A))}}));const m=new la(c);return new LT(f,m,o.fieldTransforms)}function wD(a,e,n,i,o,c){const f=a.Cc(1,e,n),m=[Ep(e,i,n)],g=[o];if(c.length%2!=0)throw new de(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<c.length;A+=2)m.push(Ep(e,c[A])),g.push(c[A+1]);const p=[],E=Kn.empty();for(let A=m.length-1;A>=0;--A)if(!HT(p,m[A])){const j=m[A];let G=g[A];G=kt(G);const Q=f.yc(j);if(G instanceof bf)p.push(j);else{const U=Uc(G,Q);U!=null&&(p.push(j),E.set(j,U))}}const T=new la(p);return new LT(E,T,f.fieldTransforms)}function SD(a,e,n,i=!1){return Uc(n,a.Cc(i?4:3,e))}function Uc(a,e){if(qT(a=kt(a)))return Og("Unsupported field value:",e,a),BT(a,e);if(a instanceof _f)return(function(i,o){if(!UT(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,o){const c=[];let f=0;for(const m of i){let g=Uc(m,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),f++}return{arrayValue:{values:c}}})(a,e)}return(function(i,o){if((i=kt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return cR(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const c=gt.fromDate(i);return{timestampValue:Fh(o.serializer,c)}}if(i instanceof gt){const c=new gt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Fh(o.serializer,c)}}if(i instanceof fr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Sa)return{bytesValue:lT(o.serializer,i._byteString)};if(i instanceof Ht){const c=o.databaseId,f=i.firestore._databaseId;if(!f.isEqual(c))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:hg(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof dr)return(function(f,m){return{mapValue:{fields:{[PE]:{stringValue:LE},[zh]:{arrayValue:{values:f.toArray().map((p=>{if(typeof p!="number")throw m.Sc("VectorValues must only contain numeric values.");return og(m.serializer,p)}))}}}}}})(i,o);throw o.Sc(`Unsupported field value: ${af(i)}`)})(a,e)}function BT(a,e){const n={};return DE(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ji(a,((i,o)=>{const c=Uc(o,e.mc(i));c!=null&&(n[i]=c)})),{mapValue:{fields:n}}}function qT(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof gt||a instanceof fr||a instanceof Sa||a instanceof Ht||a instanceof _f||a instanceof dr)}function Og(a,e,n){if(!qT(n)||!RE(n)){const i=af(n);throw i==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+i)}}function Ep(a,e,n){if((e=kt(e))instanceof vf)return e._internalPath;if(typeof e=="string")return kg(a,e);throw Kh("Field path arguments must be of type string or ",a,!1,void 0,n)}const AD=new RegExp("[~\\*/\\[\\]]");function kg(a,e,n){if(e.search(AD)>=0)throw Kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,n);try{return new vf(...e.split("."))._internalPath}catch{throw Kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,n)}}function Kh(a,e,n,i,o){const c=i&&!i.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||f)&&(g+=" (found",c&&(g+=` in field ${i}`),f&&(g+=` in document ${o}`),g+=")"),new de(Z.INVALID_ARGUMENT,m+a+g)}function HT(a,e){return a.some((n=>n.isEqual(e)))}class FT{constructor(e,n,i,o,c){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(GT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class xD extends FT{data(){return super.data()}}function GT(a,e){return typeof e=="string"?kg(a,e):e instanceof vf?e._internalPath:e._delegate._internalPath}function $T(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new de(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mg{}class ND extends Mg{}function Um(a,e,...n){let i=[];e instanceof Mg&&i.push(e),i=i.concat(n),(function(c){const f=c.filter((g=>g instanceof Vg)).length,m=c.filter((g=>g instanceof jg)).length;if(f>1||f>0&&m>0)throw new de(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)a=o._apply(a);return a}class jg extends ND{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new jg(e,n,i)}_apply(e){const n=this._parse(e);return YT(e._query,n),new qs(e.firestore,e.converter,up(e._query,n))}_parse(e){const n=Ig(e.firestore);return(function(c,f,m,g,p,E,T){let A;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new de(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){ab(T,E);const G=[];for(const Q of T)G.push(nb(g,c,Q));A={arrayValue:{values:G}}}else A=nb(g,c,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||ab(T,E),A=SD(m,f,T,E==="in"||E==="not-in");return Jt.create(p,E,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Vg extends Mg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Vg(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:za.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let f=o;const m=c.getFlattenedFilters();for(const g of m)YT(f,g),f=up(f,g)})(e._query,n),new qs(e.firestore,e.converter,up(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function nb(a,e,n){if(typeof(n=kt(n))=="string"){if(n==="")throw new de(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$E(e)&&n.indexOf("/")!==-1)throw new de(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(wt.fromString(n));if(!Se.isDocumentKey(i))throw new de(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return v1(a,new Se(i))}if(n instanceof Ht)return v1(a,n._key);throw new de(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${af(n)}.`)}function ab(a,e){if(!Array.isArray(a)||a.length===0)throw new de(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YT(a,e){const n=(function(o,c){for(const f of o)for(const m of f.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(a.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new de(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class CD{convertValue(e,n="none"){switch(Ki(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Ji(e,((o,c)=>{i[o]=this.convertValue(c,n)})),i}convertVectorValue(e){const n=e.fields?.[zh].arrayValue?.values?.map((i=>qt(i.doubleValue)));return new dr(n)}convertGeoPoint(e){return new fr(qt(e.latitude),qt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=of(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(vc(e));default:return null}}convertTimestamp(e){const n=Yi(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=wt.fromString(e);st(mT(i),9688,{name:e});const o=new _c(i.get(1),i.get(3)),c=new Se(i.popFirst(5));return o.isEqual(n)||Yr(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function QT(a,e,n){let i;return i=a?n&&(n.merge||n.mergeFields)?a.toFirestore(e,n):a.toFirestore(e):e,i}class ic{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cs extends FT{constructor(e,n,i,o,c,f){super(e,n,i,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(GT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Cs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Cs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Cs._jsonSchema={type:Zt("string",Cs._jsonSchemaVersion),bundleSource:Zt("string","DocumentSnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class Ch extends Cs{data(e={}){return super.data(e)}}class Rs{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new ic(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Ch(this._firestore,this._userDataWriter,i.key,i,new ic(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new Ch(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ic(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const g=new Ch(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ic(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return m.type!==0&&(p=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:RD(m.type),doc:g,oldIndex:p,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Rs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=tg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),i.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function RD(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:a})}}function ID(a){a=La(a,Ht);const e=La(a.firestore,Ps);return dD(Lc(e),a._key).then((n=>XT(e,a,n)))}Rs._jsonSchemaVersion="firestore/querySnapshot/1.0",Rs._jsonSchema={type:Zt("string",Rs._jsonSchemaVersion),bundleSource:Zt("string","QuerySnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class Pg extends CD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,n)}}function rb(a){a=La(a,qs);const e=La(a.firestore,Ps),n=Lc(e),i=new Pg(e);return $T(a._query),mD(n,a._query).then((o=>new Rs(e,i,a,o)))}function Is(a,e,n){a=La(a,Ht);const i=La(a.firestore,Ps),o=QT(a.converter,e,n);return KT(i,[zT(Ig(i),"setDoc",a._key,o,a.converter!==null,n).toMutation(a._key,Aa.none())])}function DD(a,...e){a=kt(a);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||tb(e[i])||(n=e[i++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(tb(e[i])){const g=e[i];e[i]=g.next?.bind(g),e[i+1]=g.error?.bind(g),e[i+2]=g.complete?.bind(g)}let c,f,m;if(a instanceof Ht)f=La(a.firestore,Ps),m=lf(a._key.path),c={next:g=>{e[i]&&e[i](XT(f,a,g))},error:e[i+1],complete:e[i+2]};else{const g=La(a,qs);f=La(g.firestore,Ps),m=g._query;const p=new Pg(f);c={next:E=>{e[i]&&e[i](new Rs(f,p,g,E))},error:e[i+1],complete:e[i+2]},$T(a._query)}return(function(p,E,T,A){const j=new Cg(A),G=new Ag(E,j,T);return p.asyncQueue.enqueueAndForget((async()=>Tg(await Qh(p),G))),()=>{j.Nu(),p.asyncQueue.enqueueAndForget((async()=>wg(await Qh(p),G)))}})(Lc(f),m,o,c)}function KT(a,e){return(function(i,o){const c=new Hr;return i.asyncQueue.enqueueAndForget((async()=>tD(await fD(i),o,c))),c.promise})(Lc(a),e)}function XT(a,e,n){const i=n.docs.get(e._key),o=new Pg(a);return new Cs(a,o,e._key,i,new ic(n.hasPendingWrites,n.fromCache),e.converter)}class OD{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ig(e)}set(e,n,i){this._verifyNotCommitted();const o=zm(e,this._firestore),c=QT(o.converter,n,i),f=zT(this._dataReader,"WriteBatch.set",o._key,c,o.converter!==null,i);return this._mutations.push(f.toMutation(o._key,Aa.none())),this}update(e,n,i,...o){this._verifyNotCommitted();const c=zm(e,this._firestore);let f;return f=typeof(n=kt(n))=="string"||n instanceof vf?wD(this._dataReader,"WriteBatch.update",c._key,n,i,o):TD(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(f.toMutation(c._key,Aa.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=zm(e,this._firestore);return this._mutations=this._mutations.concat(new lg(n._key,Aa.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new de(Z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function zm(a,e){if((a=kt(a)).firestore!==e)throw new de(Z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}function Tp(){return new Dg("serverTimestamp")}function wp(a){return Lc(a=La(a,Ps)),new OD(a,(e=>KT(a,e)))}(function(e,n=!0){(function(o){Ko=o})(Qo),ks(new Gi("firestore",((i,{instanceIdentifier:o,options:c})=>{const f=i.getProvider("app").getImmediate(),m=new Ps(new EC(i.getProvider("auth-internal")),new SC(f,i.getProvider("app-check-internal")),(function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new de(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _c(p.options.projectId,E)})(f,o),f);return c={useFetchStreams:n,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),sr(i1,s1,e),sr(i1,s1,"esm2020")})();var kD="firebase",MD="12.7.0";sr(kD,MD,"app");const WT="functions";class jD{constructor(e,n,i,o){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Qn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=i.getImmediate({optional:!0}),this.auth||n.get().then(c=>this.auth=c,()=>{}),this.messaging||i.get().then(c=>this.messaging=c,()=>{}),this.appCheck||o?.get().then(c=>this.appCheck=c,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),i=await this.getMessagingToken(),o=await this.getAppCheckToken(e);return{authToken:n,messagingToken:i,appCheckToken:o}}}const Sp="us-central1";class VD{constructor(e,n,i,o,c=Sp,f=(...m)=>fetch(...m)){this.app=e,this.fetchImpl=f,this.emulatorOrigin=null,this.contextProvider=new jD(e,n,i,o),this.cancelAllRequests=new Promise(m=>{this.deleteService=()=>Promise.resolve(m())});try{const m=new URL(c);this.customDomain=m.origin+(m.pathname==="/"?"":m.pathname),this.region=Sp}catch{this.customDomain=null,this.region=c}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function PD(a,e,n){const i=Ls(e);a.emulatorOrigin=`http${i?"s":""}://${e}:${n}`,i&&(Bp(a.emulatorOrigin+"/backends"),qp("Functions",!0))}const ib="@firebase/functions",sb="0.13.1";const LD="auth-internal",UD="app-check-internal",zD="messaging-internal";function BD(a){const e=(n,{instanceIdentifier:i})=>{const o=n.getProvider("app").getImmediate(),c=n.getProvider(LD),f=n.getProvider(zD),m=n.getProvider(UD);return new VD(o,c,f,m,i)};ks(new Gi(WT,e,"PUBLIC").setMultipleInstances(!0)),sr(ib,sb,a),sr(ib,sb,"esm2020")}function qD(a=Gp(),e=Sp){const i=Zh(kt(a),WT).getImmediate({identifier:e}),o=Ib("functions");return o&&HD(i,...o),i}function HD(a,e,n){PD(kt(a),e,n)}BD();let FD=typeof __firebase_config<"u"?JSON.parse(__firebase_config):{apiKey:"AIzaSyDTcSIPkEt2dtyAmlcC1xFVuZ68e8y1SKM",authDomain:"momentum-fitness-ai.firebaseapp.com",projectId:"momentum-fitness-ai",storageBucket:"momentum-fitness-ai.firebasestorage.app",messagingSenderId:"335276198384",appId:"1:335276198384:web:ac58a4771d605892203535",measurementId:"G-9DJX8R1NX8"},ph,zr,zi,GD;try{ph=jb(FD),zr=yC(ph),zi=yD(ph),GD=qD(ph,"us-central1")}catch(a){console.error("Critical Error initializing Firebase:",a)}const $D="Momentum",YD="es",QD="Invitado",KD="Online",XD=["D","L","M","X","J","V","S"],WD="Entrenamiento",JD="Historial",ZD="Perfil",e4="Vamos a empezar!",t4="Primero, completa tu perfil para que la IA pueda crear un plan a tu medida.",n4="Generando tu plan...",a4="La IA est creando tu rutina semanal. Esto puede tardar unos segundos.",r4="Prxima sesin",i4="Comenzar Rutina",s4="Completada",o4="Rutina en Curso",l4="Felicidades!",c4="Has completado la rutina de hoy. Cmo te sentiste? Tu feedback es clave para ajustar futuras sesiones.",u4="Muy Fcil",h4="En su punto",f4="Intensa",d4="Tu opinin importa",m4="Evala la sesin para que la IA personalice mejor tu prximo entrenamiento.",p4="Finalizar y Guardar",g4="Qu sigue?",y4="Prxima sesin: {day}",v4="La IA usar tu feedback para ajustar esta rutina. Preprate!",_4="Rutina del",b4="Ajustar",E4="Generar Nuevo Plan",T4="Seguro que quieres generar un plan completamente nuevo? Se archivar el plan actual.",w4="Tu Perfil",S4="Mantn tus datos actualizados para que la IA pueda adaptar tus rutinas de forma precisa.",A4="Datos Bsicos",x4="Edad",N4="Altura (cm)",C4="Peso (kg)",R4="% Grasa (Opcional)",I4="% Msculo (Opcional)",D4="Gnero",O4="Hombre",k4="Mujer",M4="Otro",j4="Enfoque personalizado",V4="Objetivo Principal",P4="Nivel Experiencia",L4="Das/Semana",U4="Tiempo Disponible (min)",z4="Lesiones / Limitaciones",B4="Guardar Expediente",q4="Nivel de Fitness",H4="Principiante (0-6 meses)",F4="Intermedio (6m - 2y)",G4="Avanzado (+2y)",$4="Objetivo Principal",Y4="Perder Grasa / Metabolismo",Q4="Hipertrofia / Fuerza",K4="Fuerza Mxima",X4="Resistencia Cardio",W4="Guardar Cambios",J4="Perfil guardado!",Z4="Edad Biolgica",e5="Perfil Avanzado (Bioage)",t5="Biometra Clnica & Estructural",n5="Datos opcionales para aumentar precisin de generacin de rutina.",a5="SQUAT 1RM",r5="PLANK",i5="DOMINADAS",s5="FLEXIONES",o5="CINTURA",l5="VO2 MAX",c5="FC REPOSO",u5="RECUPERACIN",h5="Integridad Estructural",f5="Salud Metablica",d5="Anlisis Bioage",m5="Reglas de Ajuste Activadas",p5="Perfil equilibrado. Sin contraindicaciones estructurales detectadas.",g5="Calcular Edad Biolgica",y5="Edad Biolgica Estimada",v5="Cronolgica",_5="Anlisis de Longevidad",b5="Analizar Edad Biolgica",E5="Analizando...",T5="Anlisis completado",w5="Procesando...",S5="Salud Femenina (CycleSync)",A5="Adaptacin al Ciclo Menstrual",x5="Fecha ltima Menstruacin",N5="Duracin Ciclo (das)",C5="Fase Actual",R5="Menstrual",I5="Folicular",D5="Ovulacin",O5="Ltea",k5="Impacto en el Entrenamiento",M5="Cuenta",j5="Respaldo de Datos",V5="Guarda una copia de seguridad de tu progreso o importa datos desde otro dispositivo.",P5="Generar Cdigo de Respaldo",L5="Importar Datos",U5="Cerrar Sesin",z5="Copia de Seguridad",B5="Copiar al Portapapeles",q5="Copiado",H5="Importar",F5="An no hay rutinas completadas.",G5="No hay registros para esta fecha.",$5="Mostrar Todos",Y5="Cancelar",Q5="Momentum AI",K5="Tu entrenador personal inteligente.",X5="Correo electrnico",W5="Contrasea",J5="Iniciar Sesin",Z5="Registrarse",eO="Entrar como Invitado",tO="Olvidaste tu contrasea?",nO="Se ha enviado un enlace para restablecer tu contrasea a tu correo.",aO="Restablecer Contrasea",rO="Atencin",iO="Si cierras sesin como invitado, perders todos tus datos. Para guardar tu progreso, crea una cuenta.",sO="Guardar Progreso (Crear Cuenta)",oO="Cerrar Sesin y Perder Datos",lO="Guarda tu progreso",cO="Ests usando una cuenta de invitado. Para guardar tus datos y acceder desde otros dispositivos, crea una cuenta permanente.",uO="Crear Cuenta y Vincular",hO="COMENZAR",fO="FINALIZAR",dO={appTitle:$D,lang:YD,guest:QD,online:KD,weekdays:XD,tabTraining:WD,tabHistory:JD,tabProfile:ZD,getStarted:e4,getStartedSub:t4,generatingPlan:n4,generatingPlanSub:a4,nextSession:r4,startRoutine:i4,completed:s4,routineInProgress:o4,congratsTitle:l4,congratsSub:c4,feedbackEasy:u4,feedbackGood:h4,feedbackHard:f4,feedbackContainerTitle:d4,feedbackContainerSub:m4,finishWorkout:p4,whatsNext:g4,nextSessionTitle:y4,nextSessionSub:v4,routineFrom:_4,adjust:b4,generateNewPlan:E4,confirmGenerateNewPlan:T4,profileTitle:w4,profileSub:S4,biometrics:A4,age:x4,height:N4,weight:C4,bodyFat:R4,muscleMass:I4,gender:D4,male:O4,female:k4,other:M4,customFocus:j4,mainGoal:V4,expLevel:P4,daysWeek:L4,timeAvailable:U4,injuries:z4,saveFile:B4,fitnessLevel:q4,beginner:H4,intermediate:F4,advanced:G4,goal:$4,goalFat:Y4,goalMuscle:Q4,goalStrength:K4,goalCardio:X4,saveChanges:W4,changesSaved:J4,bioage:Z4,bioageTitle:e5,bioageSubtitle:t5,bioageDesc:n5,squat1rm:a5,plank:r5,pullups:i5,pushups:s5,waist:o5,vo2max:l5,rhr:c5,hrr:u5,structuralIntegrity:h5,metabolicHealth:f5,clinicalAnalysis:d5,detectedRisks:m5,healthyStatus:p5,calcBioAge:g5,bioAgeResult:y5,realAge:v5,bioAgeAnalysis:_5,analyzeBioage:b5,analyzing:E5,analysisComplete:T5,processing:w5,cycleTitle:S5,cycleSubtitle:A5,lastPeriod:x5,cycleLength:N5,phase:C5,menstrual:R5,follicular:I5,ovulation:D5,luteal:O5,phaseDesc:k5,account:M5,backupData:j5,backupSub:V5,generateBackup:P5,importData:L5,signOut:U5,copyBackup:z5,copyToClip:B5,copied:q5,importBtn:H5,noRecords:F5,noRecordsForDate:G5,showAll:$5,cancel:Y5,authTitle:Q5,authSubtitle:K5,email:X5,password:W5,signIn:J5,signUp:Z5,signInGuest:eO,forgotPassword:tO,passwordResetSent:nO,resetPassword:aO,signOutGuestTitle:rO,signOutGuestMessage:iO,saveAccountButton:sO,signOutAndLoseData:oO,linkAccountTitle:lO,linkAccountMessage:cO,linkAccountButton:uO,"error.general":"Ocurri un error inesperado.","error.routineGeneration":"La IA no pudo generar tu rutina. Por favor, intenta de nuevo.","error.profileUpdate":"No se pudieron guardar los cambios. Revisa tu conexin.","error.bioage":"El anlisis de edad biolgica fall.","error.backup":"No se pudo generar el respaldo.","error.import":"El texto es invlido o est corrupto. No se pudo importar.","error.auth.invalid-credential":"Credenciales invlidas. Revisa tu correo y contrasea.","error.auth.email-already-in-use":"Este correo electrnico ya est registrado. Intenta iniciar sesin.","error.auth.weak-password":"La contrasea debe tener al menos 6 caracteres.","error.auth.too-many-requests":"Demasiados intentos fallidos. Intenta de nuevo ms tarde.","error.auth.network-request-failed":"Error de red. Por favor, comprueba tu conexin a internet.",startMain:hO,finishComplete:fO},mO="Momentum",pO="en",gO="Guest",yO="Online",vO=["S","M","T","W","T","F","S"],_O="Training",bO="History",EO="Profile",TO="Let's get started!",wO="First, complete your profile so the AI can create a personalized plan for you.",SO="Generating your plan...",AO="The AI is creating your weekly routine. This may take a few seconds.",xO="Next Session",NO="Start Routine",CO="Completed",RO="Routine in Progress",IO="Congratulations!",DO="You've completed today's routine. How did it feel? Your feedback is key to adjusting future sessions.",OO="Too Easy",kO="Just Right",MO="Challenging",jO="Your opinion matters",VO="Rate the session so the AI can better personalize your next workout.",PO="Finish & Save",LO="What's Next?",UO="Next session: {day}",zO="The AI will use your feedback to adjust this routine. Get ready!",BO="Routine from",qO="Adjust",HO="Generate New Plan",FO="Are you sure you want to generate a completely new plan? The current plan will be archived.",GO="Your Profile",$O="Keep your data updated so the AI can accurately adapt your routines.",YO="Basic Data",QO="Age",KO="Height (cm)",XO="Weight (kg)",WO="% Fat (Optional)",JO="% Muscle (Optional)",ZO="Gender",ek="Male",tk="Female",nk="Other",ak="Custom Focus",rk="Main Goal",ik="Experience Level",sk="Days/Week",ok="Time Available (min)",lk="Injuries / Limitations",ck="Save File",uk="Fitness Level",hk="Beginner (0-6 months)",fk="Intermediate (6m - 2y)",dk="Advanced (+2y)",mk="Main Goal",pk="Fat Loss / Metabolism",gk="Hypertrophy / Strength",yk="Max Strength",vk="Cardio Endurance",_k="Save Changes",bk="Profile saved!",Ek="Biological Age",Tk="Advanced Profile (Bioage)",wk="Clinical & Structural Biometrics",Sk="Optional data to increase routine generation accuracy.",Ak="SQUAT 1RM",xk="PLANK",Nk="PULL-UPS",Ck="PUSH-UPS",Rk="WAIST",Ik="VO2 MAX",Dk="RHR",Ok="RECOVERY",kk="Structural Integrity",Mk="Metabolic Health",jk="Bioage Analysis",Vk="Adjustment Rules Activated",Pk="Balanced profile. No structural contraindications detected.",Lk="Calculate Biological Age",Uk="Estimated Biological Age",zk="Chronological",Bk="Longevity Analysis",qk="Analyze Biological Age",Hk="Analyzing...",Fk="Analysis complete",Gk="Processing...",$k="Female Health (CycleSync)",Yk="Adaptation to Menstrual Cycle",Qk="Last Period Date",Kk="Cycle Length (days)",Xk="Current Phase",Wk="Menstrual",Jk="Follicular",Zk="Ovulation",eM="Luteal",tM="Impact on Training",nM="Account",aM="Data Backup",rM="Save a backup of your progress or import data from another device.",iM="Generate Backup Code",sM="Import Data",oM="Sign Out",lM="Copy Backup",cM="Copy",uM="Copied!",hM="Import",fM="No completed routines yet.",dM="No records for this date.",mM="Show All",pM="Cancel",gM="Momentum AI",yM="Your intelligent personal trainer.",vM="Email",_M="Password",bM="Sign In",EM="Sign Up",TM="Continue as Guest",wM="Forgot password?",SM="A password reset link has been sent to your email.",AM="Reset Password",xM="Warning",NM="If you sign out as a guest, you will lose all your data. To save your progress, please create an account.",CM="Save Progress (Create Account)",RM="Sign Out and Lose Data",IM="Save your progress",DM="You are using a guest account. To save your data and access it from other devices, create a permanent account.",OM="Create & Link Account",kM="START",MM="FINISH",jM={appTitle:mO,lang:pO,guest:gO,online:yO,weekdays:vO,tabTraining:_O,tabHistory:bO,tabProfile:EO,getStarted:TO,getStartedSub:wO,generatingPlan:SO,generatingPlanSub:AO,nextSession:xO,startRoutine:NO,completed:CO,routineInProgress:RO,congratsTitle:IO,congratsSub:DO,feedbackEasy:OO,feedbackGood:kO,feedbackHard:MO,feedbackContainerTitle:jO,feedbackContainerSub:VO,finishWorkout:PO,whatsNext:LO,nextSessionTitle:UO,nextSessionSub:zO,routineFrom:BO,adjust:qO,generateNewPlan:HO,confirmGenerateNewPlan:FO,profileTitle:GO,profileSub:$O,biometrics:YO,age:QO,height:KO,weight:XO,bodyFat:WO,muscleMass:JO,gender:ZO,male:ek,female:tk,other:nk,customFocus:ak,mainGoal:rk,expLevel:ik,daysWeek:sk,timeAvailable:ok,injuries:lk,saveFile:ck,fitnessLevel:uk,beginner:hk,intermediate:fk,advanced:dk,goal:mk,goalFat:pk,goalMuscle:gk,goalStrength:yk,goalCardio:vk,saveChanges:_k,changesSaved:bk,bioage:Ek,bioageTitle:Tk,bioageSubtitle:wk,bioageDesc:Sk,squat1rm:Ak,plank:xk,pullups:Nk,pushups:Ck,waist:Rk,vo2max:Ik,rhr:Dk,hrr:Ok,structuralIntegrity:kk,metabolicHealth:Mk,clinicalAnalysis:jk,detectedRisks:Vk,healthyStatus:Pk,calcBioAge:Lk,bioAgeResult:Uk,realAge:zk,bioAgeAnalysis:Bk,analyzeBioage:qk,analyzing:Hk,analysisComplete:Fk,processing:Gk,cycleTitle:$k,cycleSubtitle:Yk,lastPeriod:Qk,cycleLength:Kk,phase:Xk,menstrual:Wk,follicular:Jk,ovulation:Zk,luteal:eM,phaseDesc:tM,account:nM,backupData:aM,backupSub:rM,generateBackup:iM,importData:sM,signOut:oM,copyBackup:lM,copyToClip:cM,copied:uM,importBtn:hM,noRecords:fM,noRecordsForDate:dM,showAll:mM,cancel:pM,authTitle:gM,authSubtitle:yM,email:vM,password:_M,signIn:bM,signUp:EM,signInGuest:TM,forgotPassword:wM,passwordResetSent:SM,resetPassword:AM,signOutGuestTitle:xM,signOutGuestMessage:NM,saveAccountButton:CM,signOutAndLoseData:RM,linkAccountTitle:IM,linkAccountMessage:DM,linkAccountButton:OM,"error.general":"An unexpected error occurred.","error.routineGeneration":"The AI could not generate your routine. Please try again.","error.profileUpdate":"Could not save changes. Check your connection.","error.bioage":"Biological age analysis failed.","error.backup":"Could not generate backup.","error.import":"The text is invalid or corrupted. Could not import.","error.auth.invalid-credential":"Invalid credentials. Check your email and password.","error.auth.email-already-in-use":"This email is already registered. Try signing in.","error.auth.weak-password":"Password must be at least 6 characters long.","error.auth.too-many-requests":"Too many failed attempts. Try again later.","error.auth.network-request-failed":"Network error. Please check your internet connection.",startMain:kM,finishComplete:MM},Xh={es:dO,en:jM},VM=(a,e)=>{let n=60;const i=a?.mainGoal||"";if(i.includes("Fuerza")||i.includes("Strength")?n=180:i.includes("Hipertrofia")||i.includes("Hypertrophy")?n=90:(i.includes("Grasa")||i.includes("Cardio")||i.includes("Fat"))&&(n=45),e?.tipo_bloque==="superserie"&&(i.includes("Fuerza")||i.includes("Strength")?n=180:n=60),e?.tipo_bloque!=="superserie"){const o=parseFloat(a?.bioage?.hrr)||0,c=parseFloat(a?.bioage?.vo2max)||0;o>30&&c>45&&(n-=15)}return Math.max(30,n)},PM=(a,e=28)=>{if(!a)return null;const n=new Date(a);if(isNaN(n.getTime()))return null;const o=Math.abs(new Date-n),f=Math.ceil(o/(1e3*60*60*24))%e||e;return f>=1&&f<=5?{phase:"menstrual",day:f,label:"Menstrual",desc:"Energa baja. Recuperacin."}:f>=6&&f<=13?{phase:"follicular",day:f,label:"Folicular",desc:"Energa alta. Fuerza."}:f>=14&&f<=16?{phase:"ovulation",day:f,label:"Ovulacin",desc:"Pico de Fuerza."}:{phase:"luteal",day:f,label:"Ltea",desc:"Energa moderada."}},LM=a=>!a||a.length===0?"No hay historial reciente.":a.map(e=>{let n="Sin feedback detallado";if(e.feedback&&e.feedback.difficulty){const o=Object.entries(e.feedback.difficulty);o.length>0&&(n=o.map(([c,f])=>`Ex ${c}: ${f}`).join(", "))}else e.notes&&(n=`Notas: ${e.notes}`);const i=e.routine?.rutinaPrincipal?.map(o=>`${o.ejercicio}`).slice(0,2).join(", ");return`- ${e.diaEnfoque}: ${n}. Ejs: ${i}`}).join(`
`),UM=a=>{const e=Math.floor(a/60),n=a%60;return`${e}:${n.toString().padStart(2,"0")}`},Va=a=>{if(!a)return"";let e=String(a).trim();return[/^(?:Superserie:?|Serie\s?\w+|[A-Z]\d+[:.)-]?|[A-Z][:.)-]|\d+[:.)-])\s*/i,/\s*\([A-Z]\)\s*/i,/\s*\[[A-Z]\]\s*/i,/^Parte \d+:?\s*/i].forEach(i=>{e=e.replace(i,"")}),e.trim()},Lg=a=>{if(!a)return"Entrenamiento";let e=String(a);return e=e.replace(/^[\s\\/-]+/,""),e=e.replace(/^(?:Lunes|Martes|Mircoles|Miercoles|Jueves|Viernes|Sbado|Sabado|Domingo)/i,""),e=e.replace(/^(?:Da|Dia|Day|Semana|Week)\s*\d+/i,""),e=e.replace(/^[\s:,-]+/,""),e.trim()||"Entrenamiento"},Bm=a=>{if(!a)return"--";let e=String(a);if(e=e.replace(/segundos?|segun\w*/gi,"s").replace(/minutos?|mins?/gi,"m"),/\d+/.test(e)){const n=e.match(/(\d+)\s*-\s*(\d+)/);if(n)return`${n[1]}-${n[2]}`;if(/m\b|s\b/i.test(e))return e.substring(0,6).trim();const i=e.match(/\d+/);return i?i[0]:"--"}return/fallo|failure/i.test(e)?"Fallo":/max/i.test(e)?"Max":e.substring(0,5).trim()||"--"},zM=a=>{if(a==null)return"--";if(typeof a=="number")return`${a} kg`;const e=String(a);if(/BW|PC|Bodyweight/i.test(e))return"BW";if(e.includes("%")||/Nvl/i.test(e))return e.substring(0,6);const n=e.match(/[\d.]+/);return n?`${n[0]} kg`:"BW"},JT={type:"OBJECT",properties:{tipo_bloque:{type:"STRING",enum:["normal","superserie"]},ejercicio:{type:"STRING"},tecnica_general:{type:"STRING"},componentes:{type:"ARRAY",items:{type:"OBJECT",properties:{numero_serie:{type:"INTEGER"},repeticiones_ejercicio:{type:"STRING"},carga_sugerida:{type:"STRING"},repeticiones_ejercicioA:{type:"STRING"},carga_sugeridaA:{type:"STRING"},repeticiones_ejercicioB:{type:"STRING"},carga_sugeridaB:{type:"STRING"},completado:{type:"BOOLEAN",default:!1}},required:["numero_serie"]}}},required:["tipo_bloque","ejercicio","componentes","tecnica_general"]},BM="AIzaSyC168hQr_3MAlid9sSwOFAKxim0kCg4F5w",qM=(a,e,n,i)=>{const o=a.bioage||{},c=parseFloat(a.weight)||70,f=[],m=parseFloat(a.personalRecords?.Sentadilla?.reps_1)||parseFloat(o.sq1rm)||0,g=parseFloat(o.plank)||0;m>1.5*c&&g>0&&g<45&&f.push("RIESGO LUMBAR: Atleta fuerte pero con core inestable. Evitar sentadillas pesadas."),parseFloat(o.vo2max)>0&&parseFloat(o.vo2max)<35&&f.push("CAPACIDAD AERBICA BAJA: Aumentar descansos.");const p=f.length>0?`
- ALERTAS CLNICAS: 
${f.map(T=>`  - ${T}`).join(`
`)}`:`
- Datos Clnicos: Perfil saludable.`;let E="No hay rcords personales registrados.";return a.personalRecords&&Object.keys(a.personalRecords).length>0&&(E=Object.entries(a.personalRecords).map(([T,A])=>{const j=Object.entries(A).map(([G,Q])=>`${G.replace("reps_","")} reps: ${Q} kg`).join(", ");return`- ${T}: ${j}`}).join(`
`)),`Eres "FitCoach AI", un experto en alto rendimiento. ${n}
Tu misin es disear entrenamientos completos, lgicos y efectivos.

**Contexto del Atleta:**
- Perfil: ${a.gender}, ${a.age} aos, ${c}kg.
- Objetivo: ${a.mainGoal}.
- Nivel: ${a.experienceLevel}.
- Lesiones: ${a.injuries||"Ninguna"}.
- Tiempo: ${a.timeAvailable} min.
${p}

**Historial Reciente:**
${Array.isArray(e)?LM(e):e||"Sin historial."}

**Fuerza Actual (PRs):**
${E}

**Restricciones:** ${i||"Ninguna"}

**INSTRUCCIONES CRTICAS DE DISEO:**
1.  **Volumen Adecuado:** Una sesin de ${a.timeAvailable} minutos debe tener entre 4 y 7 ejercicios (excluyendo calentamiento). Si generas solo 2 ejercicios, fallars tu misin.
2.  **Estructura:** Calentamiento especfico -> Ejercicios Principales (Compuestos) -> Accesorios (Aislamiento) -> Core/Metablico -> Enfriamiento.
3.  **Progresin:** Usa los PRs para sugerir cargas desafiantes ('carga_sugerida').

**REGLAS ESTRICTAS DE FORMATO JSON:**
1.  **Nombres Claros:** Ej: "Press de Banca" (no "Press").
2.  **SUPERSERIES (IMPORTANTE):** Para crear una superserie, genera **UN SOLO OBJETO** en el array 'rutinaPrincipal' con "tipo_bloque": "superserie".
    - El campo "ejercicio" de este objeto DEBE ser: "A1: [Nombre Ejercicio 1] + A2: [Nombre Ejercicio 2]".
    - **PROHIBIDO** generar dos objetos separados para una superserie.
3.  **Cargas:** Usa nmeros (kg) o "BW" (Bodyweight).
`};async function Ug(a){const{userQuery:e,contextType:n,profile:i,historyContext:o,language:c,extraConstraints:f,schema:m,responseKey:g}=a,p=c==="en"?"RESPOND IN ENGLISH.":"RESPONDE EN ESPAOL.";let E="";n==="BIOAGE_ANALYSIS"?E=`Eres Especialista Clnico. ${p}. Calcula edad biolgica...`:E=qM(i,o,p,f);const T=[{version:"v1beta",model:"gemini-2.5-flash-preview-09-2025"},{version:"v1beta",model:"gemini-1.5-flash"}];let A=null;for(const j of T){const{version:G,model:Q}=j,U=`https://generativelanguage.googleapis.com/${G}/models/${Q}:generateContent?key=${BM}`,X={contents:[{parts:[{text:e}]}],systemInstruction:{parts:[{text:E}]},generationConfig:{temperature:.7,responseMimeType:"application/json"}};m&&(X.generationConfig.responseSchema=m);try{console.log(`Attempting AI call with ${Q}...`);const ae=await fetch(U,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(X)});if(!ae.ok){const be=await ae.text();A=new Error(`Gemini API Error ${ae.status}: ${be}`);continue}const he=(await ae.json()).candidates?.[0]?.content?.parts?.[0]?.text;if(!he)throw new Error("AI returned empty response.");const ye=JSON.parse(he);return g?ye[g]:ye}catch(ae){A=ae,console.error(`Attempt with ${Q} failed:`,ae)}}throw A||new Error("All AI models failed.")}async function HM(a,e,n){const i=`Genera un nuevo plan semanal de ${a.daysPerWeek} das.`;return await Ug({userQuery:i,contextType:"WEEKLY_PLAN",profile:a,historyContext:e,language:n,schema:{type:"OBJECT",properties:{planSemanal:{type:"ARRAY",items:{type:"OBJECT",properties:{diaEnfoque:{type:"STRING"},descripcionBreve:{type:"STRING"},duracionEstimada:{type:"STRING"},calentamiento:{type:"STRING"},rutinaPrincipal:{type:"ARRAY",items:JT},enfriamiento:{type:"STRING"},consejoPro:{type:"STRING"}},required:["diaEnfoque","descripcionBreve","rutinaPrincipal","enfriamiento","consejoPro","duracionEstimada"]}}}},responseKey:"planSemanal"})}async function FM(a,e,n,i){const{newFocus:o,newTime:c,noEquipment:f}=n,m=`Nuevo Enfoque: ${o}. TIEMPO: ${c} min. ${f?"Sin Equipo":"Con Equipo"}.`,g={...a,timeAvailable:c},p=`Ajusta esta rutina: ${JSON.stringify(e)}.`;return await Ug({userQuery:p,contextType:"SESSION_ADJUSTMENT",profile:g,historyContext:[],language:i,extraConstraints:m,schema:{type:"OBJECT",properties:{diaEnfoque:{type:"STRING"},descripcionBreve:{type:"STRING"},duracionEstimada:{type:"STRING"},calentamiento:{type:"STRING"},rutinaPrincipal:{type:"ARRAY",items:JT},enfriamiento:{type:"STRING"},consejoPro:{type:"STRING"}},required:["diaEnfoque","rutinaPrincipal"]}})}async function GM(a,e){return await Ug({userQuery:"Analiza mi edad biolgica",contextType:"BIOAGE_ANALYSIS",profile:a,language:e,schema:{type:"OBJECT",properties:{edadBiologica:{type:"INTEGER"},diferencia:{type:"INTEGER"},evaluacion:{type:"STRING"}},required:["edadBiologica","evaluacion"]}})}const ZT=(typeof __app_id<"u"?__app_id:"momentum-fitness-ai").replace(/[\/.]/g,"_"),$M=a=>{const[e,n]=K.useState(null),[i,o]=K.useState(!1),[c,f]=K.useState(!1),[m,g]=K.useState(null);K.useEffect(()=>{const Q=iN(zr,U=>{n(U?U.uid:null),o(U?U.isAnonymous:!1),f(!0)});return()=>Q()},[]);const p=K.useCallback(async(Q,U)=>{g(null);try{await nN(zr,Q,U)}catch(X){console.error("Sign-in error:",X.code),["auth/user-not-found","auth/wrong-password","auth/invalid-credential"].includes(X.code)?g(a.errorInvalidCreds):g(a.errorAuth)}},[a]),E=K.useCallback(async(Q,U)=>{g(null);try{await tN(zr,Q,U)}catch(X){console.error("Sign-up error:",X.code),g(X.code==="auth/email-already-in-use"?a.errorEmailInUse:a.errorAuth)}},[a]),T=K.useCallback(async()=>{g(null);try{await Qx(zr)}catch(Q){console.error("Anonymous sign-in error:",Q),g(a.errorAuth)}},[a]),A=K.useCallback(async()=>{g(null);try{await sN(zr)}catch(Q){console.error("Sign-out error:",Q),g(a.errorAuth)}},[a]),j=K.useCallback(async(Q,U)=>{if(!zr.currentUser)throw new Error("No user is currently signed in.");const X=Us.credential(Q,U);await Zx(zr.currentUser,X)},[]),G=K.useCallback(async Q=>{await eN(zr,Q)},[]);return{userId:e,isAnonymous:i,isAuthReady:c,authError:m,setAuthError:g,handleSignIn:p,handleSignUp:E,handleAnonymousSignIn:T,handleSignOut:A,handleLinkAccount:j,handlePasswordReset:G}},YM=(a,e,n)=>{const i={gender:"Hombre",age:30,height:175,weight:75,bodyFat:15,muscleMass:40,daysPerWeek:3,mainGoal:"Perder grasa corporal",experienceLevel:"Intermedio",injuries:"",muscleFocus:"recomendado",timeAvailable:45,currentPlanId:null,bioage:{},bioageEstimation:null,menstrualCycle:{lastPeriod:"",cycleLength:28},personalRecords:{}},[o,c]=K.useState(i),[f,m]=K.useState(null),[g,p]=K.useState(null),[E,T]=K.useState(!1),A=K.useMemo(()=>a&&zi?Bo(zi,"artifacts",ZT,"users",a,"profile","userProfile"):null,[a]);K.useEffect(()=>{if(!e||!a||!A){c(i);return}let U=!0;return(async()=>{try{const ae=await ID(A);if(U)if(ae.exists()){const le=ae.data();c(he=>({...i,...le,personalRecords:le.personalRecords||{}}))}else await Is(A,i),c(i)}catch(ae){console.error("Error fetching profile:",ae)}})(),()=>{U=!1}},[e,a,A]);const j=U=>{const{name:X,value:ae,type:le}=U.target;c(he=>{let ye=ae;return X==="bioage"||X==="menstrualCycle"||X==="personalRecords"?{...he,[X]:ae}:(X==="daysPerWeek"&&ae!==""?ye=Math.max(1,Math.min(7,parseInt(ae,10)||1)):le==="number"&&(ye=ae===""?"":parseFloat(ae)),{...he,[X]:ye})})},G=K.useCallback(async U=>{if(A){p(null),m(null);try{await Is(A,U,{merge:!0}),m(n.msgProfileSaved)}catch{p(n.errorSave)}setTimeout(()=>{m(null),p(null)},3e3)}},[A,n]),Q=K.useCallback(async(U,X)=>{T(!0),p(null);try{const ae=await GM(U,X),le={...U,bioageEstimation:ae};c(le),A&&await Is(A,{bioageEstimation:ae},{merge:!0})}catch(ae){console.error(ae),p("Error al calcular BioAge.")}finally{T(!1)}},[A]);return{profile:o,setProfile:c,handleProfileChange:j,handleProfileSave:G,handleAnalyzeBioage:Q,bioageLoading:E,profileSuccess:f,profileError:g,profileDocRef:A}},QM=(a,e,n,i,o,c,f,m,g,p,E,T)=>{const[A,j]=K.useState([]),G=K.useMemo(()=>a&&zi?gD(zi,"artifacts",ZT,"users",a,"routines"):null,[a]);return K.useEffect(()=>{if(!e||!a||!G){j([]);return}let X=!0;const ae=DD(Um(G),le=>{if(X){const he=le.docs.map(ye=>({id:ye.id,...ye.data()}));j(he)}},le=>{console.error(le)});return()=>{X=!1,ae()}},[e,a,G]),{history:A,setHistory:j,handleGenerateWeeklyPlan:async X=>{if(!G||!p)return;c(!0),m(null),T(0);const ae=[i.analyzing,i.designing,i.optimizing,i.finalizing];let le=0;o(ae[le]);const he=setInterval(()=>{le=(le+1)%ae.length,o(ae[le]),T(ye=>Math.min(ye+10,90))},2500);try{const ye=A.filter(C=>C.status==="completed").slice(0,5),be=await HM(n,ye,X);if(clearInterval(he),T(100),!be||!Array.isArray(be)||be.length===0)throw new Error("La IA no gener un plan vlido. Por favor, intntalo de nuevo.");o(i.processing);const I=wp(zi);(await rb(Um(G))).docs.forEach(C=>{C.data().status!=="completed"&&I.delete(C.ref)}),await I.commit();const R=`plan_${Date.now()}`,k=wp(zi);be.forEach((C,Oe)=>{const ze=Bo(G);k.set(ze,{...C,planId:R,weekDay:Oe,status:"pending",createdAt:Tp()})}),await Is(p,{currentPlanId:R},{merge:!0}),k.commit(),E(C=>({...C,currentPlanId:R}));const V=(await rb(Um(G))).docs.map(C=>({id:C.id,...C.data()}));j(V),f(i.msgPlanGen)}catch(ye){console.error("Error generating weekly plan:",ye);const be=ye.message.includes("La IA no gener")?ye.message:i.errorSave;m(be),clearInterval(he),T(0)}finally{c(!1),o(""),setTimeout(()=>f(null),3500)}},handleAdjustNextSession:async(X,ae,le)=>{if(!(!G||!ae)){c(!0),m(null),o(i.recalcParams);try{const he=await FM(n,ae,le,X);if(!he||typeof he!="object"||!he.rutinaPrincipal)throw new Error("La IA no gener un ajuste vlido. Por favor, intntalo de nuevo.");const ye=Bo(G,ae.id);await Is(ye,{...he,status:"pending",modifiedAt:Tp()},{merge:!0}),g(!1),f(i.msgSessionUpd)}catch(he){console.error("Error adjusting session:",he);const ye=he.message.includes("La IA no gener")?he.message:i.errorSave;m(ye)}finally{c(!1),o(""),setTimeout(()=>f(null),3e3)}}},routinesColRef:G}},KM=()=>{const[a,e]=K.useState("es"),n=K.useMemo(()=>Xh[a]||Xh.es,[a]),[i,o]=K.useState("training"),[c,f]=K.useState("main"),[m,g]=K.useState(null),[p,E]=K.useState(!0),[T,A]=K.useState(""),[j,G]=K.useState(!1),[Q,U]=K.useState(null),[X,ae]=K.useState(!1),[le,he]=K.useState(!1),[ye,be]=K.useState(0),{userId:I,isAnonymous:x,isAuthReady:R,authError:k,setAuthError:O,handleSignIn:V,handleSignUp:C,handleAnonymousSignIn:Oe,handleSignOut:ze,handleLinkAccount:H,handlePasswordReset:se}=$M(n),{profile:ce,setProfile:Te,handleProfileChange:Ee,handleProfileSave:N,handleAnalyzeBioage:q,bioageLoading:ne,profileSuccess:re,profileError:fe,profileDocRef:ie}=YM(I,R,n),[pe,xe]=K.useState(null),{history:Me,setHistory:Nt,handleGenerateWeeklyPlan:bn,handleAdjustNextSession:an,routinesColRef:Ft}=QM(I,R,ce,n,A,G,U,xe,ae,ie,Te,be),[We,rn]=K.useState(null),[ut,En]=K.useState(!1),[ca,ht]=K.useState(0),[yt,en]=K.useState(0),[Xn,Rn]=K.useState(!1),Dt=K.useRef(null),In=K.useRef(null),[gr,yr]=K.useState(!1),ua=K.useRef(null),[vr,Ba]=K.useState(!1),[_r,ei]=K.useState(""),[Lt,Ot]=K.useState(null),[Tn,vt]=K.useState(!1),br=K.useMemo(()=>Me.find(Ae=>Ae.id===m),[Me,m]),ha=K.useMemo(()=>pe||fe,[pe,fe]);K.useEffect(()=>{if(R){const Ae=setTimeout(()=>E(!1),1200);return()=>clearTimeout(Ae)}},[R]),K.useEffect(()=>{!I&&R&&(o("training"),f("main"),g(null))},[I,R]);const ti=Ae=>yr(Ae.target.scrollTop>20),Dn=()=>e(Ae=>Ae==="es"?"en":"es"),xa=K.useCallback(async(Ae,Re)=>{rn(null);try{return await H(Ae,Re),!0}catch(He){return console.error("Link account error:",He.code),He.code==="auth/email-already-in-use"?rn(n.errorEmailInUse):["auth/invalid-credential","auth/wrong-password"].includes(He.code)?rn(n.errorInvalidCreds):rn(n.errorAuth),!1}},[n,H]),St=K.useCallback(async Ae=>{O(null);try{return await se(Ae),!0}catch(Re){return console.error("Password reset error:",Re.code),Re.code==="auth/user-not-found"?O(n.errorInvalidCreds):O(n.errorAuth),!1}},[n,se,O]),_t=K.useCallback(()=>{x?he(!0):ze()},[x,ze]),bt=K.useCallback(()=>{he(!1),ze()},[ze]),sn=K.useCallback(Ae=>{Ae&&Ae.id&&(g(Ae.id),f("routine"),En(!0))},[]),tt=K.useCallback(()=>{f("main"),g(null),En(!1),Rn(!1),en(0),ht(0)},[]),on=K.useCallback(async Ae=>{if(!ie||!Ae)return;const Re={};for(const He in Ae){const Fe=Ae[He];if(!Fe.completed)continue;const Ne=(Je,et,jt)=>{const Tt=Va(Je),Mn=parseFloat(jt);if(!Tt||isNaN(Mn)||Mn<=0)return;const jn=`reps_${et}`.replace(/[^a-zA-Z0-9_]/g,""),wn=`${Tt}.${jn}`,Vn=ce.personalRecords?.[Tt]?.[jn]||0;Mn>Vn&&(Re[wn]=Mn)};Ne(Fe.ejercicio,Fe.reps,Fe.load),Fe.repsB&&Fe.loadB&&Ne(Fe.ejercicio,Fe.repsB,Fe.loadB)}if(Object.keys(Re).length>0)try{await Is(ie,{personalRecords:Re},{merge:!0}),Te(He=>({...He,personalRecords:{...He.personalRecords,...Re}})),console.log("Personal records updated:",Re)}catch(He){console.error("Error updating personal records:",He)}},[ce,ie,Te]),Un=K.useCallback(async(Ae,Re,He,Fe)=>{if(!Ft||!Ae){tt();return}Re&&Re.sets&&await on(Re.sets);const Ne={status:"completed",completedAt:new Date,feedback:Re,notes:He,mode:Fe,completedOnDay:(new Date().getDay()+6)%7};Nt(Je=>Je.map(et=>et.id===Ae?{...et,...Ne,completedAt:gt.fromDate(Ne.completedAt)}:et)),tt(),U(n.msgSessionReg),setTimeout(()=>U(null),3e3);try{const Je=Bo(Ft,Ae);await Is(Je,{...Ne,completedAt:Tp()},{merge:!0})}catch(Je){console.error("Error saving feedback to Firebase:",Je),xe(n.errorHistorySave),Nt(et=>et.map(jt=>jt.id===Ae?{...jt,status:"pending",completedAt:null,feedback:null,notes:null,mode:null}:jt)),setTimeout(()=>xe(null),4e3)}},[Ft,tt,Nt,n,xe,U,on]),Wn=K.useCallback(Ae=>{if(clearInterval(In.current),Ae){const Re=VM(ce,Ae);en(Re),Rn(!0)}else Rn(!1),en(0)},[ce]);K.useEffect(()=>(ut?Dt.current=setInterval(()=>{ht(Ae=>Ae+1)},1e3):clearInterval(Dt.current),()=>clearInterval(Dt.current)),[ut]),K.useEffect(()=>(Xn&&ut?In.current=setInterval(()=>{en(Ae=>Ae<=1?(clearInterval(In.current),Rn(!1),0):Ae-1)},1e3):(clearInterval(In.current),yt>0&&(en(0),Rn(!1))),()=>clearInterval(In.current)),[Xn,ut]);const ni=K.useCallback(()=>N(ce),[N,ce]),Jn=K.useCallback(()=>bn(a),[bn,a]),Na=K.useCallback(()=>q(ce,a),[q,ce,a]),fa=K.useCallback((Ae,Re)=>an(a,Ae,Re),[an,a]),Zn=K.useCallback(()=>{Ot(JSON.stringify({profile:ce,history:Me},null,2))},[ce,Me]),On=()=>Ot(null),qa=K.useCallback(()=>{Lt&&navigator.clipboard.writeText(Lt).then(()=>{vt(!0),setTimeout(()=>vt(!1),2e3)})},[Lt]),kn=K.useCallback(async Ae=>{try{const Re=JSON.parse(Ae);if(!Re.profile||!Re.history)throw new Error("Invalid backup format.");if(await N(Re.profile),Ft){const He=wp(zi);Re.history.forEach(Fe=>{const Ne=Fe.id?Bo(Ft,Fe.id):Bo(Ft);Fe.createdAt&&!Fe.createdAt.seconds&&(Fe.createdAt=gt.fromDate(new Date(Fe.createdAt))),Fe.completedAt&&!Fe.completedAt.seconds&&(Fe.completedAt=gt.fromDate(new Date(Fe.completedAt))),He.set(Ne,Fe,{merge:!0})}),await He.commit()}Ba(!1)}catch(Re){ei(`Error: ${Re.message}`)}},[Ft,N]);return{t:n,activeTab:i,view:c,currentRoutine:br,showSplash:p,scrolled:gr,headerRef:ua,isImportModalOpen:vr,importTextError:_r,backupJson:Lt,copySuccess:Tn,isSessionActive:ut,sessionSeconds:ca,restSeconds:yt,progressText:T,loading:j,successMessage:Q,showAdjustment:X,userId:I,isAuthReady:R,authError:k,isAnonymous:x,linkAccountError:We,isSignOutWarningVisible:le,profile:ce,bioageLoading:ne,profileSuccess:re,profileError:fe,history:Me,generationProgress:ye,error:ha,toggleLanguage:Dn,setActiveTab:o,handleScroll:ti,setProgressText:A,setShowAdjustment:ae,setAuthError:O,setIsSignOutWarningVisible:he,onSignIn:V,onSignUp:C,onAnonymousSignIn:Oe,onSignOutRequest:_t,onForceSignOut:bt,onLinkAccount:xa,onPasswordReset:St,handleViewRoutine:sn,handleBackToMain:tt,handleRoutineFeedback:Un,handleExerciseComplete:Wn,setRestSeconds:en,setIsSessionActive:En,onProfileChange:Ee,onProfileSave:ni,onAnalyzeBioage:Na,onGeneratePlan:Jn,onGeneratePlan:Jn,onAdjustNextSession:fa,onGenerateBackup:Zn,onCloseBackupModal:On,onCopyToClipboard:qa,setIsImportModalOpen:Ba,onImportFromText:kn}};const XM=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),WM=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),ob=a=>{const e=WM(a);return e.charAt(0).toUpperCase()+e.slice(1)},ew=(...a)=>a.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),JM=a=>{for(const e in a)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var ZM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const e3=K.forwardRef(({color:a="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:f,...m},g)=>K.createElement("svg",{ref:g,...ZM,width:e,height:e,stroke:a,strokeWidth:i?Number(n)*24/Number(e):n,className:ew("lucide",o),...!c&&!JM(m)&&{"aria-hidden":"true"},...m},[...f.map(([p,E])=>K.createElement(p,E)),...Array.isArray(c)?c:[c]]));const ve=(a,e)=>{const n=K.forwardRef(({className:i,...o},c)=>K.createElement(e3,{ref:c,iconNode:e,className:ew(`lucide-${XM(ob(a))}`,`lucide-${a}`,i),...o}));return n.displayName=ob(a),n};const t3=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],n3=ve("activity",t3);const a3=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],r3=ve("arrow-left",a3);const i3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],s3=ve("arrow-right",i3);const o3=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],l3=ve("brain-circuit",o3);const c3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],lb=ve("calendar-days",c3);const u3=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],h3=ve("check",u3);const f3=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],d3=ve("chevron-down",f3);const m3=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],p3=ve("chevron-right",m3);const g3=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],y3=ve("chevron-up",g3);const v3=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],_3=ve("circle-check-big",v3);const b3=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],E3=ve("clipboard-list",b3);const T3=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],w3=ve("clipboard",T3);const S3=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],cb=ve("clock",S3);const A3=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],x3=ve("copy",A3);const N3=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],C3=ve("database",N3);const R3=[["path",{d:"m10 16 1.5 1.5",key:"11lckj"}],["path",{d:"m14 8-1.5-1.5",key:"1ohn8i"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993",key:"80uv8i"}],["path",{d:"m16.5 10.5 1 1",key:"696xn5"}],["path",{d:"m17 6-2.891-2.891",key:"xu6p2f"}],["path",{d:"M2 15c6.667-6 13.333 0 20-6",key:"1pyr53"}],["path",{d:"m20 9 .891.891",key:"3xwk7g"}],["path",{d:"M3.109 14.109 4 15",key:"q76aoh"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m7 18 2.891 2.891",key:"1sisit"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993",key:"q3hbxp"}]],I3=ve("dna",R3);const D3=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],O3=ve("download",D3);const k3=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],ub=ve("dumbbell",k3);const M3=[["path",{d:"M12 6a2 2 0 0 1 3.414-1.414l6 6a2 2 0 0 1 0 2.828l-6 6A2 2 0 0 1 12 18z",key:"b19h5q"}],["path",{d:"M2 6a2 2 0 0 1 3.414-1.414l6 6a2 2 0 0 1 0 2.828l-6 6A2 2 0 0 1 2 18z",key:"h7h5ge"}]],j3=ve("fast-forward",M3);const V3=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],P3=ve("file-braces",V3);const L3=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],U3=ve("flame",L3);const z3=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}],["path",{d:"M3.22 13H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"auskq0"}]],B3=ve("heart-pulse",z3);const q3=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],H3=ve("heart",q3);const F3=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],G3=ve("hourglass",F3);const $3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Y3=ve("info",$3);const Q3=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],K3=ve("languages",Q3);const X3=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],W3=ve("layers",X3);const J3=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],Z3=ve("link-2",J3);const e6=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],t6=ve("link",e6);const n6=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],a6=ve("loader-circle",n6);const r6=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],i6=ve("log-out",r6);const s6=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],o6=ve("maximize-2",s6);const l6=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M7 11h10",key:"1twpyw"}],["path",{d:"M7 15h6",key:"d9of3u"}],["path",{d:"M7 7h8",key:"af5zfr"}]],c6=ve("message-square-text",l6);const u6=[["path",{d:"M5 12h14",key:"1ays0h"}]],h6=ve("minus",u6);const f6=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],d6=ve("moon",f6);const m6=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],p6=ve("pause",m6);const g6=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],y6=ve("play",g6);const v6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],_6=ve("plus",v6);const b6=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],E6=ve("refresh-cw",b6);const T6=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],w6=ve("ruler",T6);const S6=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],A6=ve("save",S6);const x6=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M18.944 12.33a1 1 0 0 0 0-.66 7.5 7.5 0 0 0-13.888 0 1 1 0 0 0 0 .66 7.5 7.5 0 0 0 13.888 0",key:"11ak4c"}]],N6=ve("scan-eye",x6);const C6=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],R6=ve("settings",C6);const I6=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],D6=ve("shield-alert",I6);const O6=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],tw=ve("sparkles",O6);const k6=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],M6=ve("star",k6);const j6=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],V6=ve("stethoscope",j6);const P6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],L6=ve("target",P6);const U6=[["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}],["path",{d:"M17 14V2",key:"8ymqnk"}]],z6=ve("thumbs-down",U6);const B6=[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]],q6=ve("thumbs-up",B6);const H6=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],F6=ve("timer",H6);const G6=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],$6=ve("toggle-left",G6);const Y6=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],Q6=ve("toggle-right",Y6);const K6=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],X6=ve("triangle-alert",K6);const W6=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],J6=ve("trophy",W6);const Z6=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],ej=ve("upload",Z6);const tj=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],nj=ve("user",tj);const aj=[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]],rj=ve("weight",aj);const ij=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],sj=ve("wind",ij);const oj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],lj=ve("x",oj);const cj=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],uj=ve("youtube",cj);const hj=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],fj=ve("zap",hj),ue=({name:a,className:e=""})=>{if(a==="youtube")return y.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17"}),y.jsx("path",{d:"m10 15 5-3-5-3z"})]});const i={dumbbell:ub,list:E3,user:nj,loader:a6,sparkles:tw,arrowLeft:r3,database:C3,feedback:c6,check:_3,checkSimple:h3,target:L6,upload:ej,download:O3,close:lj,copy:x3,clipboard:w3,moon:d6,calendar:lb,clock:cb,refresh:E6,alert:X6,star:M6,biceps:ub,ruler:w6,weight:rj,activity:n3,flame:U3,play:y6,save:A6,settings:R6,logout:i6,chevronRight:p3,info:Y3,layers:W3,link:t6,plus:_6,timer:F6,toggleOn:Q6,toggleOff:$6,lang:K3,chevronDown:d3,chevronUp:y3,heartPulse:B3,shieldAlert:D6,brain:l3,stethoscope:V6,scanEye:N6,fileJson:P3,link2:Z3,dna:I3,flower:H3,calendarHeart:lb,hourglass:G3,coffee:cb,arrowRight:s3,zap:fj,trophy:J6,max:o6,youtube:uj,fastForward:j3,thumbsUp:q6,thumbsDown:z6,minus:h6,pause:p6,wind:sj}[a];return i?y.jsx(i,{className:`${e}`,strokeWidth:2}):null},qm=({isSuperset:a=!1})=>{const e=a?"text-lg":"text-2xl",n=a?"h-12":"h-14";return y.jsx("div",{className:`flex flex-col items-center justify-center ${n} bg-slate-800/30 rounded-xl border border-slate-700/30`,children:y.jsx("span",{className:`${e} font-black text-slate-500`,children:"BW"})})},Hm=({initialLoad:a,onUpdate:e,isSuperset:n=!1})=>{const i=typeof a=="number"?a:parseFloat(a)||0,[o,c]=K.useState(i),[f,m]=K.useState(!1),g=K.useRef(0),p=K.useRef(0);K.useEffect(()=>{c(i)},[i]);const E=A=>{g.current=A.touches[0].clientY,p.current=A.touches[0].clientY,m(!0)},T=A=>{A.preventDefault();const j=A.touches[0].clientY,G=p.current-j,Q=25,U=1.25;if(Math.abs(G)>Q){let X=G>0?Math.min(250,o+U):Math.max(0,o-U);X=Math.round(X*100)/100,c(X),e(X),p.current=j}};return y.jsxs("div",{onTouchStart:E,onTouchMove:T,onTouchEnd:()=>m(!1),style:{touchAction:"none"},className:`relative flex flex-col items-center justify-center ${n?"h-12":"h-14"} bg-slate-800/50 rounded-xl border border-slate-700/50 cursor-ns-resize transition-all duration-200 ${f?"bg-teal-900/50 border-teal-500/50 scale-105 shadow-lg z-10":""}`,children:[f&&y.jsx(ue,{name:"chevronUp",className:"w-3 h-3 text-teal-400 opacity-70 absolute top-1 animate-bounce"}),y.jsx("span",{className:`${n?"text-lg":"text-2xl"} font-black text-teal-400 leading-none`,children:zM(o)}),f&&y.jsx(ue,{name:"chevronDown",className:"w-3 h-3 text-teal-400 opacity-70 absolute bottom-1 animate-bounce"})]})},dj=({routine:a,onRoutineFeedback:e,lang:n,onExerciseComplete:i,restSeconds:o,setRestSeconds:c,setIsSessionActive:f,isSessionActive:m,sessionSeconds:g})=>{const p=a.id,E=Xh?.[n||"es"]||Xh?.es||{},[T,A]=K.useState("warmup"),[j,G]=K.useState(0),[Q,U]=K.useState({}),[X,ae]=K.useState({}),[le,he]=K.useState(!1),ye=o>0,I=(a.rutinaPrincipal||[]).filter(N=>!/calentamiento|warm.?up/i.test(N.ejercicio)),x=T==="workout"?I[j]:null,k=(N=>N?N.tipo_bloque==="superserie"?!0:/\+|\s+y\s+|\/|A1.*A2/i.test(N.ejercicio):!1)(x),O=N=>{if(!N)return["Ejercicio 1","Ejercicio 2"];const q=N.split(/[\+\/]/);if(q.length>1)return[Va(q[0]),Va(q[1])];const ne=N.match(/A1[:\s]*(.+?)[\s\+]+A2[:\s]*(.+)/i);return ne&&ne.length>=3?[Va(ne[1]),Va(ne[2])]:N.includes("A1")||N.includes("A2")?[Va(N),""]:[Va(N),""]},[V,C]=k?O(x?.ejercicio):[Va(x?.ejercicio),null];K.useEffect(()=>{if(!x)return;const N={},q=ne=>/burpee|salto|jump|plank|flexion|push.?up|dominada|pull.?up|crunch|abdominal|mountain|climber|silla|air/i.test(ne||"");(x.componentes||[]).forEach((ne,re)=>{const fe=(ie,pe)=>{if(typeof ie=="string"&&/BW|PC|Bodyweight/i.test(ie))return"BW";const xe=parseFloat(ie);return(isNaN(xe)||xe===0)&&q(pe)?"BW":isNaN(xe)?0:xe};N[`${j}-${re}-A`]=fe(ne.carga_sugeridaA??ne.carga_sugerida,V),k&&(N[`${j}-${re}-B`]=fe(ne.carga_sugeridaB,C))}),ae(ne=>({...ne,...N}))},[x,j,k,V,C]);const Oe=T==="warmup"?0:T==="cooldown"?100:(j+1)/I.length*100,ze=N=>{if(!N)return;const q=N.replace(/^(?:A[1-2]:?|B[1-2]:?|Superserie:?|Serie\s?\w+)\s*/i,"").replace(/\(.*\)/,"").trim(),ne=encodeURIComponent(`${q} tecnica ejercicio`);window.open(`https://www.youtube.com/results?search_query=${ne}`,"_blank","noopener,noreferrer")},H=(N,q,ne,re)=>{const fe=`${N}-${q}-${ne}`;ae(ie=>({...ie,[fe]:re}))},se=N=>{const q=`${j}-${N}`;if(!Q[q]?.completed){const re=x.componentes[N],fe={completed:!0,ejercicio:x.ejercicio,load:X[`${j}-${G}-A`],reps:re.repeticiones_ejercicioA??re.repeticiones_ejercicio};k&&(fe.loadB=X[`${j}-${N}-B`],fe.repsB=re.repeticiones_ejercicioB),U(ie=>({...ie,[q]:fe})),i&&i(x),c(x.descanso_entre_series||60)}else{const{[q]:re,...fe}=Q;U(fe)}},ce=()=>{T==="warmup"?A("workout"):T==="cooldown"?e?.(p,{sets:Q},"","completed"):j<I.length-1?(G(N=>N+1),he(!1)):A("cooldown")},Te=()=>{T==="cooldown"?A("workout"):T==="workout"&&j>0?G(N=>N-1):A("warmup")},Ee=N=>N?N.split(/[.\n-]/).filter(q=>q.trim().length>3).map((q,ne)=>y.jsxs("li",{className:"flex items-start gap-3 text-left",children:[y.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-orange-500 mt-2 shrink-0"}),y.jsx("span",{className:"text-slate-300 text-sm leading-relaxed font-medium",children:q.trim()})]},ne)):null;return a?y.jsxs("div",{className:"h-full flex flex-col bg-slate-900",children:[y.jsx("div",{className:"flex-1 overflow-y-auto minimal-scrollbar animate-fadeIn pb-28",children:y.jsxs("div",{className:"px-4",children:[y.jsxs("div",{className:"sticky top-0 bg-slate-900/80 backdrop-blur-sm z-10 pt-2 pb-2 mb-2",children:[y.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-1 px-1",children:[y.jsx("span",{children:T==="warmup"?E.warmupTitle:T==="cooldown"?E.cooldownTitle:`Ejercicio ${j+1} de ${I.length}`}),y.jsx("span",{children:`${Math.round(Oe)}%`})]}),y.jsx("div",{className:"h-1.5 w-full bg-slate-800 rounded-full overflow-hidden",children:y.jsx("div",{className:"h-full bg-teal-500 transition-all",style:{width:`${Oe}%`}})})]}),y.jsxs("div",{className:"min-h-[calc(100%-80px)] flex flex-col",children:[T==="warmup"&&y.jsxs("div",{className:"flex flex-col items-center flex-1 py-4",children:[y.jsx("div",{className:"w-20 h-20 rounded-full bg-orange-500/10 flex items-center justify-center mb-4 shrink-0",children:y.jsx(ue,{name:"flame",className:"w-10 h-10 text-orange-500"})}),y.jsx("h2",{className:"text-2xl font-black text-white mb-6",children:E.warmupTitle}),y.jsx("div",{className:"w-full max-w-sm bg-slate-800/30 rounded-2xl border border-slate-700/50 p-6 mb-8",children:y.jsx("ul",{className:"space-y-4",children:Ee(a.calentamiento||E.warmupDesc)})}),y.jsx("button",{onClick:ce,className:"w-full max-w-xs py-4 bg-orange-500 hover:bg-orange-400 text-white font-bold rounded-xl shadow-lg shadow-orange-900/30 transition-all active:scale-95 text-sm tracking-wide",children:E.startMain})]}),T==="cooldown"&&y.jsxs("div",{className:"flex flex-col items-center flex-1 py-4",children:[y.jsx("div",{className:"w-20 h-20 rounded-full bg-blue-500/10 flex items-center justify-center mb-4 shrink-0",children:y.jsx(ue,{name:"wind",className:"w-10 h-10 text-blue-400"})}),y.jsx("h2",{className:"text-2xl font-black text-white mb-6",children:E.cooldownTitle}),y.jsx("div",{className:"w-full max-w-sm bg-slate-800/30 rounded-2xl border border-slate-700/50 p-6 mb-8",children:y.jsx("ul",{className:"space-y-4",children:Ee(a.enfriamiento||E.cooldownDesc)})}),y.jsx("button",{onClick:ce,className:"w-full max-w-xs py-4 bg-teal-500 hover:bg-teal-400 text-white font-bold rounded-xl shadow-lg shadow-teal-900/30 transition-all active:scale-95 text-sm tracking-wide",children:E.finishComplete})]}),T==="workout"&&x&&y.jsxs("div",{className:"flex flex-col flex-1",children:[y.jsx("div",{className:"mb-4 shrink-0",children:k?y.jsxs("div",{className:"bg-slate-800/40 rounded-2xl border border-slate-700/50 p-3 space-y-3 shadow-lg",children:[y.jsxs("div",{className:"flex justify-between items-center gap-2",children:[y.jsx("h3",{className:"text-sm font-black text-white truncate flex-1",children:V}),y.jsx("button",{onClick:()=>ze(V),className:"p-1.5 rounded-lg bg-slate-700 text-red-500",children:y.jsx(ue,{name:"youtube",className:"w-4 h-4"})})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"h-px flex-1 bg-slate-700"}),y.jsx(ue,{name:"link2",className:"w-3 h-3 text-slate-500"}),y.jsx("div",{className:"h-px flex-1 bg-slate-700"})]}),C&&y.jsxs("div",{className:"flex justify-between items-center gap-2",children:[y.jsx("h3",{className:"text-sm font-black text-white truncate flex-1",children:C}),y.jsx("button",{onClick:()=>ze(C),className:"p-1.5 rounded-lg bg-slate-700 text-red-500",children:y.jsx(ue,{name:"youtube",className:"w-4 h-4"})})]})]}):y.jsxs("div",{className:"flex justify-between items-center pt-2",children:[y.jsx("h2",{className:"text-2xl font-black text-white leading-tight truncate flex-1 pr-2",children:V}),y.jsx("button",{onClick:()=>ze(V),className:"shrink-0 p-2.5 rounded-xl bg-slate-800 text-red-500 border border-slate-700 shadow-lg",children:y.jsx(ue,{name:"youtube",className:"w-5 h-5"})})]})}),le&&y.jsxs("div",{className:"absolute inset-0 z-20 bg-slate-900/95 backdrop-blur-md rounded-xl border border-slate-600 p-4 text-xs text-slate-200 overflow-y-auto animate-fadeIn shadow-2xl",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsx("h4",{className:"font-bold text-teal-400 uppercase tracking-wider",children:"Tcnica & Tips"}),y.jsx("button",{onClick:()=>he(!1),children:y.jsx(ue,{name:"close",className:"w-4 h-4 text-slate-500"})})]}),x.tecnica_general]}),y.jsxs("div",{className:"flex-1 flex flex-col bg-slate-900/50 border border-slate-700/50 rounded-2xl overflow-hidden shadow-xl",children:[y.jsx("div",{className:"grid grid-cols-[25px_1fr_1fr_1fr_1fr_45px] gap-1 bg-slate-800/80 p-2 text-[8px] font-bold uppercase text-center border-b border-slate-700 text-slate-500 shrink-0",children:k?y.jsxs(y.Fragment,{children:[y.jsx("div",{children:"#"}),y.jsx("div",{className:"text-cyan-400",children:"Reps"}),y.jsx("div",{className:"text-cyan-400",children:"Kg"}),y.jsx("div",{className:"text-blue-400",children:"Reps"}),y.jsx("div",{className:"text-blue-400",children:"Kg"}),y.jsx(ue,{name:"check",className:"mx-auto w-3 h-3"})]}):y.jsxs(y.Fragment,{children:[y.jsx("div",{children:"#"}),y.jsx("div",{className:"col-span-2",children:"Repeticiones"}),y.jsx("div",{className:"col-span-2",children:"Carga"}),y.jsx(ue,{name:"check",className:"mx-auto w-4 h-4"})]})}),y.jsx("div",{className:"flex-1 overflow-y-auto divide-y divide-slate-800/50 minimal-scrollbar",children:(x.componentes||[]).map((N,q)=>{const ne=Q[`${j}-${q}`]?.completed,re=X[`${j}-${q}-A`],fe=X[`${j}-${q}-B`];return y.jsxs("div",{className:`grid ${k?"grid-cols-[25px_1fr_1fr_1fr_1fr_45px]":"grid-cols-[30px_1fr_1fr_50px]"} gap-1 items-center p-2 ${ne?"bg-emerald-900/10":""}`,children:[y.jsx("div",{className:"w-6 h-6 rounded-full border border-slate-700 flex items-center justify-center text-[10px] font-bold text-slate-500 bg-slate-900 shrink-0",children:N.numero_serie}),k?y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"h-12 flex items-center justify-center bg-cyan-900/10 rounded border border-cyan-900/20 text-sm font-black text-cyan-100",children:Bm(N.repeticiones_ejercicioA)}),re==="BW"?y.jsx(qm,{isSuperset:!0}):y.jsx(Hm,{initialLoad:re,onUpdate:ie=>H(j,q,"A",ie),isSuperset:!0}),y.jsx("div",{className:"h-12 flex items-center justify-center bg-blue-900/10 rounded border border-blue-900/20 text-sm font-black text-blue-100",children:Bm(N.repeticiones_ejercicioB)}),fe==="BW"?y.jsx(qm,{isSuperset:!0}):y.jsx(Hm,{initialLoad:fe,onUpdate:ie=>H(j,q,"B",ie),isSuperset:!0})]}):y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"h-14 flex items-center justify-center bg-slate-800/50 rounded-xl border border-slate-700/50 text-2xl font-black text-white",children:Bm(N.repeticiones_ejercicio)}),re==="BW"?y.jsx(qm,{}):y.jsx(Hm,{initialLoad:re,onUpdate:ie=>H(j,q,"A",ie)})]}),y.jsx("button",{onClick:()=>se(q),className:`w-9 h-9 rounded-xl flex items-center justify-center transition-all border mx-auto ${ne?"bg-emerald-500 text-white shadow-lg":"bg-slate-800 border-slate-600 text-slate-600"}`,children:y.jsx(ue,{name:"check",className:"w-4 h-4"})})]},q)})})]})]})]})]})}),!ye&&y.jsx("div",{className:"fixed bottom-6 left-0 right-0 flex justify-center z-30 pointer-events-none px-4",children:y.jsxs("div",{className:"pointer-events-auto flex items-center bg-slate-900/90 backdrop-blur-xl rounded-full border border-slate-700 shadow-2xl p-2 gap-4",children:[y.jsxs("div",{className:"flex items-center gap-3 pl-2",children:[y.jsx("button",{onClick:Te,className:"p-3 text-slate-400 hover:text-white rounded-full transition-colors active:scale-90",children:y.jsx(ue,{name:"arrowLeft",className:"w-5 h-5"})}),y.jsx("button",{onClick:()=>f(!m),className:`p-4 rounded-full shadow-lg transition-all active:scale-95 ${m?"bg-slate-700 text-slate-300":"bg-amber-500 text-white shadow-amber-500/30"}`,children:y.jsx(ue,{name:m?"pause":"play",className:"w-6 h-6 fill-current"})}),y.jsx("button",{onClick:ce,className:`p-3 rounded-full transition-colors active:scale-90 ${T==="cooldown"?"text-teal-400":"text-slate-400 hover:text-white"}`,children:y.jsx(ue,{name:T==="cooldown"?"check":"arrowRight",className:"w-5 h-5"})})]}),y.jsx("div",{className:"w-px h-8 bg-slate-700/50"}),y.jsxs("div",{className:"flex items-center gap-2 pr-4 pl-1 font-mono font-bold text-lg text-teal-400",children:[y.jsx(ue,{name:"timer",className:"w-4 h-4 opacity-70"}),y.jsx("span",{className:"tabular-nums",children:UM(g)})]})]})}),ye&&y.jsx("div",{className:"fixed inset-0 z-[60] bg-slate-950/98 flex flex-col animate-fadeIn backdrop-blur-2xl overflow-hidden p-6",children:y.jsxs("div",{className:"flex-1 flex flex-col items-center justify-around",children:[y.jsxs("div",{className:"relative shrink-0 flex flex-col items-center",children:[y.jsx("div",{className:"absolute inset-0 bg-teal-500 blur-[80px] opacity-20 animate-pulse rounded-full"}),y.jsx("div",{className:"text-[140px] font-black text-white tabular-nums leading-none tracking-tighter relative z-10 text-stroke",children:o}),y.jsx("h3",{className:"text-sm font-bold text-teal-400 uppercase tracking-[0.4em] animate-pulse mt-2",children:E.restTimer||"DESCANSO"})]}),y.jsxs("div",{className:"flex gap-4 w-full max-w-sm shrink-0",children:[y.jsx("button",{onClick:()=>c(N=>N+30),className:"flex-1 py-4 rounded-xl bg-slate-800/80 border border-slate-700 text-slate-300 font-bold active:scale-95 transition-all text-sm",children:"+30s"}),y.jsxs("button",{onClick:()=>c(0),className:"flex-[2] py-4 rounded-xl bg-teal-600 text-white font-black flex items-center justify-center gap-2 text-sm",children:[y.jsx(ue,{name:"play",className:"w-5 h-5 fill-current"})," ",E.letsGo||"CONTINUAR"]})]})]})})]}):null},mj=({children:a,className:e="",onClick:n})=>y.jsx("div",{onClick:n,className:`bg-slate-800/40 border border-slate-700/50 rounded-2xl shadow-sm backdrop-blur-xl transition-all duration-300 ${e}`,children:a}),pj=({label:a,icon:e,type:n="text",name:i,value:o,onChange:c,placeholder:f,options:m,isTextArea:g=!1})=>y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider ml-1",children:a}),y.jsxs("div",{className:"relative group",children:[y.jsx("div",{className:`absolute left-0 pl-4 flex items-center pointer-events-none text-slate-500 group-focus-within:text-teal-400 transition-colors duration-300 ${g?"top-4":"inset-y-0"}`,children:y.jsx(ue,{name:e,className:"w-5 h-5"})}),m?y.jsx("select",{name:i,value:o,onChange:c,className:"w-full bg-slate-900/50 border border-slate-700 text-slate-100 rounded-xl py-4 pl-12 pr-4 text-sm focus:ring-4 focus:ring-teal-500/10 focus:border-teal-500 outline-none appearance-none cursor-pointer hover:bg-slate-800/50",children:m.map(p=>y.jsx("option",{value:p.value,children:p.label},p.value))}):g?y.jsx("textarea",{name:i,value:o,onChange:c,placeholder:f,rows:"3",className:"w-full bg-slate-900/50 border border-slate-700 text-slate-100 rounded-xl py-4 pl-12 pr-4 text-sm focus:ring-4 focus:ring-teal-500/10 focus:border-teal-500 outline-none min-h-[100px] resize-y"}):y.jsx("input",{type:n,name:i,value:o===0?"":o,onChange:c,placeholder:f,className:"w-full bg-slate-900/50 border border-slate-700 text-slate-100 rounded-xl py-4 pl-12 pr-4 text-sm focus:ring-4 focus:ring-teal-500/10 focus:border-teal-500 outline-none"})]})]}),nw=({progressText:a})=>y.jsxs("div",{className:"flex items-center gap-3 bg-slate-800/80 px-4 py-2 rounded-full border border-teal-500/20 shadow-xl shadow-teal-900/10 backdrop-blur-md transition-all scale-90 origin-right",children:[y.jsxs("div",{className:"gemini-loader-circle",children:[y.jsx("div",{className:"gemini-loader-path"}),y.jsx(tw,{className:"gemini-loader-icon w-3 h-3",strokeWidth:2})]}),y.jsx("span",{className:"text-xs font-medium bg-gradient-to-r from-teal-300 to-violet-300 bg-clip-text text-transparent animate-pulse",children:a})]}),gj=({weekDistribution:a,completionLog:e,todayIndex:n})=>y.jsxs("div",{className:"flex items-center justify-between bg-slate-800/50 p-4 rounded-2xl border border-slate-700/50 mb-6 backdrop-blur-sm",children:[y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Tu Racha"}),y.jsxs("span",{className:"text-xs text-slate-300 font-medium",children:["Semana ",a.length>0?"Activa":"Off"]})]}),y.jsx("div",{className:"flex gap-2",children:[0,1,2,3,4,5,6].map(i=>{const o=e.has(i),c=i===n;let f="bg-slate-700/50",m="border-transparent";return o?f="bg-teal-500 shadow-[0_0_8px_rgba(20,184,166,0.5)]":c&&(f="bg-slate-800",m="border-teal-500 animate-pulse"),y.jsx("div",{className:`w-3 h-3 rounded-full border ${m} ${f} transition-all duration-500`},i)})})]}),zg=({exercises:a,limit:e})=>{if(!a||!Array.isArray(a)||a.length===0)return y.jsx("div",{className:"py-2 text-xs text-slate-500 italic text-center",children:"Detalles disponibles al iniciar."});const n=e?a.slice(0,e):a,i=e?Math.max(0,a.length-e):0;let o=0;return y.jsxs("div",{className:"space-y-2 mt-4 mb-4",children:[n.map((c,f)=>{if(/calentamiento|warm.?up/i.test(c.ejercicio))return null;if(c.tipo_bloque==="superserie"||/\+|\s+y\s+|\/|A1.*A2/i.test(c.ejercicio)){const g=String.fromCharCode(65+o);o++;let p=c.ejercicio.split(/[\+\/]|A1[:\s]*|A2[:\s]*/i).filter(A=>A&&A.trim().length>0);if(p.length<2){const A=c.ejercicio.match(/(.*?)\s*(?:\+|y|\/)\s*(.*)/i);A&&(p=[A[1],A[2]])}const E=p[0]?Va(p[0]):"Ejercicio A",T=p[1]?Va(p[1]):"Ejercicio B";return y.jsxs("div",{className:"flex items-start gap-3 p-2.5 rounded-xl border bg-slate-800/80 border-cyan-900/20 transition-all",children:[y.jsx("span",{className:"shrink-0 flex items-center justify-center w-5 h-5 rounded-full text-[9px] font-bold mt-0.5 bg-cyan-900/20 text-cyan-500",children:f+1}),y.jsxs("div",{className:"flex flex-col w-full gap-1",children:[y.jsx("div",{className:"flex justify-between items-baseline",children:y.jsxs("div",{className:"flex items-center gap-1.5 overflow-hidden",children:[y.jsx("span",{className:"text-[9px] font-black text-cyan-400 bg-cyan-900/30 px-1.5 py-0.5 rounded border border-cyan-500/20 whitespace-nowrap w-8 text-center",children:`${g}1`}),y.jsx("p",{className:"text-xs font-medium text-slate-200 truncate",children:E})]})}),y.jsx("div",{className:"flex justify-between items-baseline",children:y.jsxs("div",{className:"flex items-center gap-1.5 overflow-hidden",children:[y.jsx("span",{className:"text-[9px] font-black text-blue-400 bg-blue-900/30 px-1.5 py-0.5 rounded border border-blue-500/20 whitespace-nowrap w-8 text-center",children:`${g}2`}),y.jsx("p",{className:"text-xs font-medium text-slate-200 truncate",children:T})]})})]})]},f)}else{const g=Va(c.ejercicio);let p="General";return g.match(/barra/i)?p="Barra":g.match(/mancuerna/i)?p="Mancuernas":g.match(/polea|cable/i)?p="Polea":g.match(/mquina|maquina/i)&&(p="Mquina"),y.jsxs("div",{className:"flex items-start gap-3 p-2.5 rounded-xl border bg-slate-800/40 border-slate-700/30 transition-all",children:[y.jsx("span",{className:"shrink-0 flex items-center justify-center w-5 h-5 rounded-full text-[9px] font-bold mt-0.5 bg-teal-900/20 text-teal-500",children:f+1}),y.jsxs("div",{className:"flex-1 min-w-0 flex justify-between items-center",children:[y.jsx("p",{className:"text-xs font-medium text-slate-200 truncate pr-2",children:g}),y.jsx("span",{className:"text-[8px] font-bold text-slate-500 uppercase bg-slate-900 px-1.5 py-0.5 rounded border border-slate-700/50 whitespace-nowrap",children:p})]})]},f)}}),i>0&&y.jsx("div",{className:"text-center pt-2",children:y.jsxs("span",{className:"text-[10px] text-slate-500 font-medium bg-slate-800/50 px-3 py-1 rounded-full border border-slate-700/50",children:["+ ",i," ejercicios ms..."]})})]})},yj=({routine:a,onView:e,onAdjust:n})=>{if(!a)return y.jsx("div",{className:"p-4 text-center text-xs text-slate-500 border border-dashed border-slate-700 rounded-2xl",children:"Todo listo por hoy."});const i=a.routine||a,o=Array.isArray(i.rutinaPrincipal)?i.rutinaPrincipal:[];return y.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-slate-800 to-slate-900 border border-slate-700/50 shadow-xl p-5 mb-4 group",children:[y.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-teal-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/3 pointer-events-none group-hover:bg-teal-500/10 transition-colors duration-500"}),y.jsxs("div",{className:"relative z-10",children:[y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsxs("div",{className:"flex-1 mr-2",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx("span",{className:"px-2 py-0.5 rounded-md bg-teal-500/10 text-teal-400 text-[9px] font-black uppercase tracking-wider border border-teal-500/20 shadow-sm shadow-teal-900/20",children:"Sugerencia"}),y.jsxs("span",{className:"flex items-center gap-1 text-[10px] text-slate-400 font-mono",children:[y.jsx(ue,{name:"clock",className:"w-3 h-3"})," ",i.duracionEstimada||"45 min"]})]}),y.jsx("h2",{className:"text-xl font-black text-white leading-tight line-clamp-2 drop-shadow-md",children:Lg(a.diaEnfoque||i.diaEnfoque)})]}),y.jsx("button",{onClick:c=>{c.stopPropagation(),n()},className:"p-2.5 rounded-full bg-slate-800 text-slate-400 border border-slate-700 hover:text-white hover:border-slate-500 hover:bg-slate-700 transition-all shadow-lg active:scale-95",children:y.jsx(ue,{name:"settings",className:"w-4 h-4"})})]}),y.jsx(zg,{exercises:o,limit:3}),y.jsxs("button",{onClick:()=>e(a),className:"w-full py-3.5 bg-teal-500 hover:bg-teal-400 text-slate-900 rounded-xl font-bold flex items-center justify-center gap-2 transition-all shadow-lg shadow-teal-900/20 active:scale-[0.98] group-hover:shadow-teal-500/20 mt-2",children:[y.jsx(ue,{name:"play",className:"w-4 h-4 fill-current"}),y.jsx("span",{className:"tracking-wide text-sm",children:"COMENZAR SESIN"})]})]})]})},vj=({routines:a,onView:e,onAdjust:n})=>{const[i,o]=K.useState(null);return!a||a.length===0?y.jsx("div",{className:"text-center py-8 text-xs text-slate-500",children:"No hay opciones extra."}):y.jsxs("div",{className:"space-y-3 pb-20",children:[y.jsx("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider pl-1",children:"Otras Opciones"}),a.map(c=>{const f=i===c.id,m=c.routine||c,g=Array.isArray(m.rutinaPrincipal)?m.rutinaPrincipal:[];return y.jsxs("div",{className:`rounded-2xl border transition-all duration-300 overflow-hidden ${f?"bg-slate-800 border-teal-500/30 ring-1 ring-teal-500/20":"bg-slate-800/40 border-slate-700/50"}`,children:[y.jsxs("div",{className:"w-full flex items-center justify-between p-4 text-left cursor-pointer",onClick:()=>o(f?null:c.id),children:[y.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[y.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center transition-colors ${f?"bg-teal-500 text-slate-900 shadow-lg shadow-teal-500/20":"bg-slate-900 text-slate-500 border border-slate-700"}`,children:y.jsx(ue,{name:"dumbbell",className:"w-5 h-5"})}),y.jsxs("div",{children:[y.jsx("h4",{className:`text-sm font-bold ${f?"text-white":"text-slate-300"}`,children:Lg(c.diaEnfoque)}),y.jsx("p",{className:"text-[10px] text-slate-500 font-mono mt-0.5",children:m.duracionEstimada||"45 min"})]})]}),y.jsx("div",{className:`transition-transform duration-300 ${f?"rotate-180 text-teal-500":"text-slate-600"}`,children:y.jsx(ue,{name:"chevronDown",className:"w-5 h-5"})})]}),f&&y.jsxs("div",{className:"px-4 pb-4 animate-fadeIn",children:[y.jsx("div",{className:"pt-2 border-t border-slate-700/50 mb-4 bg-slate-900/20 rounded-xl p-2",children:y.jsx(zg,{exercises:g,limit:99})}),y.jsxs("div",{className:"flex gap-3 px-1",children:[y.jsx("button",{onClick:p=>{p.stopPropagation(),n(c)},className:"flex-1 py-2.5 rounded-lg border border-slate-600 text-slate-300 font-bold text-xs hover:bg-slate-700 transition-colors",children:"AJUSTAR"}),y.jsxs("button",{onClick:p=>{p.stopPropagation(),e(c)},className:"flex-[2] py-2.5 rounded-lg bg-teal-600 text-white font-bold text-xs hover:bg-teal-500 shadow-lg shadow-teal-900/20 transition-colors flex items-center justify-center gap-2",children:[y.jsx(ue,{name:"play",className:"w-3 h-3 fill-current"})," INICIAR"]})]})]})]},c.id)})]})},_j=({nextRoutine:a,profile:e,onProfileChange:n,onAdjustNextSession:i,loading:o,progressText:c,lang:f})=>{const m={timeAvailable:"Tiempo",modality:"Modalidad",noEquipment:"Sin equipo",focusZone:"Zona",processing:"Procesando...",recalcParams:"Recalcular"},[g,p]=K.useState([]),[E,T]=K.useState(!1),[A,j]=K.useState(!1),G=U=>{const X=g.includes(U)?g.filter(ae=>ae!==U):[...g,U];p(X),n&&n({target:{name:"muscleFocus",value:X.join(", ")}})},Q=[{category:"Grupos",items:["Tren Superior","Tren Inferior","Core","Full Body"]},{category:"Msculos",items:["Glteos","Cudriceps","Pecho","Espalda","Brazos"]}];return y.jsxs(mj,{className:"p-6",children:[y.jsxs("div",{className:"flex justify-between items-start mb-6 border-b border-slate-700/50 pb-4",children:[y.jsx("div",{children:y.jsxs("h3",{className:"text-lg font-bold text-slate-100 flex items-center gap-2",children:[y.jsx(ue,{name:"settings",className:"w-5 h-5 text-slate-400"})," ",a.diaEnfoque]})}),o&&y.jsx(nw,{progressText:c})]}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-2 gap-6 items-center",children:[y.jsx(pj,{label:m.timeAvailable,icon:"clock",type:"number",name:"timeAvailable",value:e.timeAvailable,onChange:n}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider ml-1",children:m.modality}),y.jsxs("button",{onClick:()=>T(!E),className:`w-full py-3 px-4 rounded-xl border flex items-center justify-between transition-all ${E?"bg-indigo-500/20 border-indigo-500/50 text-indigo-300":"bg-slate-900/50 border-slate-700 text-slate-400"}`,children:[y.jsx("span",{className:"text-sm font-semibold",children:m.noEquipment}),y.jsx(ue,{name:E?"toggleOn":"toggleOff",className:`w-6 h-6 ${E?"text-indigo-400":"text-slate-600"}`})]})]})]}),y.jsxs("div",{className:"border border-slate-700 rounded-xl overflow-hidden",children:[y.jsxs("button",{onClick:()=>j(!A),className:"w-full p-4 flex items-center justify-between bg-slate-900/50 hover:bg-slate-800 transition-colors",children:[y.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:m.focusZone}),y.jsx(ue,{name:A?"chevronUp":"chevronDown",className:"w-4 h-4 text-slate-500"})]}),A&&y.jsx("div",{className:"p-4 bg-slate-900/30 animate-fadeIn border-t border-slate-700/50",children:y.jsx("div",{className:"flex flex-wrap gap-2.5",children:Q.flatMap(U=>U.items).map(U=>{const X=g.includes(U);return y.jsx("button",{onClick:()=>G(U),className:`px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 border hover:scale-105 active:scale-95 ${X?"bg-teal-600 border-teal-500 text-white shadow-md shadow-teal-900/30":"bg-slate-800 border-slate-700 text-slate-400 hover:border-slate-500 hover:text-slate-200"}`,children:U},U)})})})]}),y.jsx("button",{onClick:()=>i(a,e,E),disabled:o,className:"w-full py-4 rounded-xl bg-slate-700 hover:bg-slate-600 text-white font-bold transition-all duration-300 disabled:opacity-50 disabled:scale-100 hover:scale-[1.02] active:scale-95 flex justify-center items-center gap-2 shadow-lg",children:o?m.processing:y.jsxs(y.Fragment,{children:[y.jsx(ue,{name:"refresh",className:"w-5 h-5"})," ",m.recalcParams]})})]})]})},bj=({profile:a,onProfileChange:e,onGeneratePlan:n,onAdjustNextSession:i,loading:o,successMessage:c,errorMessage:f,history:m,onViewRoutine:g,generationProgress:p,lang:E,t:T,onAnalyzeBioage:A,bioageLoading:j,view:G,currentRoutine:Q,routineId:U,onRoutineFeedback:X,onExerciseComplete:ae,isSessionActive:le,setIsSessionActive:he,restSeconds:ye,setRestSeconds:be,sessionSeconds:I})=>{const[x,R]=K.useState(T.generating),[k,O]=K.useState("recommended"),[V,C]=K.useState(!1),[Oe,ze]=K.useState(null),H=a.currentPlanId,se=(new Date().getDay()+6)%7,ce=(ie="")=>{const pe=ie.toLowerCase(),xe=new Set;return/pecho|chest|push|empuje|press|hombro|shoulder|tricep/i.test(pe)&&xe.add("push"),/espalda|back|pull|traccin|remo|bicep/i.test(pe)&&xe.add("pull"),/pierna|leg|cuad|femoral|gluteo|squat|inferior/i.test(pe)&&xe.add("legs"),/core|abs|abdomen|plank/i.test(pe)&&xe.add("core"),xe},Te=K.useMemo(()=>m.filter(ie=>ie.planId===H&&ie.status!=="archived_history").sort((ie,pe)=>ie.weekDay-pe.weekDay),[m,H]),Ee=K.useMemo(()=>m.filter(ie=>ie.status==="completed").sort((ie,pe)=>{const xe=ie.completedAt?.seconds||ie.createdAt?.seconds||0;return(pe.completedAt?.seconds||pe.createdAt?.seconds||0)-xe})[0],[m]),{recommendedRoutine:N,libraryRoutines:q,pendingRoutines:ne}=K.useMemo(()=>{const ie=Te.filter(Nt=>Nt.status==="pending");if(ie.length===0)return{recommendedRoutine:null,libraryRoutines:[],pendingRoutines:[]};const pe=Ee?ce(Ee.diaEnfoque):new Set;let xe=ie.find(Nt=>![...ce(Nt.diaEnfoque)].some(an=>pe.has(an)));xe||(xe=ie[0]);const Me=ie.filter(Nt=>Nt.id!==xe.id);return{recommendedRoutine:xe,libraryRoutines:Me,pendingRoutines:ie}},[Te,Ee]),re=K.useMemo(()=>{const ie=new Map;return m.forEach(pe=>{pe.planId===H&&pe.status==="completed"&&pe.completedOnDay!==void 0&&ie.set(pe.completedOnDay,pe)}),ie},[m,H]);K.useEffect(()=>{p<30?R(T.analyzing):p<60?R(T.designing):p<90?R(T.optimizing):R(T.finalizing)},[p,T]);const fe=ie=>{ze(ie),C(!0)};return G==="routine"?y.jsx(dj,{routine:Q,routineId:U,onRoutineFeedback:X,successMessage:c,lang:E,onExerciseComplete:ae,isSessionActive:le,setIsSessionActive:he,restSeconds:ye,setRestSeconds:be,sessionSeconds:I}):y.jsxs("div",{className:"animate-fadeIn pb-24",children:[y.jsxs("div",{className:"space-y-2 mb-4",children:[c&&y.jsxs("div",{className:"p-4 bg-teal-500/10 border border-teal-500/20 text-teal-300 rounded-xl flex items-center shadow-lg backdrop-blur-md",children:[y.jsx(ue,{name:"check",className:"mr-3 w-5 h-5"})," ",c]}),f&&y.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 text-red-300 rounded-xl flex items-center shadow-lg backdrop-blur-md",children:[y.jsx(ue,{name:"alert",className:"mr-3 w-5 h-5"})," ",f]})]}),y.jsx(gj,{weekDistribution:Te,completionLog:re,todayIndex:se}),y.jsxs("div",{className:"flex items-center justify-between mb-4 border-b border-slate-700/50 pb-1 px-2",children:[y.jsxs("div",{className:"flex gap-6",children:[y.jsxs("button",{onClick:()=>O("recommended"),className:`pb-2 text-xs font-bold transition-all relative uppercase tracking-wider ${k==="recommended"?"text-teal-400":"text-slate-500 hover:text-slate-300"}`,children:["Recomendado",k==="recommended"&&y.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-teal-500 rounded-t-full"})]}),y.jsxs("button",{onClick:()=>O("library"),className:`pb-2 text-xs font-bold transition-all relative uppercase tracking-wider ${k==="library"?"text-slate-200":"text-slate-500 hover:text-slate-300"}`,children:["Ms Opciones",k==="library"&&y.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-slate-200 rounded-t-full"})]})]}),y.jsxs("button",{onClick:()=>n(a),className:"pb-2 text-[10px] font-bold text-teal-400 hover:text-teal-300 flex items-center gap-1.5 transition-colors",children:[y.jsx(ue,{name:"refresh",className:"w-3 h-3"})," ",T.regenerateCycle]})]}),y.jsxs("div",{className:"min-h-[250px]",children:[o?y.jsx("div",{className:"flex flex-col items-center justify-center py-10",children:y.jsx(nw,{progressText:x})}):y.jsxs(y.Fragment,{children:[k==="recommended"&&y.jsx(y.Fragment,{children:N?y.jsxs("div",{className:"animate-fadeIn",children:[y.jsx(yj,{routine:N,onView:g,onAdjust:()=>fe(N)}),Ee&&y.jsxs("div",{className:"mt-2 px-3 py-2 bg-slate-800/30 rounded-lg border border-slate-700/50 flex items-center gap-2",children:[y.jsx(ue,{name:"info",className:"w-3.5 h-3.5 text-teal-500"}),y.jsxs("span",{className:"text-[10px] text-slate-400 italic",children:["Sugerencia optimizada basada en tu ltima sesin de ",Ee.diaEnfoque,"."]})]})]}):y.jsxs("div",{className:"text-center py-12 border border-dashed border-slate-700/50 rounded-2xl bg-slate-800/20",children:[y.jsx("div",{className:"w-16 h-16 bg-emerald-500/10 rounded-full flex items-center justify-center mx-auto mb-3 border border-emerald-500/20",children:y.jsx(ue,{name:"check",className:"w-8 h-8 text-emerald-500"})}),y.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:"Semana Completada!"}),y.jsx("p",{className:"text-slate-500 text-xs mb-5 max-w-[200px] mx-auto",children:"No hay rutinas pendientes. Gran trabajo!"})]})}),k==="library"&&y.jsxs("div",{className:"animate-fadeIn",children:[y.jsx(vj,{routines:q,onView:g,onAdjust:fe}),q.length===0&&N&&y.jsx("div",{className:"text-center py-10 opacity-50",children:y.jsx("p",{className:"text-xs text-slate-500",children:"Solo queda la rutina recomendada."})})]})]}),V&&Oe&&y.jsx("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-slate-950/90 backdrop-blur-sm p-4 animate-fadeIn",children:y.jsxs("div",{className:"w-full max-w-md relative",children:[y.jsx("button",{onClick:()=>C(!1),className:"absolute -top-10 right-0 text-slate-400 hover:text-white",children:y.jsx(ue,{name:"close",className:"w-8 h-8"})}),y.jsx(_j,{nextRoutine:Oe,profile:a,onProfileChange:e,onAdjustNextSession:(ie,pe,xe)=>{i(ie||Oe,pe,xe),C(!1)},loading:o,progressText:x,lang:E})]})}),Te.length===0&&!o&&y.jsxs("div",{className:"p-6 text-center border border-dashed border-slate-700 rounded-2xl mt-4",children:[y.jsx(ue,{name:"sparkles",className:"w-8 h-8 text-teal-500 mx-auto mb-3"}),y.jsx("p",{className:"text-slate-400 text-xs mb-4",children:T.noPlan}),y.jsx("button",{onClick:()=>n(a),className:"w-full py-3 rounded-lg bg-teal-600 text-white font-bold text-xs shadow-lg shadow-teal-900/20 hover:bg-teal-500",children:T.startRoutine})]})]})]})},pr=({children:a,className:e="",onClick:n})=>y.jsx("div",{onClick:n,className:`bg-slate-800/40 border border-slate-700/50 rounded-2xl shadow-sm backdrop-blur-xl transition-all duration-300 ${e}`,children:a}),Ur=({label:a,icon:e,type:n="text",name:i,value:o,onChange:c,placeholder:f,options:m,isTextArea:g=!1})=>y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider ml-1",children:a}),y.jsxs("div",{className:"relative group",children:[y.jsx("div",{className:`absolute left-0 pl-4 flex items-center pointer-events-none text-slate-500 group-focus-within:text-teal-400 transition-colors duration-300 ${g?"top-4":"inset-y-0"}`,children:y.jsx(ue,{name:e,className:"w-5 h-5"})}),m?y.jsx("select",{name:i,value:o,onChange:c,className:"w-full bg-slate-900/50 border border-slate-700 text-slate-100 rounded-xl py-4 pl-12 pr-4 text-sm focus:ring-4 focus:ring-teal-500/10 focus:border-teal-500 outline-none appearance-none cursor-pointer hover:bg-slate-800/50",children:m.map(p=>y.jsx("option",{value:p.value,children:p.label},p.value))}):g?y.jsx("textarea",{name:i,value:o,onChange:c,placeholder:f,rows:"3",className:"w-full bg-slate-900/50 border border-slate-700 text-slate-100 rounded-xl py-4 pl-12 pr-4 text-sm focus:ring-4 focus:ring-teal-500/10 focus:border-teal-500 outline-none min-h-[100px] resize-y"}):y.jsx("input",{type:n,name:i,value:o===0?"":o,onChange:c,placeholder:f,className:"w-full bg-slate-900/50 border border-slate-700 text-slate-100 rounded-xl py-4 pl-12 pr-4 text-sm focus:ring-4 focus:ring-teal-500/10 focus:border-teal-500 outline-none"})]})]}),rr=({label:a,name:e,value:n,onChange:i,unit:o,tooltip:c,isBio:f=!0})=>y.jsxs("div",{className:"space-y-2",children:[y.jsx("div",{className:"flex justify-between items-center ml-1",children:y.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:a})}),y.jsxs("div",{className:"relative group",children:[y.jsx("input",{type:"number",name:f?`bio_${e}`:e,value:n===0?"":n,onChange:i,className:"w-full bg-slate-950/30 border border-slate-700/70 text-slate-200 rounded-lg py-3 pl-3 pr-10 text-sm focus:ring-2 focus:ring-violet-500/30 focus:border-violet-500 outline-none",placeholder:"0"}),y.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs font-bold text-slate-600 pointer-events-none",children:o})]})]});function aw(a){var e,n,i="";if(typeof a=="string"||typeof a=="number")i+=a;else if(typeof a=="object")if(Array.isArray(a)){var o=a.length;for(e=0;e<o;e++)a[e]&&(n=aw(a[e]))&&(i&&(i+=" "),i+=n)}else for(n in a)a[n]&&(i&&(i+=" "),i+=n);return i}function Ef(){for(var a,e,n=0,i="",o=arguments.length;n<o;n++)(a=arguments[n])&&(e=aw(a))&&(i&&(i+=" "),i+=e);return i}const Ej=(a,e,n,i)=>{if(n==="length"||n==="prototype"||n==="arguments"||n==="caller")return;const o=Object.getOwnPropertyDescriptor(a,n),c=Object.getOwnPropertyDescriptor(e,n);!Tj(o,c)&&i||Object.defineProperty(a,n,c)},Tj=function(a,e){return a===void 0||a.configurable||a.writable===e.writable&&a.enumerable===e.enumerable&&a.configurable===e.configurable&&(a.writable||a.value===e.value)},wj=(a,e)=>{const n=Object.getPrototypeOf(e);n!==Object.getPrototypeOf(a)&&Object.setPrototypeOf(a,n)},Sj=(a,e)=>`/* Wrapped ${a}*/
${e}`,Aj=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),xj=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),Nj=(a,e,n)=>{const i=n===""?"":`with ${n.trim()}() `,o=Sj.bind(null,i,e.toString());Object.defineProperty(o,"name",xj);const{writable:c,enumerable:f,configurable:m}=Aj;Object.defineProperty(a,"toString",{value:o,writable:c,enumerable:f,configurable:m})};function Cj(a,e,{ignoreNonConfigurable:n=!1}={}){const{name:i}=a;for(const o of Reflect.ownKeys(e))Ej(a,e,o,n);return wj(a,e),Nj(a,e,i),a}const gh=2147483647,Rj=new WeakMap,Fm=new WeakMap,Ij=new WeakMap;function Dj(a,e){const n=a.get(e);if(n){if(n.maxAge<=Date.now()){a.delete(e);return}return n}}function rw(a,{cacheKey:e,cache:n=new Map,maxAge:i}={}){if(i===0)return a;if(typeof i=="number"&&Number.isFinite(i)){if(i>gh)throw new TypeError(`The \`maxAge\` option cannot exceed ${gh}.`);if(i<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const o=function(...c){const f=e?e(c):c[0],m=Dj(n,f);if(m)return m.data;const g=a.apply(this,c),p=typeof i=="function"?i(...c):i;if(p!==void 0&&p!==Number.POSITIVE_INFINITY){if(!Number.isFinite(p))throw new TypeError("The `maxAge` function must return a finite number, `0`, or `Infinity`.");if(p<=0)return g;if(p>gh)throw new TypeError(`The \`maxAge\` function result cannot exceed ${gh}.`)}if(n.set(f,{data:g,maxAge:p===void 0||p===Number.POSITIVE_INFINITY?Number.POSITIVE_INFINITY:Date.now()+p}),p!==void 0&&p!==Number.POSITIVE_INFINITY){const E=setTimeout(()=>{n.delete(f),Fm.get(o)?.delete(E)},p);E.unref?.();const T=Fm.get(o)??new Set;T.add(E),Fm.set(o,T)}return g};return Cj(o,a,{ignoreNonConfigurable:!0}),Rj.set(o,n),Ij.set(o,e??(c=>c[0])),o}function Oj(a){return typeof a=="string"}function kj(a,e,n){return n.indexOf(a)===e}function Mj(a){return a.toLowerCase()===a}function hb(a){return a.indexOf(",")===-1?a:a.split(",")}function Ap(a){if(!a)return a;if(a==="C"||a==="posix"||a==="POSIX")return"en-US";if(a.indexOf(".")!==-1){var e=a.split(".")[0],n=e===void 0?"":e;return Ap(n)}if(a.indexOf("@")!==-1){var i=a.split("@")[0],n=i===void 0?"":i;return Ap(n)}if(a.indexOf("-")===-1||!Mj(a))return a;var o=a.split("-"),c=o[0],f=o[1],m=f===void 0?"":f;return"".concat(c,"-").concat(m.toUpperCase())}function jj(a){var e=a===void 0?{}:a,n=e.useFallbackLocale,i=n===void 0?!0:n,o=e.fallbackLocale,c=o===void 0?"en-US":o,f=[];if(typeof navigator<"u"){for(var m=navigator.languages||[],g=[],p=0,E=m;p<E.length;p++){var T=E[p];g=g.concat(hb(T))}var A=navigator.language,j=A&&hb(A);f=f.concat(g,j)}return i&&f.push(c),f.filter(Oj).map(Ap).filter(kj)}var Vj=rw(jj,{cacheKey:JSON.stringify});function Pj(a){return Vj(a)[0]||null}var iw=rw(Pj,{cacheKey:JSON.stringify});function Zr(a,e,n){return function(o,c=n){const f=a(o)+c;return e(f)}}function zc(a){return function(n){return new Date(a(n).getTime()-1)}}function Bc(a,e){return function(i){return[a(i),e(i)]}}function It(a){if(a instanceof Date)return a.getFullYear();if(typeof a=="number")return a;const e=Number.parseInt(a,10);if(typeof a=="string"&&!Number.isNaN(e))return e;throw new Error(`Failed to get year from date: ${a}.`)}function es(a){if(a instanceof Date)return a.getMonth();throw new Error(`Failed to get month from date: ${a}.`)}function Tf(a){if(a instanceof Date)return a.getDate();throw new Error(`Failed to get year from date: ${a}.`)}function Zo(a){const e=It(a),n=e+(-e+1)%100,i=new Date;return i.setFullYear(n,0,1),i.setHours(0,0,0,0),i}const Lj=Zr(It,Zo,-100),sw=Zr(It,Zo,100),Bg=zc(sw),Uj=Zr(It,Bg,-100),ow=Bc(Zo,Bg);function ts(a){const e=It(a),n=e+(-e+1)%10,i=new Date;return i.setFullYear(n,0,1),i.setHours(0,0,0,0),i}const lw=Zr(It,ts,-10),qg=Zr(It,ts,10),wf=zc(qg),cw=Zr(It,wf,-10),uw=Bc(ts,wf);function el(a){const e=It(a),n=new Date;return n.setFullYear(e,0,1),n.setHours(0,0,0,0),n}const hw=Zr(It,el,-1),Hg=Zr(It,el,1),Sf=zc(Hg),fw=Zr(It,Sf,-1),zj=Bc(el,Sf);function Fg(a,e){return function(i,o=e){const c=It(i),f=es(i)+o,m=new Date;return m.setFullYear(c,f,1),m.setHours(0,0,0,0),a(m)}}function Hs(a){const e=It(a),n=es(a),i=new Date;return i.setFullYear(e,n,1),i.setHours(0,0,0,0),i}const dw=Fg(Hs,-1),Gg=Fg(Hs,1),qc=zc(Gg),mw=Fg(qc,-1),Bj=Bc(Hs,qc);function qj(a,e){return function(i,o=e){const c=It(i),f=es(i),m=Tf(i)+o,g=new Date;return g.setFullYear(c,f,m),g.setHours(0,0,0,0),a(g)}}function Hc(a){const e=It(a),n=es(a),i=Tf(a),o=new Date;return o.setFullYear(e,n,i),o.setHours(0,0,0,0),o}const Hj=qj(Hc,1),$g=zc(Hj),Fj=Bc(Hc,$g);function pw(a){return Tf(qc(a))}var vn={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},Gj={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},Yg=[0,1,2,3,4,5,6],Gm=new Map;function $j(a){return function(n,i){var o=n||iw();Gm.has(o)||Gm.set(o,new Map);var c=Gm.get(o);return c.has(a)||c.set(a,new Intl.DateTimeFormat(o||void 0,a).format),c.get(a)(i)}}function Yj(a){var e=new Date(a);return new Date(e.setHours(12))}function Fs(a){return function(e,n){return $j(a)(e,Yj(n))}}var Qj={day:"numeric"},Kj={day:"numeric",month:"long",year:"numeric"},Xj={month:"long"},Wj={month:"long",year:"numeric"},Jj={weekday:"short"},Zj={weekday:"long"},eV={year:"numeric"},tV=Fs(Qj),nV=Fs(Kj),aV=Fs(Xj),gw=Fs(Wj),rV=Fs(Jj),iV=Fs(Zj),Af=Fs(eV),sV=Yg[0],oV=Yg[5],fb=Yg[6];function Sc(a,e){e===void 0&&(e=vn.ISO_8601);var n=a.getDay();switch(e){case vn.ISO_8601:return(n+6)%7;case vn.ISLAMIC:return(n+1)%7;case vn.HEBREW:case vn.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function lV(a){var e=Zo(a);return It(e)}function cV(a){var e=ts(a);return It(e)}function xp(a,e){e===void 0&&(e=vn.ISO_8601);var n=It(a),i=es(a),o=a.getDate()-Sc(a,e);return new Date(n,i,o)}function uV(a,e){e===void 0&&(e=vn.ISO_8601);var n=e===vn.GREGORY?vn.GREGORY:vn.ISO_8601,i=xp(a,e),o=It(a)+1,c,f;do c=new Date(o,0,n===vn.ISO_8601?4:1),f=xp(c,e),o-=1;while(a<f);return Math.round((i.getTime()-f.getTime())/(864e5*7))+1}function Ds(a,e){switch(a){case"century":return Zo(e);case"decade":return ts(e);case"year":return el(e);case"month":return Hs(e);case"day":return Hc(e);default:throw new Error("Invalid rangeType: ".concat(a))}}function hV(a,e){switch(a){case"century":return Lj(e);case"decade":return lw(e);case"year":return hw(e);case"month":return dw(e);default:throw new Error("Invalid rangeType: ".concat(a))}}function yw(a,e){switch(a){case"century":return sw(e);case"decade":return qg(e);case"year":return Hg(e);case"month":return Gg(e);default:throw new Error("Invalid rangeType: ".concat(a))}}function fV(a,e){switch(a){case"decade":return lw(e,-100);case"year":return hw(e,-10);case"month":return dw(e,-12);default:throw new Error("Invalid rangeType: ".concat(a))}}function dV(a,e){switch(a){case"decade":return qg(e,100);case"year":return Hg(e,10);case"month":return Gg(e,12);default:throw new Error("Invalid rangeType: ".concat(a))}}function vw(a,e){switch(a){case"century":return Bg(e);case"decade":return wf(e);case"year":return Sf(e);case"month":return qc(e);case"day":return $g(e);default:throw new Error("Invalid rangeType: ".concat(a))}}function mV(a,e){switch(a){case"century":return Uj(e);case"decade":return cw(e);case"year":return fw(e);case"month":return mw(e);default:throw new Error("Invalid rangeType: ".concat(a))}}function pV(a,e){switch(a){case"decade":return cw(e,-100);case"year":return fw(e,-10);case"month":return mw(e,-12);default:throw new Error("Invalid rangeType: ".concat(a))}}function db(a,e){switch(a){case"century":return ow(e);case"decade":return uw(e);case"year":return zj(e);case"month":return Bj(e);case"day":return Fj(e);default:throw new Error("Invalid rangeType: ".concat(a))}}function gV(a,e,n){var i=[e,n].sort(function(o,c){return o.getTime()-c.getTime()});return[Ds(a,i[0]),vw(a,i[1])]}function _w(a,e,n){return n.map(function(i){return(e||Af)(a,i)}).join("  ")}function yV(a,e,n){return _w(a,e,ow(n))}function bw(a,e,n){return _w(a,e,uw(n))}function vV(a){return a.getDay()===new Date().getDay()}function Ew(a,e){e===void 0&&(e=vn.ISO_8601);var n=a.getDay();switch(e){case vn.ISLAMIC:case vn.HEBREW:return n===oV||n===fb;case vn.ISO_8601:case vn.GREGORY:return n===fb||n===sV;default:throw new Error("Unsupported calendar type.")}}var ar="react-calendar__navigation";function _V(a){var e=a.activeStartDate,n=a.drillUp,i=a.formatMonthYear,o=i===void 0?gw:i,c=a.formatYear,f=c===void 0?Af:c,m=a.locale,g=a.maxDate,p=a.minDate,E=a.navigationAriaLabel,T=E===void 0?"":E,A=a.navigationAriaLive,j=a.navigationLabel,G=a.next2AriaLabel,Q=G===void 0?"":G,U=a.next2Label,X=U===void 0?"":U,ae=a.nextAriaLabel,le=ae===void 0?"":ae,he=a.nextLabel,ye=he===void 0?"":he,be=a.prev2AriaLabel,I=be===void 0?"":be,x=a.prev2Label,R=x===void 0?"":x,k=a.prevAriaLabel,O=k===void 0?"":k,V=a.prevLabel,C=V===void 0?"":V,Oe=a.setActiveStartDate,ze=a.showDoubleView,H=a.view,se=a.views,ce=se.indexOf(H)>0,Te=H!=="century",Ee=hV(H,e),N=Te?fV(H,e):void 0,q=yw(H,e),ne=Te?dV(H,e):void 0,re=(function(){if(Ee.getFullYear()<0)return!0;var We=mV(H,e);return p&&p>=We})(),fe=Te&&(function(){if(N.getFullYear()<0)return!0;var We=pV(H,e);return p&&p>=We})(),ie=g&&g<q,pe=Te&&g&&g<ne;function xe(){Oe(Ee,"prev")}function Me(){Oe(N,"prev2")}function Nt(){Oe(q,"next")}function bn(){Oe(ne,"next2")}function an(We){var rn=(function(){switch(H){case"century":return yV(m,f,We);case"decade":return bw(m,f,We);case"year":return f(m,We);case"month":return o(m,We);default:throw new Error("Invalid view: ".concat(H,"."))}})();return j?j({date:We,label:rn,locale:m||iw()||void 0,view:H}):rn}function Ft(){var We="".concat(ar,"__label");return y.jsxs("button",{"aria-label":T,"aria-live":A,className:We,disabled:!ce,onClick:n,style:{flexGrow:1},type:"button",children:[y.jsx("span",{className:"".concat(We,"__labelText ").concat(We,"__labelText--from"),children:an(e)}),ze?y.jsxs(y.Fragment,{children:[y.jsx("span",{className:"".concat(We,"__divider"),children:"  "}),y.jsx("span",{className:"".concat(We,"__labelText ").concat(We,"__labelText--to"),children:an(q)})]}):null]})}return y.jsxs("div",{className:ar,children:[R!==null&&Te?y.jsx("button",{"aria-label":I,className:"".concat(ar,"__arrow ").concat(ar,"__prev2-button"),disabled:fe,onClick:Me,type:"button",children:R}):null,C!==null&&y.jsx("button",{"aria-label":O,className:"".concat(ar,"__arrow ").concat(ar,"__prev-button"),disabled:re,onClick:xe,type:"button",children:C}),Ft(),ye!==null&&y.jsx("button",{"aria-label":le,className:"".concat(ar,"__arrow ").concat(ar,"__next-button"),disabled:ie,onClick:Nt,type:"button",children:ye}),X!==null&&Te?y.jsx("button",{"aria-label":Q,className:"".concat(ar,"__arrow ").concat(ar,"__next2-button"),disabled:pe,onClick:bn,type:"button",children:X}):null]})}var jo=function(){return jo=Object.assign||function(a){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o])}return a},jo.apply(this,arguments)},bV=function(a,e){var n={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&e.indexOf(i)<0&&(n[i]=a[i]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(a);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(a,i[o])&&(n[i[o]]=a[i[o]]);return n};function mb(a){return"".concat(a,"%")}function Qg(a){var e=a.children,n=a.className,i=a.count,o=a.direction,c=a.offset,f=a.style,m=a.wrap,g=bV(a,["children","className","count","direction","offset","style","wrap"]);return y.jsx("div",jo({className:n,style:jo({display:"flex",flexDirection:o,flexWrap:m?"wrap":"nowrap"},f)},g,{children:K.Children.map(e,function(p,E){var T=c&&E===0?mb(100*c/i):null;return K.cloneElement(p,jo(jo({},p.props),{style:{flexBasis:mb(100/i),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:T,marginInlineStart:T,marginInlineEnd:0}}))})}))}function EV(a,e,n){return e&&e>a?e:n&&n<a?n:a}function Ac(a,e){return e[0]<=a&&e[1]>=a}function TV(a,e){return a[0]<=e[0]&&a[1]>=e[1]}function Tw(a,e){return Ac(a[0],e)||Ac(a[1],e)}function pb(a,e,n){var i=Tw(e,a),o=[];if(i){o.push(n);var c=Ac(a[0],e),f=Ac(a[1],e);c&&o.push("".concat(n,"Start")),f&&o.push("".concat(n,"End")),c&&f&&o.push("".concat(n,"BothEnds"))}return o}function wV(a){return Array.isArray(a)?a[0]!==null&&a[1]!==null:a!==null}function SV(a){if(!a)throw new Error("args is required");var e=a.value,n=a.date,i=a.hover,o="react-calendar__tile",c=[o];if(!n)return c;var f=new Date,m=(function(){if(Array.isArray(n))return n;var j=a.dateType;if(!j)throw new Error("dateType is required when date is not an array of two dates");return db(j,n)})();if(Ac(f,m)&&c.push("".concat(o,"--now")),!e||!wV(e))return c;var g=(function(){if(Array.isArray(e))return e;var j=a.valueType;if(!j)throw new Error("valueType is required when value is not an array of two dates");return db(j,e)})();TV(g,m)?c.push("".concat(o,"--active")):Tw(g,m)&&c.push("".concat(o,"--hasActive"));var p=pb(g,m,"".concat(o,"--range"));c.push.apply(c,p);var E=Array.isArray(e)?e:[e];if(i&&E.length===1){var T=i>g[0]?[g[0],i]:[i,g[0]],A=pb(T,m,"".concat(o,"--hover"));c.push.apply(c,A)}return c}function xf(a){for(var e=a.className,n=a.count,i=n===void 0?3:n,o=a.dateTransform,c=a.dateType,f=a.end,m=a.hover,g=a.offset,p=a.renderTile,E=a.start,T=a.step,A=T===void 0?1:T,j=a.value,G=a.valueType,Q=[],U=E;U<=f;U+=A){var X=o(U);Q.push(p({classes:SV({date:X,dateType:c,hover:m,value:j,valueType:G}),date:X}))}return y.jsx(Qg,{className:e,count:i,offset:g,wrap:!0,children:Q})}function Nf(a){var e=a.activeStartDate,n=a.children,i=a.classes,o=a.date,c=a.formatAbbr,f=a.locale,m=a.maxDate,g=a.maxDateTransform,p=a.minDate,E=a.minDateTransform,T=a.onClick,A=a.onMouseOver,j=a.style,G=a.tileClassName,Q=a.tileContent,U=a.tileDisabled,X=a.view,ae=K.useMemo(function(){var he={activeStartDate:e,date:o,view:X};return typeof G=="function"?G(he):G},[e,o,G,X]),le=K.useMemo(function(){var he={activeStartDate:e,date:o,view:X};return typeof Q=="function"?Q(he):Q},[e,o,Q,X]);return y.jsxs("button",{className:Ef(i,ae),disabled:p&&E(p)>o||m&&g(m)<o||U?.({activeStartDate:e,date:o,view:X}),onClick:T?function(he){return T(o,he)}:void 0,onFocus:A?function(){return A(o)}:void 0,onMouseOver:A?function(){return A(o)}:void 0,style:j,type:"button",children:[c?y.jsx("abbr",{"aria-label":c(f,o),children:n}):n,le]})}var Np=function(){return Np=Object.assign||function(a){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o])}return a},Np.apply(this,arguments)},AV=function(a,e){var n={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&e.indexOf(i)<0&&(n[i]=a[i]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(a);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(a,i[o])&&(n[i[o]]=a[i[o]]);return n},gb="react-calendar__century-view__decades__decade";function xV(a){var e=a.classes,n=e===void 0?[]:e,i=a.currentCentury,o=a.formatYear,c=o===void 0?Af:o,f=AV(a,["classes","currentCentury","formatYear"]),m=f.date,g=f.locale,p=[];return n&&p.push.apply(p,n),p.push(gb),Zo(m).getFullYear()!==i&&p.push("".concat(gb,"--neighboringCentury")),y.jsx(Nf,Np({},f,{classes:p,maxDateTransform:wf,minDateTransform:ts,view:"century",children:bw(g,c,m)}))}var Cp=function(){return Cp=Object.assign||function(a){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o])}return a},Cp.apply(this,arguments)},yb=function(a,e){var n={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&e.indexOf(i)<0&&(n[i]=a[i]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(a);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(a,i[o])&&(n[i[o]]=a[i[o]]);return n};function NV(a){var e=a.activeStartDate,n=a.hover,i=a.showNeighboringCentury,o=a.value,c=a.valueType,f=yb(a,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),m=lV(e),g=m+(i?119:99);return y.jsx(xf,{className:"react-calendar__century-view__decades",dateTransform:ts,dateType:"decade",end:g,hover:n,renderTile:function(p){var E=p.date,T=yb(p,["date"]);return y.jsx(xV,Cp({},f,T,{activeStartDate:e,currentCentury:m,date:E}),E.getTime())},start:m,step:10,value:o,valueType:c})}var Rp=function(){return Rp=Object.assign||function(a){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o])}return a},Rp.apply(this,arguments)};function CV(a){function e(){return y.jsx(NV,Rp({},a))}return y.jsx("div",{className:"react-calendar__century-view",children:e()})}var Ip=function(){return Ip=Object.assign||function(a){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o])}return a},Ip.apply(this,arguments)},RV=function(a,e){var n={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&e.indexOf(i)<0&&(n[i]=a[i]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(a);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(a,i[o])&&(n[i[o]]=a[i[o]]);return n},vb="react-calendar__decade-view__years__year";function IV(a){var e=a.classes,n=e===void 0?[]:e,i=a.currentDecade,o=a.formatYear,c=o===void 0?Af:o,f=RV(a,["classes","currentDecade","formatYear"]),m=f.date,g=f.locale,p=[];return n&&p.push.apply(p,n),p.push(vb),ts(m).getFullYear()!==i&&p.push("".concat(vb,"--neighboringDecade")),y.jsx(Nf,Ip({},f,{classes:p,maxDateTransform:Sf,minDateTransform:el,view:"decade",children:c(g,m)}))}var Dp=function(){return Dp=Object.assign||function(a){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o])}return a},Dp.apply(this,arguments)},_b=function(a,e){var n={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&e.indexOf(i)<0&&(n[i]=a[i]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(a);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(a,i[o])&&(n[i[o]]=a[i[o]]);return n};function DV(a){var e=a.activeStartDate,n=a.hover,i=a.showNeighboringDecade,o=a.value,c=a.valueType,f=_b(a,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),m=cV(e),g=m+(i?11:9);return y.jsx(xf,{className:"react-calendar__decade-view__years",dateTransform:el,dateType:"year",end:g,hover:n,renderTile:function(p){var E=p.date,T=_b(p,["date"]);return y.jsx(IV,Dp({},f,T,{activeStartDate:e,currentDecade:m,date:E}),E.getTime())},start:m,value:o,valueType:c})}var Op=function(){return Op=Object.assign||function(a){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o])}return a},Op.apply(this,arguments)};function OV(a){function e(){return y.jsx(DV,Op({},a))}return y.jsx("div",{className:"react-calendar__decade-view",children:e()})}var kp=function(){return kp=Object.assign||function(a){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o])}return a},kp.apply(this,arguments)},kV=function(a,e){var n={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&e.indexOf(i)<0&&(n[i]=a[i]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(a);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(a,i[o])&&(n[i[o]]=a[i[o]]);return n},bb=function(a,e,n){if(n||arguments.length===2)for(var i=0,o=e.length,c;i<o;i++)(c||!(i in e))&&(c||(c=Array.prototype.slice.call(e,0,i)),c[i]=e[i]);return a.concat(c||Array.prototype.slice.call(e))},MV="react-calendar__year-view__months__month";function jV(a){var e=a.classes,n=e===void 0?[]:e,i=a.formatMonth,o=i===void 0?aV:i,c=a.formatMonthYear,f=c===void 0?gw:c,m=kV(a,["classes","formatMonth","formatMonthYear"]),g=m.date,p=m.locale;return y.jsx(Nf,kp({},m,{classes:bb(bb([],n,!0),[MV],!1),formatAbbr:f,maxDateTransform:qc,minDateTransform:Hs,view:"year",children:o(p,g)}))}var Mp=function(){return Mp=Object.assign||function(a){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o])}return a},Mp.apply(this,arguments)},Eb=function(a,e){var n={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&e.indexOf(i)<0&&(n[i]=a[i]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(a);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(a,i[o])&&(n[i[o]]=a[i[o]]);return n};function VV(a){var e=a.activeStartDate,n=a.hover,i=a.value,o=a.valueType,c=Eb(a,["activeStartDate","hover","value","valueType"]),f=0,m=11,g=It(e);return y.jsx(xf,{className:"react-calendar__year-view__months",dateTransform:function(p){var E=new Date;return E.setFullYear(g,p,1),Hs(E)},dateType:"month",end:m,hover:n,renderTile:function(p){var E=p.date,T=Eb(p,["date"]);return y.jsx(jV,Mp({},c,T,{activeStartDate:e,date:E}),E.getTime())},start:f,value:i,valueType:o})}var jp=function(){return jp=Object.assign||function(a){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o])}return a},jp.apply(this,arguments)};function PV(a){function e(){return y.jsx(VV,jp({},a))}return y.jsx("div",{className:"react-calendar__year-view",children:e()})}var Vp=function(){return Vp=Object.assign||function(a){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o])}return a},Vp.apply(this,arguments)},LV=function(a,e){var n={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&e.indexOf(i)<0&&(n[i]=a[i]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(a);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(a,i[o])&&(n[i[o]]=a[i[o]]);return n},$m="react-calendar__month-view__days__day";function UV(a){var e=a.calendarType,n=a.classes,i=n===void 0?[]:n,o=a.currentMonthIndex,c=a.formatDay,f=c===void 0?tV:c,m=a.formatLongDate,g=m===void 0?nV:m,p=LV(a,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),E=p.date,T=p.locale,A=[];return i&&A.push.apply(A,i),A.push($m),Ew(E,e)&&A.push("".concat($m,"--weekend")),E.getMonth()!==o&&A.push("".concat($m,"--neighboringMonth")),y.jsx(Nf,Vp({},p,{classes:A,formatAbbr:g,maxDateTransform:$g,minDateTransform:Hc,view:"month",children:f(T,E)}))}var Pp=function(){return Pp=Object.assign||function(a){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o])}return a},Pp.apply(this,arguments)},Tb=function(a,e){var n={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&e.indexOf(i)<0&&(n[i]=a[i]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(a);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(a,i[o])&&(n[i[o]]=a[i[o]]);return n};function zV(a){var e=a.activeStartDate,n=a.calendarType,i=a.hover,o=a.showFixedNumberOfWeeks,c=a.showNeighboringMonth,f=a.value,m=a.valueType,g=Tb(a,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),p=It(e),E=es(e),T=o||c,A=Sc(e,n),j=T?0:A,G=(T?-A:0)+1,Q=(function(){if(o)return G+42-1;var U=pw(e);if(c){var X=new Date;X.setFullYear(p,E,U),X.setHours(0,0,0,0);var ae=7-Sc(X,n)-1;return U+ae}return U})();return y.jsx(xf,{className:"react-calendar__month-view__days",count:7,dateTransform:function(U){var X=new Date;return X.setFullYear(p,E,U),Hc(X)},dateType:"day",hover:i,end:Q,renderTile:function(U){var X=U.date,ae=Tb(U,["date"]);return y.jsx(UV,Pp({},g,ae,{activeStartDate:e,calendarType:n,currentMonthIndex:E,date:X}),X.getTime())},offset:j,start:G,value:f,valueType:m})}var ww="react-calendar__month-view__weekdays",Ym="".concat(ww,"__weekday");function BV(a){for(var e=a.calendarType,n=a.formatShortWeekday,i=n===void 0?rV:n,o=a.formatWeekday,c=o===void 0?iV:o,f=a.locale,m=a.onMouseLeave,g=new Date,p=Hs(g),E=It(p),T=es(p),A=[],j=1;j<=7;j+=1){var G=new Date(E,T,j-Sc(p,e)),Q=c(f,G);A.push(y.jsx("div",{className:Ef(Ym,vV(G)&&"".concat(Ym,"--current"),Ew(G,e)&&"".concat(Ym,"--weekend")),children:y.jsx("abbr",{"aria-label":Q,title:Q,children:i(f,G).replace(".","")})},j))}return y.jsx(Qg,{className:ww,count:7,onFocus:m,onMouseOver:m,children:A})}var Wh=function(){return Wh=Object.assign||function(a){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o])}return a},Wh.apply(this,arguments)},wb=function(a,e){var n={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&e.indexOf(i)<0&&(n[i]=a[i]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(a);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(a,i[o])&&(n[i[o]]=a[i[o]]);return n},Sb="react-calendar__tile";function qV(a){var e=a.onClickWeekNumber,n=a.weekNumber,i=y.jsx("span",{children:n});if(e){var o=a.date,c=a.onClickWeekNumber,f=a.weekNumber,m=wb(a,["date","onClickWeekNumber","weekNumber"]);return y.jsx("button",Wh({},m,{className:Sb,onClick:function(g){return c(f,o,g)},type:"button",children:i}))}else{a.date,a.onClickWeekNumber,a.weekNumber;var m=wb(a,["date","onClickWeekNumber","weekNumber"]);return y.jsx("div",Wh({},m,{className:Sb,children:i}))}}function HV(a){var e=a.activeStartDate,n=a.calendarType,i=a.onClickWeekNumber,o=a.onMouseLeave,c=a.showFixedNumberOfWeeks,f=(function(){if(c)return 6;var p=pw(e),E=Sc(e,n),T=p-(7-E);return 1+Math.ceil(T/7)})(),m=(function(){for(var p=It(e),E=es(e),T=Tf(e),A=[],j=0;j<f;j+=1)A.push(xp(new Date(p,E,T+j*7),n));return A})(),g=m.map(function(p){return uV(p,n)});return y.jsx(Qg,{className:"react-calendar__month-view__weekNumbers",count:f,direction:"column",onFocus:o,onMouseOver:o,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:g.map(function(p,E){var T=m[E];if(!T)throw new Error("date is not defined");return y.jsx(qV,{date:T,onClickWeekNumber:i,weekNumber:p},p)})})}var Lp=function(){return Lp=Object.assign||function(a){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o])}return a},Lp.apply(this,arguments)},FV=function(a,e){var n={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&e.indexOf(i)<0&&(n[i]=a[i]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(a);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(a,i[o])&&(n[i[o]]=a[i[o]]);return n};function GV(a){if(a)for(var e=0,n=Object.entries(Gj);e<n.length;e++){var i=n[e],o=i[0],c=i[1];if(c.includes(a))return o}return vn.ISO_8601}function $V(a){var e=a.activeStartDate,n=a.locale,i=a.onMouseLeave,o=a.showFixedNumberOfWeeks,c=a.calendarType,f=c===void 0?GV(n):c,m=a.formatShortWeekday,g=a.formatWeekday,p=a.onClickWeekNumber,E=a.showWeekNumbers,T=FV(a,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function A(){return y.jsx(BV,{calendarType:f,formatShortWeekday:m,formatWeekday:g,locale:n,onMouseLeave:i})}function j(){return E?y.jsx(HV,{activeStartDate:e,calendarType:f,onClickWeekNumber:p,onMouseLeave:i,showFixedNumberOfWeeks:o}):null}function G(){return y.jsx(zV,Lp({calendarType:f},T))}var Q="react-calendar__month-view";return y.jsx("div",{className:Ef(Q,E?"".concat(Q,"--weekNumbers"):""),children:y.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[j(),y.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[A(),G()]})]})})}var Vo=function(){return Vo=Object.assign||function(a){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o])}return a},Vo.apply(this,arguments)},yh="react-calendar",Rh=["century","decade","year","month"],YV=["decade","year","month","day"],Kg=new Date;Kg.setFullYear(1,0,1);Kg.setHours(0,0,0,0);var QV=new Date(864e13);function sc(a){return a instanceof Date?a:new Date(a)}function Sw(a,e){return Rh.slice(Rh.indexOf(a),Rh.indexOf(e)+1)}function KV(a,e,n){var i=Sw(e,n);return i.indexOf(a)!==-1}function Xg(a,e,n){return a&&KV(a,e,n)?a:n}function Aw(a){var e=Rh.indexOf(a);return YV[e]}function XV(a,e){var n=Array.isArray(a)?a[e]:a;if(!n)return null;var i=sc(n);if(Number.isNaN(i.getTime()))throw new Error("Invalid date: ".concat(a));return i}function xw(a,e){var n=a.value,i=a.minDate,o=a.maxDate,c=a.maxDetail,f=XV(n,e);if(!f)return null;var m=Aw(c),g=(function(){switch(e){case 0:return Ds(m,f);case 1:return vw(m,f);default:throw new Error("Invalid index value: ".concat(e))}})();return EV(g,i,o)}var Wg=function(a){return xw(a,0)},Nw=function(a){return xw(a,1)},WV=function(a){return[Wg,Nw].map(function(e){return e(a)})};function Cw(a){var e=a.maxDate,n=a.maxDetail,i=a.minDate,o=a.minDetail,c=a.value,f=a.view,m=Xg(f,o,n),g=Wg({value:c,minDate:i,maxDate:e,maxDetail:n})||new Date;return Ds(m,g)}function JV(a){var e=a.activeStartDate,n=a.defaultActiveStartDate,i=a.defaultValue,o=a.defaultView,c=a.maxDate,f=a.maxDetail,m=a.minDate,g=a.minDetail,p=a.value,E=a.view,T=Xg(E,g,f),A=e||n;return A?Ds(T,A):Cw({maxDate:c,maxDetail:f,minDate:m,minDetail:g,value:p||i,view:E||o})}function Qm(a){return a&&(!Array.isArray(a)||a.length===1)}function vh(a,e){return a instanceof Date&&e instanceof Date&&a.getTime()===e.getTime()}var ZV=K.forwardRef(function(e,n){var i=e.activeStartDate,o=e.allowPartialRange,c=e.calendarType,f=e.className,m=e.defaultActiveStartDate,g=e.defaultValue,p=e.defaultView,E=e.formatDay,T=e.formatLongDate,A=e.formatMonth,j=e.formatMonthYear,G=e.formatShortWeekday,Q=e.formatWeekday,U=e.formatYear,X=e.goToRangeStartOnSelect,ae=X===void 0?!0:X,le=e.inputRef,he=e.locale,ye=e.maxDate,be=ye===void 0?QV:ye,I=e.maxDetail,x=I===void 0?"month":I,R=e.minDate,k=R===void 0?Kg:R,O=e.minDetail,V=O===void 0?"century":O,C=e.navigationAriaLabel,Oe=e.navigationAriaLive,ze=e.navigationLabel,H=e.next2AriaLabel,se=e.next2Label,ce=e.nextAriaLabel,Te=e.nextLabel,Ee=e.onActiveStartDateChange,N=e.onChange,q=e.onClickDay,ne=e.onClickDecade,re=e.onClickMonth,fe=e.onClickWeekNumber,ie=e.onClickYear,pe=e.onDrillDown,xe=e.onDrillUp,Me=e.onViewChange,Nt=e.prev2AriaLabel,bn=e.prev2Label,an=e.prevAriaLabel,Ft=e.prevLabel,We=e.returnValue,rn=We===void 0?"start":We,ut=e.selectRange,En=e.showDoubleView,ca=e.showFixedNumberOfWeeks,ht=e.showNavigation,yt=ht===void 0?!0:ht,en=e.showNeighboringCentury,Xn=e.showNeighboringDecade,Rn=e.showNeighboringMonth,Dt=Rn===void 0?!0:Rn,In=e.showWeekNumbers,gr=e.tileClassName,yr=e.tileContent,ua=e.tileDisabled,vr=e.value,Ba=e.view,_r=K.useState(m),ei=_r[0],Lt=_r[1],Ot=K.useState(null),Tn=Ot[0],vt=Ot[1],br=K.useState(Array.isArray(g)?g.map(function(Ne){return Ne!==null?sc(Ne):null}):g!=null?sc(g):null),ha=br[0],ti=br[1],Dn=K.useState(p),xa=Dn[0],St=Dn[1],_t=i||ei||JV({activeStartDate:i,defaultActiveStartDate:m,defaultValue:g,defaultView:p,maxDate:be,maxDetail:x,minDate:k,minDetail:V,value:vr,view:Ba}),bt=(function(){var Ne=(function(){return ut&&Qm(ha)?ha:vr!==void 0?vr:ha})();return Ne?Array.isArray(Ne)?Ne.map(function(Je){return Je!==null?sc(Je):null}):Ne!==null?sc(Ne):null:null})(),sn=Aw(x),tt=Xg(Ba||xa,V,x),on=Sw(V,x),Un=ut?Tn:null,Wn=on.indexOf(tt)<on.length-1,ni=on.indexOf(tt)>0,Jn=K.useCallback(function(Ne){var Je=(function(){switch(rn){case"start":return Wg;case"end":return Nw;case"range":return WV;default:throw new Error("Invalid returnValue.")}})();return Je({maxDate:be,maxDetail:x,minDate:k,value:Ne})},[be,x,k,rn]),Na=K.useCallback(function(Ne,Je){Lt(Ne);var et={action:Je,activeStartDate:Ne,value:bt,view:tt};Ee&&!vh(_t,Ne)&&Ee(et)},[_t,Ee,bt,tt]),fa=K.useCallback(function(Ne,Je){var et=(function(){switch(tt){case"century":return ne;case"decade":return ie;case"year":return re;case"month":return q;default:throw new Error("Invalid view: ".concat(tt,"."))}})();et&&et(Ne,Je)},[q,ne,re,ie,tt]),Zn=K.useCallback(function(Ne,Je){if(Wn){fa(Ne,Je);var et=on[on.indexOf(tt)+1];if(!et)throw new Error("Attempted to drill down from the lowest view.");Lt(Ne),St(et);var jt={action:"drillDown",activeStartDate:Ne,value:bt,view:et};Ee&&!vh(_t,Ne)&&Ee(jt),Me&&tt!==et&&Me(jt),pe&&pe(jt)}},[_t,Wn,Ee,fa,pe,Me,bt,tt,on]),On=K.useCallback(function(){if(ni){var Ne=on[on.indexOf(tt)-1];if(!Ne)throw new Error("Attempted to drill up from the highest view.");var Je=Ds(Ne,_t);Lt(Je),St(Ne);var et={action:"drillUp",activeStartDate:Je,value:bt,view:Ne};Ee&&!vh(_t,Je)&&Ee(et),Me&&tt!==Ne&&Me(et),xe&&xe(et)}},[_t,ni,Ee,xe,Me,bt,tt,on]),qa=K.useCallback(function(Ne,Je){var et=bt;fa(Ne,Je);var jt=ut&&!Qm(et),Tt;if(ut)if(jt)Tt=Ds(sn,Ne);else{if(!et)throw new Error("previousValue is required");if(Array.isArray(et))throw new Error("previousValue must not be an array");Tt=gV(sn,et,Ne)}else Tt=Jn(Ne);var Mn=!ut||jt||ae?Cw({maxDate:be,maxDetail:x,minDate:k,minDetail:V,value:Tt,view:tt}):null;Je.persist(),Lt(Mn),ti(Tt);var jn={action:"onChange",activeStartDate:Mn,value:Tt,view:tt};if(Ee&&!vh(_t,Mn)&&Ee(jn),N)if(ut){var wn=Qm(Tt);if(!wn)N(Tt||null,Je);else if(o){if(Array.isArray(Tt))throw new Error("value must not be an array");N([Tt||null,null],Je)}}else N(Tt||null,Je)},[_t,o,Jn,ae,be,x,k,V,Ee,N,fa,ut,bt,sn,tt]);function kn(Ne){vt(Ne)}function Ae(){vt(null)}K.useImperativeHandle(n,function(){return{activeStartDate:_t,drillDown:Zn,drillUp:On,onChange:qa,setActiveStartDate:Na,value:bt,view:tt}},[_t,Zn,On,qa,Na,bt,tt]);function Re(Ne){var Je=Ne?yw(tt,_t):Ds(tt,_t),et=Wn?Zn:qa,jt={activeStartDate:Je,hover:Un,locale:he,maxDate:be,minDate:k,onClick:et,onMouseOver:ut?kn:void 0,tileClassName:gr,tileContent:yr,tileDisabled:ua,value:bt,valueType:sn};switch(tt){case"century":return y.jsx(CV,Vo({formatYear:U,showNeighboringCentury:en},jt));case"decade":return y.jsx(OV,Vo({formatYear:U,showNeighboringDecade:Xn},jt));case"year":return y.jsx(PV,Vo({formatMonth:A,formatMonthYear:j},jt));case"month":return y.jsx($V,Vo({calendarType:c,formatDay:E,formatLongDate:T,formatShortWeekday:G,formatWeekday:Q,onClickWeekNumber:fe,onMouseLeave:ut?Ae:void 0,showFixedNumberOfWeeks:typeof ca<"u"?ca:En,showNeighboringMonth:Dt,showWeekNumbers:In},jt));default:throw new Error("Invalid view: ".concat(tt,"."))}}function He(){return yt?y.jsx(_V,{activeStartDate:_t,drillUp:On,formatMonthYear:j,formatYear:U,locale:he,maxDate:be,minDate:k,navigationAriaLabel:C,navigationAriaLive:Oe,navigationLabel:ze,next2AriaLabel:H,next2Label:se,nextAriaLabel:ce,nextLabel:Te,prev2AriaLabel:Nt,prev2Label:bn,prevAriaLabel:an,prevLabel:Ft,setActiveStartDate:Na,showDoubleView:En,view:tt,views:on}):null}var Fe=Array.isArray(bt)?bt:[bt];return y.jsxs("div",{className:Ef(yh,ut&&Fe.length===1&&"".concat(yh,"--selectRange"),En&&"".concat(yh,"--doubleView"),f),ref:le,children:[He(),y.jsxs("div",{className:"".concat(yh,"__viewContainer"),onBlur:ut?Ae:void 0,onMouseLeave:ut?Ae:void 0,children:[Re(),En?Re(!0):null]})]})});const e9=({history:a,onDateChange:e,selectedDate:n,t:i})=>{const o=zp.useMemo(()=>a.reduce((m,g)=>{if(g.status==="completed"&&g.createdAt?.seconds){const p=new Date(g.createdAt.seconds*1e3).toDateString();m.add(p)}return m},new Set),[a]),c=({date:m,view:g})=>g==="month"&&o.has(m.toDateString())?y.jsx("div",{className:"trained-day-dot"}):null,f=(m,g)=>["D","L","M","X","J","V","S"][g.getDay()];return y.jsx(ZV,{onChange:e,value:n,tileContent:c,className:"w-full bg-slate-800/20 p-4 rounded-xl border border-slate-700/50",prevLabel:y.jsx(ue,{name:"chevronLeft",className:"w-5 h-5"}),nextLabel:y.jsx(ue,{name:"chevronRight",className:"w-5 h-5"}),next2Label:null,prev2Label:null,formatShortWeekday:f})},t9=a=>{if(a==null)return"N/A";const e=Math.floor(a/60),n=a%60;return`${e}:${n.toString().padStart(2,"0")}`};function n9({history:a,onViewRoutine:e,t:n,setActiveTab:i}){const[o,c]=K.useState(null),[f,m]=K.useState(null),g=K.useMemo(()=>a.filter(T=>T.status==="completed").sort((T,A)=>(A.createdAt?.seconds||0)-(T.createdAt?.seconds||0)),[a]),p=K.useMemo(()=>o?g.filter(T=>new Date(T.createdAt.seconds*1e3).toDateString()===o.toDateString()):g,[g,o]),E=T=>{o&&T.getTime()===o.getTime()?c(null):c(T)};if(f){const T=f.routine||f,A=Array.isArray(T.rutinaPrincipal)?T.rutinaPrincipal:[];return y.jsxs("div",{className:"animate-fadeIn pb-20",children:[y.jsxs("button",{onClick:()=>m(null),className:"flex items-center gap-2 text-teal-400 mb-6 font-bold hover:text-teal-300 transition-colors px-2",children:[y.jsx(ue,{name:"arrowLeft",className:"w-5 h-5"})," ",n.back||"Volver al Historial"]}),y.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-slate-800 to-slate-900 border border-slate-700/50 shadow-2xl p-6 mb-8",children:[y.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-teal-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/3 pointer-events-none"}),y.jsxs("div",{className:"relative z-10",children:[y.jsxs("div",{className:"mb-4",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx("span",{className:"px-2 py-0.5 rounded-md bg-teal-500/10 text-teal-400 text-[9px] font-black uppercase tracking-wider border border-teal-500/20",children:"Historial"}),y.jsxs("span",{className:"flex items-center gap-1 text-[10px] text-slate-400 font-mono",children:[y.jsx(ue,{name:"calendar",className:"w-3 h-3"}),f.createdAt?.toDate?.().toLocaleDateString()||new Date(f.createdAt?.seconds*1e3).toLocaleDateString()]})]}),y.jsx("h2",{className:"text-2xl font-black text-white leading-tight drop-shadow-md",children:Lg(f.diaEnfoque)})]}),y.jsx("div",{className:"bg-slate-900/40 rounded-2xl p-2 border border-slate-700/30 mb-6",children:y.jsx(zg,{exercises:A,limit:99})}),y.jsxs("button",{onClick:()=>{e({...f,status:"pending"}),i&&i("training")},className:"w-full py-4 bg-teal-500 hover:bg-teal-400 text-slate-900 rounded-xl font-black flex items-center justify-center gap-3 transition-all shadow-lg shadow-teal-900/20 active:scale-[0.98]",children:[y.jsx(ue,{name:"play",className:"w-5 h-5 fill-current"}),y.jsx("span",{className:"tracking-wide uppercase text-sm",children:"REPETIR ESTA SESIN"})]})]})]})]})}return y.jsxs("div",{className:"animate-fadeIn pb-20",children:[y.jsxs("h2",{className:"text-lg font-bold text-slate-100 mb-6 flex items-center gap-2",children:[y.jsx(ue,{name:"list",className:"w-5 h-5 text-teal-400"})," ",n.tabHistory]}),y.jsx("div",{className:"mb-8",children:y.jsx(e9,{history:a,onDateChange:E,selectedDate:o,t:n})}),p.length>0?y.jsx("div",{className:"space-y-4",children:p.map(T=>y.jsxs(pr,{className:"p-5 flex items-center justify-between group hover:bg-slate-800 transition-colors cursor-pointer",onClick:()=>m(T),children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx("span",{className:"text-xs font-mono text-slate-500 bg-slate-900 px-2 py-0.5 rounded",children:T.createdAt?.toDate?.().toLocaleDateString()||new Date(T.createdAt?.seconds*1e3).toLocaleDateString()}),y.jsxs("span",{className:"flex items-center gap-1 text-[10px] text-teal-400 font-bold uppercase",children:[y.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-teal-500"})," ",n.completed]})]}),y.jsx("h4",{className:"text-base font-bold text-slate-200 group-hover:text-teal-300 transition-colors",children:T.diaEnfoque}),T.totalTime!==void 0&&y.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-slate-400 mt-2 font-mono",children:[y.jsx(ue,{name:"clock",className:"w-3.5 h-3.5"}),y.jsx("span",{children:t9(T.totalTime)})]})]}),y.jsx("div",{className:"p-3 rounded-full bg-slate-900 text-slate-500 border border-slate-700 group-hover:bg-teal-600 group-hover:text-white group-hover:border-teal-500 transition-all",children:y.jsx(ue,{name:"chevronRight",className:"w-5 h-5"})})]},T.id))}):y.jsxs("div",{className:"text-center py-16 opacity-50 bg-slate-800/30 rounded-2xl border border-dashed border-slate-700",children:[y.jsx(ue,{name:o?"searchX":"database",className:"w-12 h-12 mx-auto mb-4 text-slate-600"}),y.jsx("p",{className:"text-slate-500 font-medium",children:o?n.noRecordsForDate:n.noRecords}),o&&y.jsx("button",{onClick:()=>c(null),className:"mt-4 px-4 py-2 text-sm font-semibold text-teal-300 bg-teal-500/10 rounded-lg hover:bg-teal-500/20 transition-colors",children:n.showAll})]})]})}const Km=({isValid:a,text:e})=>y.jsxs("div",{className:`flex items-center text-xs transition-colors duration-300 ${a?"text-green-400":"text-slate-500"}`,children:[y.jsx(ue,{name:a?"checkCircle":"xCircle",className:"w-4 h-4 mr-2 flex-shrink-0"}),y.jsx("span",{children:e})]}),Rw=({value:a,onChange:e,placeholder:n,t:i})=>{const[o,c]=K.useState(!1),f=K.useMemo(()=>{const m=a.length>=6,g=/[A-Z]/.test(a),p=/[0-9]/.test(a);return{hasLength:m,hasUppercase:g,hasNumber:p}},[a]);return y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:o?"text":"password",value:a,onChange:e,placeholder:n||"Contrasea",className:"w-full bg-slate-900/70 border border-slate-700 rounded-lg pl-4 pr-10 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-teal-500 text-sm transition-colors",required:!0}),y.jsx("button",{type:"button",onClick:()=>c(!o),className:"absolute inset-y-0 right-0 flex items-center px-3 text-slate-500 hover:text-white transition-colors","aria-label":o?"Ocultar contrasea":"Mostrar contrasea",children:y.jsx(ue,{name:o?"eyeOff":"eye",className:"w-5 h-5"})})]}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-x-4 gap-y-1 pt-1",children:[y.jsx(Km,{isValid:f.hasLength,text:i.passRequirementLength}),y.jsx(Km,{isValid:f.hasUppercase,text:i.passRequirementUpper}),y.jsx(Km,{isValid:f.hasNumber,text:i.passRequirementNumber})]})]})},a9=({onLinkAccount:a,t:e,error:n})=>{const[i,o]=K.useState(""),[c,f]=K.useState(""),[m,g]=K.useState(!1),[p,E]=K.useState(!1),T=async A=>{A.preventDefault(),g(!0),E(!1);const j=await a(i,c);g(!1),j&&E(!0)};return p?y.jsx(pr,{className:"p-6 border-green-500/30 bg-green-900/20",children:y.jsxs("div",{className:"text-center",children:[y.jsx(ue,{name:"checkCircle",className:"w-12 h-12 text-green-400 mx-auto mb-4"}),y.jsx("h3",{className:"text-lg font-bold text-white",children:e.accountLinkedTitle}),y.jsx("p",{className:"text-green-200/80 text-sm",children:e.accountLinkedMessage})]})}):y.jsxs(pr,{className:"p-6 border-teal-500/30 bg-slate-800/50",children:[y.jsxs("h3",{className:"text-sm font-bold text-teal-300 uppercase tracking-wider mb-3 flex items-center gap-2",children:[y.jsx(ue,{name:"shieldCheck",className:"w-4 h-4"})," ",e.saveAccountPrompt]}),y.jsx("p",{className:"text-xs text-slate-400 mb-4",children:e.saveAccountMessage}),y.jsxs("form",{onSubmit:T,className:"space-y-4",children:[y.jsx("input",{type:"email",value:i,onChange:A=>o(A.target.value),placeholder:e.emailPlaceholder,className:"w-full bg-slate-900/70 border border-slate-700 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-teal-500 text-sm",required:!0}),y.jsx(Rw,{value:c,onChange:A=>f(A.target.value),placeholder:e.passwordPlaceholder,t:e}),y.jsx("button",{type:"submit",disabled:m,className:"w-full bg-teal-600 hover:bg-teal-500 disabled:bg-slate-700 disabled:text-slate-400 text-white font-bold py-2.5 rounded-lg text-sm shadow-lg shadow-teal-900/30 transition-all flex items-center justify-center gap-2",children:m?y.jsxs(y.Fragment,{children:[y.jsx(ue,{name:"loader",className:"animate-spin w-5 h-5"})," ",e.processing]}):e.saveAccountButton}),n&&!m&&y.jsx("p",{className:"text-red-400 text-xs text-center pt-2 animate-fadeIn",children:n})]})]})},r9=({profile:a,onChange:e,onAnalyzeBioage:n,bioageLoading:i,t:o})=>{const[c,f]=K.useState(!1),m=a.bioage||{},g=p=>{const E=p.target.name.replace("bio_","");e({target:{name:"bioage",value:{...m,[E]:p.target.value}}})};return y.jsxs("div",{className:"rounded-2xl border border-violet-500/20 bg-gradient-to-br from-slate-900/80 to-slate-800/80 overflow-hidden shadow-lg transition-all duration-300",children:[y.jsxs("button",{type:"button",onClick:()=>f(!c),className:"w-full p-5 flex items-center justify-between hover:bg-slate-800/50 transition-colors",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2.5 rounded-xl bg-violet-500/10 text-violet-300 border border-violet-500/20",children:y.jsx(ue,{name:"scanEye",className:"w-5 h-5"})}),y.jsx("div",{className:"text-left",children:y.jsx("h3",{className:"text-sm font-bold text-slate-100",children:o.bioageTitle})})]}),y.jsx(ue,{name:c?"chevronUp":"chevronDown",className:`w-5 h-5 text-slate-500 transition-transform ${c?"rotate-0":"-rotate-90"}`})]}),c&&y.jsx("div",{className:"p-5 pt-0 animate-fadeIn border-t border-slate-700/50",children:y.jsxs("div",{className:"space-y-6 mt-4",children:[y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsx(rr,{name:"sq1rm",value:m.sq1rm,onChange:g,unit:"kg",label:"Squat 1RM"}),y.jsx(rr,{name:"plank",value:m.plank,onChange:g,unit:"seg",label:"Plank"})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsx(rr,{name:"pullups",value:m.pullups,onChange:g,unit:"reps",label:"Dominadas"}),y.jsx(rr,{name:"pushups",value:m.pushups,onChange:g,unit:"reps",label:"Flexiones"})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsx(rr,{name:"waist",value:m.waist,onChange:g,unit:"cm",label:"Cintura"}),y.jsx(rr,{name:"vo2max",value:m.vo2max,onChange:g,unit:"ml",label:"VO2 Max"})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsx(rr,{name:"rhr",value:m.rhr,onChange:g,unit:"bpm",label:"FC Reposo"}),y.jsx(rr,{name:"hrr",value:m.hrr,onChange:g,unit:"bpm",label:"Recuperacin"})]}),y.jsxs("button",{onClick:()=>n(a),disabled:i,className:"w-full py-3 rounded-xl bg-slate-800 border border-teal-500/30 text-teal-400 hover:bg-slate-700/80 transition-all font-bold text-xs flex items-center justify-center gap-2",children:[i?y.jsx(ue,{name:"loader",className:"w-4 h-4 animate-spin"}):y.jsx(ue,{name:"brain",className:"w-4 h-4"})," ",i?o.processing:o.calcBioAge]}),a.bioageEstimation&&y.jsxs("div",{className:"mt-4 p-4 bg-violet-900/20 border border-violet-500/30 rounded-xl animate-fadeIn",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsxs("div",{children:[y.jsx("div",{className:"text-[10px] uppercase text-violet-400 font-bold",children:o.realAge}),y.jsxs("div",{className:"text-xl font-mono text-slate-300",children:[a.age," ",y.jsx("span",{className:"text-xs",children:"aos"})]})]}),y.jsx(ue,{name:"arrowRight",className:"text-violet-500/50 w-6 h-6"}),y.jsxs("div",{className:"text-right",children:[y.jsx("div",{className:"text-[10px] uppercase text-teal-400 font-bold",children:o.bioAgeResult}),y.jsxs("div",{className:"text-3xl font-black text-teal-300 drop-shadow-sm",children:[a.bioageEstimation.edadBiologica," ",y.jsx("span",{className:"text-base font-normal text-teal-500/80",children:"aos"})]})]})]}),a.bioageEstimation.evaluacion&&y.jsxs("div",{className:"text-xs text-slate-300 italic border-t border-violet-500/20 pt-2 mt-2 leading-relaxed",children:['"',a.bioageEstimation.evaluacion,'"']})]})]})})]})},i9=({profile:a,onChange:e,t:n})=>{if(a.gender!=="Mujer")return null;const i=a.menstrualCycle||{lastPeriod:"",cycleLength:28},o=PM(i.lastPeriod,i.cycleLength),c=f=>e({target:{name:"menstrualCycle",value:{...i,[f.target.name]:f.target.value}}});return y.jsxs(pr,{className:"p-6 border-pink-500/20 bg-gradient-to-br from-slate-900 to-pink-900/10",children:[y.jsxs("h3",{className:"text-sm font-bold text-pink-300 uppercase tracking-wider mb-2 flex items-center gap-2",children:[y.jsx(ue,{name:"flower",className:"w-4 h-4 text-pink-400"})," ",n.cycleTitle]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-5",children:[y.jsx("input",{type:"date",name:"lastPeriod",value:i.lastPeriod,onChange:c,className:"w-full bg-slate-900/50 border border-slate-700 text-slate-100 rounded-lg py-3 px-3 text-xs outline-none"}),y.jsx("input",{type:"number",name:"cycleLength",value:i.cycleLength,onChange:c,className:"w-full bg-slate-900/50 border border-slate-700 text-slate-100 rounded-lg py-3 px-3 text-xs outline-none"})]}),o&&y.jsxs("div",{className:"bg-pink-500/10 border border-pink-500/30 rounded-xl p-4",children:[y.jsx("h4",{className:"text-lg font-bold text-pink-100",children:o.label}),y.jsx("p",{className:"text-xs text-pink-200/80",children:o.desc})]})]})},s9=({onGenerateBackup:a,onShowImportModal:e,onSignOut:n,t:i})=>y.jsxs(pr,{className:"p-6",children:[y.jsxs("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-5 flex items-center gap-2 pb-2 border-b border-slate-700/50",children:[y.jsx(ue,{name:"database",className:"w-4 h-4 text-slate-500"})," ",i.dataManagement]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("button",{onClick:a,className:"p-3 bg-slate-800 hover:bg-slate-700 rounded-lg text-sm font-semibold flex items-center justify-center gap-2 transition-colors",children:[y.jsx(ue,{name:"download",className:"w-4 h-4"})," ",i.exportData]}),y.jsxs("button",{onClick:e,className:"p-3 bg-slate-800 hover:bg-slate-700 rounded-lg text-sm font-semibold flex items-center justify-center gap-2 transition-colors",children:[y.jsx(ue,{name:"upload",className:"w-4 h-4"})," ",i.importData]})]}),y.jsx("div",{className:"mt-4 pt-4 border-t border-slate-700/50",children:y.jsxs("button",{onClick:n,className:"w-full p-3 bg-red-900/50 hover:bg-red-800/70 rounded-lg text-sm font-semibold flex items-center justify-center gap-2 transition-colors text-red-400 hover:text-red-300",children:[y.jsx(ue,{name:"logOut",className:"w-4 h-4"})," ",i.signOut]})})]});function o9({profile:a,onProfileChange:e,onProfileSave:n,onGenerateBackup:i,onShowImportModal:o,onSignOut:c,profileSuccess:f,profileError:m,onAnalyzeBioage:g,bioageLoading:p,t:E,isAnonymous:T,onLinkAccount:A,linkAccountError:j}){return y.jsxs("div",{className:"animate-fadeIn pb-20 space-y-6",children:[T&&y.jsx(a9,{onLinkAccount:A,t:E,error:j}),y.jsxs("form",{onSubmit:G=>{G.preventDefault(),n(a)},className:"space-y-8",children:[y.jsxs(pr,{className:"p-6",children:[y.jsxs("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-5 flex items-center gap-2 pb-2 border-b border-slate-700/50",children:[y.jsx(ue,{name:"user",className:"w-4 h-4 text-teal-400"})," ",E.biometrics]}),y.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[y.jsx(Ur,{label:E.gender,icon:"user",type:"select",name:"gender",value:a.gender,onChange:e,options:[{value:"Hombre",label:E.male},{value:"Mujer",label:E.female}]}),y.jsx(Ur,{label:E.age,icon:"calendar",type:"number",name:"age",value:a.age,onChange:e}),y.jsx(Ur,{label:E.height,icon:"ruler",type:"number",name:"height",value:a.height,onChange:e}),y.jsx(Ur,{label:E.weight,icon:"weight",type:"number",name:"weight",value:a.weight,onChange:e})]}),y.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-700/50 grid grid-cols-2 gap-6",children:[y.jsx(rr,{name:"bodyFat",value:a.bodyFat,onChange:e,unit:"%",label:E.bodyFat,tooltip:"Opcional: Grasa",isBio:!1}),y.jsx(rr,{name:"muscleMass",value:a.muscleMass,onChange:e,unit:"%",label:E.muscleMass,tooltip:"Opcional: Msculo",isBio:!1})]})]}),y.jsx(i9,{profile:a,onChange:e,t:E}),y.jsx(r9,{profile:a,onChange:e,onAnalyzeBioage:g,bioageLoading:p,t:E}),y.jsxs(pr,{className:"p-6",children:[y.jsxs("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-5 flex items-center gap-2 pb-2 border-b border-slate-700/50",children:[y.jsx(ue,{name:"target",className:"w-4 h-4 text-violet-400"})," ",E.customFocus]}),y.jsxs("div",{className:"space-y-6",children:[y.jsx(Ur,{label:E.mainGoal,icon:"star",type:"select",name:"mainGoal",value:a.mainGoal,onChange:e,options:[{value:"Perder grasa corporal",label:E.goalFat},{value:"Crecimiento muscular (Hipertrofia)",label:E.goalMuscle||"Crecimiento Muscular"},{value:"Incremento de fuerza",label:E.goalStrength||"Fuerza"},{value:"Mejora de rendimiento cardiovascular",label:E.goalCardio||"Cardio"}]}),y.jsx(Ur,{label:E.expLevel,icon:"activity",type:"select",name:"experienceLevel",value:a.experienceLevel,onChange:e,options:[{value:"Principiante",label:E.beginner},{value:"Intermedio",label:E.intermediate},{value:"Avanzado",label:E.advanced}]}),y.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[y.jsx(Ur,{label:E.daysWeek,icon:"calendar",type:"number",name:"daysPerWeek",value:a.daysPerWeek,onChange:e}),y.jsx(Ur,{label:E.timeAvailable,icon:"clock",type:"number",name:"timeAvailable",value:a.timeAvailable,onChange:e})]}),y.jsx(Ur,{label:E.injuries,icon:"alert",type:"text",name:"injuries",value:a.injuries,onChange:e,placeholder:E.phInjuries,isTextArea:!0})]})]}),y.jsx("div",{className:"flex items-center gap-4 sticky bottom-24",children:y.jsxs("button",{type:"submit",className:"flex-1 py-4 bg-teal-600 hover:bg-teal-500 text-white font-bold rounded-xl shadow-lg shadow-teal-900/20 transition-all duration-300 hover:scale-[1.02] active:scale-95 flex justify-center items-center gap-2",children:[y.jsx(ue,{name:"save",className:"w-5 h-5"})," ",E.saveFile]})}),f&&y.jsx("div",{className:"p-4 rounded-xl bg-teal-500/10 border border-teal-500/30 text-teal-400 text-sm font-medium text-center shadow-sm",children:f}),m&&y.jsx("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/30 text-red-400 text-sm font-medium text-center shadow-sm",children:m})]}),y.jsx("div",{className:"pt-8",children:y.jsx(s9,{onGenerateBackup:i,onShowImportModal:o,onSignOut:c,t:E})})]})}const l9=({mode:a,onSubmit:e,error:n,t:i,setMode:o,onPasswordReset:c,resetEmailSent:f,setResetEmailSent:m,setAuthError:g})=>{const[p,E]=K.useState(""),[T,A]=K.useState("");K.useEffect(()=>{E(""),A("")},[a]);const j=X=>{X.preventDefault(),a==="reset"?G():e(p,T)},G=async()=>{await c(p)&&m(!0)},Q={signin:i.signIn,signUp:i.signUp,reset:i.resetPassword},U={signin:i.signIn,signUp:i.signUp,reset:i.resetPassword};return f?y.jsxs("div",{className:"text-center animate-fadeIn",children:[y.jsx(ue,{name:"checkCircle",className:"w-16 h-16 text-green-400 mx-auto mb-4"}),y.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:i.resetEmailSentTitle}),y.jsx("p",{className:"text-slate-300 mb-6",children:i.resetEmailSentMessage}),y.jsx("button",{onClick:()=>o("signin"),className:"w-full text-center text-teal-400 font-semibold hover:text-teal-300 transition-colors",children:i.backToLogin})]}):y.jsxs("form",{onSubmit:j,className:"space-y-6 animate-fadeIn",children:[y.jsx("h2",{className:"text-3xl font-bold text-center text-white",children:Q[a]}),a==="reset"&&y.jsx("p",{className:"text-center text-slate-400 text-sm",children:i.resetPasswordPrompt}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("input",{type:"email",value:p,onChange:X=>E(X.target.value),placeholder:i.emailPlaceholder,className:"w-full bg-slate-900/70 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-teal-500 text-sm",required:!0}),a!=="reset"&&y.jsx(Rw,{value:T,onChange:X=>A(X.target.value),placeholder:i.passwordPlaceholder,t:i})]}),n&&y.jsx("p",{className:"text-red-400 text-sm text-center bg-red-500/10 p-3 rounded-lg border border-red-500/30",children:n}),y.jsx("button",{type:"submit",className:"w-full bg-teal-600 hover:bg-teal-500 text-white font-bold py-3 rounded-lg shadow-lg shadow-teal-900/30 transition-colors",children:U[a]})]})};function c9({onSignIn:a,onSignUp:e,onAnonymousSignIn:n,onPasswordReset:i,error:o,t:c,setAuthError:f}){const[m,g]=K.useState("signin"),[p,E]=K.useState(!1),T=G=>{f(null),E(!1),g(G)},A=m==="signin"?c.signUp:c.signIn,j=()=>T(m==="signin"?"signup":"signin");return y.jsx("div",{className:"min-h-screen bg-slate-900 flex flex-col items-center justify-center p-4 font-sans",children:y.jsxs("div",{className:"w-full max-w-sm mx-auto",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx(ue,{name:"dumbbell",className:"w-12 h-12 mx-auto text-teal-400 bg-teal-900/30 p-2 rounded-xl border border-teal-500/20"}),y.jsx("h1",{className:"text-4xl font-bold text-white mt-4 bg-clip-text text-transparent bg-gradient-to-r from-white to-slate-400",children:"Momentum AI"})]}),y.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-2xl p-8 backdrop-blur-sm",children:[y.jsx(l9,{mode:m,onSubmit:m==="signin"?a:e,onPasswordReset:i,error:o,t:c,setMode:T,setAuthError:f,resetEmailSent:p,setResetEmailSent:E}),y.jsxs("div",{className:"text-center mt-6 text-sm",children:[m==="signin"&&y.jsx("button",{onClick:()=>T("reset"),className:"text-slate-400 hover:text-teal-400 transition-colors mb-4",children:c.forgotPassword}),m==="reset"&&!p&&y.jsx("button",{onClick:()=>T("signin"),className:"text-slate-400 hover:text-teal-400 transition-colors mb-4",children:c.backToLogin})]}),y.jsxs("div",{className:"relative my-6",children:[y.jsx("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:y.jsx("div",{className:"w-full border-t border-slate-700"})}),y.jsx("div",{className:"relative flex justify-center text-sm",children:y.jsx("span",{className:"px-2 bg-slate-800 text-slate-500",children:"o"})})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("button",{onClick:j,className:"w-full bg-slate-700 hover:bg-slate-600 text-white font-bold py-3 rounded-lg transition-colors",children:A}),y.jsx("button",{onClick:n,className:"w-full text-center text-slate-400 font-semibold hover:text-white transition-colors",children:c.signInGuest})]})]})]})})}const u9=()=>y.jsx("style",{children:`
    body { background-color: #0f172a; color: #f8fafc; }
    .minimal-scrollbar { scrollbar-width: thin; scrollbar-color: #334155 #0f172a; }
    .minimal-scrollbar::-webkit-scrollbar { height: 6px; width: 6px; }
    .minimal-scrollbar::-webkit-scrollbar-track { background: #0f172a; border-radius: 8px; }
    .minimal-scrollbar::-webkit-scrollbar-thumb { background-color: #334155; border-radius: 8px; border: 2px solid #0f172a; }
    
    /* Animaciones */
    .animate-fadeIn { animation: fadeIn 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
    .animate-slideInRight { animation: slideInRight 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
    .animate-pop { animation: pop 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes slideInRight { from { opacity: 0; transform: translateX(50px); } to { opacity: 1; transform: translateX(0); } }
    @keyframes pop { 0% { transform: scale(0.9); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }
    @keyframes spin-slow { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
    @keyframes gradient-move { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
    
    /* Utilidades Extra */
    .gemini-loader-circle { width: 28px; height: 28px; position: relative; animation: spin-slow 2s linear infinite; }
    .gemini-loader-icon { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: #2dd4bf; }
    .gemini-loader-path {
      width: 28px; height: 28px; border-radius: 50%; padding: 2px;
      background: conic-gradient(from 0deg, #2dd4bf, #8b5cf6, #2dd4bf);
      mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
      mask-composite: exclude;
      animation: spin-slow 2s linear infinite;
    }
    .lava-lamp-bg {
        background: linear-gradient(-45deg, #0f172a, #1e1b4b, #0f172a, #064e3b);
        background-size: 400% 400%;
        animation: gradient-move 15s ease infinite;
    }
    .text-stroke { -webkit-text-stroke: 1px rgba(255,255,255,0.1); }
    .hide-scrollbar::-webkit-scrollbar { display: none; }
    .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    
    /* Confeti */
    .particle { position: absolute; width: 8px; height: 8px; border-radius: 50%; animation: particle-anim 1s forwards; pointer-events: none; z-index: 100; }
    @keyframes particle-anim {
        0% { transform: translate(0, 0) scale(1); opacity: 1; }
        100% { transform: translate(var(--tx), var(--ty)) scale(0); opacity: 0; }
    }
  `}),h9=({show:a})=>y.jsxs("div",{className:`fixed inset-0 z-50 bg-slate-950 flex flex-col items-center justify-center transition-opacity duration-1000 pointer-events-none ${a?"opacity-100":"opacity-0"}`,children:[y.jsxs("div",{className:"relative mb-6",children:[y.jsx("div",{className:"absolute inset-0 bg-teal-500 blur-2xl opacity-20 rounded-full animate-pulse"}),y.jsx(ue,{name:"dumbbell",className:"w-12 h-12 text-teal-400 relative z-10"})]}),y.jsxs("h1",{className:"text-xl font-black text-white tracking-tight",children:["Momentum ",y.jsx("span",{className:"text-teal-400",children:"AI"})]})]}),f9=({jsonString:a,onClose:e,onCopy:n,copySuccess:i,t:o})=>y.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-sm flex items-center justify-center p-6 z-50 animate-fadeIn",children:y.jsxs(pr,{className:"w-full max-w-lg p-6 border-slate-600 bg-slate-900",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h3",{className:"text-slate-100 font-bold text-lg",children:o.copyBackup}),y.jsx("button",{onClick:e,children:y.jsx(ue,{name:"close",className:"text-slate-400 hover:text-white"})})]}),y.jsx("textarea",{readOnly:!0,value:a,className:"w-full h-48 bg-slate-950 text-slate-400 text-xs p-4 rounded-xl border border-slate-700 mb-5 minimal-scrollbar font-mono focus:outline-none focus:border-teal-500"}),y.jsx("div",{className:"flex justify-end gap-3",children:y.jsx("button",{onClick:n,className:`px-5 py-2.5 rounded-lg font-bold text-sm transition-colors shadow-lg ${i?"bg-emerald-600 text-white":"bg-teal-600 text-white hover:bg-teal-500"}`,children:i?y.jsxs(y.Fragment,{children:[y.jsx(ue,{name:"check",className:"inline w-4 h-4 mr-1"})," ",o.copied]}):y.jsxs(y.Fragment,{children:[y.jsx(ue,{name:"copy",className:"inline w-4 h-4 mr-1"})," ",o.copyToClip]})})})]})}),d9=({onClose:a,onImport:e,importError:n,t:i})=>{const[o,c]=zp.useState("");return y.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-sm flex items-center justify-center p-6 z-50 animate-fadeIn",children:y.jsxs(pr,{className:"w-full max-w-lg p-6 border-slate-600 bg-slate-900",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h3",{className:"text-slate-100 font-bold text-lg",children:i.importData}),y.jsx("button",{onClick:a,children:y.jsx(ue,{name:"close",className:"text-slate-400 hover:text-white"})})]}),y.jsx("textarea",{value:o,onChange:f=>c(f.target.value),className:"w-full h-48 bg-slate-950 text-slate-200 text-xs p-4 rounded-xl border border-slate-700 mb-5 minimal-scrollbar font-mono focus:ring-2 focus:ring-teal-500 outline-none",placeholder:"Pegar contenido JSON aqu..."}),y.jsx("div",{className:"flex justify-end gap-3",children:y.jsx("button",{onClick:()=>e(o),className:"px-5 py-2.5 rounded-lg bg-teal-600 text-white font-bold text-sm hover:bg-teal-500 shadow-lg",children:i.importBtn})}),n&&y.jsx("p",{className:"text-red-400 text-xs mt-3 bg-red-900/20 p-2 rounded border border-red-900/50",children:n})]})})},m9=({onContinue:a,onSave:e,onCancel:n,t:i})=>y.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-sm flex items-center justify-center p-6 z-50 animate-fadeIn",children:y.jsxs(pr,{className:"w-full max-w-md p-8 border-slate-600 bg-slate-900 text-center",children:[y.jsx(ue,{name:"alertTriangle",className:"w-12 h-12 text-amber-400 mx-auto mb-4"}),y.jsx("h3",{className:"text-slate-100 font-bold text-2xl mb-2",children:i.signOutGuestTitle}),y.jsx("p",{className:"text-slate-400 mb-8",children:i.signOutGuestMessage}),y.jsxs("div",{className:"flex flex-col gap-3",children:[y.jsx("button",{onClick:e,className:"px-5 py-3 rounded-lg bg-teal-600 text-white font-bold text-sm hover:bg-teal-500 shadow-lg",children:i.saveAccountButton}),y.jsx("button",{onClick:a,className:"px-5 py-2.5 rounded-lg bg-red-800/80 text-white font-semibold text-sm hover:bg-red-700",children:i.signOutAndLoseData}),y.jsx("button",{onClick:n,className:"px-5 py-2 text-slate-400 font-medium text-sm hover:text-white",children:i.cancel})]})]})});function p9(){const{t:a,activeTab:e,view:n,currentRoutine:i,showSplash:o,scrolled:c,headerRef:f,isImportModalOpen:m,importTextError:g,backupJson:p,copySuccess:E,isSessionActive:T,sessionSeconds:A,restSeconds:j,userId:G,isAuthReady:Q,authError:U,linkAccountError:X,isAnonymous:ae,profile:le,bioageLoading:he,profileSuccess:ye,profileError:be,successMessage:I,history:x,loading:R,generationProgress:k,error:O,isSignOutWarningVisible:V,toggleLanguage:C,setActiveTab:Oe,handleScroll:ze,handleViewRoutine:H,handleBackToMain:se,handleRoutineFeedback:ce,handleExerciseComplete:Te,setRestSeconds:Ee,setIsSessionActive:N,onProfileChange:q,onProfileSave:ne,onAnalyzeBioage:re,onGeneratePlan:fe,onAdjustNextSession:ie,onGenerateBackup:pe,onCloseBackupModal:xe,onCopyToClipboard:Me,setIsImportModalOpen:Nt,onImportFromText:bn,onSignIn:an,onSignUp:Ft,onAnonymousSignIn:We,onSignOutRequest:rn,onForceSignOut:ut,onLinkAccount:En,onPasswordReset:ca,setAuthError:ht,setIsSignOutWarningVisible:yt}=KM();if(!Q||o)return y.jsx(h9,{show:!0});if(!G)return y.jsx(c9,{onSignIn:an,onSignUp:Ft,onAnonymousSignIn:We,onPasswordReset:ca,error:U,t:a,setAuthError:ht});const en=()=>{yt(!1),Oe("profile")};return y.jsxs(y.Fragment,{children:[y.jsx(u9,{}),p&&y.jsx(f9,{jsonString:p,onClose:xe,onCopy:Me,copySuccess:E,t:a}),m&&y.jsx(d9,{onClose:()=>Nt(!1),onImport:bn,importError:g,t:a}),V&&y.jsx(m9,{onContinue:ut,onSave:en,onCancel:()=>yt(!1),t:a}),y.jsxs("div",{className:"h-screen supports-[height:100dvh]:h-[100dvh] flex flex-col overflow-hidden font-sans bg-slate-900 text-slate-100 selection:bg-teal-500/30",children:[y.jsx("header",{ref:f,className:`w-full z-40 fixed top-0 left-0 border-b transition-all duration-300 ${c?"bg-slate-900/90 backdrop-blur-xl border-slate-700/50 py-2 shadow-md":"bg-transparent border-transparent py-3"}`,children:y.jsxs("div",{className:"max-w-md mx-auto px-6 flex items-center justify-between",children:[y.jsxs("h1",{className:`font-bold text-slate-100 flex items-center transition-all ${c?"text-sm":"text-base"}`,children:[n==="routine"?y.jsx("button",{onClick:se,className:"mr-3 text-slate-400 hover:text-white transition-colors p-2 rounded-full hover:bg-slate-800",children:y.jsx(ue,{name:"arrowLeft",className:"w-6 h-6"})}):y.jsx("div",{className:"bg-teal-500/10 p-1.5 rounded-lg mr-2",children:y.jsx(ue,{name:"dumbbell",className:"text-teal-400 w-4 h-4"})}),y.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-white to-slate-400",children:n==="routine"?a.routineInProgress:a.appTitle})]}),y.jsx("div",{className:"flex items-center gap-2 text-xs",children:n!=="routine"&&y.jsxs("div",{className:"flex items-center gap-2 scale-90 origin-right",children:[y.jsxs("button",{onClick:C,className:"flex items-center px-2 py-0.5 rounded-lg bg-slate-800 border border-slate-700 text-slate-400 hover:text-white hover:border-slate-500 transition-all font-bold font-mono tracking-tighter",children:[y.jsx("span",{className:a.lang==="es"?"text-teal-400":"",children:"ES"}),y.jsx("span",{className:"mx-1 opacity-30",children:"|"}),y.jsx("span",{className:a.lang==="en"?"text-teal-400":"",children:"EN"})]}),G&&y.jsxs("span",{className:`flex items-center px-2 py-0.5 rounded-full border ${ae?"bg-yellow-500/10 border-yellow-500/20 text-yellow-300":"bg-teal-500/10 border-teal-500/20 text-teal-300"} font-semibold shadow-inner`,children:[y.jsx(ue,{name:ae?"userCheck":"activity",className:"w-3.5 h-3.5 mr-2"}),ae?a.guest:a.online]})]})})]})}),y.jsx("main",{className:`flex-1 overflow-y-auto overflow-x-hidden minimal-scrollbar pt-16 ${n==="routine"?"snap-y snap-proximity":""}`,onScroll:ze,children:y.jsxs("div",{className:"max-w-md mx-auto px-4 md:px-0 pb-32",children:[e==="training"&&y.jsx(bj,{profile:le,onProfileChange:q,onGeneratePlan:fe,onAdjustNextSession:ie,loading:R,successMessage:I,errorMessage:O,history:x,onViewRoutine:H,generationProgress:k,t:a,onAnalyzeBioage:re,bioageLoading:he,view:n,currentRoutine:i,onRoutineFeedback:ce,onExerciseComplete:Te,isSessionActive:T,setIsSessionActive:N,restSeconds:j,setRestSeconds:Ee,sessionSeconds:A,routineId:i?.id}),e==="history"&&y.jsx(n9,{history:x,t:a,onViewRoutine:H,setActiveTab:Oe}),e==="profile"&&y.jsx(o9,{profile:le,onProfileChange:q,onProfileSave:ne,onAnalyzeBioage:re,bioageLoading:he,profileSuccess:ye,profileError:be,onGenerateBackup:pe,onShowImportModal:()=>Nt(!0),onSignOut:rn,isAnonymous:ae,onLinkAccount:En,linkAccountError:X,t:a})]})}),y.jsx("div",{className:"fixed bottom-6 left-0 right-0 z-40 flex justify-center pointer-events-none",children:n==="main"&&y.jsx("nav",{className:"bg-slate-800/50 backdrop-blur-xl border border-slate-700/50 shadow-2xl rounded-full px-6 py-3 flex gap-8 pointer-events-auto",children:["training","history","profile"].map(Xn=>{const Rn=e===Xn,Dt={training:"target",history:"list",profile:"user"};return y.jsx("button",{onClick:()=>Oe(Xn),className:`relative p-3 rounded-full transition-all duration-300 group ${Rn?"bg-teal-500 text-white shadow-lg shadow-teal-500/30 -translate-y-2 scale-110":"text-slate-400 hover:text-slate-200 hover:bg-slate-700/50"}`,children:y.jsx(ue,{name:Dt[Xn],className:"w-6 h-6"})},Xn)})})})]})]})}gA.createRoot(document.getElementById("root")).render(y.jsx(zp.StrictMode,{children:y.jsx(p9,{})}));
