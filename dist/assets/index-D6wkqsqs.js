(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function zv(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var jd={exports:{}},Cl={};var $0;function GT(){if($0)return Cl;$0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Cl.Fragment=e,Cl.jsx=i,Cl.jsxs=i,Cl}var X0;function QT(){return X0||(X0=1,jd.exports=GT()),jd.exports}var b=QT(),Ld={exports:{}},Ne={};var J0;function YT(){if(J0)return Ne;J0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),M=Symbol.iterator;function B(k){return k===null||typeof k!="object"?null:(k=M&&k[M]||k["@@iterator"],typeof k=="function"?k:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,J={};function ce(k,Q,ne){this.props=k,this.context=Q,this.refs=J,this.updater=ne||Z}ce.prototype.isReactComponent={},ce.prototype.setState=function(k,Q){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,Q,"setState")},ce.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function ve(){}ve.prototype=ce.prototype;function le(k,Q,ne){this.props=k,this.context=Q,this.refs=J,this.updater=ne||Z}var ke=le.prototype=new ve;ke.constructor=le,W(ke,ce.prototype),ke.isPureReactComponent=!0;var pe=Array.isArray;function re(){}var N={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function R(k,Q,ne){var ie=ne.ref;return{$$typeof:s,type:k,key:Q,ref:ie!==void 0?ie:null,props:ne}}function C(k,Q){return R(k.type,Q,k.props)}function D(k){return typeof k=="object"&&k!==null&&k.$$typeof===s}function V(k){var Q={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ne){return Q[ne]})}var w=/\/+/g;function he(k,Q){return typeof k=="object"&&k!==null&&k.key!=null?V(""+k.key):Q.toString(36)}function Ke(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(re,re):(k.status="pending",k.then(function(Q){k.status==="pending"&&(k.status="fulfilled",k.value=Q)},function(Q){k.status==="pending"&&(k.status="rejected",k.reason=Q)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function F(k,Q,ne,ie,Ae){var xe=typeof k;(xe==="undefined"||xe==="boolean")&&(k=null);var Le=!1;if(k===null)Le=!0;else switch(xe){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(k.$$typeof){case s:case e:Le=!0;break;case T:return Le=k._init,F(Le(k._payload),Q,ne,ie,Ae)}}if(Le)return Ae=Ae(k),Le=ie===""?"."+he(k,0):ie,pe(Ae)?(ne="",Le!=null&&(ne=Le.replace(w,"$&/")+"/"),F(Ae,Q,ne,"",function(Pn){return Pn})):Ae!=null&&(D(Ae)&&(Ae=C(Ae,ne+(Ae.key==null||k&&k.key===Ae.key?"":(""+Ae.key).replace(w,"$&/")+"/")+Le)),Q.push(Ae)),1;Le=0;var vt=ie===""?".":ie+":";if(pe(k))for(var Ze=0;Ze<k.length;Ze++)ie=k[Ze],xe=vt+he(ie,Ze),Le+=F(ie,Q,ne,xe,Ae);else if(Ze=B(k),typeof Ze=="function")for(k=Ze.call(k),Ze=0;!(ie=k.next()).done;)ie=ie.value,xe=vt+he(ie,Ze++),Le+=F(ie,Q,ne,xe,Ae);else if(xe==="object"){if(typeof k.then=="function")return F(Ke(k),Q,ne,ie,Ae);throw Q=String(k),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Le}function se(k,Q,ne){if(k==null)return k;var ie=[],Ae=0;return F(k,ie,"","",function(xe){return Q.call(ne,xe,Ae++)}),ie}function ge(k){if(k._status===-1){var Q=k._result;Q=Q(),Q.then(function(ne){(k._status===0||k._status===-1)&&(k._status=1,k._result=ne)},function(ne){(k._status===0||k._status===-1)&&(k._status=2,k._result=ne)}),k._status===-1&&(k._status=0,k._result=Q)}if(k._status===1)return k._result.default;throw k._result}var je=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Je={map:se,forEach:function(k,Q,ne){se(k,function(){Q.apply(this,arguments)},ne)},count:function(k){var Q=0;return se(k,function(){Q++}),Q},toArray:function(k){return se(k,function(Q){return Q})||[]},only:function(k){if(!D(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Ne.Activity=S,Ne.Children=Je,Ne.Component=ce,Ne.Fragment=i,Ne.Profiler=l,Ne.PureComponent=le,Ne.StrictMode=a,Ne.Suspense=g,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(k){return N.H.useMemoCache(k)}},Ne.cache=function(k){return function(){return k.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(k,Q,ne){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ie=W({},k.props),Ae=k.key;if(Q!=null)for(xe in Q.key!==void 0&&(Ae=""+Q.key),Q)!x.call(Q,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&Q.ref===void 0||(ie[xe]=Q[xe]);var xe=arguments.length-2;if(xe===1)ie.children=ne;else if(1<xe){for(var Le=Array(xe),vt=0;vt<xe;vt++)Le[vt]=arguments[vt+2];ie.children=Le}return R(k.type,Ae,ie)},Ne.createContext=function(k){return k={$$typeof:d,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:c,_context:k},k},Ne.createElement=function(k,Q,ne){var ie,Ae={},xe=null;if(Q!=null)for(ie in Q.key!==void 0&&(xe=""+Q.key),Q)x.call(Q,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(Ae[ie]=Q[ie]);var Le=arguments.length-2;if(Le===1)Ae.children=ne;else if(1<Le){for(var vt=Array(Le),Ze=0;Ze<Le;Ze++)vt[Ze]=arguments[Ze+2];Ae.children=vt}if(k&&k.defaultProps)for(ie in Le=k.defaultProps,Le)Ae[ie]===void 0&&(Ae[ie]=Le[ie]);return R(k,xe,Ae)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(k){return{$$typeof:p,render:k}},Ne.isValidElement=D,Ne.lazy=function(k){return{$$typeof:T,_payload:{_status:-1,_result:k},_init:ge}},Ne.memo=function(k,Q){return{$$typeof:y,type:k,compare:Q===void 0?null:Q}},Ne.startTransition=function(k){var Q=N.T,ne={};N.T=ne;try{var ie=k(),Ae=N.S;Ae!==null&&Ae(ne,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(re,je)}catch(xe){je(xe)}finally{Q!==null&&ne.types!==null&&(Q.types=ne.types),N.T=Q}},Ne.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ne.use=function(k){return N.H.use(k)},Ne.useActionState=function(k,Q,ne){return N.H.useActionState(k,Q,ne)},Ne.useCallback=function(k,Q){return N.H.useCallback(k,Q)},Ne.useContext=function(k){return N.H.useContext(k)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(k,Q){return N.H.useDeferredValue(k,Q)},Ne.useEffect=function(k,Q){return N.H.useEffect(k,Q)},Ne.useEffectEvent=function(k){return N.H.useEffectEvent(k)},Ne.useId=function(){return N.H.useId()},Ne.useImperativeHandle=function(k,Q,ne){return N.H.useImperativeHandle(k,Q,ne)},Ne.useInsertionEffect=function(k,Q){return N.H.useInsertionEffect(k,Q)},Ne.useLayoutEffect=function(k,Q){return N.H.useLayoutEffect(k,Q)},Ne.useMemo=function(k,Q){return N.H.useMemo(k,Q)},Ne.useOptimistic=function(k,Q){return N.H.useOptimistic(k,Q)},Ne.useReducer=function(k,Q,ne){return N.H.useReducer(k,Q,ne)},Ne.useRef=function(k){return N.H.useRef(k)},Ne.useState=function(k){return N.H.useState(k)},Ne.useSyncExternalStore=function(k,Q,ne){return N.H.useSyncExternalStore(k,Q,ne)},Ne.useTransition=function(){return N.H.useTransition()},Ne.version="19.2.3",Ne}var Z0;function Mm(){return Z0||(Z0=1,Ld.exports=YT()),Ld.exports}var de=Mm();const KT=zv(de);var Pd={exports:{}},Dl={},Ud={exports:{}},zd={};var W0;function $T(){return W0||(W0=1,(function(s){function e(F,se){var ge=F.length;F.push(se);e:for(;0<ge;){var je=ge-1>>>1,Je=F[je];if(0<l(Je,se))F[je]=se,F[ge]=Je,ge=je;else break e}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var se=F[0],ge=F.pop();if(ge!==se){F[0]=ge;e:for(var je=0,Je=F.length,k=Je>>>1;je<k;){var Q=2*(je+1)-1,ne=F[Q],ie=Q+1,Ae=F[ie];if(0>l(ne,ge))ie<Je&&0>l(Ae,ne)?(F[je]=Ae,F[ie]=ge,je=ie):(F[je]=ne,F[Q]=ge,je=Q);else if(ie<Je&&0>l(Ae,ge))F[je]=Ae,F[ie]=ge,je=ie;else break e}}return se}function l(F,se){var ge=F.sortIndex-se.sortIndex;return ge!==0?ge:F.id-se.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var g=[],y=[],T=1,S=null,M=3,B=!1,Z=!1,W=!1,J=!1,ce=typeof setTimeout=="function"?setTimeout:null,ve=typeof clearTimeout=="function"?clearTimeout:null,le=typeof setImmediate<"u"?setImmediate:null;function ke(F){for(var se=i(y);se!==null;){if(se.callback===null)a(y);else if(se.startTime<=F)a(y),se.sortIndex=se.expirationTime,e(g,se);else break;se=i(y)}}function pe(F){if(W=!1,ke(F),!Z)if(i(g)!==null)Z=!0,re||(re=!0,V());else{var se=i(y);se!==null&&Ke(pe,se.startTime-F)}}var re=!1,N=-1,x=5,R=-1;function C(){return J?!0:!(s.unstable_now()-R<x)}function D(){if(J=!1,re){var F=s.unstable_now();R=F;var se=!0;try{e:{Z=!1,W&&(W=!1,ve(N),N=-1),B=!0;var ge=M;try{t:{for(ke(F),S=i(g);S!==null&&!(S.expirationTime>F&&C());){var je=S.callback;if(typeof je=="function"){S.callback=null,M=S.priorityLevel;var Je=je(S.expirationTime<=F);if(F=s.unstable_now(),typeof Je=="function"){S.callback=Je,ke(F),se=!0;break t}S===i(g)&&a(g),ke(F)}else a(g);S=i(g)}if(S!==null)se=!0;else{var k=i(y);k!==null&&Ke(pe,k.startTime-F),se=!1}}break e}finally{S=null,M=ge,B=!1}se=void 0}}finally{se?V():re=!1}}}var V;if(typeof le=="function")V=function(){le(D)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,he=w.port2;w.port1.onmessage=D,V=function(){he.postMessage(null)}}else V=function(){ce(D,0)};function Ke(F,se){N=ce(function(){F(s.unstable_now())},se)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(F){switch(M){case 1:case 2:case 3:var se=3;break;default:se=M}var ge=M;M=se;try{return F()}finally{M=ge}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(F,se){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ge=M;M=F;try{return se()}finally{M=ge}},s.unstable_scheduleCallback=function(F,se,ge){var je=s.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?je+ge:je):ge=je,F){case 1:var Je=-1;break;case 2:Je=250;break;case 5:Je=1073741823;break;case 4:Je=1e4;break;default:Je=5e3}return Je=ge+Je,F={id:T++,callback:se,priorityLevel:F,startTime:ge,expirationTime:Je,sortIndex:-1},ge>je?(F.sortIndex=ge,e(y,F),i(g)===null&&F===i(y)&&(W?(ve(N),N=-1):W=!0,Ke(pe,ge-je))):(F.sortIndex=Je,e(g,F),Z||B||(Z=!0,re||(re=!0,V()))),F},s.unstable_shouldYield=C,s.unstable_wrapCallback=function(F){var se=M;return function(){var ge=M;M=se;try{return F.apply(this,arguments)}finally{M=ge}}}})(zd)),zd}var e_;function XT(){return e_||(e_=1,Ud.exports=$T()),Ud.exports}var Bd={exports:{}},ln={};var t_;function JT(){if(t_)return ln;t_=1;var s=Mm();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,y,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:g,containerInfo:y,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ln.createPortal=function(g,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,T)},ln.flushSync=function(g){var y=d.T,T=a.p;try{if(d.T=null,a.p=2,g)return g()}finally{d.T=y,a.p=T,a.d.f()}},ln.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(g,y))},ln.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},ln.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var T=y.as,S=p(T,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,B=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?a.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:M,fetchPriority:B}):T==="script"&&a.d.X(g,{crossOrigin:S,integrity:M,fetchPriority:B,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},ln.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=p(y.as,y.crossOrigin);a.d.M(g,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(g)},ln.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,S=p(T,y.crossOrigin);a.d.L(g,T,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},ln.preloadModule=function(g,y){if(typeof g=="string")if(y){var T=p(y.as,y.crossOrigin);a.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(g)},ln.requestFormReset=function(g){a.d.r(g)},ln.unstable_batchedUpdates=function(g,y){return g(y)},ln.useFormState=function(g,y,T){return d.H.useFormState(g,y,T)},ln.useFormStatus=function(){return d.H.useHostTransitionStatus()},ln.version="19.2.3",ln}var n_;function ZT(){if(n_)return Bd.exports;n_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Bd.exports=JT(),Bd.exports}var i_;function WT(){if(i_)return Dl;i_=1;var s=XT(),e=Mm(),i=ZT();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(a(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return g(h),t;if(f===o)return g(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var _=!1,E=h.child;E;){if(E===r){_=!0,r=h,o=f;break}if(E===o){_=!0,o=h,r=f;break}E=E.sibling}if(!_){for(E=f.child;E;){if(E===r){_=!0,r=f,o=h;break}if(E===o){_=!0,o=f,r=h;break}E=E.sibling}if(!_)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,M=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ce=Symbol.for("react.profiler"),ve=Symbol.for("react.consumer"),le=Symbol.for("react.context"),ke=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function he(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case ce:return"Profiler";case J:return"StrictMode";case pe:return"Suspense";case re:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Z:return"Portal";case le:return t.displayName||"Context";case ve:return(t._context.displayName||"Context")+".Consumer";case ke:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:he(t.type)||"Memo";case x:n=t._payload,t=t._init;try{return he(t(n))}catch{}}return null}var Ke=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},je=[],Je=-1;function k(t){return{current:t}}function Q(t){0>Je||(t.current=je[Je],je[Je]=null,Je--)}function ne(t,n){Je++,je[Je]=t.current,t.current=n}var ie=k(null),Ae=k(null),xe=k(null),Le=k(null);function vt(t,n){switch(ne(xe,n),ne(Ae,t),ne(ie,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?_0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=_0(n),t=v0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(ie),ne(ie,t)}function Ze(){Q(ie),Q(Ae),Q(xe)}function Pn(t){t.memoizedState!==null&&ne(Le,t);var n=ie.current,r=v0(n,t.type);n!==r&&(ne(Ae,t),ne(ie,r))}function Ts(t){Ae.current===t&&(Q(ie),Q(Ae)),Le.current===t&&(Q(Le),xl._currentValue=ge)}var As,Ss;function wn(t){if(As===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);As=n&&n[1]||"",Ss=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+As+t+Ss}var Aa=!1;function Gi(t,n){if(!t||Aa)return"";Aa=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var z=H}Reflect.construct(t,[],$)}else{try{$.call()}catch(H){z=H}t.call($.prototype)}}else{try{throw Error()}catch(H){z=H}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),_=f[0],E=f[1];if(_&&E){var I=_.split(`
`),U=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===U.length)for(o=I.length-1,h=U.length-1;1<=o&&0<=h&&I[o]!==U[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==U[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==U[h]){var G=`
`+I[o].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=o&&0<=h);break}}}finally{Aa=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?wn(r):""}function qt(t,n){switch(t.tag){case 26:case 27:case 5:return wn(t.type);case 16:return wn("Lazy");case 13:return t.child!==n&&n!==null?wn("Suspense Fallback"):wn("Suspense");case 19:return wn("SuspenseList");case 0:case 15:return Gi(t.type,!1);case 11:return Gi(t.type.render,!1);case 1:return Gi(t.type,!0);case 31:return wn("Activity");default:return""}}function xn(t){try{var n="",r=null;do n+=qt(t,r),r=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Et=Object.prototype.hasOwnProperty,Tt=s.unstable_scheduleCallback,di=s.unstable_cancelCallback,mr=s.unstable_shouldYield,pr=s.unstable_requestPaint,Xt=s.unstable_now,mi=s.unstable_getCurrentPriorityLevel,Sa=s.unstable_ImmediatePriority,wa=s.unstable_UserBlockingPriority,pi=s.unstable_NormalPriority,Co=s.unstable_LowPriority,gr=s.unstable_IdlePriority,yr=s.log,_r=s.unstable_setDisableYieldValue,Rn=null,Ct=null;function dn(t){if(typeof yr=="function"&&_r(t),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(Rn,t)}catch{}}var ee=Math.clz32?Math.clz32:Ve,Se=Math.log,Pe=Math.LN2;function Ve(t){return t>>>=0,t===0?32:31-(Se(t)/Pe|0)|0}var Me=256,at=262144,mt=4194304;function ht(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Jt(t,n,r){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ht(o):(_&=E,_!==0?h=ht(_):r||(r=E&~t,r!==0&&(h=ht(r))))):(E=o&~f,E!==0?h=ht(E):_!==0?h=ht(_):r||(r=o&~t,r!==0&&(h=ht(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Zt(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function ws(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mu(){var t=mt;return mt<<=1,(mt&62914560)===0&&(mt=4194304),t}function gi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function xa(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function zh(t,n,r,o,h,f){var _=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,I=t.expirationTimes,U=t.hiddenUpdates;for(r=_&~r;0<r;){var G=31-ee(r),$=1<<G;E[G]=0,I[G]=-1;var z=U[G];if(z!==null)for(U[G]=null,G=0;G<z.length;G++){var H=z[G];H!==null&&(H.lane&=-536870913)}r&=~$}o!==0&&Ra(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~n))}function Ra(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-ee(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function Do(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var o=31-ee(r),h=1<<o;h&n|t[o]&n&&(t[o]|=n),r&=~h}}function Mo(t,n){var r=n&-n;return r=(r&42)!==0?1:Na(r),(r&(t.suspendedLanes|n))!==0?0:r}function Na(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Qi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function pu(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:q0(t.type))}function ei(t,n){var r=se.p;try{return se.p=t,n()}finally{se.p=r}}var ti=Math.random().toString(36).slice(2),Dt="__reactFiber$"+ti,Gt="__reactProps$"+ti,yi="__reactContainer$"+ti,vr="__reactEvents$"+ti,Bh="__reactListeners$"+ti,gu="__reactHandles$"+ti,yu="__reactResources$"+ti,_i="__reactMarker$"+ti;function br(t){delete t[Dt],delete t[Gt],delete t[vr],delete t[Bh],delete t[gu]}function vi(t){var n=t[Dt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[yi]||r[Dt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=x0(t);t!==null;){if(r=t[Dt])return r;t=x0(t)}return n}t=r,r=t.parentNode}return null}function Un(t){if(t=t[Dt]||t[yi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Nn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function bi(t){var n=t[yu];return n||(n=t[yu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Mt(t){t[_i]=!0}var Oo=new Set,ko={};function Ei(t,n){Ti(t,n),Ti(t+"Capture",n)}function Ti(t,n){for(ko[t]=n,t=0;t<n.length;t++)Oo.add(n[t])}var Vo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jo={},Lo={};function _u(t){return Et.call(Lo,t)?!0:Et.call(jo,t)?!1:Vo.test(t)?Lo[t]=!0:(jo[t]=!0,!1)}function Er(t,n,r){if(_u(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function In(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Ot(t,n,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+o)}}function Qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Po(t,n,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){r=""+_,f.call(this,_)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(_){r=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function nt(t){if(!t._valueTracker){var n=xs(t)?"checked":"value";t._valueTracker=Po(t,n,""+t[n])}}function Ia(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return t&&(o=xs(t)?t.checked?"true":"false":t.value),t=o,t!==r?(n.setValue(t),!0):!1}function Ai(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ca=/[\n"\\]/g;function gn(t){return t.replace(Ca,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Tr(t,n,r,o,h,f,_,E){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Qt(n)):t.value!==""+Qt(n)&&(t.value=""+Qt(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?Uo(t,_,Qt(n)):r!=null?Uo(t,_,Qt(r)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Qt(E):t.removeAttribute("name")}function vu(t,n,r,o,h,f,_,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){nt(t);return}r=r!=null?""+Qt(r):"",n=n!=null?""+Qt(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),nt(t)}function Uo(t,n,r){n==="number"&&Ai(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Rs(t,n,r,o){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&o&&(t[r].defaultSelected=!0)}else{for(r=""+Qt(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function bu(t,n,r){if(n!=null&&(n=""+Qt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Qt(r):""}function Ns(t,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(Ke(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Qt(n),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),nt(t)}function yn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Eu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zo(t,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,r):typeof r!="number"||r===0||Eu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Bo(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&zo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&zo(t,f,n[f])}function Ar(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Is=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sr(t){return Is.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ni(){}var qo=null;function zn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cs=null,Si=null;function Da(t){var n=Un(t);if(n&&(t=n.stateNode)){var r=t[Gt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Tr(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+gn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==t&&o.form===t.form){var h=o[Gt]||null;if(!h)throw Error(a(90));Tr(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===t.form&&Ia(o)}break e;case"textarea":bu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Rs(t,!!r.multiple,n,!1)}}}var wr=!1;function Ds(t,n,r){if(wr)return t(n,r);wr=!0;try{var o=t(n);return o}finally{if(wr=!1,(Cs!==null||Si!==null)&&(pc(),Cs&&(n=Cs,t=Si,Si=Cs=null,Da(n),t)))for(n=0;n<t.length;n++)Da(t[n])}}function ii(t,n){var r=t.stateNode;if(r===null)return null;var o=r[Gt]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ma=!1;if(Bn)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){Ma=!0}}),window.addEventListener("test",rt,rt),window.removeEventListener("test",rt,rt)}catch{Ma=!1}var wi=null,Ho=null,Oa=null;function Fo(){if(Oa)return Oa;var t,n=Ho,r=n.length,o,h="value"in wi?wi.value:wi.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var _=r-t;for(o=1;o<=_&&n[r-o]===h[f-o];o++);return Oa=h.slice(t,1<o?1-o:void 0)}function ka(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Yi(){return!0}function si(){return!1}function Wt(t){function n(r,o,h,f,_){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Yi:si,this.isPropagationStopped=si,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Yi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Yi)},persist:function(){},isPersistent:Yi}),n}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xi=Wt(Ki),Ms=S({},Ki,{view:0,detail:0}),Go=Wt(Ms),Os,xr,Ri,Rr=S({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ri&&(Ri&&t.type==="mousemove"?(Os=t.screenX-Ri.screenX,xr=t.screenY-Ri.screenY):xr=Os=0,Ri=t),Os)},movementY:function(t){return"movementY"in t?t.movementY:xr}}),Qo=Wt(Rr),Va=S({},Rr,{dataTransfer:0}),Au=Wt(Va),Su=S({},Ms,{relatedTarget:0}),ja=Wt(Su),Yo=S({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),wu=Wt(Yo),Nr=S({},Ki,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xu=Wt(Nr),Ru=S({},Ki,{data:0}),Ni=Wt(Ru),Nu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Du(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Cu[t])?!!n[t]:!1}function ks(){return Du}var mn=S({},Ms,{key:function(t){if(t.key){var n=Nu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ka(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Iu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(t){return t.type==="keypress"?ka(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ka(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Mu=Wt(mn),Ou=S({},Rr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$i=Wt(Ou),u=S({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks}),m=Wt(u),v=S({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Wt(v),L=S({},Rr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Wt(L),te=S({},Ki,{newState:0,oldState:0}),Ce=Wt(te),wt=[9,13,27,32],We=Bn&&"CompositionEvent"in window,yt=null;Bn&&"documentMode"in document&&(yt=document.documentMode);var qn=Bn&&"TextEvent"in window&&!yt,Ii=Bn&&(!We||yt&&8<yt&&11>=yt),ai=" ",ri=!1;function La(t,n){switch(t){case"keyup":return wt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ir(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Cr=!1;function pE(t,n){switch(t){case"compositionend":return Ir(n);case"keypress":return n.which!==32?null:(ri=!0,ai);case"textInput":return t=n.data,t===ai&&ri?null:t;default:return null}}function gE(t,n){if(Cr)return t==="compositionend"||!We&&La(t,n)?(t=Fo(),Oa=Ho=wi=null,Cr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ii&&n.locale!=="ko"?null:n.data;default:return null}}var yE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ip(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!yE[t.type]:n==="textarea"}function Cp(t,n,r,o){Cs?Si?Si.push(o):Si=[o]:Cs=o,n=Tc(n,"onChange"),0<n.length&&(r=new xi("onChange","change",null,r,o),t.push({event:r,listeners:n}))}var Ko=null,$o=null;function _E(t){f0(t,0)}function ku(t){var n=Nn(t);if(Ia(n))return t}function Dp(t,n){if(t==="change")return n}var Mp=!1;if(Bn){var qh;if(Bn){var Hh="oninput"in document;if(!Hh){var Op=document.createElement("div");Op.setAttribute("oninput","return;"),Hh=typeof Op.oninput=="function"}qh=Hh}else qh=!1;Mp=qh&&(!document.documentMode||9<document.documentMode)}function kp(){Ko&&(Ko.detachEvent("onpropertychange",Vp),$o=Ko=null)}function Vp(t){if(t.propertyName==="value"&&ku($o)){var n=[];Cp(n,$o,t,zn(t)),Ds(_E,n)}}function vE(t,n,r){t==="focusin"?(kp(),Ko=n,$o=r,Ko.attachEvent("onpropertychange",Vp)):t==="focusout"&&kp()}function bE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ku($o)}function EE(t,n){if(t==="click")return ku(n)}function TE(t,n){if(t==="input"||t==="change")return ku(n)}function AE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Cn=typeof Object.is=="function"?Object.is:AE;function Xo(t,n){if(Cn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!Et.call(n,h)||!Cn(t[h],n[h]))return!1}return!0}function jp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Lp(t,n){var r=jp(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=n&&o>=n)return{node:r,offset:n-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=jp(r)}}function Pp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Pp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Up(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ai(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ai(t.document)}return n}function Fh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var SE=Bn&&"documentMode"in document&&11>=document.documentMode,Dr=null,Gh=null,Jo=null,Qh=!1;function zp(t,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Qh||Dr==null||Dr!==Ai(o)||(o=Dr,"selectionStart"in o&&Fh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Jo&&Xo(Jo,o)||(Jo=o,o=Tc(Gh,"onSelect"),0<o.length&&(n=new xi("onSelect","select",null,n,r),t.push({event:n,listeners:o}),n.target=Dr)))}function Pa(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Mr={animationend:Pa("Animation","AnimationEnd"),animationiteration:Pa("Animation","AnimationIteration"),animationstart:Pa("Animation","AnimationStart"),transitionrun:Pa("Transition","TransitionRun"),transitionstart:Pa("Transition","TransitionStart"),transitioncancel:Pa("Transition","TransitionCancel"),transitionend:Pa("Transition","TransitionEnd")},Yh={},Bp={};Bn&&(Bp=document.createElement("div").style,"AnimationEvent"in window||(delete Mr.animationend.animation,delete Mr.animationiteration.animation,delete Mr.animationstart.animation),"TransitionEvent"in window||delete Mr.transitionend.transition);function Ua(t){if(Yh[t])return Yh[t];if(!Mr[t])return t;var n=Mr[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Bp)return Yh[t]=n[r];return t}var qp=Ua("animationend"),Hp=Ua("animationiteration"),Fp=Ua("animationstart"),wE=Ua("transitionrun"),xE=Ua("transitionstart"),RE=Ua("transitioncancel"),Gp=Ua("transitionend"),Qp=new Map,Kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kh.push("scrollEnd");function oi(t,n){Qp.set(t,n),Ei(n,[t])}var Vu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Hn=[],Or=0,$h=0;function ju(){for(var t=Or,n=$h=Or=0;n<t;){var r=Hn[n];Hn[n++]=null;var o=Hn[n];Hn[n++]=null;var h=Hn[n];Hn[n++]=null;var f=Hn[n];if(Hn[n++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}f!==0&&Yp(r,h,f)}}function Lu(t,n,r,o){Hn[Or++]=t,Hn[Or++]=n,Hn[Or++]=r,Hn[Or++]=o,$h|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Xh(t,n,r,o){return Lu(t,n,r,o),Pu(t)}function za(t,n){return Lu(t,null,null,n),Pu(t)}function Yp(t,n,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-ee(r),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Pu(t){if(50<vl)throw vl=0,rd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var kr={};function NE(t,n,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(t,n,r,o){return new NE(t,n,r,o)}function Jh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xi(t,n){var r=t.alternate;return r===null?(r=Dn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Kp(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Uu(t,n,r,o,h,f){var _=0;if(o=t,typeof t=="function")Jh(t)&&(_=1);else if(typeof t=="string")_=OT(t,r,ie.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Dn(31,r,n,h),t.elementType=R,t.lanes=f,t;case W:return Ba(r.children,h,f,n);case J:_=8,h|=24;break;case ce:return t=Dn(12,r,n,h|2),t.elementType=ce,t.lanes=f,t;case pe:return t=Dn(13,r,n,h),t.elementType=pe,t.lanes=f,t;case re:return t=Dn(19,r,n,h),t.elementType=re,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case le:_=10;break e;case ve:_=9;break e;case ke:_=11;break e;case N:_=14;break e;case x:_=16,o=null;break e}_=29,r=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=Dn(_,r,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Ba(t,n,r,o){return t=Dn(7,t,o,n),t.lanes=r,t}function Zh(t,n,r){return t=Dn(6,t,null,n),t.lanes=r,t}function $p(t){var n=Dn(18,null,null,0);return n.stateNode=t,n}function Wh(t,n,r){return n=Dn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Xp=new WeakMap;function Fn(t,n){if(typeof t=="object"&&t!==null){var r=Xp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:xn(n)},Xp.set(t,n),n)}return{value:t,source:n,stack:xn(n)}}var Vr=[],jr=0,zu=null,Zo=0,Gn=[],Qn=0,Vs=null,Ci=1,Di="";function Ji(t,n){Vr[jr++]=Zo,Vr[jr++]=zu,zu=t,Zo=n}function Jp(t,n,r){Gn[Qn++]=Ci,Gn[Qn++]=Di,Gn[Qn++]=Vs,Vs=t;var o=Ci;t=Di;var h=32-ee(o)-1;o&=~(1<<h),r+=1;var f=32-ee(n)+h;if(30<f){var _=h-h%5;f=(o&(1<<_)-1).toString(32),o>>=_,h-=_,Ci=1<<32-ee(n)+h|r<<h|o,Di=f+t}else Ci=1<<f|r<<h|o,Di=t}function ef(t){t.return!==null&&(Ji(t,1),Jp(t,1,0))}function tf(t){for(;t===zu;)zu=Vr[--jr],Vr[jr]=null,Zo=Vr[--jr],Vr[jr]=null;for(;t===Vs;)Vs=Gn[--Qn],Gn[Qn]=null,Di=Gn[--Qn],Gn[Qn]=null,Ci=Gn[--Qn],Gn[Qn]=null}function Zp(t,n){Gn[Qn++]=Ci,Gn[Qn++]=Di,Gn[Qn++]=Vs,Ci=n.id,Di=n.overflow,Vs=t}var en=null,pt=null,Qe=!1,js=null,Yn=!1,nf=Error(a(519));function Ls(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wo(Fn(n,t)),nf}function Wp(t){var n=t.stateNode,r=t.type,o=t.memoizedProps;switch(n[Dt]=t,n[Gt]=o,r){case"dialog":ze("cancel",n),ze("close",n);break;case"iframe":case"object":case"embed":ze("load",n);break;case"video":case"audio":for(r=0;r<El.length;r++)ze(El[r],n);break;case"source":ze("error",n);break;case"img":case"image":case"link":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"input":ze("invalid",n),vu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":ze("invalid",n);break;case"textarea":ze("invalid",n),Ns(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||g0(n.textContent,r)?(o.popover!=null&&(ze("beforetoggle",n),ze("toggle",n)),o.onScroll!=null&&ze("scroll",n),o.onScrollEnd!=null&&ze("scrollend",n),o.onClick!=null&&(n.onclick=ni),n=!0):n=!1,n||Ls(t,!0)}function eg(t){for(en=t.return;en;)switch(en.tag){case 5:case 31:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:en=en.return}}function Lr(t){if(t!==en)return!1;if(!Qe)return eg(t),Qe=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Ed(t.type,t.memoizedProps)),r=!r),r&&pt&&Ls(t),eg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));pt=w0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));pt=w0(t)}else n===27?(n=pt,Js(t.type)?(t=xd,xd=null,pt=t):pt=n):pt=en?$n(t.stateNode.nextSibling):null;return!0}function qa(){pt=en=null,Qe=!1}function sf(){var t=js;return t!==null&&(En===null?En=t:En.push.apply(En,t),js=null),t}function Wo(t){js===null?js=[t]:js.push(t)}var af=k(null),Ha=null,Zi=null;function Ps(t,n,r){ne(af,n._currentValue),n._currentValue=r}function Wi(t){t._currentValue=af.current,Q(af)}function rf(t,n,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===r)break;t=t.return}}function of(t,n,r,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),rf(f.return,r,t),o||(_=null);break e}f=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(a(341));_.lanes|=r,f=_.alternate,f!==null&&(f.lanes|=r),rf(_,r,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Pr(t,n,r,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var E=h.type;Cn(h.pendingProps.value,_.value)||(t!==null?t.push(E):t=[E])}}else if(h===Le.current){if(_=h.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(xl):t=[xl])}h=h.return}t!==null&&of(n,t,r,o),n.flags|=262144}function Bu(t){for(t=t.firstContext;t!==null;){if(!Cn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fa(t){Ha=t,Zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function tn(t){return tg(Ha,t)}function qu(t,n){return Ha===null&&Fa(t),tg(t,n)}function tg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Zi===null){if(t===null)throw Error(a(308));Zi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Zi=Zi.next=n;return r}var IE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},CE=s.unstable_scheduleCallback,DE=s.unstable_NormalPriority,kt={$$typeof:le,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lf(){return{controller:new IE,data:new Map,refCount:0}}function el(t){t.refCount--,t.refCount===0&&CE(DE,function(){t.controller.abort()})}var tl=null,uf=0,Ur=0,zr=null;function ME(t,n){if(tl===null){var r=tl=[];uf=0,Ur=fd(),zr={status:"pending",value:void 0,then:function(o){r.push(o)}}}return uf++,n.then(ng,ng),n}function ng(){if(--uf===0&&tl!==null){zr!==null&&(zr.status="fulfilled");var t=tl;tl=null,Ur=0,zr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function OE(t,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var ig=F.S;F.S=function(t,n){zy=Xt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&ME(t,n),ig!==null&&ig(t,n)};var Ga=k(null);function cf(){var t=Ga.current;return t!==null?t:ct.pooledCache}function Hu(t,n){n===null?ne(Ga,Ga.current):ne(Ga,n.pool)}function sg(){var t=cf();return t===null?null:{parent:kt._currentValue,pool:t}}var Br=Error(a(460)),hf=Error(a(474)),Fu=Error(a(542)),Gu={then:function(){}};function ag(t){return t=t.status,t==="fulfilled"||t==="rejected"}function rg(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(ni,ni),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,lg(t),t;default:if(typeof n.status=="string")n.then(ni,ni);else{if(t=ct,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,lg(t),t}throw Ya=n,Br}}function Qa(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ya=r,Br):r}}var Ya=null;function og(){if(Ya===null)throw Error(a(459));var t=Ya;return Ya=null,t}function lg(t){if(t===Br||t===Fu)throw Error(a(483))}var qr=null,nl=0;function Qu(t){var n=nl;return nl+=1,qr===null&&(qr=[]),rg(qr,t,n)}function il(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Yu(t,n){throw n.$$typeof===M?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ug(t){function n(j,O){if(t){var P=j.deletions;P===null?(j.deletions=[O],j.flags|=16):P.push(O)}}function r(j,O){if(!t)return null;for(;O!==null;)n(j,O),O=O.sibling;return null}function o(j){for(var O=new Map;j!==null;)j.key!==null?O.set(j.key,j):O.set(j.index,j),j=j.sibling;return O}function h(j,O){return j=Xi(j,O),j.index=0,j.sibling=null,j}function f(j,O,P){return j.index=P,t?(P=j.alternate,P!==null?(P=P.index,P<O?(j.flags|=67108866,O):P):(j.flags|=67108866,O)):(j.flags|=1048576,O)}function _(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function E(j,O,P,Y){return O===null||O.tag!==6?(O=Zh(P,j.mode,Y),O.return=j,O):(O=h(O,P),O.return=j,O)}function I(j,O,P,Y){var ye=P.type;return ye===W?G(j,O,P.props.children,Y,P.key):O!==null&&(O.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===x&&Qa(ye)===O.type)?(O=h(O,P.props),il(O,P),O.return=j,O):(O=Uu(P.type,P.key,P.props,null,j.mode,Y),il(O,P),O.return=j,O)}function U(j,O,P,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=Wh(P,j.mode,Y),O.return=j,O):(O=h(O,P.children||[]),O.return=j,O)}function G(j,O,P,Y,ye){return O===null||O.tag!==7?(O=Ba(P,j.mode,Y,ye),O.return=j,O):(O=h(O,P),O.return=j,O)}function $(j,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Zh(""+O,j.mode,P),O.return=j,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case B:return P=Uu(O.type,O.key,O.props,null,j.mode,P),il(P,O),P.return=j,P;case Z:return O=Wh(O,j.mode,P),O.return=j,O;case x:return O=Qa(O),$(j,O,P)}if(Ke(O)||V(O))return O=Ba(O,j.mode,P,null),O.return=j,O;if(typeof O.then=="function")return $(j,Qu(O),P);if(O.$$typeof===le)return $(j,qu(j,O),P);Yu(j,O)}return null}function z(j,O,P,Y){var ye=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ye!==null?null:E(j,O,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case B:return P.key===ye?I(j,O,P,Y):null;case Z:return P.key===ye?U(j,O,P,Y):null;case x:return P=Qa(P),z(j,O,P,Y)}if(Ke(P)||V(P))return ye!==null?null:G(j,O,P,Y,null);if(typeof P.then=="function")return z(j,O,Qu(P),Y);if(P.$$typeof===le)return z(j,O,qu(j,P),Y);Yu(j,P)}return null}function H(j,O,P,Y,ye){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return j=j.get(P)||null,E(O,j,""+Y,ye);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case B:return j=j.get(Y.key===null?P:Y.key)||null,I(O,j,Y,ye);case Z:return j=j.get(Y.key===null?P:Y.key)||null,U(O,j,Y,ye);case x:return Y=Qa(Y),H(j,O,P,Y,ye)}if(Ke(Y)||V(Y))return j=j.get(P)||null,G(O,j,Y,ye,null);if(typeof Y.then=="function")return H(j,O,P,Qu(Y),ye);if(Y.$$typeof===le)return H(j,O,P,qu(O,Y),ye);Yu(O,Y)}return null}function ue(j,O,P,Y){for(var ye=null,$e=null,fe=O,Oe=O=0,qe=null;fe!==null&&Oe<P.length;Oe++){fe.index>Oe?(qe=fe,fe=null):qe=fe.sibling;var Xe=z(j,fe,P[Oe],Y);if(Xe===null){fe===null&&(fe=qe);break}t&&fe&&Xe.alternate===null&&n(j,fe),O=f(Xe,O,Oe),$e===null?ye=Xe:$e.sibling=Xe,$e=Xe,fe=qe}if(Oe===P.length)return r(j,fe),Qe&&Ji(j,Oe),ye;if(fe===null){for(;Oe<P.length;Oe++)fe=$(j,P[Oe],Y),fe!==null&&(O=f(fe,O,Oe),$e===null?ye=fe:$e.sibling=fe,$e=fe);return Qe&&Ji(j,Oe),ye}for(fe=o(fe);Oe<P.length;Oe++)qe=H(fe,j,Oe,P[Oe],Y),qe!==null&&(t&&qe.alternate!==null&&fe.delete(qe.key===null?Oe:qe.key),O=f(qe,O,Oe),$e===null?ye=qe:$e.sibling=qe,$e=qe);return t&&fe.forEach(function(na){return n(j,na)}),Qe&&Ji(j,Oe),ye}function Ee(j,O,P,Y){if(P==null)throw Error(a(151));for(var ye=null,$e=null,fe=O,Oe=O=0,qe=null,Xe=P.next();fe!==null&&!Xe.done;Oe++,Xe=P.next()){fe.index>Oe?(qe=fe,fe=null):qe=fe.sibling;var na=z(j,fe,Xe.value,Y);if(na===null){fe===null&&(fe=qe);break}t&&fe&&na.alternate===null&&n(j,fe),O=f(na,O,Oe),$e===null?ye=na:$e.sibling=na,$e=na,fe=qe}if(Xe.done)return r(j,fe),Qe&&Ji(j,Oe),ye;if(fe===null){for(;!Xe.done;Oe++,Xe=P.next())Xe=$(j,Xe.value,Y),Xe!==null&&(O=f(Xe,O,Oe),$e===null?ye=Xe:$e.sibling=Xe,$e=Xe);return Qe&&Ji(j,Oe),ye}for(fe=o(fe);!Xe.done;Oe++,Xe=P.next())Xe=H(fe,j,Oe,Xe.value,Y),Xe!==null&&(t&&Xe.alternate!==null&&fe.delete(Xe.key===null?Oe:Xe.key),O=f(Xe,O,Oe),$e===null?ye=Xe:$e.sibling=Xe,$e=Xe);return t&&fe.forEach(function(FT){return n(j,FT)}),Qe&&Ji(j,Oe),ye}function ut(j,O,P,Y){if(typeof P=="object"&&P!==null&&P.type===W&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case B:e:{for(var ye=P.key;O!==null;){if(O.key===ye){if(ye=P.type,ye===W){if(O.tag===7){r(j,O.sibling),Y=h(O,P.props.children),Y.return=j,j=Y;break e}}else if(O.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===x&&Qa(ye)===O.type){r(j,O.sibling),Y=h(O,P.props),il(Y,P),Y.return=j,j=Y;break e}r(j,O);break}else n(j,O);O=O.sibling}P.type===W?(Y=Ba(P.props.children,j.mode,Y,P.key),Y.return=j,j=Y):(Y=Uu(P.type,P.key,P.props,null,j.mode,Y),il(Y,P),Y.return=j,j=Y)}return _(j);case Z:e:{for(ye=P.key;O!==null;){if(O.key===ye)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){r(j,O.sibling),Y=h(O,P.children||[]),Y.return=j,j=Y;break e}else{r(j,O);break}else n(j,O);O=O.sibling}Y=Wh(P,j.mode,Y),Y.return=j,j=Y}return _(j);case x:return P=Qa(P),ut(j,O,P,Y)}if(Ke(P))return ue(j,O,P,Y);if(V(P)){if(ye=V(P),typeof ye!="function")throw Error(a(150));return P=ye.call(P),Ee(j,O,P,Y)}if(typeof P.then=="function")return ut(j,O,Qu(P),Y);if(P.$$typeof===le)return ut(j,O,qu(j,P),Y);Yu(j,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(r(j,O.sibling),Y=h(O,P),Y.return=j,j=Y):(r(j,O),Y=Zh(P,j.mode,Y),Y.return=j,j=Y),_(j)):r(j,O)}return function(j,O,P,Y){try{nl=0;var ye=ut(j,O,P,Y);return qr=null,ye}catch(fe){if(fe===Br||fe===Fu)throw fe;var $e=Dn(29,fe,null,j.mode);return $e.lanes=Y,$e.return=j,$e}}}var Ka=ug(!0),cg=ug(!1),Us=!1;function ff(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function df(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function zs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Bs(t,n,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(et&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Pu(t),Yp(t,null,r),n}return Lu(t,o,n,r),Pu(t)}function sl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,Do(t,r)}}function mf(t,n){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var _={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var pf=!1;function al(){if(pf){var t=zr;if(t!==null)throw t}}function rl(t,n,r,o){pf=!1;var h=t.updateQueue;Us=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,U=I.next;I.next=null,_===null?f=U:_.next=U,_=I;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==_&&(E===null?G.firstBaseUpdate=U:E.next=U,G.lastBaseUpdate=I))}if(f!==null){var $=h.baseState;_=0,G=U=I=null,E=f;do{var z=E.lane&-536870913,H=z!==E.lane;if(H?(Be&z)===z:(o&z)===z){z!==0&&z===Ur&&(pf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ue=t,Ee=E;z=n;var ut=r;switch(Ee.tag){case 1:if(ue=Ee.payload,typeof ue=="function"){$=ue.call(ut,$,z);break e}$=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=Ee.payload,z=typeof ue=="function"?ue.call(ut,$,z):ue,z==null)break e;$=S({},$,z);break e;case 2:Us=!0}}z=E.callback,z!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(U=G=H,I=$):G=G.next=H,_|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(I=$),h.baseState=I,h.firstBaseUpdate=U,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Qs|=_,t.lanes=_,t.memoizedState=$}}function hg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function fg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)hg(r[t],n)}var Hr=k(null),Ku=k(0);function dg(t,n){t=ls,ne(Ku,t),ne(Hr,n),ls=t|n.baseLanes}function gf(){ne(Ku,ls),ne(Hr,Hr.current)}function yf(){ls=Ku.current,Q(Hr),Q(Ku)}var Mn=k(null),Kn=null;function qs(t){var n=t.alternate;ne(xt,xt.current&1),ne(Mn,t),Kn===null&&(n===null||Hr.current!==null||n.memoizedState!==null)&&(Kn=t)}function _f(t){ne(xt,xt.current),ne(Mn,t),Kn===null&&(Kn=t)}function mg(t){t.tag===22?(ne(xt,xt.current),ne(Mn,t),Kn===null&&(Kn=t)):Hs()}function Hs(){ne(xt,xt.current),ne(Mn,Mn.current)}function On(t){Q(Mn),Kn===t&&(Kn=null),Q(xt)}var xt=k(0);function $u(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Sd(r)||wd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var es=0,De=null,ot=null,Vt=null,Xu=!1,Fr=!1,$a=!1,Ju=0,ol=0,Gr=null,kE=0;function At(){throw Error(a(321))}function vf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Cn(t[r],n[r]))return!1;return!0}function bf(t,n,r,o,h,f){return es=f,De=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?Jg:Vf,$a=!1,f=r(o,h),$a=!1,Fr&&(f=gg(n,r,o,h)),pg(t),f}function pg(t){F.H=cl;var n=ot!==null&&ot.next!==null;if(es=0,Vt=ot=De=null,Xu=!1,ol=0,Gr=null,n)throw Error(a(300));t===null||jt||(t=t.dependencies,t!==null&&Bu(t)&&(jt=!0))}function gg(t,n,r,o){De=t;var h=0;do{if(Fr&&(Gr=null),ol=0,Fr=!1,25<=h)throw Error(a(301));if(h+=1,Vt=ot=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Zg,f=n(r,o)}while(Fr);return f}function VE(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?ll(n):n,t=t.useState()[0],(ot!==null?ot.memoizedState:null)!==t&&(De.flags|=1024),n}function Ef(){var t=Ju!==0;return Ju=0,t}function Tf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Af(t){if(Xu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Xu=!1}es=0,Vt=ot=De=null,Fr=!1,ol=Ju=0,Gr=null}function pn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?De.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function Rt(){if(ot===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var n=Vt===null?De.memoizedState:Vt.next;if(n!==null)Vt=n,ot=t;else{if(t===null)throw De.alternate===null?Error(a(467)):Error(a(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Vt===null?De.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function Zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(t){var n=ol;return ol+=1,Gr===null&&(Gr=[]),t=rg(Gr,t,n),n=De,(Vt===null?n.memoizedState:Vt.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Jg:Vf),t}function Wu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ll(t);if(t.$$typeof===le)return tn(t)}throw Error(a(438,String(t)))}function Sf(t){var n=null,r=De.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=De.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Zu(),De.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),o=0;o<t;o++)r[o]=C;return n.index++,r}function ts(t,n){return typeof n=="function"?n(t):n}function ec(t){var n=Rt();return wf(n,ot,t)}function wf(t,n,r){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=_=null,I=null,U=n,G=!1;do{var $=U.lane&-536870913;if($!==U.lane?(Be&$)===$:(es&$)===$){var z=U.revertLane;if(z===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),$===Ur&&(G=!0);else if((es&z)===z){U=U.next,z===Ur&&(G=!0);continue}else $={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},I===null?(E=I=$,_=f):I=I.next=$,De.lanes|=z,Qs|=z;$=U.action,$a&&r(f,$),f=U.hasEagerState?U.eagerState:r(f,$)}else z={lane:$,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},I===null?(E=I=z,_=f):I=I.next=z,De.lanes|=$,Qs|=$;U=U.next}while(U!==null&&U!==n);if(I===null?_=f:I.next=E,!Cn(f,t.memoizedState)&&(jt=!0,G&&(r=zr,r!==null)))throw r;t.memoizedState=f,t.baseState=_,t.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function xf(t){var n=Rt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var _=h=h.next;do f=t(f,_.action),_=_.next;while(_!==h);Cn(f,n.memoizedState)||(jt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function yg(t,n,r){var o=De,h=Rt(),f=Qe;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var _=!Cn((ot||h).memoizedState,r);if(_&&(h.memoizedState=r,jt=!0),h=h.queue,If(bg.bind(null,o,h,t),[t]),h.getSnapshot!==n||_||Vt!==null&&Vt.memoizedState.tag&1){if(o.flags|=2048,Qr(9,{destroy:void 0},vg.bind(null,o,h,r,n),null),ct===null)throw Error(a(349));f||(es&127)!==0||_g(o,n,r)}return r}function _g(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=De.updateQueue,n===null?(n=Zu(),De.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function vg(t,n,r,o){n.value=r,n.getSnapshot=o,Eg(n)&&Tg(t)}function bg(t,n,r){return r(function(){Eg(n)&&Tg(t)})}function Eg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Cn(t,r)}catch{return!0}}function Tg(t){var n=za(t,2);n!==null&&Tn(n,t,2)}function Rf(t){var n=pn();if(typeof t=="function"){var r=t;if(t=r(),$a){dn(!0);try{r()}finally{dn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:t},n}function Ag(t,n,r,o){return t.baseState=r,wf(t,ot,typeof o=="function"?o:ts)}function jE(t,n,r,o,h){if(ic(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};F.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,Sg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Sg(t,n){var r=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=F.T,_={};F.T=_;try{var E=r(h,o),I=F.S;I!==null&&I(_,E),wg(t,n,E)}catch(U){Nf(t,n,U)}finally{f!==null&&_.types!==null&&(f.types=_.types),F.T=f}}else try{f=r(h,o),wg(t,n,f)}catch(U){Nf(t,n,U)}}function wg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){xg(t,n,o)},function(o){return Nf(t,n,o)}):xg(t,n,r)}function xg(t,n,r){n.status="fulfilled",n.value=r,Rg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Sg(t,r)))}function Nf(t,n,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Rg(n),n=n.next;while(n!==o)}t.action=null}function Rg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Ng(t,n){return n}function Ig(t,n){if(Qe){var r=ct.formState;if(r!==null){e:{var o=De;if(Qe){if(pt){t:{for(var h=pt,f=Yn;h.nodeType!==8;){if(!f){h=null;break t}if(h=$n(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){pt=$n(h.nextSibling),o=h.data==="F!";break e}}Ls(o)}o=!1}o&&(n=r[0])}}return r=pn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ng,lastRenderedState:n},r.queue=o,r=Kg.bind(null,De,o),o.dispatch=r,o=Rf(!1),f=kf.bind(null,De,!1,o.queue),o=pn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,r=jE.bind(null,De,h,f,r),h.dispatch=r,o.memoizedState=t,[n,r,!1]}function Cg(t){var n=Rt();return Dg(n,ot,t)}function Dg(t,n,r){if(n=wf(t,n,Ng)[0],t=ec(ts)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=ll(n)}catch(_){throw _===Br?Fu:_}else o=n;n=Rt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(De.flags|=2048,Qr(9,{destroy:void 0},LE.bind(null,h,r),null)),[o,f,t]}function LE(t,n){t.action=n}function Mg(t){var n=Rt(),r=ot;if(r!==null)return Dg(n,r,t);Rt(),n=n.memoizedState,r=Rt();var o=r.queue.dispatch;return r.memoizedState=t,[n,o,!1]}function Qr(t,n,r,o){return t={tag:t,create:r,deps:o,inst:n,next:null},n=De.updateQueue,n===null&&(n=Zu(),De.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,n.lastEffect=t),t}function Og(){return Rt().memoizedState}function tc(t,n,r,o){var h=pn();De.flags|=t,h.memoizedState=Qr(1|n,{destroy:void 0},r,o===void 0?null:o)}function nc(t,n,r,o){var h=Rt();o=o===void 0?null:o;var f=h.memoizedState.inst;ot!==null&&o!==null&&vf(o,ot.memoizedState.deps)?h.memoizedState=Qr(n,f,r,o):(De.flags|=t,h.memoizedState=Qr(1|n,f,r,o))}function kg(t,n){tc(8390656,8,t,n)}function If(t,n){nc(2048,8,t,n)}function PE(t){De.flags|=4;var n=De.updateQueue;if(n===null)n=Zu(),De.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Vg(t){var n=Rt().memoizedState;return PE({ref:n,nextImpl:t}),function(){if((et&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function jg(t,n){return nc(4,2,t,n)}function Lg(t,n){return nc(4,4,t,n)}function Pg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Ug(t,n,r){r=r!=null?r.concat([t]):null,nc(4,4,Pg.bind(null,n,t),r)}function Cf(){}function zg(t,n){var r=Rt();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&vf(n,o[1])?o[0]:(r.memoizedState=[t,n],t)}function Bg(t,n){var r=Rt();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&vf(n,o[1]))return o[0];if(o=t(),$a){dn(!0);try{t()}finally{dn(!1)}}return r.memoizedState=[o,n],o}function Df(t,n,r){return r===void 0||(es&1073741824)!==0&&(Be&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=qy(),De.lanes|=t,Qs|=t,r)}function qg(t,n,r,o){return Cn(r,n)?r:Hr.current!==null?(t=Df(t,r,o),Cn(t,n)||(jt=!0),t):(es&42)===0||(es&1073741824)!==0&&(Be&261930)===0?(jt=!0,t.memoizedState=r):(t=qy(),De.lanes|=t,Qs|=t,n)}function Hg(t,n,r,o,h){var f=se.p;se.p=f!==0&&8>f?f:8;var _=F.T,E={};F.T=E,kf(t,!1,n,r);try{var I=h(),U=F.S;if(U!==null&&U(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=OE(I,o);ul(t,n,G,jn(t))}else ul(t,n,o,jn(t))}catch($){ul(t,n,{then:function(){},status:"rejected",reason:$},jn())}finally{se.p=f,_!==null&&E.types!==null&&(_.types=E.types),F.T=_}}function UE(){}function Mf(t,n,r,o){if(t.tag!==5)throw Error(a(476));var h=Fg(t).queue;Hg(t,h,n,ge,r===null?UE:function(){return Gg(t),r(o)})}function Fg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:ge},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Gg(t){var n=Fg(t);n.next===null&&(n=t.alternate.memoizedState),ul(t,n.next.queue,{},jn())}function Of(){return tn(xl)}function Qg(){return Rt().memoizedState}function Yg(){return Rt().memoizedState}function zE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=jn();t=zs(r);var o=Bs(n,t,r);o!==null&&(Tn(o,n,r),sl(o,n,r)),n={cache:lf()},t.payload=n;return}n=n.return}}function BE(t,n,r){var o=jn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ic(t)?$g(n,r):(r=Xh(t,n,r,o),r!==null&&(Tn(r,t,o),Xg(r,n,o)))}function Kg(t,n,r){var o=jn();ul(t,n,r,o)}function ul(t,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(ic(t))$g(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,E=f(_,r);if(h.hasEagerState=!0,h.eagerState=E,Cn(E,_))return Lu(t,n,h,0),ct===null&&ju(),!1}catch{}if(r=Xh(t,n,h,o),r!==null)return Tn(r,t,o),Xg(r,n,o),!0}return!1}function kf(t,n,r,o){if(o={lane:2,revertLane:fd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ic(t)){if(n)throw Error(a(479))}else n=Xh(t,r,o,2),n!==null&&Tn(n,t,2)}function ic(t){var n=t.alternate;return t===De||n!==null&&n===De}function $g(t,n){Fr=Xu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Xg(t,n,r){if((r&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,Do(t,r)}}var cl={readContext:tn,use:Wu,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};cl.useEffectEvent=At;var Jg={readContext:tn,use:Wu,useCallback:function(t,n){return pn().memoizedState=[t,n===void 0?null:n],t},useContext:tn,useEffect:kg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,tc(4194308,4,Pg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return tc(4194308,4,t,n)},useInsertionEffect:function(t,n){tc(4,2,t,n)},useMemo:function(t,n){var r=pn();n=n===void 0?null:n;var o=t();if($a){dn(!0);try{t()}finally{dn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(t,n,r){var o=pn();if(r!==void 0){var h=r(n);if($a){dn(!0);try{r(n)}finally{dn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=BE.bind(null,De,t),[o.memoizedState,t]},useRef:function(t){var n=pn();return t={current:t},n.memoizedState=t},useState:function(t){t=Rf(t);var n=t.queue,r=Kg.bind(null,De,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Cf,useDeferredValue:function(t,n){var r=pn();return Df(r,t,n)},useTransition:function(){var t=Rf(!1);return t=Hg.bind(null,De,t.queue,!0,!1),pn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var o=De,h=pn();if(Qe){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),ct===null)throw Error(a(349));(Be&127)!==0||_g(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,kg(bg.bind(null,o,f,t),[t]),o.flags|=2048,Qr(9,{destroy:void 0},vg.bind(null,o,f,r,n),null),r},useId:function(){var t=pn(),n=ct.identifierPrefix;if(Qe){var r=Di,o=Ci;r=(o&~(1<<32-ee(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Ju++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=kE++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Of,useFormState:Ig,useActionState:Ig,useOptimistic:function(t){var n=pn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=kf.bind(null,De,!0,r),r.dispatch=n,[t,n]},useMemoCache:Sf,useCacheRefresh:function(){return pn().memoizedState=zE.bind(null,De)},useEffectEvent:function(t){var n=pn(),r={impl:t};return n.memoizedState=r,function(){if((et&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Vf={readContext:tn,use:Wu,useCallback:zg,useContext:tn,useEffect:If,useImperativeHandle:Ug,useInsertionEffect:jg,useLayoutEffect:Lg,useMemo:Bg,useReducer:ec,useRef:Og,useState:function(){return ec(ts)},useDebugValue:Cf,useDeferredValue:function(t,n){var r=Rt();return qg(r,ot.memoizedState,t,n)},useTransition:function(){var t=ec(ts)[0],n=Rt().memoizedState;return[typeof t=="boolean"?t:ll(t),n]},useSyncExternalStore:yg,useId:Qg,useHostTransitionStatus:Of,useFormState:Cg,useActionState:Cg,useOptimistic:function(t,n){var r=Rt();return Ag(r,ot,t,n)},useMemoCache:Sf,useCacheRefresh:Yg};Vf.useEffectEvent=Vg;var Zg={readContext:tn,use:Wu,useCallback:zg,useContext:tn,useEffect:If,useImperativeHandle:Ug,useInsertionEffect:jg,useLayoutEffect:Lg,useMemo:Bg,useReducer:xf,useRef:Og,useState:function(){return xf(ts)},useDebugValue:Cf,useDeferredValue:function(t,n){var r=Rt();return ot===null?Df(r,t,n):qg(r,ot.memoizedState,t,n)},useTransition:function(){var t=xf(ts)[0],n=Rt().memoizedState;return[typeof t=="boolean"?t:ll(t),n]},useSyncExternalStore:yg,useId:Qg,useHostTransitionStatus:Of,useFormState:Mg,useActionState:Mg,useOptimistic:function(t,n){var r=Rt();return ot!==null?Ag(r,ot,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Sf,useCacheRefresh:Yg};Zg.useEffectEvent=Vg;function jf(t,n,r,o){n=t.memoizedState,r=r(o,n),r=r==null?n:S({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Lf={enqueueSetState:function(t,n,r){t=t._reactInternals;var o=jn(),h=zs(o);h.payload=n,r!=null&&(h.callback=r),n=Bs(t,h,o),n!==null&&(Tn(n,t,o),sl(n,t,o))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var o=jn(),h=zs(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Bs(t,h,o),n!==null&&(Tn(n,t,o),sl(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=jn(),o=zs(r);o.tag=2,n!=null&&(o.callback=n),n=Bs(t,o,r),n!==null&&(Tn(n,t,r),sl(n,t,r))}};function Wg(t,n,r,o,h,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,_):n.prototype&&n.prototype.isPureReactComponent?!Xo(r,o)||!Xo(h,f):!0}function ey(t,n,r,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==t&&Lf.enqueueReplaceState(n,n.state,null)}function Xa(t,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(t=t.defaultProps){r===n&&(r=S({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function ty(t){Vu(t)}function ny(t){console.error(t)}function iy(t){Vu(t)}function sc(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function sy(t,n,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Pf(t,n,r){return r=zs(r),r.tag=3,r.payload={element:null},r.callback=function(){sc(t,n)},r}function ay(t){return t=zs(t),t.tag=3,t}function ry(t,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){sy(n,r,o)}}var _=r.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){sy(n,r,o),typeof h!="function"&&(Ys===null?Ys=new Set([this]):Ys.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function qE(t,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Pr(n,r,h,!0),r=Mn.current,r!==null){switch(r.tag){case 31:case 13:return Kn===null?gc():r.alternate===null&&St===0&&(St=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Gu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),ud(t,o,h)),!1;case 22:return r.flags|=65536,o===Gu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),ud(t,o,h)),!1}throw Error(a(435,r.tag))}return ud(t,o,h),gc(),!1}if(Qe)return n=Mn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==nf&&(t=Error(a(422),{cause:o}),Wo(Fn(t,r)))):(o!==nf&&(n=Error(a(423),{cause:o}),Wo(Fn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Fn(o,r),h=Pf(t.stateNode,o,h),mf(t,h),St!==4&&(St=2)),!1;var f=Error(a(520),{cause:o});if(f=Fn(f,r),_l===null?_l=[f]:_l.push(f),St!==4&&(St=2),n===null)return!0;o=Fn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Pf(r.stateNode,o,t),mf(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ys===null||!Ys.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=ay(h),ry(h,t,r,o),mf(r,h),!1}r=r.return}while(r!==null);return!1}var Uf=Error(a(461)),jt=!1;function nn(t,n,r,o){n.child=t===null?cg(n,null,r,o):Ka(n,t.child,r,o)}function oy(t,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var _={};for(var E in o)E!=="ref"&&(_[E]=o[E])}else _=o;return Fa(n),o=bf(t,n,r,_,f,h),E=Ef(),t!==null&&!jt?(Tf(t,n,h),ns(t,n,h)):(Qe&&E&&ef(n),n.flags|=1,nn(t,n,o,h),n.child)}function ly(t,n,r,o,h){if(t===null){var f=r.type;return typeof f=="function"&&!Jh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,uy(t,n,f,o,h)):(t=Uu(r.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Yf(t,h)){var _=f.memoizedProps;if(r=r.compare,r=r!==null?r:Xo,r(_,o)&&t.ref===n.ref)return ns(t,n,h)}return n.flags|=1,t=Xi(f,o),t.ref=n.ref,t.return=n,n.child=t}function uy(t,n,r,o,h){if(t!==null){var f=t.memoizedProps;if(Xo(f,o)&&t.ref===n.ref)if(jt=!1,n.pendingProps=o=f,Yf(t,h))(t.flags&131072)!==0&&(jt=!0);else return n.lanes=t.lanes,ns(t,n,h)}return zf(t,n,r,o,h)}function cy(t,n,r,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return hy(t,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Hu(n,f!==null?f.cachePool:null),f!==null?dg(n,f):gf(),mg(n);else return o=n.lanes=536870912,hy(t,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Hu(n,f.cachePool),dg(n,f),Hs(),n.memoizedState=null):(t!==null&&Hu(n,null),gf(),Hs());return nn(t,n,h,r),n.child}function hl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function hy(t,n,r,o,h){var f=cf();return f=f===null?null:{parent:kt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Hu(n,null),gf(),mg(n),t!==null&&Pr(t,n,o,!0),n.childLanes=h,null}function ac(t,n){return n=oc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function fy(t,n,r){return Ka(n,t.child,null,r),t=ac(n,n.pendingProps),t.flags|=2,On(n),n.memoizedState=null,t}function HE(t,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Qe){if(o.mode==="hidden")return t=ac(n,o),n.lanes=536870912,hl(null,t);if(_f(n),(t=pt)?(t=S0(t,Yn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Vs!==null?{id:Ci,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},r=$p(t),r.return=n,n.child=r,en=n,pt=null)):t=null,t===null)throw Ls(n);return n.lanes=536870912,null}return ac(n,o)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if(_f(n),h)if(n.flags&256)n.flags&=-257,n=fy(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(jt||Pr(t,n,r,!1),h=(r&t.childLanes)!==0,jt||h){if(o=ct,o!==null&&(_=Mo(o,r),_!==0&&_!==f.retryLane))throw f.retryLane=_,za(t,_),Tn(o,t,_),Uf;gc(),n=fy(t,n,r)}else t=f.treeContext,pt=$n(_.nextSibling),en=n,Qe=!0,js=null,Yn=!1,t!==null&&Zp(n,t),n=ac(n,o),n.flags|=4096;return n}return t=Xi(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function rc(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function zf(t,n,r,o,h){return Fa(n),r=bf(t,n,r,o,void 0,h),o=Ef(),t!==null&&!jt?(Tf(t,n,h),ns(t,n,h)):(Qe&&o&&ef(n),n.flags|=1,nn(t,n,r,h),n.child)}function dy(t,n,r,o,h,f){return Fa(n),n.updateQueue=null,r=gg(n,o,r,h),pg(t),o=Ef(),t!==null&&!jt?(Tf(t,n,f),ns(t,n,f)):(Qe&&o&&ef(n),n.flags|=1,nn(t,n,r,f),n.child)}function my(t,n,r,o,h){if(Fa(n),n.stateNode===null){var f=kr,_=r.contextType;typeof _=="object"&&_!==null&&(f=tn(_)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Lf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},ff(n),_=r.contextType,f.context=typeof _=="object"&&_!==null?tn(_):kr,f.state=n.memoizedState,_=r.getDerivedStateFromProps,typeof _=="function"&&(jf(n,r,_,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&Lf.enqueueReplaceState(f,f.state,null),rl(n,o,f,h),al(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,I=Xa(r,E);f.props=I;var U=f.context,G=r.contextType;_=kr,typeof G=="object"&&G!==null&&(_=tn(G));var $=r.getDerivedStateFromProps;G=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||U!==_)&&ey(n,f,o,_),Us=!1;var z=n.memoizedState;f.state=z,rl(n,o,f,h),al(),U=n.memoizedState,E||z!==U||Us?(typeof $=="function"&&(jf(n,r,$,o),U=n.memoizedState),(I=Us||Wg(n,r,I,o,z,U,_))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=U),f.props=o,f.state=U,f.context=_,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,df(t,n),_=n.memoizedProps,G=Xa(r,_),f.props=G,$=n.pendingProps,z=f.context,U=r.contextType,I=kr,typeof U=="object"&&U!==null&&(I=tn(U)),E=r.getDerivedStateFromProps,(U=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==$||z!==I)&&ey(n,f,o,I),Us=!1,z=n.memoizedState,f.state=z,rl(n,o,f,h),al();var H=n.memoizedState;_!==$||z!==H||Us||t!==null&&t.dependencies!==null&&Bu(t.dependencies)?(typeof E=="function"&&(jf(n,r,E,o),H=n.memoizedState),(G=Us||Wg(n,r,G,o,z,H,I)||t!==null&&t.dependencies!==null&&Bu(t.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=I,o=G):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,rc(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Ka(n,t.child,null,h),n.child=Ka(n,null,r,h)):nn(t,n,r,h),n.memoizedState=f.state,t=n.child):t=ns(t,n,h),t}function py(t,n,r,o){return qa(),n.flags|=256,nn(t,n,r,o),n.child}var Bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qf(t){return{baseLanes:t,cachePool:sg()}}function Hf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Vn),t}function gy(t,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(xt.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(Qe){if(h?qs(n):Hs(),(t=pt)?(t=S0(t,Yn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Vs!==null?{id:Ci,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},r=$p(t),r.return=n,n.child=r,en=n,pt=null)):t=null,t===null)throw Ls(n);return wd(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Hs(),h=n.mode,E=oc({mode:"hidden",children:E},h),o=Ba(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=qf(r),o.childLanes=Hf(t,_,r),n.memoizedState=Bf,hl(null,o)):(qs(n),Ff(n,E))}var I=t.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(qs(n),n.flags&=-257,n=Gf(t,n,r)):n.memoizedState!==null?(Hs(),n.child=t.child,n.flags|=128,n=null):(Hs(),E=o.fallback,h=n.mode,o=oc({mode:"visible",children:o.children},h),E=Ba(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Ka(n,t.child,null,r),o=n.child,o.memoizedState=qf(r),o.childLanes=Hf(t,_,r),n.memoizedState=Bf,n=hl(null,o));else if(qs(n),wd(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var U=_.dgst;_=U,o=Error(a(419)),o.stack="",o.digest=_,Wo({value:o,source:null,stack:null}),n=Gf(t,n,r)}else if(jt||Pr(t,n,r,!1),_=(r&t.childLanes)!==0,jt||_){if(_=ct,_!==null&&(o=Mo(_,r),o!==0&&o!==I.retryLane))throw I.retryLane=o,za(t,o),Tn(_,t,o),Uf;Sd(E)||gc(),n=Gf(t,n,r)}else Sd(E)?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,pt=$n(E.nextSibling),en=n,Qe=!0,js=null,Yn=!1,t!==null&&Zp(n,t),n=Ff(n,o.children),n.flags|=4096);return n}return h?(Hs(),E=o.fallback,h=n.mode,I=t.child,U=I.sibling,o=Xi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,U!==null?E=Xi(U,E):(E=Ba(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,hl(null,o),o=n.child,E=t.child.memoizedState,E===null?E=qf(r):(h=E.cachePool,h!==null?(I=kt._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=sg(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=Hf(t,_,r),n.memoizedState=Bf,hl(t.child,o)):(qs(n),r=t.child,t=r.sibling,r=Xi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=r,n.memoizedState=null,r)}function Ff(t,n){return n=oc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function oc(t,n){return t=Dn(22,t,null,n),t.lanes=0,t}function Gf(t,n,r){return Ka(n,t.child,null,r),t=Ff(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function yy(t,n,r){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),rf(t.return,n,r)}function Qf(t,n,r,o,h,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=r,_.tailMode=h,_.treeForkCount=f)}function _y(t,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var _=xt.current,E=(_&2)!==0;if(E?(_=_&1|2,n.flags|=128):_&=1,ne(xt,_),nn(t,n,o,r),o=Qe?Zo:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yy(t,r,n);else if(t.tag===19)yy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&$u(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Qf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&$u(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Qf(n,!0,r,null,f,o);break;case"together":Qf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ns(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Qs|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Pr(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=Xi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Xi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Yf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Bu(t)))}function FE(t,n,r){switch(n.tag){case 3:vt(n,n.stateNode.containerInfo),Ps(n,kt,t.memoizedState.cache),qa();break;case 27:case 5:Pn(n);break;case 4:vt(n,n.stateNode.containerInfo);break;case 10:Ps(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,_f(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(qs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?gy(t,n,r):(qs(n),t=ns(t,n,r),t!==null?t.sibling:null);qs(n);break;case 19:var h=(t.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Pr(t,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return _y(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(xt,xt.current),o)break;return null;case 22:return n.lanes=0,cy(t,n,r,n.pendingProps);case 24:Ps(n,kt,t.memoizedState.cache)}return ns(t,n,r)}function vy(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)jt=!0;else{if(!Yf(t,r)&&(n.flags&128)===0)return jt=!1,FE(t,n,r);jt=(t.flags&131072)!==0}else jt=!1,Qe&&(n.flags&1048576)!==0&&Jp(n,Zo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Qa(n.elementType),n.type=t,typeof t=="function")Jh(t)?(o=Xa(t,o),n.tag=1,n=my(null,n,t,o,r)):(n.tag=0,n=zf(null,n,t,o,r));else{if(t!=null){var h=t.$$typeof;if(h===ke){n.tag=11,n=oy(null,n,t,o,r);break e}else if(h===N){n.tag=14,n=ly(null,n,t,o,r);break e}}throw n=he(t)||t,Error(a(306,n,""))}}return n;case 0:return zf(t,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Xa(o,n.pendingProps),my(t,n,o,h,r);case 3:e:{if(vt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,df(t,n),rl(n,o,null,r);var _=n.memoizedState;if(o=_.cache,Ps(n,kt,o),o!==f.cache&&of(n,[kt],r,!0),al(),o=_.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=py(t,n,o,r);break e}else if(o!==h){h=Fn(Error(a(424)),n),Wo(h),n=py(t,n,o,r);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,pt=$n(t.firstChild),en=n,Qe=!0,js=null,Yn=!0,r=cg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(qa(),o===h){n=ns(t,n,r);break e}nn(t,n,o,r)}n=n.child}return n;case 26:return rc(t,n),t===null?(r=C0(n.type,null,n.pendingProps,null))?n.memoizedState=r:Qe||(r=n.type,t=n.pendingProps,o=Ac(xe.current).createElement(r),o[Dt]=n,o[Gt]=t,sn(o,r,t),Mt(o),n.stateNode=o):n.memoizedState=C0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Pn(n),t===null&&Qe&&(o=n.stateNode=R0(n.type,n.pendingProps,xe.current),en=n,Yn=!0,h=pt,Js(n.type)?(xd=h,pt=$n(o.firstChild)):pt=h),nn(t,n,n.pendingProps.children,r),rc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Qe&&((h=o=pt)&&(o=bT(o,n.type,n.pendingProps,Yn),o!==null?(n.stateNode=o,en=n,pt=$n(o.firstChild),Yn=!1,h=!0):h=!1),h||Ls(n)),Pn(n),h=n.type,f=n.pendingProps,_=t!==null?t.memoizedProps:null,o=f.children,Ed(h,f)?o=null:_!==null&&Ed(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=bf(t,n,VE,null,null,r),xl._currentValue=h),rc(t,n),nn(t,n,o,r),n.child;case 6:return t===null&&Qe&&((t=r=pt)&&(r=ET(r,n.pendingProps,Yn),r!==null?(n.stateNode=r,en=n,pt=null,t=!0):t=!1),t||Ls(n)),null;case 13:return gy(t,n,r);case 4:return vt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Ka(n,null,o,r):nn(t,n,o,r),n.child;case 11:return oy(t,n,n.type,n.pendingProps,r);case 7:return nn(t,n,n.pendingProps,r),n.child;case 8:return nn(t,n,n.pendingProps.children,r),n.child;case 12:return nn(t,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Ps(n,n.type,o.value),nn(t,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Fa(n),h=tn(h),o=o(h),n.flags|=1,nn(t,n,o,r),n.child;case 14:return ly(t,n,n.type,n.pendingProps,r);case 15:return uy(t,n,n.type,n.pendingProps,r);case 19:return _y(t,n,r);case 31:return HE(t,n,r);case 22:return cy(t,n,r,n.pendingProps);case 24:return Fa(n),o=tn(kt),t===null?(h=cf(),h===null&&(h=ct,f=lf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},ff(n),Ps(n,kt,h)):((t.lanes&r)!==0&&(df(t,n),rl(n,null,null,r),al()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ps(n,kt,o)):(o=f.cache,Ps(n,kt,o),o!==h.cache&&of(n,[kt],r,!0))),nn(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function is(t){t.flags|=4}function Kf(t,n,r,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Qy())t.flags|=8192;else throw Ya=Gu,hf}else t.flags&=-16777217}function by(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!V0(n))if(Qy())t.flags|=8192;else throw Ya=Gu,hf}function lc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?mu():536870912,t.lanes|=n,Xr|=n)}function fl(t,n){if(!Qe)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function gt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=r,n}function GE(t,n,r){var o=n.pendingProps;switch(tf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(n),null;case 1:return gt(n),null;case 3:return r=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Wi(kt),Ze(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Lr(n)?is(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,sf())),gt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(is(n),f!==null?(gt(n),by(n,f)):(gt(n),Kf(n,h,null,o,r))):f?f!==t.memoizedState?(is(n),gt(n),by(n,f)):(gt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&is(n),gt(n),Kf(n,h,t,o,r)),null;case 27:if(Ts(n),r=xe.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&is(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return gt(n),null}t=ie.current,Lr(n)?Wp(n):(t=R0(h,o,r),n.stateNode=t,is(n))}return gt(n),null;case 5:if(Ts(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&is(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return gt(n),null}if(f=ie.current,Lr(n))Wp(n);else{var _=Ac(xe.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}f[Dt]=n,f[Gt]=o;e:for(_=n.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===n)break e;for(;_.sibling===null;){if(_.return===null||_.return===n)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}n.stateNode=f;e:switch(sn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&is(n)}}return gt(n),Kf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&is(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=xe.current,Lr(n)){if(t=n.stateNode,r=n.memoizedProps,o=null,h=en,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Dt]=n,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||g0(t.nodeValue,r)),t||Ls(n,!0)}else t=Ac(t).createTextNode(o),t[Dt]=n,n.stateNode=t}return gt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(o=Lr(n),r!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Dt]=n}else qa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;gt(n),t=!1}else r=sf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(On(n),n):(On(n),null);if((n.flags&128)!==0)throw Error(a(558))}return gt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Lr(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Dt]=n}else qa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;gt(n),h=!1}else h=sf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(On(n),n):(On(n),null)}return On(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),lc(n,n.updateQueue),gt(n),null);case 4:return Ze(),t===null&&gd(n.stateNode.containerInfo),gt(n),null;case 10:return Wi(n.type),gt(n),null;case 19:if(Q(xt),o=n.memoizedState,o===null)return gt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)fl(o,!1);else{if(St!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=$u(t),f!==null){for(n.flags|=128,fl(o,!1),t=f.updateQueue,n.updateQueue=t,lc(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Kp(r,t),r=r.sibling;return ne(xt,xt.current&1|2),Qe&&Ji(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Xt()>dc&&(n.flags|=128,h=!0,fl(o,!1),n.lanes=4194304)}else{if(!h)if(t=$u(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,lc(n,t),fl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Qe)return gt(n),null}else 2*Xt()-o.renderingStartTime>dc&&r!==536870912&&(n.flags|=128,h=!0,fl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xt(),t.sibling=null,r=xt.current,ne(xt,h?r&1|2:r&1),Qe&&Ji(n,o.treeForkCount),t):(gt(n),null);case 22:case 23:return On(n),yf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(gt(n),n.subtreeFlags&6&&(n.flags|=8192)):gt(n),r=n.updateQueue,r!==null&&lc(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),t!==null&&Q(Ga),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Wi(kt),gt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function QE(t,n){switch(tf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Wi(kt),Ze(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ts(n),null;case 31:if(n.memoizedState!==null){if(On(n),n.alternate===null)throw Error(a(340));qa()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(On(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));qa()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Q(xt),null;case 4:return Ze(),null;case 10:return Wi(n.type),null;case 22:case 23:return On(n),yf(),t!==null&&Q(Ga),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Wi(kt),null;case 25:return null;default:return null}}function Ey(t,n){switch(tf(n),n.tag){case 3:Wi(kt),Ze();break;case 26:case 27:case 5:Ts(n);break;case 4:Ze();break;case 31:n.memoizedState!==null&&On(n);break;case 13:On(n);break;case 19:Q(xt);break;case 10:Wi(n.type);break;case 22:case 23:On(n),yf(),t!==null&&Q(Ga);break;case 24:Wi(kt)}}function dl(t,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&t)===t){o=void 0;var f=r.create,_=r.inst;o=f(),_.destroy=o}r=r.next}while(r!==h)}}catch(E){st(n,n.return,E)}}function Fs(t,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var _=o.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=n;var I=r,U=E;try{U()}catch(G){st(h,I,G)}}}o=o.next}while(o!==f)}}catch(G){st(n,n.return,G)}}function Ty(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{fg(n,r)}catch(o){st(t,t.return,o)}}}function Ay(t,n,r){r.props=Xa(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){st(t,n,o)}}function ml(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(h){st(t,n,h)}}function Mi(t,n){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){st(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){st(t,n,h)}else r.current=null}function Sy(t){var n=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){st(t,t.return,h)}}function $f(t,n,r){try{var o=t.stateNode;mT(o,t.type,r,n),o[Gt]=n}catch(h){st(t,t.return,h)}}function wy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Js(t.type)||t.tag===4}function Xf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Js(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jf(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ni));else if(o!==4&&(o===27&&Js(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Jf(t,n,r),t=t.sibling;t!==null;)Jf(t,n,r),t=t.sibling}function uc(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(o!==4&&(o===27&&Js(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(uc(t,n,r),t=t.sibling;t!==null;)uc(t,n,r),t=t.sibling}function xy(t){var n=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);sn(n,o,r),n[Dt]=t,n[Gt]=r}catch(f){st(t,t.return,f)}}var ss=!1,Lt=!1,Zf=!1,Ry=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function YE(t,n){if(t=t.containerInfo,vd=Cc,t=Up(t),Fh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var _=0,E=-1,I=-1,U=0,G=0,$=t,z=null;t:for(;;){for(var H;$!==r||h!==0&&$.nodeType!==3||(E=_+h),$!==f||o!==0&&$.nodeType!==3||(I=_+o),$.nodeType===3&&(_+=$.nodeValue.length),(H=$.firstChild)!==null;)z=$,$=H;for(;;){if($===t)break t;if(z===r&&++U===h&&(E=_),z===f&&++G===o&&(I=_),(H=$.nextSibling)!==null)break;$=z,z=$.parentNode}$=H}r=E===-1||I===-1?null:{start:E,end:I}}else r=null}r=r||{start:0,end:0}}else r=null;for(bd={focusedElem:t,selectionRange:r},Cc=!1,Yt=n;Yt!==null;)if(n=Yt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Yt=t;else for(;Yt!==null;){switch(n=Yt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var ue=Xa(r.type,h);t=o.getSnapshotBeforeUpdate(ue,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){st(r,r.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Ad(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ad(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Yt=t;break}Yt=n.return}}function Ny(t,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:rs(t,r),o&4&&dl(5,r);break;case 1:if(rs(t,r),o&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(_){st(r,r.return,_)}else{var h=Xa(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){st(r,r.return,_)}}o&64&&Ty(r),o&512&&ml(r,r.return);break;case 3:if(rs(t,r),o&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{fg(t,n)}catch(_){st(r,r.return,_)}}break;case 27:n===null&&o&4&&xy(r);case 26:case 5:rs(t,r),n===null&&o&4&&Sy(r),o&512&&ml(r,r.return);break;case 12:rs(t,r);break;case 31:rs(t,r),o&4&&Dy(t,r);break;case 13:rs(t,r),o&4&&My(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=nT.bind(null,r),TT(t,r))));break;case 22:if(o=r.memoizedState!==null||ss,!o){n=n!==null&&n.memoizedState!==null||Lt,h=ss;var f=Lt;ss=o,(Lt=n)&&!f?os(t,r,(r.subtreeFlags&8772)!==0):rs(t,r),ss=h,Lt=f}break;case 30:break;default:rs(t,r)}}function Iy(t){var n=t.alternate;n!==null&&(t.alternate=null,Iy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&br(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var _t=null,_n=!1;function as(t,n,r){for(r=r.child;r!==null;)Cy(t,n,r),r=r.sibling}function Cy(t,n,r){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(Rn,r)}catch{}switch(r.tag){case 26:Lt||Mi(r,n),as(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Lt||Mi(r,n);var o=_t,h=_n;Js(r.type)&&(_t=r.stateNode,_n=!1),as(t,n,r),Al(r.stateNode),_t=o,_n=h;break;case 5:Lt||Mi(r,n);case 6:if(o=_t,h=_n,_t=null,as(t,n,r),_t=o,_n=h,_t!==null)if(_n)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(r.stateNode)}catch(f){st(r,n,f)}else try{_t.removeChild(r.stateNode)}catch(f){st(r,n,f)}break;case 18:_t!==null&&(_n?(t=_t,T0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),so(t)):T0(_t,r.stateNode));break;case 4:o=_t,h=_n,_t=r.stateNode.containerInfo,_n=!0,as(t,n,r),_t=o,_n=h;break;case 0:case 11:case 14:case 15:Fs(2,r,n),Lt||Fs(4,r,n),as(t,n,r);break;case 1:Lt||(Mi(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Ay(r,n,o)),as(t,n,r);break;case 21:as(t,n,r);break;case 22:Lt=(o=Lt)||r.memoizedState!==null,as(t,n,r),Lt=o;break;default:as(t,n,r)}}function Dy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{so(t)}catch(r){st(n,n.return,r)}}}function My(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{so(t)}catch(r){st(n,n.return,r)}}function KE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ry),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ry),n;default:throw Error(a(435,t.tag))}}function cc(t,n){var r=KE(t);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=iT.bind(null,t,o);o.then(h,h)}})}function vn(t,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=t,_=n,E=_;e:for(;E!==null;){switch(E.tag){case 27:if(Js(E.type)){_t=E.stateNode,_n=!1;break e}break;case 5:_t=E.stateNode,_n=!1;break e;case 3:case 4:_t=E.stateNode.containerInfo,_n=!0;break e}E=E.return}if(_t===null)throw Error(a(160));Cy(f,_,h),_t=null,_n=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Oy(n,t),n=n.sibling}var li=null;function Oy(t,n){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vn(n,t),bn(t),o&4&&(Fs(3,t,t.return),dl(3,t),Fs(5,t,t.return));break;case 1:vn(n,t),bn(t),o&512&&(Lt||r===null||Mi(r,r.return)),o&64&&ss&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=li;if(vn(n,t),bn(t),o&512&&(Lt||r===null||Mi(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[_i]||f[Dt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),sn(f,o,r),f[Dt]=t,Mt(f),o=f;break e;case"link":var _=O0("link","href",h).get(o+(r.href||""));if(_){for(var E=0;E<_.length;E++)if(f=_[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){_.splice(E,1);break t}}f=h.createElement(o),sn(f,o,r),h.head.appendChild(f);break;case"meta":if(_=O0("meta","content",h).get(o+(r.content||""))){for(E=0;E<_.length;E++)if(f=_[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){_.splice(E,1);break t}}f=h.createElement(o),sn(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Dt]=t,Mt(f),o=f}t.stateNode=o}else k0(h,t.type,t.stateNode);else t.stateNode=M0(h,o,t.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?k0(h,t.type,t.stateNode):M0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&$f(t,t.memoizedProps,r.memoizedProps)}break;case 27:vn(n,t),bn(t),o&512&&(Lt||r===null||Mi(r,r.return)),r!==null&&o&4&&$f(t,t.memoizedProps,r.memoizedProps);break;case 5:if(vn(n,t),bn(t),o&512&&(Lt||r===null||Mi(r,r.return)),t.flags&32){h=t.stateNode;try{yn(h,"")}catch(ue){st(t,t.return,ue)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,$f(t,h,r!==null?r.memoizedProps:h)),o&1024&&(Zf=!0);break;case 6:if(vn(n,t),bn(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(ue){st(t,t.return,ue)}}break;case 3:if(xc=null,h=li,li=Sc(n.containerInfo),vn(n,t),li=h,bn(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{so(n.containerInfo)}catch(ue){st(t,t.return,ue)}Zf&&(Zf=!1,ky(t));break;case 4:o=li,li=Sc(t.stateNode.containerInfo),vn(n,t),bn(t),li=o;break;case 12:vn(n,t),bn(t);break;case 31:vn(n,t),bn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,cc(t,o)));break;case 13:vn(n,t),bn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(fc=Xt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,cc(t,o)));break;case 22:h=t.memoizedState!==null;var I=r!==null&&r.memoizedState!==null,U=ss,G=Lt;if(ss=U||h,Lt=G||I,vn(n,t),Lt=G,ss=U,bn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||I||ss||Lt||Ja(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){I=r=n;try{if(f=I.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=I.stateNode;var $=I.memoizedProps.style,z=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ue){st(I,I.return,ue)}}}else if(n.tag===6){if(r===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ue){st(I,I.return,ue)}}}else if(n.tag===18){if(r===null){I=n;try{var H=I.stateNode;h?A0(H,!0):A0(I.stateNode,!1)}catch(ue){st(I,I.return,ue)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,cc(t,r))));break;case 19:vn(n,t),bn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,cc(t,o)));break;case 30:break;case 21:break;default:vn(n,t),bn(t)}}function bn(t){var n=t.flags;if(n&2){try{for(var r,o=t.return;o!==null;){if(wy(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Xf(t);uc(t,f,h);break;case 5:var _=r.stateNode;r.flags&32&&(yn(_,""),r.flags&=-33);var E=Xf(t);uc(t,E,_);break;case 3:case 4:var I=r.stateNode.containerInfo,U=Xf(t);Jf(t,U,I);break;default:throw Error(a(161))}}catch(G){st(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function ky(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;ky(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function rs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ny(t,n.alternate,n),n=n.sibling}function Ja(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Fs(4,n,n.return),Ja(n);break;case 1:Mi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Ay(n,n.return,r),Ja(n);break;case 27:Al(n.stateNode);case 26:case 5:Mi(n,n.return),Ja(n);break;case 22:n.memoizedState===null&&Ja(n);break;case 30:Ja(n);break;default:Ja(n)}t=t.sibling}}function os(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:os(h,f,r),dl(4,f);break;case 1:if(os(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){st(o,o.return,U)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)hg(I[h],E)}catch(U){st(o,o.return,U)}}r&&_&64&&Ty(f),ml(f,f.return);break;case 27:xy(f);case 26:case 5:os(h,f,r),r&&o===null&&_&4&&Sy(f),ml(f,f.return);break;case 12:os(h,f,r);break;case 31:os(h,f,r),r&&_&4&&Dy(h,f);break;case 13:os(h,f,r),r&&_&4&&My(h,f);break;case 22:f.memoizedState===null&&os(h,f,r),ml(f,f.return);break;case 30:break;default:os(h,f,r)}n=n.sibling}}function Wf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&el(r))}function ed(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&el(t))}function ui(t,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Vy(t,n,r,o),n=n.sibling}function Vy(t,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ui(t,n,r,o),h&2048&&dl(9,n);break;case 1:ui(t,n,r,o);break;case 3:ui(t,n,r,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&el(t)));break;case 12:if(h&2048){ui(t,n,r,o),t=n.stateNode;try{var f=n.memoizedProps,_=f.id,E=f.onPostCommit;typeof E=="function"&&E(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){st(n,n.return,I)}}else ui(t,n,r,o);break;case 31:ui(t,n,r,o);break;case 13:ui(t,n,r,o);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?ui(t,n,r,o):pl(t,n):f._visibility&2?ui(t,n,r,o):(f._visibility|=2,Yr(t,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Wf(_,n);break;case 24:ui(t,n,r,o),h&2048&&ed(n.alternate,n);break;default:ui(t,n,r,o)}}function Yr(t,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,_=n,E=r,I=o,U=_.flags;switch(_.tag){case 0:case 11:case 15:Yr(f,_,E,I,h),dl(8,_);break;case 23:break;case 22:var G=_.stateNode;_.memoizedState!==null?G._visibility&2?Yr(f,_,E,I,h):pl(f,_):(G._visibility|=2,Yr(f,_,E,I,h)),h&&U&2048&&Wf(_.alternate,_);break;case 24:Yr(f,_,E,I,h),h&&U&2048&&ed(_.alternate,_);break;default:Yr(f,_,E,I,h)}n=n.sibling}}function pl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,o=n,h=o.flags;switch(o.tag){case 22:pl(r,o),h&2048&&Wf(o.alternate,o);break;case 24:pl(r,o),h&2048&&ed(o.alternate,o);break;default:pl(r,o)}n=n.sibling}}var gl=8192;function Kr(t,n,r){if(t.subtreeFlags&gl)for(t=t.child;t!==null;)jy(t,n,r),t=t.sibling}function jy(t,n,r){switch(t.tag){case 26:Kr(t,n,r),t.flags&gl&&t.memoizedState!==null&&kT(r,li,t.memoizedState,t.memoizedProps);break;case 5:Kr(t,n,r);break;case 3:case 4:var o=li;li=Sc(t.stateNode.containerInfo),Kr(t,n,r),li=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=gl,gl=16777216,Kr(t,n,r),gl=o):Kr(t,n,r));break;default:Kr(t,n,r)}}function Ly(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function yl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Yt=o,Uy(o,t)}Ly(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Py(t),t=t.sibling}function Py(t){switch(t.tag){case 0:case 11:case 15:yl(t),t.flags&2048&&Fs(9,t,t.return);break;case 3:yl(t);break;case 12:yl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,hc(t)):yl(t);break;default:yl(t)}}function hc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Yt=o,Uy(o,t)}Ly(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Fs(8,n,n.return),hc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,hc(n));break;default:hc(n)}t=t.sibling}}function Uy(t,n){for(;Yt!==null;){var r=Yt;switch(r.tag){case 0:case 11:case 15:Fs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:el(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Yt=o;else e:for(r=t;Yt!==null;){o=Yt;var h=o.sibling,f=o.return;if(Iy(o),o===r){Yt=null;break e}if(h!==null){h.return=f,Yt=h;break e}Yt=f}}}var $E={getCacheForType:function(t){var n=tn(kt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return tn(kt).controller.signal}},XE=typeof WeakMap=="function"?WeakMap:Map,et=0,ct=null,Ue=null,Be=0,it=0,kn=null,Gs=!1,$r=!1,td=!1,ls=0,St=0,Qs=0,Za=0,nd=0,Vn=0,Xr=0,_l=null,En=null,id=!1,fc=0,zy=0,dc=1/0,mc=null,Ys=null,Ht=0,Ks=null,Jr=null,us=0,sd=0,ad=null,By=null,vl=0,rd=null;function jn(){return(et&2)!==0&&Be!==0?Be&-Be:F.T!==null?fd():pu()}function qy(){if(Vn===0)if((Be&536870912)===0||Qe){var t=at;at<<=1,(at&3932160)===0&&(at=262144),Vn=t}else Vn=536870912;return t=Mn.current,t!==null&&(t.flags|=32),Vn}function Tn(t,n,r){(t===ct&&(it===2||it===9)||t.cancelPendingCommit!==null)&&(Zr(t,0),$s(t,Be,Vn,!1)),xa(t,r),((et&2)===0||t!==ct)&&(t===ct&&((et&2)===0&&(Za|=r),St===4&&$s(t,Be,Vn,!1)),Oi(t))}function Hy(t,n,r){if((et&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&t.expiredLanes)===0||Zt(t,n),h=o?WE(t,n):ld(t,n,!0),f=o;do{if(h===0){$r&&!o&&$s(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!JE(r)){h=ld(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;e:{var E=t;h=_l;var I=E.current.memoizedState.isDehydrated;if(I&&(Zr(E,_).flags|=256),_=ld(E,_,!1),_!==2){if(td&&!I){E.errorRecoveryDisabledLanes|=f,Za|=f,h=4;break e}f=En,En=h,f!==null&&(En===null?En=f:En.push.apply(En,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){Zr(t,0),$s(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:$s(o,n,Vn,!Gs);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=fc+300-Xt(),10<h)){if($s(o,n,Vn,!Gs),Jt(o,0,!0)!==0)break e;us=n,o.timeoutHandle=b0(Fy.bind(null,o,r,En,mc,id,n,Vn,Za,Xr,Gs,f,"Throttled",-0,0),h);break e}Fy(o,r,En,mc,id,n,Vn,Za,Xr,Gs,f,null,-0,0)}}break}while(!0);Oi(t)}function Fy(t,n,r,o,h,f,_,E,I,U,G,$,z,H){if(t.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ni},jy(n,f,$);var ue=(f&62914560)===f?fc-Xt():(f&4194048)===f?zy-Xt():0;if(ue=VT($,ue),ue!==null){us=f,t.cancelPendingCommit=ue(Zy.bind(null,t,n,f,r,o,h,_,E,I,G,$,null,z,H)),$s(t,f,_,!U);return}}Zy(t,n,f,r,o,h,_,E,I)}function JE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!Cn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function $s(t,n,r,o){n&=~nd,n&=~Za,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-ee(h),_=1<<f;o[f]=-1,h&=~_}r!==0&&Ra(t,r,n)}function pc(){return(et&6)===0?(bl(0),!1):!0}function od(){if(Ue!==null){if(it===0)var t=Ue.return;else t=Ue,Zi=Ha=null,Af(t),qr=null,nl=0,t=Ue;for(;t!==null;)Ey(t.alternate,t),t=t.return;Ue=null}}function Zr(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,yT(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),us=0,od(),ct=t,Ue=r=Xi(t.current,null),Be=n,it=0,kn=null,Gs=!1,$r=Zt(t,n),td=!1,Xr=Vn=nd=Za=Qs=St=0,En=_l=null,id=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-ee(o),f=1<<h;n|=t[h],o&=~f}return ls=n,ju(),r}function Gy(t,n){De=null,F.H=cl,n===Br||n===Fu?(n=og(),it=3):n===hf?(n=og(),it=4):it=n===Uf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,kn=n,Ue===null&&(St=1,sc(t,Fn(n,t.current)))}function Qy(){var t=Mn.current;return t===null?!0:(Be&4194048)===Be?Kn===null:(Be&62914560)===Be||(Be&536870912)!==0?t===Kn:!1}function Yy(){var t=F.H;return F.H=cl,t===null?cl:t}function Ky(){var t=F.A;return F.A=$E,t}function gc(){St=4,Gs||(Be&4194048)!==Be&&Mn.current!==null||($r=!0),(Qs&134217727)===0&&(Za&134217727)===0||ct===null||$s(ct,Be,Vn,!1)}function ld(t,n,r){var o=et;et|=2;var h=Yy(),f=Ky();(ct!==t||Be!==n)&&(mc=null,Zr(t,n)),n=!1;var _=St;e:do try{if(it!==0&&Ue!==null){var E=Ue,I=kn;switch(it){case 8:od(),_=6;break e;case 3:case 2:case 9:case 6:Mn.current===null&&(n=!0);var U=it;if(it=0,kn=null,Wr(t,E,I,U),r&&$r){_=0;break e}break;default:U=it,it=0,kn=null,Wr(t,E,I,U)}}ZE(),_=St;break}catch(G){Gy(t,G)}while(!0);return n&&t.shellSuspendCounter++,Zi=Ha=null,et=o,F.H=h,F.A=f,Ue===null&&(ct=null,Be=0,ju()),_}function ZE(){for(;Ue!==null;)$y(Ue)}function WE(t,n){var r=et;et|=2;var o=Yy(),h=Ky();ct!==t||Be!==n?(mc=null,dc=Xt()+500,Zr(t,n)):$r=Zt(t,n);e:do try{if(it!==0&&Ue!==null){n=Ue;var f=kn;t:switch(it){case 1:it=0,kn=null,Wr(t,n,f,1);break;case 2:case 9:if(ag(f)){it=0,kn=null,Xy(n);break}n=function(){it!==2&&it!==9||ct!==t||(it=7),Oi(t)},f.then(n,n);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:ag(f)?(it=0,kn=null,Xy(n)):(it=0,kn=null,Wr(t,n,f,7));break;case 5:var _=null;switch(Ue.tag){case 26:_=Ue.memoizedState;case 5:case 27:var E=Ue;if(_?V0(_):E.stateNode.complete){it=0,kn=null;var I=E.sibling;if(I!==null)Ue=I;else{var U=E.return;U!==null?(Ue=U,yc(U)):Ue=null}break t}}it=0,kn=null,Wr(t,n,f,5);break;case 6:it=0,kn=null,Wr(t,n,f,6);break;case 8:od(),St=6;break e;default:throw Error(a(462))}}eT();break}catch(G){Gy(t,G)}while(!0);return Zi=Ha=null,F.H=o,F.A=h,et=r,Ue!==null?0:(ct=null,Be=0,ju(),St)}function eT(){for(;Ue!==null&&!mr();)$y(Ue)}function $y(t){var n=vy(t.alternate,t,ls);t.memoizedProps=t.pendingProps,n===null?yc(t):Ue=n}function Xy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=dy(r,n,n.pendingProps,n.type,void 0,Be);break;case 11:n=dy(r,n,n.pendingProps,n.type.render,n.ref,Be);break;case 5:Af(n);default:Ey(r,n),n=Ue=Kp(n,ls),n=vy(r,n,ls)}t.memoizedProps=t.pendingProps,n===null?yc(t):Ue=n}function Wr(t,n,r,o){Zi=Ha=null,Af(n),qr=null,nl=0;var h=n.return;try{if(qE(t,h,n,r,Be)){St=1,sc(t,Fn(r,t.current)),Ue=null;return}}catch(f){if(h!==null)throw Ue=h,f;St=1,sc(t,Fn(r,t.current)),Ue=null;return}n.flags&32768?(Qe||o===1?t=!0:$r||(Be&536870912)!==0?t=!1:(Gs=t=!0,(o===2||o===9||o===3||o===6)&&(o=Mn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Jy(n,t)):yc(n)}function yc(t){var n=t;do{if((n.flags&32768)!==0){Jy(n,Gs);return}t=n.return;var r=GE(n.alternate,n,ls);if(r!==null){Ue=r;return}if(n=n.sibling,n!==null){Ue=n;return}Ue=n=t}while(n!==null);St===0&&(St=5)}function Jy(t,n){do{var r=QE(t.alternate,t);if(r!==null){r.flags&=32767,Ue=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Ue=t;return}Ue=t=r}while(t!==null);St=6,Ue=null}function Zy(t,n,r,o,h,f,_,E,I){t.cancelPendingCommit=null;do _c();while(Ht!==0);if((et&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=$h,zh(t,r,f,_,E,I),t===ct&&(Ue=ct=null,Be=0),Jr=n,Ks=t,us=r,sd=f,ad=h,By=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,sT(pi,function(){return i0(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=se.p,se.p=2,_=et,et|=4;try{YE(t,n,r)}finally{et=_,se.p=h,F.T=o}}Ht=1,Wy(),e0(),t0()}}function Wy(){if(Ht===1){Ht=0;var t=Ks,n=Jr,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=F.T,F.T=null;var o=se.p;se.p=2;var h=et;et|=4;try{Oy(n,t);var f=bd,_=Up(t.containerInfo),E=f.focusedElem,I=f.selectionRange;if(_!==E&&E&&E.ownerDocument&&Pp(E.ownerDocument.documentElement,E)){if(I!==null&&Fh(E)){var U=I.start,G=I.end;if(G===void 0&&(G=U),"selectionStart"in E)E.selectionStart=U,E.selectionEnd=Math.min(G,E.value.length);else{var $=E.ownerDocument||document,z=$&&$.defaultView||window;if(z.getSelection){var H=z.getSelection(),ue=E.textContent.length,Ee=Math.min(I.start,ue),ut=I.end===void 0?Ee:Math.min(I.end,ue);!H.extend&&Ee>ut&&(_=ut,ut=Ee,Ee=_);var j=Lp(E,Ee),O=Lp(E,ut);if(j&&O&&(H.rangeCount!==1||H.anchorNode!==j.node||H.anchorOffset!==j.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var P=$.createRange();P.setStart(j.node,j.offset),H.removeAllRanges(),Ee>ut?(H.addRange(P),H.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),H.addRange(P))}}}}for($=[],H=E;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var Y=$[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Cc=!!vd,bd=vd=null}finally{et=h,se.p=o,F.T=r}}t.current=n,Ht=2}}function e0(){if(Ht===2){Ht=0;var t=Ks,n=Jr,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=F.T,F.T=null;var o=se.p;se.p=2;var h=et;et|=4;try{Ny(t,n.alternate,n)}finally{et=h,se.p=o,F.T=r}}Ht=3}}function t0(){if(Ht===4||Ht===3){Ht=0,pr();var t=Ks,n=Jr,r=us,o=By;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ht=5:(Ht=0,Jr=Ks=null,n0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ys=null),Qi(r),n=n.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(Rn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=se.p,se.p=2,F.T=null;try{for(var f=t.onRecoverableError,_=0;_<o.length;_++){var E=o[_];f(E.value,{componentStack:E.stack})}}finally{F.T=n,se.p=h}}(us&3)!==0&&_c(),Oi(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===rd?vl++:(vl=0,rd=t):vl=0,bl(0)}}function n0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,el(n)))}function _c(){return Wy(),e0(),t0(),i0()}function i0(){if(Ht!==5)return!1;var t=Ks,n=sd;sd=0;var r=Qi(us),o=F.T,h=se.p;try{se.p=32>r?32:r,F.T=null,r=ad,ad=null;var f=Ks,_=us;if(Ht=0,Jr=Ks=null,us=0,(et&6)!==0)throw Error(a(331));var E=et;if(et|=4,Py(f.current),Vy(f,f.current,_,r),et=E,bl(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(Rn,f)}catch{}return!0}finally{se.p=h,F.T=o,n0(t,n)}}function s0(t,n,r){n=Fn(r,n),n=Pf(t.stateNode,n,2),t=Bs(t,n,2),t!==null&&(xa(t,2),Oi(t))}function st(t,n,r){if(t.tag===3)s0(t,t,r);else for(;n!==null;){if(n.tag===3){s0(n,t,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ys===null||!Ys.has(o))){t=Fn(r,t),r=ay(2),o=Bs(n,r,2),o!==null&&(ry(r,o,n,t),xa(o,2),Oi(o));break}}n=n.return}}function ud(t,n,r){var o=t.pingCache;if(o===null){o=t.pingCache=new XE;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(td=!0,h.add(r),t=tT.bind(null,t,n,r),n.then(t,t))}function tT(t,n,r){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,ct===t&&(Be&r)===r&&(St===4||St===3&&(Be&62914560)===Be&&300>Xt()-fc?(et&2)===0&&Zr(t,0):nd|=r,Xr===Be&&(Xr=0)),Oi(t)}function a0(t,n){n===0&&(n=mu()),t=za(t,n),t!==null&&(xa(t,n),Oi(t))}function nT(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),a0(t,r)}function iT(t,n){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),a0(t,r)}function sT(t,n){return Tt(t,n)}var vc=null,eo=null,cd=!1,bc=!1,hd=!1,Xs=0;function Oi(t){t!==eo&&t.next===null&&(eo===null?vc=eo=t:eo=eo.next=t),bc=!0,cd||(cd=!0,rT())}function bl(t,n){if(!hd&&bc){hd=!0;do for(var r=!1,o=vc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var _=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ee(42|t)+1)-1,f&=h&~(_&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,u0(o,f))}else f=Be,f=Jt(o,o===ct?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Zt(o,f)||(r=!0,u0(o,f));o=o.next}while(r);hd=!1}}function aT(){r0()}function r0(){bc=cd=!1;var t=0;Xs!==0&&gT()&&(t=Xs);for(var n=Xt(),r=null,o=vc;o!==null;){var h=o.next,f=o0(o,n);f===0?(o.next=null,r===null?vc=h:r.next=h,h===null&&(eo=r)):(r=o,(t!==0||(f&3)!==0)&&(bc=!0)),o=h}Ht!==0&&Ht!==5||bl(t),Xs!==0&&(Xs=0)}function o0(t,n){for(var r=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-ee(f),E=1<<_,I=h[_];I===-1?((E&r)===0||(E&o)!==0)&&(h[_]=ws(E,n)):I<=n&&(t.expiredLanes|=E),f&=~E}if(n=ct,r=Be,r=Jt(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===n&&(it===2||it===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&di(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Zt(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(o!==null&&di(o),Qi(r)){case 2:case 8:r=wa;break;case 32:r=pi;break;case 268435456:r=gr;break;default:r=pi}return o=l0.bind(null,t),r=Tt(r,o),t.callbackPriority=n,t.callbackNode=r,n}return o!==null&&o!==null&&di(o),t.callbackPriority=2,t.callbackNode=null,2}function l0(t,n){if(Ht!==0&&Ht!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(_c()&&t.callbackNode!==r)return null;var o=Be;return o=Jt(t,t===ct?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Hy(t,o,n),o0(t,Xt()),t.callbackNode!=null&&t.callbackNode===r?l0.bind(null,t):null)}function u0(t,n){if(_c())return null;Hy(t,n,!0)}function rT(){_T(function(){(et&6)!==0?Tt(Sa,aT):r0()})}function fd(){if(Xs===0){var t=Ur;t===0&&(t=Me,Me<<=1,(Me&261888)===0&&(Me=256)),Xs=t}return Xs}function c0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Sr(""+t)}function h0(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function oT(t,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=c0((h[Gt]||null).action),_=o.submitter;_&&(n=(n=_[Gt]||null)?c0(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var E=new xi("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Xs!==0){var I=_?h0(h,_):new FormData(h);Mf(r,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=_?h0(h,_):new FormData(h),Mf(r,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var dd=0;dd<Kh.length;dd++){var md=Kh[dd],lT=md.toLowerCase(),uT=md[0].toUpperCase()+md.slice(1);oi(lT,"on"+uT)}oi(qp,"onAnimationEnd"),oi(Hp,"onAnimationIteration"),oi(Fp,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(wE,"onTransitionRun"),oi(xE,"onTransitionStart"),oi(RE,"onTransitionCancel"),oi(Gp,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function f0(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var _=o.length-1;0<=_;_--){var E=o[_],I=E.instance,U=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=U;try{f(h)}catch(G){Vu(G)}h.currentTarget=null,f=I}else for(_=0;_<o.length;_++){if(E=o[_],I=E.instance,U=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=U;try{f(h)}catch(G){Vu(G)}h.currentTarget=null,f=I}}}}function ze(t,n){var r=n[vr];r===void 0&&(r=n[vr]=new Set);var o=t+"__bubble";r.has(o)||(d0(n,t,2,!1),r.add(o))}function pd(t,n,r){var o=0;n&&(o|=4),d0(r,t,o,n)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function gd(t){if(!t[Ec]){t[Ec]=!0,Oo.forEach(function(r){r!=="selectionchange"&&(cT.has(r)||pd(r,!1,t),pd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Ec]||(n[Ec]=!0,pd("selectionchange",!1,n))}}function d0(t,n,r,o){switch(q0(n)){case 2:var h=PT;break;case 8:h=UT;break;default:h=Dd}r=h.bind(null,n,r,t),h=void 0,!Ma||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function yd(t,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var E=o.stateNode.containerInfo;if(E===h)break;if(_===4)for(_=o.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;E!==null;){if(_=vi(E),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){o=f=_;continue e}E=E.parentNode}}o=o.return}Ds(function(){var U=f,G=zn(r),$=[];e:{var z=Qp.get(t);if(z!==void 0){var H=xi,ue=t;switch(t){case"keypress":if(ka(r)===0)break e;case"keydown":case"keyup":H=Mu;break;case"focusin":ue="focus",H=ja;break;case"focusout":ue="blur",H=ja;break;case"beforeblur":case"afterblur":H=ja;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Au;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case qp:case Hp:case Fp:H=wu;break;case Gp:H=A;break;case"scroll":case"scrollend":H=Go;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=xu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=$i;break;case"toggle":case"beforetoggle":H=Ce}var Ee=(n&4)!==0,ut=!Ee&&(t==="scroll"||t==="scrollend"),j=Ee?z!==null?z+"Capture":null:z;Ee=[];for(var O=U,P;O!==null;){var Y=O;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||j===null||(Y=ii(O,j),Y!=null&&Ee.push(Tl(O,Y,P))),ut)break;O=O.return}0<Ee.length&&(z=new H(z,ue,null,r,G),$.push({event:z,listeners:Ee}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",z&&r!==qo&&(ue=r.relatedTarget||r.fromElement)&&(vi(ue)||ue[yi]))break e;if((H||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,H?(ue=r.relatedTarget||r.toElement,H=U,ue=ue?vi(ue):null,ue!==null&&(ut=c(ue),Ee=ue.tag,ue!==ut||Ee!==5&&Ee!==27&&Ee!==6)&&(ue=null)):(H=null,ue=U),H!==ue)){if(Ee=Qo,Y="onMouseLeave",j="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=$i,Y="onPointerLeave",j="onPointerEnter",O="pointer"),ut=H==null?z:Nn(H),P=ue==null?z:Nn(ue),z=new Ee(Y,O+"leave",H,r,G),z.target=ut,z.relatedTarget=P,Y=null,vi(G)===U&&(Ee=new Ee(j,O+"enter",ue,r,G),Ee.target=P,Ee.relatedTarget=ut,Y=Ee),ut=Y,H&&ue)t:{for(Ee=hT,j=H,O=ue,P=0,Y=j;Y;Y=Ee(Y))P++;Y=0;for(var ye=O;ye;ye=Ee(ye))Y++;for(;0<P-Y;)j=Ee(j),P--;for(;0<Y-P;)O=Ee(O),Y--;for(;P--;){if(j===O||O!==null&&j===O.alternate){Ee=j;break t}j=Ee(j),O=Ee(O)}Ee=null}else Ee=null;H!==null&&m0($,z,H,Ee,!1),ue!==null&&ut!==null&&m0($,ut,ue,Ee,!0)}}e:{if(z=U?Nn(U):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var $e=Dp;else if(Ip(z))if(Mp)$e=TE;else{$e=bE;var fe=vE}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?U&&Ar(U.elementType)&&($e=Dp):$e=EE;if($e&&($e=$e(t,U))){Cp($,$e,r,G);break e}fe&&fe(t,z,U),t==="focusout"&&U&&z.type==="number"&&U.memoizedProps.value!=null&&Uo(z,"number",z.value)}switch(fe=U?Nn(U):window,t){case"focusin":(Ip(fe)||fe.contentEditable==="true")&&(Dr=fe,Gh=U,Jo=null);break;case"focusout":Jo=Gh=Dr=null;break;case"mousedown":Qh=!0;break;case"contextmenu":case"mouseup":case"dragend":Qh=!1,zp($,r,G);break;case"selectionchange":if(SE)break;case"keydown":case"keyup":zp($,r,G)}var Oe;if(We)e:{switch(t){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else Cr?La(t,r)&&(qe="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(qe="onCompositionStart");qe&&(Ii&&r.locale!=="ko"&&(Cr||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&Cr&&(Oe=Fo()):(wi=G,Ho="value"in wi?wi.value:wi.textContent,Cr=!0)),fe=Tc(U,qe),0<fe.length&&(qe=new Ni(qe,t,null,r,G),$.push({event:qe,listeners:fe}),Oe?qe.data=Oe:(Oe=Ir(r),Oe!==null&&(qe.data=Oe)))),(Oe=qn?pE(t,r):gE(t,r))&&(qe=Tc(U,"onBeforeInput"),0<qe.length&&(fe=new Ni("onBeforeInput","beforeinput",null,r,G),$.push({event:fe,listeners:qe}),fe.data=Oe)),oT($,t,U,r,G)}f0($,n)})}function Tl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Tc(t,n){for(var r=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ii(t,r),h!=null&&o.unshift(Tl(t,h,f)),h=ii(t,n),h!=null&&o.push(Tl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function hT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function m0(t,n,r,o,h){for(var f=n._reactName,_=[];r!==null&&r!==o;){var E=r,I=E.alternate,U=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||U===null||(I=U,h?(U=ii(r,f),U!=null&&_.unshift(Tl(r,U,I))):h||(U=ii(r,f),U!=null&&_.push(Tl(r,U,I)))),r=r.return}_.length!==0&&t.push({event:n,listeners:_})}var fT=/\r\n?/g,dT=/\u0000|\uFFFD/g;function p0(t){return(typeof t=="string"?t:""+t).replace(fT,`
`).replace(dT,"")}function g0(t,n){return n=p0(n),p0(t)===n}function lt(t,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||yn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&yn(t,""+o);break;case"className":In(t,"class",o);break;case"tabIndex":In(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":In(t,r,o);break;case"style":Bo(t,o,f);break;case"data":if(n!=="object"){In(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=Sr(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&lt(t,n,"name",h.name,h,null),lt(t,n,"formEncType",h.formEncType,h,null),lt(t,n,"formMethod",h.formMethod,h,null),lt(t,n,"formTarget",h.formTarget,h,null)):(lt(t,n,"encType",h.encType,h,null),lt(t,n,"method",h.method,h,null),lt(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=Sr(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=ni);break;case"onScroll":o!=null&&ze("scroll",t);break;case"onScrollEnd":o!=null&&ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=Sr(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":ze("beforetoggle",t),ze("toggle",t),Er(t,"popover",o);break;case"xlinkActuate":Ot(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ot(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ot(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ot(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ot(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ot(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Er(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Tu.get(r)||r,Er(t,r,o))}}function _d(t,n,r,o,h,f){switch(r){case"style":Bo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof o=="string"?yn(t,o):(typeof o=="number"||typeof o=="bigint")&&yn(t,""+o);break;case"onScroll":o!=null&&ze("scroll",t);break;case"onScrollEnd":o!=null&&ze("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ni);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ko.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[Gt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,o,h);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):Er(t,r,o)}}}function sn(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",t),ze("load",t);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var _=r[f];if(_!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:lt(t,n,f,_,r,null)}}h&&lt(t,n,"srcSet",r.srcSet,r,null),o&&lt(t,n,"src",r.src,r,null);return;case"input":ze("invalid",t);var E=f=_=h=null,I=null,U=null;for(o in r)if(r.hasOwnProperty(o)){var G=r[o];if(G!=null)switch(o){case"name":h=G;break;case"type":_=G;break;case"checked":I=G;break;case"defaultChecked":U=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:lt(t,n,o,G,r,null)}}vu(t,f,E,I,U,_,h,!1);return;case"select":ze("invalid",t),o=_=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":_=E;break;case"multiple":o=E;default:lt(t,n,h,E,r,null)}n=f,r=_,t.multiple=!!o,n!=null?Rs(t,!!o,n,!1):r!=null&&Rs(t,!!o,r,!0);return;case"textarea":ze("invalid",t),f=h=o=null;for(_ in r)if(r.hasOwnProperty(_)&&(E=r[_],E!=null))switch(_){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:lt(t,n,_,E,r,null)}Ns(t,o,h,f);return;case"option":for(I in r)r.hasOwnProperty(I)&&(o=r[I],o!=null)&&(I==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":lt(t,n,I,o,r,null));return;case"dialog":ze("beforetoggle",t),ze("toggle",t),ze("cancel",t),ze("close",t);break;case"iframe":case"object":ze("load",t);break;case"video":case"audio":for(o=0;o<El.length;o++)ze(El[o],t);break;case"image":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"embed":case"source":case"link":ze("error",t),ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in r)if(r.hasOwnProperty(U)&&(o=r[U],o!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:lt(t,n,U,o,r,null)}return;default:if(Ar(n)){for(G in r)r.hasOwnProperty(G)&&(o=r[G],o!==void 0&&_d(t,n,G,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&lt(t,n,E,o,r,null))}function mT(t,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,E=null,I=null,U=null,G=null;for(H in r){var $=r[H];if(r.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=$;default:o.hasOwnProperty(H)||lt(t,n,H,null,o,$)}}for(var z in o){var H=o[z];if($=r[z],o.hasOwnProperty(z)&&(H!=null||$!=null))switch(z){case"type":f=H;break;case"name":h=H;break;case"checked":U=H;break;case"defaultChecked":G=H;break;case"value":_=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==$&&lt(t,n,z,H,o,$)}}Tr(t,_,E,I,U,G,f,h);return;case"select":H=_=E=z=null;for(f in r)if(I=r[f],r.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":H=I;default:o.hasOwnProperty(f)||lt(t,n,f,null,o,I)}for(h in o)if(f=o[h],I=r[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":_=f;default:f!==I&&lt(t,n,h,f,o,I)}n=E,r=_,o=H,z!=null?Rs(t,!!r,z,!1):!!o!=!!r&&(n!=null?Rs(t,!!r,n,!0):Rs(t,!!r,r?[]:"",!1));return;case"textarea":H=z=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:lt(t,n,E,null,o,h)}for(_ in o)if(h=o[_],f=r[_],o.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&lt(t,n,_,h,o,f)}bu(t,z,H);return;case"option":for(var ue in r)z=r[ue],r.hasOwnProperty(ue)&&z!=null&&!o.hasOwnProperty(ue)&&(ue==="selected"?t.selected=!1:lt(t,n,ue,null,o,z));for(I in o)z=o[I],H=r[I],o.hasOwnProperty(I)&&z!==H&&(z!=null||H!=null)&&(I==="selected"?t.selected=z&&typeof z!="function"&&typeof z!="symbol":lt(t,n,I,z,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in r)z=r[Ee],r.hasOwnProperty(Ee)&&z!=null&&!o.hasOwnProperty(Ee)&&lt(t,n,Ee,null,o,z);for(U in o)if(z=o[U],H=r[U],o.hasOwnProperty(U)&&z!==H&&(z!=null||H!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:lt(t,n,U,z,o,H)}return;default:if(Ar(n)){for(var ut in r)z=r[ut],r.hasOwnProperty(ut)&&z!==void 0&&!o.hasOwnProperty(ut)&&_d(t,n,ut,void 0,o,z);for(G in o)z=o[G],H=r[G],!o.hasOwnProperty(G)||z===H||z===void 0&&H===void 0||_d(t,n,G,z,o,H);return}}for(var j in r)z=r[j],r.hasOwnProperty(j)&&z!=null&&!o.hasOwnProperty(j)&&lt(t,n,j,null,o,z);for($ in o)z=o[$],H=r[$],!o.hasOwnProperty($)||z===H||z==null&&H==null||lt(t,n,$,z,o,H)}function y0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,_=h.initiatorType,E=h.duration;if(f&&E&&y0(_)){for(_=0,E=h.responseEnd,o+=1;o<r.length;o++){var I=r[o],U=I.startTime;if(U>E)break;var G=I.transferSize,$=I.initiatorType;G&&y0($)&&(I=I.responseEnd,_+=G*(I<E?1:(E-U)/(I-U)))}if(--o,n+=8*(f+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var vd=null,bd=null;function Ac(t){return t.nodeType===9?t:t.ownerDocument}function _0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function v0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Ed(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Td=null;function gT(){var t=window.event;return t&&t.type==="popstate"?t===Td?!1:(Td=t,!0):(Td=null,!1)}var b0=typeof setTimeout=="function"?setTimeout:void 0,yT=typeof clearTimeout=="function"?clearTimeout:void 0,E0=typeof Promise=="function"?Promise:void 0,_T=typeof queueMicrotask=="function"?queueMicrotask:typeof E0<"u"?function(t){return E0.resolve(null).then(t).catch(vT)}:b0;function vT(t){setTimeout(function(){throw t})}function Js(t){return t==="head"}function T0(t,n){var r=n,o=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(h),so(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")Al(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Al(r);for(var f=r.firstChild;f;){var _=f.nextSibling,E=f.nodeName;f[_i]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=_}}else r==="body"&&Al(t.ownerDocument.body);r=h}while(r);so(n)}function A0(t,n){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function Ad(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Ad(r),br(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function bT(t,n,r,o){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[_i])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=$n(t.nextSibling),t===null)break}return null}function ET(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=$n(t.nextSibling),t===null))return null;return t}function S0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=$n(t.nextSibling),t===null))return null;return t}function Sd(t){return t.data==="$?"||t.data==="$~"}function wd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function TT(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function $n(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var xd=null;function w0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return $n(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function x0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function R0(t,n,r){switch(n=Ac(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Al(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);br(t)}var Xn=new Map,N0=new Set;function Sc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var cs=se.d;se.d={f:AT,r:ST,D:wT,C:xT,L:RT,m:NT,X:CT,S:IT,M:DT};function AT(){var t=cs.f(),n=pc();return t||n}function ST(t){var n=Un(t);n!==null&&n.tag===5&&n.type==="form"?Gg(n):cs.r(t)}var to=typeof document>"u"?null:document;function I0(t,n,r){var o=to;if(o&&typeof n=="string"&&n){var h=gn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),N0.has(h)||(N0.add(h),t={rel:t,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),sn(n,"link",t),Mt(n),o.head.appendChild(n)))}}function wT(t){cs.D(t),I0("dns-prefetch",t,null)}function xT(t,n){cs.C(t,n),I0("preconnect",t,n)}function RT(t,n,r){cs.L(t,n,r);var o=to;if(o&&t&&n){var h='link[rel="preload"][as="'+gn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+gn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+gn(r.imageSizes)+'"]')):h+='[href="'+gn(t)+'"]';var f=h;switch(n){case"style":f=no(t);break;case"script":f=io(t)}Xn.has(f)||(t=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Xn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(Sl(f))||n==="script"&&o.querySelector(wl(f))||(n=o.createElement("link"),sn(n,"link",t),Mt(n),o.head.appendChild(n)))}}function NT(t,n){cs.m(t,n);var r=to;if(r&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+gn(o)+'"][href="'+gn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=io(t)}if(!Xn.has(f)&&(t=S({rel:"modulepreload",href:t},n),Xn.set(f,t),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(wl(f)))return}o=r.createElement("link"),sn(o,"link",t),Mt(o),r.head.appendChild(o)}}}function IT(t,n,r){cs.S(t,n,r);var o=to;if(o&&t){var h=bi(o).hoistableStyles,f=no(t);n=n||"default";var _=h.get(f);if(!_){var E={loading:0,preload:null};if(_=o.querySelector(Sl(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Xn.get(f))&&Rd(t,r);var I=_=o.createElement("link");Mt(I),sn(I,"link",t),I._p=new Promise(function(U,G){I.onload=U,I.onerror=G}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,wc(_,n,o)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(f,_)}}}function CT(t,n){cs.X(t,n);var r=to;if(r&&t){var o=bi(r).hoistableScripts,h=io(t),f=o.get(h);f||(f=r.querySelector(wl(h)),f||(t=S({src:t,async:!0},n),(n=Xn.get(h))&&Nd(t,n),f=r.createElement("script"),Mt(f),sn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function DT(t,n){cs.M(t,n);var r=to;if(r&&t){var o=bi(r).hoistableScripts,h=io(t),f=o.get(h);f||(f=r.querySelector(wl(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=Xn.get(h))&&Nd(t,n),f=r.createElement("script"),Mt(f),sn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function C0(t,n,r,o){var h=(h=xe.current)?Sc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=no(r.href),r=bi(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=no(r.href);var f=bi(h).hoistableStyles,_=f.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=h.querySelector(Sl(t)))&&!f._p&&(_.instance=f,_.state.loading=5),Xn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Xn.set(t,r),f||MT(h,t,r,_.state))),n&&o===null)throw Error(a(528,""));return _}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=io(r),r=bi(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function no(t){return'href="'+gn(t)+'"'}function Sl(t){return'link[rel="stylesheet"]['+t+"]"}function D0(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function MT(t,n,r,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),sn(n,"link",r),Mt(n),t.head.appendChild(n))}function io(t){return'[src="'+gn(t)+'"]'}function wl(t){return"script[async]"+t}function M0(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+gn(r.href)+'"]');if(o)return n.instance=o,Mt(o),o;var h=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Mt(o),sn(o,"style",h),wc(o,r.precedence,t),n.instance=o;case"stylesheet":h=no(r.href);var f=t.querySelector(Sl(h));if(f)return n.state.loading|=4,n.instance=f,Mt(f),f;o=D0(r),(h=Xn.get(h))&&Rd(o,h),f=(t.ownerDocument||t).createElement("link"),Mt(f);var _=f;return _._p=new Promise(function(E,I){_.onload=E,_.onerror=I}),sn(f,"link",o),n.state.loading|=4,wc(f,r.precedence,t),n.instance=f;case"script":return f=io(r.src),(h=t.querySelector(wl(f)))?(n.instance=h,Mt(h),h):(o=r,(h=Xn.get(f))&&(o=S({},r),Nd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Mt(h),sn(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,wc(o,r.precedence,t));return n.instance}function wc(t,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,_=0;_<o.length;_++){var E=o[_];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Rd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Nd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var xc=null;function O0(t,n,r){if(xc===null){var o=new Map,h=xc=new Map;h.set(r,o)}else h=xc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[_i]||f[Dt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=t+_;var E=o.get(_);E?E.push(f):o.set(_,[f])}}return o}function k0(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function OT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function V0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function kT(t,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=no(o.href),f=n.querySelector(Sl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Rc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Mt(f);return}f=n.ownerDocument||n,o=D0(o),(h=Xn.get(h))&&Rd(o,h),f=f.createElement("link"),Mt(f);var _=f;_._p=new Promise(function(E,I){_.onload=E,_.onerror=I}),sn(f,"link",o),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Rc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Id=0;function VT(t,n){return t.stylesheets&&t.count===0&&Ic(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&Ic(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Id===0&&(Id=62500*pT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ic(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Id?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Rc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ic(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Nc=null;function Ic(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Nc=new Map,n.forEach(jT,t),Nc=null,Rc.call(t))}function jT(t,n){if(!(n.state.loading&4)){var r=Nc.get(t);if(r)var o=r.get(null);else{r=new Map,Nc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(r.set(_.dataset.precedence,_),o=_)}o&&r.set(null,o)}h=n.instance,_=h.getAttribute("data-precedence"),f=r.get(_)||o,f===o&&r.set(null,h),r.set(_,h),this.count++,o=Rc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var xl={$$typeof:le,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function LT(t,n,r,o,h,f,_,E,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.hiddenUpdates=gi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function j0(t,n,r,o,h,f,_,E,I,U,G,$){return t=new LT(t,n,r,_,I,U,G,$,E),n=1,f===!0&&(n|=24),f=Dn(3,null,null,n),t.current=f,f.stateNode=t,n=lf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},ff(f),t}function L0(t){return t?(t=kr,t):kr}function P0(t,n,r,o,h,f){h=L0(h),o.context===null?o.context=h:o.pendingContext=h,o=zs(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Bs(t,o,n),r!==null&&(Tn(r,t,n),sl(r,t,n))}function U0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Cd(t,n){U0(t,n),(t=t.alternate)&&U0(t,n)}function z0(t){if(t.tag===13||t.tag===31){var n=za(t,67108864);n!==null&&Tn(n,t,67108864),Cd(t,67108864)}}function B0(t){if(t.tag===13||t.tag===31){var n=jn();n=Na(n);var r=za(t,n);r!==null&&Tn(r,t,n),Cd(t,n)}}var Cc=!0;function PT(t,n,r,o){var h=F.T;F.T=null;var f=se.p;try{se.p=2,Dd(t,n,r,o)}finally{se.p=f,F.T=h}}function UT(t,n,r,o){var h=F.T;F.T=null;var f=se.p;try{se.p=8,Dd(t,n,r,o)}finally{se.p=f,F.T=h}}function Dd(t,n,r,o){if(Cc){var h=Md(o);if(h===null)yd(t,n,o,Dc,r),H0(t,o);else if(BT(h,t,n,r,o))o.stopPropagation();else if(H0(t,o),n&4&&-1<zT.indexOf(t)){for(;h!==null;){var f=Un(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=ht(f.pendingLanes);if(_!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var I=1<<31-ee(_);E.entanglements[1]|=I,_&=~I}Oi(f),(et&6)===0&&(dc=Xt()+500,bl(0))}}break;case 31:case 13:E=za(f,2),E!==null&&Tn(E,f,2),pc(),Cd(f,2)}if(f=Md(o),f===null&&yd(t,n,o,Dc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else yd(t,n,o,null,r)}}function Md(t){return t=zn(t),Od(t)}var Dc=null;function Od(t){if(Dc=null,t=vi(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=p(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Dc=t,null}function q0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mi()){case Sa:return 2;case wa:return 8;case pi:case Co:return 32;case gr:return 268435456;default:return 32}default:return 32}}var kd=!1,Zs=null,Ws=null,ea=null,Rl=new Map,Nl=new Map,ta=[],zT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function H0(t,n){switch(t){case"focusin":case"focusout":Zs=null;break;case"dragenter":case"dragleave":Ws=null;break;case"mouseover":case"mouseout":ea=null;break;case"pointerover":case"pointerout":Rl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(n.pointerId)}}function Il(t,n,r,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Un(n),n!==null&&z0(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function BT(t,n,r,o,h){switch(n){case"focusin":return Zs=Il(Zs,t,n,r,o,h),!0;case"dragenter":return Ws=Il(Ws,t,n,r,o,h),!0;case"mouseover":return ea=Il(ea,t,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return Rl.set(f,Il(Rl.get(f)||null,t,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Nl.set(f,Il(Nl.get(f)||null,t,n,r,o,h)),!0}return!1}function F0(t){var n=vi(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,ei(t.priority,function(){B0(r)});return}}else if(n===31){if(n=p(r),n!==null){t.blockedOn=n,ei(t.priority,function(){B0(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Md(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);qo=o,r.target.dispatchEvent(o),qo=null}else return n=Un(r),n!==null&&z0(n),t.blockedOn=r,!1;n.shift()}return!0}function G0(t,n,r){Mc(t)&&r.delete(n)}function qT(){kd=!1,Zs!==null&&Mc(Zs)&&(Zs=null),Ws!==null&&Mc(Ws)&&(Ws=null),ea!==null&&Mc(ea)&&(ea=null),Rl.forEach(G0),Nl.forEach(G0)}function Oc(t,n){t.blockedOn===n&&(t.blockedOn=null,kd||(kd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,qT)))}var kc=null;function Q0(t){kc!==t&&(kc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){kc===t&&(kc=null);for(var n=0;n<t.length;n+=3){var r=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Od(o||r)===null)continue;break}var f=Un(r);f!==null&&(t.splice(n,3),n-=3,Mf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function so(t){function n(I){return Oc(I,t)}Zs!==null&&Oc(Zs,t),Ws!==null&&Oc(Ws,t),ea!==null&&Oc(ea,t),Rl.forEach(n),Nl.forEach(n);for(var r=0;r<ta.length;r++){var o=ta[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<ta.length&&(r=ta[0],r.blockedOn===null);)F0(r),r.blockedOn===null&&ta.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],_=h[Gt]||null;if(typeof f=="function")_||Q0(r);else if(_){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[Gt]||null)E=_.formAction;else if(Od(h)!==null)continue}else E=_.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),Q0(r)}}}function Y0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Vd(t){this._internalRoot=t}Vc.prototype.render=Vd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=jn();P0(r,o,t,n,null,null)},Vc.prototype.unmount=Vd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;P0(t.current,2,null,t,null,null),pc(),n[yi]=null}};function Vc(t){this._internalRoot=t}Vc.prototype.unstable_scheduleHydration=function(t){if(t){var n=pu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<ta.length&&n!==0&&n<ta[r].priority;r++);ta.splice(r,0,t),r===0&&F0(t)}};var K0=e.version;if(K0!=="19.2.3")throw Error(a(527,K0,"19.2.3"));se.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var HT={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{Rn=jc.inject(HT),Ct=jc}catch{}}return Dl.createRoot=function(t,n){if(!l(t))throw Error(a(299));var r=!1,o="",h=ty,f=ny,_=iy;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError)),n=j0(t,1,!1,null,null,r,o,null,h,f,_,Y0),t[yi]=n.current,gd(t),new Vd(n)},Dl.hydrateRoot=function(t,n,r){if(!l(t))throw Error(a(299));var o=!1,h="",f=ty,_=ny,E=iy,I=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(I=r.formState)),n=j0(t,1,!0,n,r??null,o,h,I,f,_,E,Y0),n.context=L0(null),r=n.current,o=jn(),o=Na(o),h=zs(o),h.callback=null,Bs(r,h,o),r=o,n.current.lanes=r,xa(n,r),Oi(n),t[yi]=n.current,gd(t),new Vc(n)},Dl.version="19.2.3",Dl}var s_;function e2(){if(s_)return Pd.exports;s_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Pd.exports=WT(),Pd.exports}var t2=e2();const n2=zv(t2),i2=()=>{};var a_={};const Bv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},s2=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],g=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},qv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,g=l+2<s.length,y=g?s[l+2]:0,T=c>>2,S=(c&3)<<4|p>>4;let M=(p&15)<<2|y>>6,B=y&63;g||(B=64,d||(M=64)),a.push(i[T],i[S],i[M],i[B])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Bv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):s2(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||y==null||S==null)throw new a2;const M=c<<2|p>>4;if(a.push(M),y!==64){const B=p<<4&240|y>>2;if(a.push(B),S!==64){const Z=y<<6&192|S;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class a2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const r2=function(s){const e=Bv(s);return qv.encodeByteArray(e,!0)},Wc=function(s){return r2(s).replace(/\./g,"")},Hv=function(s){try{return qv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function o2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const l2=()=>o2().__FIREBASE_DEFAULTS__,u2=()=>{if(typeof process>"u"||typeof a_>"u")return;const s=a_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},c2=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Hv(s[1]);return e&&JSON.parse(e)},vh=()=>{try{return i2()||l2()||u2()||c2()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Fv=s=>vh()?.emulatorHosts?.[s],h2=s=>{const e=Fv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Gv=()=>vh()?.config,Qv=s=>vh()?.[`_${s}`];class f2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function Ao(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Yv(s){return(await fetch(s,{credentials:"include"})).ok}function d2(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Wc(JSON.stringify(i)),Wc(JSON.stringify(d)),""].join(".")}const Pl={};function m2(){const s={prod:[],emulator:[]};for(const e of Object.keys(Pl))Pl[e]?s.emulator.push(e):s.prod.push(e);return s}function p2(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let r_=!1;function Kv(s,e){if(typeof window>"u"||typeof document>"u"||!Ao(window.location.host)||Pl[s]===e||Pl[s]||r_)return;Pl[s]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=m2().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function g(M,B){M.setAttribute("width","24"),M.setAttribute("id",B),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{r_=!0,d()},M}function T(M,B){M.setAttribute("id",B),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function S(){const M=p2(a),B=i("text"),Z=document.getElementById(B)||document.createElement("span"),W=i("learnmore"),J=document.getElementById(W)||document.createElement("a"),ce=i("preprendIcon"),ve=document.getElementById(ce)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const le=M.element;p(le),T(J,W);const ke=y();g(ve,ce),le.append(ve,Z,J,ke),document.body.appendChild(le)}c?(Z.innerText="Preview backend disconnected.",ve.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ve.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function g2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function y2(){const s=vh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function v2(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function b2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function E2(){const s=fn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function T2(){return!y2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function A2(){try{return typeof indexedDB=="object"}catch{return!1}}function S2(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const w2="FirebaseError";class Es extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=w2,Object.setPrototypeOf(this,Es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wl.prototype.create)}}class Wl{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?x2(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new Es(l,p,a)}}function x2(s,e){return s.replace(R2,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const R2=/\{\$([^}]+)}/g;function N2(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function ar(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=e[l];if(o_(c)&&o_(d)){if(!ar(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function o_(s){return s!==null&&typeof s=="object"}function eu(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function I2(s,e){const i=new C2(s,e);return i.subscribe.bind(i)}class C2{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");D2(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=qd),l.error===void 0&&(l.error=qd),l.complete===void 0&&(l.complete=qd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function D2(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function qd(){}function $t(s){return s&&s._delegate?s._delegate:s}class rr{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const er="[DEFAULT]";class M2{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new f2;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(k2(e))try{this.getOrInitializeService({instanceIdentifier:er})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=er){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=er){return this.instances.has(e)}getOptions(e=er){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:O2(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=er){return this.component?this.component.multipleInstances?e:er:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function O2(s){return s===er?void 0:s}function k2(s){return s.instantiationMode==="EAGER"}class V2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new M2(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var He;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(He||(He={}));const j2={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},L2=He.INFO,P2={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},U2=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),l=P2[e];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Om{constructor(e){this.name=e,this._logLevel=L2,this._logHandler=U2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?j2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const z2=(s,e)=>e.some(i=>s instanceof i);let l_,u_;function B2(){return l_||(l_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function q2(){return u_||(u_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $v=new WeakMap,rm=new WeakMap,Xv=new WeakMap,Hd=new WeakMap,km=new WeakMap;function H2(s){const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(ua(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&$v.set(i,s)}).catch(()=>{}),km.set(e,s),e}function F2(s){if(rm.has(s))return;const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});rm.set(s,e)}let om={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return rm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Xv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ua(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function G2(s){om=s(om)}function Q2(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Fd(this),e,...i);return Xv.set(a,e.sort?e.sort():[e]),ua(a)}:q2().includes(s)?function(...e){return s.apply(Fd(this),e),ua($v.get(this))}:function(...e){return ua(s.apply(Fd(this),e))}}function Y2(s){return typeof s=="function"?Q2(s):(s instanceof IDBTransaction&&F2(s),z2(s,B2())?new Proxy(s,om):s)}function ua(s){if(s instanceof IDBRequest)return H2(s);if(Hd.has(s))return Hd.get(s);const e=Y2(s);return e!==s&&(Hd.set(s,e),km.set(e,s)),e}const Fd=s=>km.get(s);function K2(s,e,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),p=ua(d);return a&&d.addEventListener("upgradeneeded",g=>{a(ua(d.result),g.oldVersion,g.newVersion,ua(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const $2=["get","getKey","getAll","getAllKeys","count"],X2=["put","add","delete","clear"],Gd=new Map;function c_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Gd.get(e))return Gd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=X2.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||$2.includes(i)))return;const c=async function(d,...p){const g=this.transaction(d,l?"readwrite":"readonly");let y=g.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&g.done]))[0]};return Gd.set(e,c),c}G2(s=>({...s,get:(e,i,a)=>c_(e,i)||s.get(e,i,a),has:(e,i)=>!!c_(e,i)||s.has(e,i)}));class J2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Z2(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function Z2(s){return s.getComponent()?.type==="VERSION"}const lm="@firebase/app",h_="0.14.6";const ps=new Om("@firebase/app"),W2="@firebase/app-compat",eA="@firebase/analytics-compat",tA="@firebase/analytics",nA="@firebase/app-check-compat",iA="@firebase/app-check",sA="@firebase/auth",aA="@firebase/auth-compat",rA="@firebase/database",oA="@firebase/data-connect",lA="@firebase/database-compat",uA="@firebase/functions",cA="@firebase/functions-compat",hA="@firebase/installations",fA="@firebase/installations-compat",dA="@firebase/messaging",mA="@firebase/messaging-compat",pA="@firebase/performance",gA="@firebase/performance-compat",yA="@firebase/remote-config",_A="@firebase/remote-config-compat",vA="@firebase/storage",bA="@firebase/storage-compat",EA="@firebase/firestore",TA="@firebase/ai",AA="@firebase/firestore-compat",SA="firebase",wA="12.6.0";const um="[DEFAULT]",xA={[lm]:"fire-core",[W2]:"fire-core-compat",[tA]:"fire-analytics",[eA]:"fire-analytics-compat",[iA]:"fire-app-check",[nA]:"fire-app-check-compat",[sA]:"fire-auth",[aA]:"fire-auth-compat",[rA]:"fire-rtdb",[oA]:"fire-data-connect",[lA]:"fire-rtdb-compat",[uA]:"fire-fn",[cA]:"fire-fn-compat",[hA]:"fire-iid",[fA]:"fire-iid-compat",[dA]:"fire-fcm",[mA]:"fire-fcm-compat",[pA]:"fire-perf",[gA]:"fire-perf-compat",[yA]:"fire-rc",[_A]:"fire-rc-compat",[vA]:"fire-gcs",[bA]:"fire-gcs-compat",[EA]:"fire-fst",[AA]:"fire-fst-compat",[TA]:"fire-vertex","fire-js":"fire-js",[SA]:"fire-js-all"};const eh=new Map,RA=new Map,cm=new Map;function f_(s,e){try{s.container.addComponent(e)}catch(i){ps.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function go(s){const e=s.name;if(cm.has(e))return ps.debug(`There were multiple attempts to register component ${e}.`),!1;cm.set(e,s);for(const i of eh.values())f_(i,s);for(const i of RA.values())f_(i,s);return!0}function Vm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Jn(s){return s==null?!1:s.settings!==void 0}const NA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ca=new Wl("app","Firebase",NA);class IA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new rr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ca.create("app-deleted",{appName:this._name})}}const So=wA;function Jv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:um,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw ca.create("bad-app-name",{appName:String(l)});if(i||(i=Gv()),!i)throw ca.create("no-options");const c=eh.get(l);if(c){if(ar(i,c.options)&&ar(a,c.config))return c;throw ca.create("duplicate-app",{appName:l})}const d=new V2(l);for(const g of cm.values())d.addComponent(g);const p=new IA(i,a,d);return eh.set(l,p),p}function Zv(s=um){const e=eh.get(s);if(!e&&s===um&&Gv())return Jv();if(!e)throw ca.create("no-app",{appName:s});return e}function ha(s,e,i){let a=xA[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ps.warn(d.join(" "));return}go(new rr(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const CA="firebase-heartbeat-database",DA=1,Fl="firebase-heartbeat-store";let Qd=null;function Wv(){return Qd||(Qd=K2(CA,DA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Fl)}catch(i){console.warn(i)}}}}).catch(s=>{throw ca.create("idb-open",{originalErrorMessage:s.message})})),Qd}async function MA(s){try{const i=(await Wv()).transaction(Fl),a=await i.objectStore(Fl).get(e1(s));return await i.done,a}catch(e){if(e instanceof Es)ps.warn(e.message);else{const i=ca.create("idb-get",{originalErrorMessage:e?.message});ps.warn(i.message)}}}async function d_(s,e){try{const a=(await Wv()).transaction(Fl,"readwrite");await a.objectStore(Fl).put(e,e1(s)),await a.done}catch(i){if(i instanceof Es)ps.warn(i.message);else{const a=ca.create("idb-set",{originalErrorMessage:i?.message});ps.warn(a.message)}}}function e1(s){return`${s.name}!${s.options.appId}`}const OA=1024,kA=30;class VA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new LA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=m_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>kA){const l=PA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ps.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=m_(),{heartbeatsToSend:i,unsentEntries:a}=jA(this._heartbeatsCache.heartbeats),l=Wc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ps.warn(e),""}}}function m_(){return new Date().toISOString().substring(0,10)}function jA(s,e=OA){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),p_(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),p_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class LA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return A2()?S2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await MA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return d_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return d_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function p_(s){return Wc(JSON.stringify({version:2,heartbeats:s})).length}function PA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function UA(s){go(new rr("platform-logger",e=>new J2(e),"PRIVATE")),go(new rr("heartbeat",e=>new VA(e),"PRIVATE")),ha(lm,h_,s),ha(lm,h_,"esm2020"),ha("fire-js","")}UA("");var zA="firebase",BA="12.7.0";ha(zA,BA,"app");function t1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qA=t1,n1=new Wl("auth","Firebase",t1());const th=new Om("@firebase/auth");function HA(s,...e){th.logLevel<=He.WARN&&th.warn(`Auth (${So}): ${s}`,...e)}function Hc(s,...e){th.logLevel<=He.ERROR&&th.error(`Auth (${So}): ${s}`,...e)}function gs(s,...e){throw jm(s,...e)}function Li(s,...e){return jm(s,...e)}function i1(s,e,i){const a={...qA(),[e]:i};return new Wl("auth","Firebase",a).create(e,{appName:s.name})}function ds(s){return i1(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jm(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return n1.create(s,...e)}function we(s,e,...i){if(!s)throw jm(e,...i)}function hs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Hc(e),new Error(e)}function ys(s,e){s||hs(e)}function hm(){return typeof self<"u"&&self.location?.href||""}function FA(){return g_()==="http:"||g_()==="https:"}function g_(){return typeof self<"u"&&self.location?.protocol||null}function GA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FA()||v2()||"connection"in navigator)?navigator.onLine:!0}function QA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class tu{constructor(e,i){this.shortDelay=e,this.longDelay=i,ys(i>e,"Short delay should be less than long delay!"),this.isMobile=g2()||b2()}get(){return GA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Lm(s,e){ys(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class s1{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const YA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const KA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$A=new tu(3e4,6e4);function nu(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function wo(s,e,i,a,l={}){return a1(s,l,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const p=eu({key:s.config.apiKey,...d}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:g,...c};return _2()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Ao(s.emulatorConfig.host)&&(y.credentials="include"),s1.fetch()(await r1(s,s.config.apiHost,i,p),y)})}async function a1(s,e,i){s._canInitEmulator=!1;const a={...YA,...e};try{const l=new XA(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Lc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lc(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Lc(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw Lc(s,"user-disabled",d);const T=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw i1(s,T,y);gs(s,T)}}catch(l){if(l instanceof Es)throw l;gs(s,"network-request-failed",{message:String(l)})}}async function Pm(s,e,i,a,l={}){const c=await wo(s,e,i,a,l);return"mfaPendingCredential"in c&&gs(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function r1(s,e,i,a){const l=`${e}${i}?${a}`,c=s,d=c.config.emulator?Lm(s.config,l):`${s.config.apiScheme}://${l}`;return KA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class XA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Li(this.auth,"network-request-failed")),$A.get())})}}function Lc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Li(s,e,a);return l.customData._tokenResponse=i,l}async function JA(s,e){return wo(s,"POST","/v1/accounts:delete",e)}async function nh(s,e){return wo(s,"POST","/v1/accounts:lookup",e)}function Ul(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZA(s,e=!1){const i=$t(s),a=await i.getIdToken(e),l=Um(a);we(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Ul(Yd(l.auth_time)),issuedAtTime:Ul(Yd(l.iat)),expirationTime:Ul(Yd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Yd(s){return Number(s)*1e3}function Um(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Hc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Hv(i);return l?JSON.parse(l):(Hc("Failed to decode base64 JWT payload"),null)}catch(l){return Hc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function y_(s){const e=Um(s);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Gl(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Es&&WA(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function WA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class eS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class fm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ul(this.lastLoginAt),this.creationTime=Ul(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ih(s){const e=s.auth,i=await s.getIdToken(),a=await Gl(s,nh(e,{idToken:i}));we(a?.users.length,e,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?o1(l.providerUserInfo):[],d=nS(s.providerData,c),p=s.isAnonymous,g=!(s.email&&l.passwordHash)&&!d?.length,y=p?g:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new fm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,T)}async function tS(s){const e=$t(s);await ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nS(s,e){return[...s.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function o1(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function iS(s,e){const i=await a1(s,{},async()=>{const a=eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await r1(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:a};return s.emulatorConfig&&Ao(s.emulatorConfig.host)&&(g.credentials="include"),s1.fetch()(d,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function sS(s,e){return wo(s,"POST","/v2/accounts:revokeToken",nu(s,e))}class ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):y_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){we(e.length!==0,"internal-error");const i=y_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await iS(e,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new ho;return a&&(we(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(we(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(we(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ho,this.toJSON())}_performRefresh(){return hs("not implemented")}}function ia(s,e){we(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ci{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new eS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new fm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Gl(this,this.stsTokenManager.getToken(this.auth,e));return we(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return ZA(this,e)}reload(){return tS(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ci({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await ih(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(ds(this.auth));const e=await this.getIdToken();return await Gl(this,JA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,g=i._redirectEventId??void 0,y=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:S,emailVerified:M,isAnonymous:B,providerData:Z,stsTokenManager:W}=i;we(S&&W,e,"internal-error");const J=ho.fromJSON(this.name,W);we(typeof S=="string",e,"internal-error"),ia(a,e.name),ia(l,e.name),we(typeof M=="boolean",e,"internal-error"),we(typeof B=="boolean",e,"internal-error"),ia(c,e.name),ia(d,e.name),ia(p,e.name),ia(g,e.name),ia(y,e.name),ia(T,e.name);const ce=new ci({uid:S,auth:e,email:l,emailVerified:M,displayName:a,isAnonymous:B,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:J,createdAt:y,lastLoginAt:T});return Z&&Array.isArray(Z)&&(ce.providerData=Z.map(ve=>({...ve}))),g&&(ce._redirectEventId=g),ce}static async _fromIdTokenResponse(e,i,a=!1){const l=new ho;l.updateFromServerResponse(i);const c=new ci({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await ih(c),c}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];we(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?o1(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new ho;p.updateFromIdToken(a);const g=new ci({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new fm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(g,y),g}}const __=new Map;function fs(s){ys(s instanceof Function,"Expected a class definition");let e=__.get(s);return e?(ys(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,__.set(s,e),e)}class l1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}l1.type="NONE";const v_=l1;function Fc(s,e,i){return`firebase:${s}:${e}:${i}`}class fo{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Fc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Fc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await nh(this.auth,{idToken:e}).catch(()=>{});return i?ci._fromGetAccountInfoResponse(this.auth,i,e):null}return ci._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new fo(fs(v_),e,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||fs(v_);const d=Fc(a,e.config.apiKey,e.name);let p=null;for(const y of i)try{const T=await y._get(d);if(T){let S;if(typeof T=="string"){const M=await nh(e,{idToken:T}).catch(()=>{});if(!M)break;S=await ci._fromGetAccountInfoResponse(e,M,T)}else S=ci._fromJSON(e,T);y!==c&&(p=S),c=y;break}}catch{}const g=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new fo(c,e,a):(c=g[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new fo(c,e,a))}}function b_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(f1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(u1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(m1(e))return"Blackberry";if(p1(e))return"Webos";if(c1(e))return"Safari";if((e.includes("chrome/")||h1(e))&&!e.includes("edge/"))return"Chrome";if(d1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function u1(s=fn()){return/firefox\//i.test(s)}function c1(s=fn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function h1(s=fn()){return/crios\//i.test(s)}function f1(s=fn()){return/iemobile/i.test(s)}function d1(s=fn()){return/android/i.test(s)}function m1(s=fn()){return/blackberry/i.test(s)}function p1(s=fn()){return/webos/i.test(s)}function zm(s=fn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function aS(s=fn()){return zm(s)&&!!window.navigator?.standalone}function rS(){return E2()&&document.documentMode===10}function g1(s=fn()){return zm(s)||d1(s)||p1(s)||m1(s)||/windows phone/i.test(s)||f1(s)}function y1(s,e=[]){let i;switch(s){case"Browser":i=b_(fn());break;case"Worker":i=`${b_(fn())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${So}/${a}`}class oS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,p)=>{try{const g=e(c);d(g)}catch(g){p(g)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function lS(s,e={}){return wo(s,"GET","/v2/passwordPolicy",nu(s,e))}const uS=6;class cS{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??uS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class hS{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new E_(this),this.idTokenSubscription=new E_(this),this.beforeStateQueue=new oS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=n1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=fs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await fo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await nh(this,{idToken:e}),a=await ci._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Jn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await ih(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jn(this.app))return Promise.reject(ds(this));const i=e?$t(e):null;return i&&we(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(ds(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jn(this.app)?Promise.reject(ds(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await lS(this),i=new cS(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wl("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await sS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&fs(e)||this._popupRedirectResolver;we(i,this,"argument-error"),this.redirectPersistenceManager=await fo.create(this,[fs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const g=e.addObserver(i,a,l);return()=>{d=!0,g()}}else{const g=e.addObserver(i);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=y1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&HA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function iu(s){return $t(s)}class E_{constructor(e){this.auth=e,this.observer=null,this.addObserver=I2(i=>this.observer=i)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Bm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fS(s){Bm=s}function dS(s){return Bm.loadJS(s)}function mS(){return Bm.gapiScript}function pS(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function gS(s,e){const i=Vm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(ar(c,e??{}))return l;gs(l,"already-initialized")}return i.initialize({options:e})}function yS(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(fs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function _S(s,e,i){const a=iu(s);we(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=_1(e),{host:d,port:p}=vS(e),g=p===null?"":`:${p}`,y={url:`${c}//${d}${g}/`},T=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){we(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),we(ar(y,a.config.emulator)&&ar(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,Ao(d)?(Yv(`${c}//${d}${g}`),Kv("Auth",!0)):bS()}function _1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function vS(s){const e=_1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:T_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:T_(d)}}}function T_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function bS(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class v1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return hs("not implemented")}_getIdTokenResponse(e){return hs("not implemented")}_linkToIdToken(e,i){return hs("not implemented")}_getReauthenticationResolver(e){return hs("not implemented")}}async function mo(s,e){return Pm(s,"POST","/v1/accounts:signInWithIdp",nu(s,e))}const ES="http://localhost";class or extends v1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new or(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):gs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new or(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return mo(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,mo(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,mo(e,i)}buildRequest(){const e={requestUri:ES,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=eu(i)}return e}}class b1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class su extends b1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class sa extends su{constructor(){super("facebook.com")}static credential(e){return or._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sa.credentialFromTaggedObject(e)}static credentialFromError(e){return sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sa.credential(e.oauthAccessToken)}catch{return null}}}sa.FACEBOOK_SIGN_IN_METHOD="facebook.com";sa.PROVIDER_ID="facebook.com";class aa extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return or._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return aa.credential(i,a)}catch{return null}}}aa.GOOGLE_SIGN_IN_METHOD="google.com";aa.PROVIDER_ID="google.com";class ra extends su{constructor(){super("github.com")}static credential(e){return or._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ra.credentialFromTaggedObject(e)}static credentialFromError(e){return ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ra.credential(e.oauthAccessToken)}catch{return null}}}ra.GITHUB_SIGN_IN_METHOD="github.com";ra.PROVIDER_ID="github.com";class oa extends su{constructor(){super("twitter.com")}static credential(e,i){return or._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return oa.credential(i,a)}catch{return null}}}oa.TWITTER_SIGN_IN_METHOD="twitter.com";oa.PROVIDER_ID="twitter.com";async function TS(s,e){return Pm(s,"POST","/v1/accounts:signUp",nu(s,e))}class _s{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const c=await ci._fromIdTokenResponse(e,a,l),d=A_(a);return new _s({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=A_(a);return new _s({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function A_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function AS(s){if(Jn(s.app))return Promise.reject(ds(s));const e=iu(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new _s({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await TS(e,{returnSecureToken:!0}),a=await _s._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class sh extends Es{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,sh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new sh(e,i,a,l)}}function E1(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?sh._fromErrorAndOperation(s,c,e,a):c})}async function SS(s,e,i=!1){const a=await Gl(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return _s._forOperation(s,"link",a)}async function wS(s,e,i=!1){const{auth:a}=s;if(Jn(a.app))return Promise.reject(ds(a));const l="reauthenticate";try{const c=await Gl(s,E1(a,l,e,s),i);we(c.idToken,a,"internal-error");const d=Um(c.idToken);we(d,a,"internal-error");const{sub:p}=d;return we(s.uid===p,a,"user-mismatch"),_s._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&gs(a,"user-mismatch"),c}}async function xS(s,e,i=!1){if(Jn(s.app))return Promise.reject(ds(s));const a="signIn",l=await E1(s,a,e),c=await _s._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function RS(s,e){return Pm(s,"POST","/v1/accounts:signInWithCustomToken",nu(s,e))}async function NS(s,e){if(Jn(s.app))return Promise.reject(ds(s));const i=iu(s),a=await RS(i,{token:e,returnSecureToken:!0}),l=await _s._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function IS(s,e,i,a){return $t(s).onIdTokenChanged(e,i,a)}function CS(s,e,i){return $t(s).beforeAuthStateChanged(e,i)}function DS(s,e,i,a){return $t(s).onAuthStateChanged(e,i,a)}const ah="__sak";class T1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ah,"1"),this.storage.removeItem(ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const MS=1e3,OS=10;class A1 extends T1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=g1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);rS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,OS):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},MS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}A1.type="LOCAL";const kS=A1;class S1 extends T1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}S1.type="SESSION";const w1=S1;function VS(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class bh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new bh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),g=await VS(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:g})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bh.receivers=[];function qm(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class jS{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,g)=>{const y=qm("",20);l.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const M=S;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(T),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Pi(){return window}function LS(s){Pi().location.href=s}function x1(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function PS(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function US(){return navigator?.serviceWorker?.controller||null}function zS(){return x1()?self:null}const R1="firebaseLocalStorageDb",BS=1,rh="firebaseLocalStorage",N1="fbase_key";class au{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Eh(s,e){return s.transaction([rh],e?"readwrite":"readonly").objectStore(rh)}function qS(){const s=indexedDB.deleteDatabase(R1);return new au(s).toPromise()}function dm(){const s=indexedDB.open(R1,BS);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(rh,{keyPath:N1})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(rh)?e(a):(a.close(),await qS(),e(await dm()))})})}async function S_(s,e,i){const a=Eh(s,!0).put({[N1]:e,value:i});return new au(a).toPromise()}async function HS(s,e){const i=Eh(s,!1).get(e),a=await new au(i).toPromise();return a===void 0?null:a.value}function w_(s,e){const i=Eh(s,!0).delete(e);return new au(i).toPromise()}const FS=800,GS=3;class I1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>GS)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return x1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bh._getInstance(zS()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await PS(),!this.activeServiceWorker)return;this.sender=new jS(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||US()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dm();return await S_(e,ah,"1"),await w_(e,ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>S_(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>HS(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>w_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Eh(l,!1).getAll();return new au(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}I1.type="LOCAL";const QS=I1;new tu(3e4,6e4);function YS(s,e){return e?fs(e):(we(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Hm extends v1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mo(e,this._buildIdpRequest())}_linkToIdToken(e,i){return mo(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function KS(s){return xS(s.auth,new Hm(s),s.bypassAuthState)}function $S(s){const{auth:e,user:i}=s;return we(i,e,"internal-error"),wS(i,new Hm(s),s.bypassAuthState)}async function XS(s){const{auth:e,user:i}=s;return we(i,e,"internal-error"),SS(i,new Hm(s),s.bypassAuthState)}class C1{constructor(e,i,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KS;case"linkViaPopup":case"linkViaRedirect":return XS;case"reauthViaPopup":case"reauthViaRedirect":return $S;default:gs(this.auth,"internal-error")}}resolve(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const JS=new tu(2e3,1e4);class co extends C1{constructor(e,i,a,l,c){super(e,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,co.currentPopupAction&&co.currentPopupAction.cancel(),co.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){ys(this.filter.length===1,"Popup operations only handle one event");const e=qm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,co.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,JS.get())};e()}}co.currentPopupAction=null;const ZS="pendingRedirect",Gc=new Map;class WS extends C1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Gc.get(this.auth._key());if(!e){try{const a=await ew(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Gc.set(this.auth._key(),e)}return this.bypassAuthState||Gc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ew(s,e){const i=iw(e),a=nw(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function tw(s,e){Gc.set(s._key(),e)}function nw(s){return fs(s._redirectPersistence)}function iw(s){return Fc(ZS,s.config.apiKey,s.name)}async function sw(s,e,i=!1){if(Jn(s.app))return Promise.reject(ds(s));const a=iu(s),l=YS(a,e),d=await new WS(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const aw=600*1e3;class rw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ow(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!D1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Li(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aw&&this.cachedEventUids.clear(),this.cachedEventUids.has(x_(e))}saveEventToCache(e){this.cachedEventUids.add(x_(e)),this.lastProcessedEventTime=Date.now()}}function x_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function D1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function ow(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return D1(s);default:return!1}}async function lw(s,e={}){return wo(s,"GET","/v1/projects",e)}const uw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cw=/^https?/;async function hw(s){if(s.config.emulator)return;const{authorizedDomains:e}=await lw(s);for(const i of e)try{if(fw(i))return}catch{}gs(s,"unauthorized-domain")}function fw(s){const e=hm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!cw.test(i))return!1;if(uw.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const dw=new tu(3e4,6e4);function R_(){const s=Pi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function mw(s){return new Promise((e,i)=>{function a(){R_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{R_(),i(Li(s,"network-request-failed"))},timeout:dw.get()})}if(Pi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Pi().gapi?.load)a();else{const l=pS("iframefcb");return Pi()[l]=()=>{gapi.load?a():i(Li(s,"network-request-failed"))},dS(`${mS()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Qc=null,e})}let Qc=null;function pw(s){return Qc=Qc||mw(s),Qc}const gw=new tu(5e3,15e3),yw="__/auth/iframe",_w="emulator/auth/iframe",vw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ew(s){const e=s.config;we(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Lm(e,_w):`https://${s.config.authDomain}/${yw}`,a={apiKey:e.apiKey,appName:s.name,v:So},l=bw.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${eu(a).slice(1)}`}async function Tw(s){const e=await pw(s),i=Pi().gapi;return we(i,s,"internal-error"),e.open({where:document.body,url:Ew(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vw,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Li(s,"network-request-failed"),p=Pi().setTimeout(()=>{c(d)},gw.get());function g(){Pi().clearTimeout(p),l(a)}a.ping(g).then(g,()=>{c(d)})}))}const Aw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Sw=500,ww=600,xw="_blank",Rw="http://localhost";class N_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Nw(s,e,i,a=Sw,l=ww){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const g={...Aw,width:a.toString(),height:l.toString(),top:c,left:d},y=fn().toLowerCase();i&&(p=h1(y)?xw:i),u1(y)&&(e=e||Rw,g.scrollbars="yes");const T=Object.entries(g).reduce((M,[B,Z])=>`${M}${B}=${Z},`,"");if(aS(y)&&p!=="_self")return Iw(e||"",p),new N_(null);const S=window.open(e||"",p,T);we(S,s,"popup-blocked");try{S.focus()}catch{}return new N_(S)}function Iw(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const Cw="__/auth/handler",Dw="emulator/auth/handler",Mw=encodeURIComponent("fac");async function I_(s,e,i,a,l,c){we(s.config.authDomain,s,"auth-domain-config-required"),we(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:So,eventId:l};if(e instanceof b1){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",N2(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,S]of Object.entries({}))d[T]=S}if(e instanceof su){const T=e.getScopes().filter(S=>S!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const g=await s._getAppCheckToken(),y=g?`#${Mw}=${encodeURIComponent(g)}`:"";return`${Ow(s)}?${eu(p).slice(1)}${y}`}function Ow({config:s}){return s.emulator?Lm(s,Dw):`https://${s.authDomain}/${Cw}`}const Kd="webStorageSupport";class kw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=w1,this._completeRedirectFn=sw,this._overrideRedirectResult=tw}async _openPopup(e,i,a,l){ys(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await I_(e,i,a,hm(),l);return Nw(e,c,qm())}async _openRedirect(e,i,a,l){await this._originValidation(e);const c=await I_(e,i,a,hm(),l);return LS(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ys(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await Tw(e),a=new rw(e);return i.register("authEvent",l=>(we(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Kd,{type:Kd},l=>{const c=l?.[0]?.[Kd];c!==void 0&&i(!!c),gs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=hw(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return g1()||c1()||zm()}}const Vw=kw;var C_="@firebase/auth",D_="1.12.0";class jw{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Lw(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Pw(s){go(new rr("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;we(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:y1(s)},y=new hS(a,l,c,g);return yS(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),go(new rr("auth-internal",e=>{const i=iu(e.getProvider("auth").getImmediate());return(a=>new jw(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ha(C_,D_,Lw(s)),ha(C_,D_,"esm2020")}const Uw=300,zw=Qv("authIdTokenMaxAge")||Uw;let M_=null;const Bw=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>zw)return;const l=i?.token;M_!==l&&(M_=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function qw(s=Zv()){const e=Vm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=gS(s,{popupRedirectResolver:Vw,persistence:[QS,kS,w1]}),a=Qv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Bw(c.toString());CS(i,d,()=>d(i.currentUser)),IS(i,p=>d(p))}}const l=Fv("auth");return l&&_S(i,`http://${l}`),i}function Hw(){return document.getElementsByTagName("head")?.[0]??document}fS({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=l=>{const c=Li("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",Hw().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Pw("Browser");var O_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var fa,M1;(function(){var s;function e(N,x){function R(){}R.prototype=x.prototype,N.F=x.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(C,D,V){for(var w=Array(arguments.length-2),he=2;he<arguments.length;he++)w[he-2]=arguments[he];return x.prototype[D].apply(C,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,x,R){R||(R=0);const C=Array(16);if(typeof x=="string")for(var D=0;D<16;++D)C[D]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(D=0;D<16;++D)C[D]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=N.g[0],R=N.g[1],D=N.g[2];let V=N.g[3],w;w=x+(V^R&(D^V))+C[0]+3614090360&4294967295,x=R+(w<<7&4294967295|w>>>25),w=V+(D^x&(R^D))+C[1]+3905402710&4294967295,V=x+(w<<12&4294967295|w>>>20),w=D+(R^V&(x^R))+C[2]+606105819&4294967295,D=V+(w<<17&4294967295|w>>>15),w=R+(x^D&(V^x))+C[3]+3250441966&4294967295,R=D+(w<<22&4294967295|w>>>10),w=x+(V^R&(D^V))+C[4]+4118548399&4294967295,x=R+(w<<7&4294967295|w>>>25),w=V+(D^x&(R^D))+C[5]+1200080426&4294967295,V=x+(w<<12&4294967295|w>>>20),w=D+(R^V&(x^R))+C[6]+2821735955&4294967295,D=V+(w<<17&4294967295|w>>>15),w=R+(x^D&(V^x))+C[7]+4249261313&4294967295,R=D+(w<<22&4294967295|w>>>10),w=x+(V^R&(D^V))+C[8]+1770035416&4294967295,x=R+(w<<7&4294967295|w>>>25),w=V+(D^x&(R^D))+C[9]+2336552879&4294967295,V=x+(w<<12&4294967295|w>>>20),w=D+(R^V&(x^R))+C[10]+4294925233&4294967295,D=V+(w<<17&4294967295|w>>>15),w=R+(x^D&(V^x))+C[11]+2304563134&4294967295,R=D+(w<<22&4294967295|w>>>10),w=x+(V^R&(D^V))+C[12]+1804603682&4294967295,x=R+(w<<7&4294967295|w>>>25),w=V+(D^x&(R^D))+C[13]+4254626195&4294967295,V=x+(w<<12&4294967295|w>>>20),w=D+(R^V&(x^R))+C[14]+2792965006&4294967295,D=V+(w<<17&4294967295|w>>>15),w=R+(x^D&(V^x))+C[15]+1236535329&4294967295,R=D+(w<<22&4294967295|w>>>10),w=x+(D^V&(R^D))+C[1]+4129170786&4294967295,x=R+(w<<5&4294967295|w>>>27),w=V+(R^D&(x^R))+C[6]+3225465664&4294967295,V=x+(w<<9&4294967295|w>>>23),w=D+(x^R&(V^x))+C[11]+643717713&4294967295,D=V+(w<<14&4294967295|w>>>18),w=R+(V^x&(D^V))+C[0]+3921069994&4294967295,R=D+(w<<20&4294967295|w>>>12),w=x+(D^V&(R^D))+C[5]+3593408605&4294967295,x=R+(w<<5&4294967295|w>>>27),w=V+(R^D&(x^R))+C[10]+38016083&4294967295,V=x+(w<<9&4294967295|w>>>23),w=D+(x^R&(V^x))+C[15]+3634488961&4294967295,D=V+(w<<14&4294967295|w>>>18),w=R+(V^x&(D^V))+C[4]+3889429448&4294967295,R=D+(w<<20&4294967295|w>>>12),w=x+(D^V&(R^D))+C[9]+568446438&4294967295,x=R+(w<<5&4294967295|w>>>27),w=V+(R^D&(x^R))+C[14]+3275163606&4294967295,V=x+(w<<9&4294967295|w>>>23),w=D+(x^R&(V^x))+C[3]+4107603335&4294967295,D=V+(w<<14&4294967295|w>>>18),w=R+(V^x&(D^V))+C[8]+1163531501&4294967295,R=D+(w<<20&4294967295|w>>>12),w=x+(D^V&(R^D))+C[13]+2850285829&4294967295,x=R+(w<<5&4294967295|w>>>27),w=V+(R^D&(x^R))+C[2]+4243563512&4294967295,V=x+(w<<9&4294967295|w>>>23),w=D+(x^R&(V^x))+C[7]+1735328473&4294967295,D=V+(w<<14&4294967295|w>>>18),w=R+(V^x&(D^V))+C[12]+2368359562&4294967295,R=D+(w<<20&4294967295|w>>>12),w=x+(R^D^V)+C[5]+4294588738&4294967295,x=R+(w<<4&4294967295|w>>>28),w=V+(x^R^D)+C[8]+2272392833&4294967295,V=x+(w<<11&4294967295|w>>>21),w=D+(V^x^R)+C[11]+1839030562&4294967295,D=V+(w<<16&4294967295|w>>>16),w=R+(D^V^x)+C[14]+4259657740&4294967295,R=D+(w<<23&4294967295|w>>>9),w=x+(R^D^V)+C[1]+2763975236&4294967295,x=R+(w<<4&4294967295|w>>>28),w=V+(x^R^D)+C[4]+1272893353&4294967295,V=x+(w<<11&4294967295|w>>>21),w=D+(V^x^R)+C[7]+4139469664&4294967295,D=V+(w<<16&4294967295|w>>>16),w=R+(D^V^x)+C[10]+3200236656&4294967295,R=D+(w<<23&4294967295|w>>>9),w=x+(R^D^V)+C[13]+681279174&4294967295,x=R+(w<<4&4294967295|w>>>28),w=V+(x^R^D)+C[0]+3936430074&4294967295,V=x+(w<<11&4294967295|w>>>21),w=D+(V^x^R)+C[3]+3572445317&4294967295,D=V+(w<<16&4294967295|w>>>16),w=R+(D^V^x)+C[6]+76029189&4294967295,R=D+(w<<23&4294967295|w>>>9),w=x+(R^D^V)+C[9]+3654602809&4294967295,x=R+(w<<4&4294967295|w>>>28),w=V+(x^R^D)+C[12]+3873151461&4294967295,V=x+(w<<11&4294967295|w>>>21),w=D+(V^x^R)+C[15]+530742520&4294967295,D=V+(w<<16&4294967295|w>>>16),w=R+(D^V^x)+C[2]+3299628645&4294967295,R=D+(w<<23&4294967295|w>>>9),w=x+(D^(R|~V))+C[0]+4096336452&4294967295,x=R+(w<<6&4294967295|w>>>26),w=V+(R^(x|~D))+C[7]+1126891415&4294967295,V=x+(w<<10&4294967295|w>>>22),w=D+(x^(V|~R))+C[14]+2878612391&4294967295,D=V+(w<<15&4294967295|w>>>17),w=R+(V^(D|~x))+C[5]+4237533241&4294967295,R=D+(w<<21&4294967295|w>>>11),w=x+(D^(R|~V))+C[12]+1700485571&4294967295,x=R+(w<<6&4294967295|w>>>26),w=V+(R^(x|~D))+C[3]+2399980690&4294967295,V=x+(w<<10&4294967295|w>>>22),w=D+(x^(V|~R))+C[10]+4293915773&4294967295,D=V+(w<<15&4294967295|w>>>17),w=R+(V^(D|~x))+C[1]+2240044497&4294967295,R=D+(w<<21&4294967295|w>>>11),w=x+(D^(R|~V))+C[8]+1873313359&4294967295,x=R+(w<<6&4294967295|w>>>26),w=V+(R^(x|~D))+C[15]+4264355552&4294967295,V=x+(w<<10&4294967295|w>>>22),w=D+(x^(V|~R))+C[6]+2734768916&4294967295,D=V+(w<<15&4294967295|w>>>17),w=R+(V^(D|~x))+C[13]+1309151649&4294967295,R=D+(w<<21&4294967295|w>>>11),w=x+(D^(R|~V))+C[4]+4149444226&4294967295,x=R+(w<<6&4294967295|w>>>26),w=V+(R^(x|~D))+C[11]+3174756917&4294967295,V=x+(w<<10&4294967295|w>>>22),w=D+(x^(V|~R))+C[2]+718787259&4294967295,D=V+(w<<15&4294967295|w>>>17),w=R+(V^(D|~x))+C[9]+3951481745&4294967295,N.g[0]=N.g[0]+x&4294967295,N.g[1]=N.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+V&4294967295}a.prototype.v=function(N,x){x===void 0&&(x=N.length);const R=x-this.blockSize,C=this.C;let D=this.h,V=0;for(;V<x;){if(D==0)for(;V<=R;)l(this,N,V),V+=this.blockSize;if(typeof N=="string"){for(;V<x;)if(C[D++]=N.charCodeAt(V++),D==this.blockSize){l(this,C),D=0;break}}else for(;V<x;)if(C[D++]=N[V++],D==this.blockSize){l(this,C),D=0;break}}this.h=D,this.o+=x},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var x=1;x<N.length-8;++x)N[x]=0;x=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=x&255,x/=256;for(this.v(N),N=Array(16),x=0,R=0;R<4;++R)for(let C=0;C<32;C+=8)N[x++]=this.g[R]>>>C&255;return N};function c(N,x){var R=p;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=x(N)}function d(N,x){this.h=x;const R=[];let C=!0;for(let D=N.length-1;D>=0;D--){const V=N[D]|0;C&&V==x||(R[D]=V,C=!1)}this.g=R}var p={};function g(N){return-128<=N&&N<128?c(N,function(x){return new d([x|0],x<0?-1:0)}):new d([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return J(y(-N));const x=[];let R=1;for(let C=0;N>=R;C++)x[C]=N/R|0,R*=4294967296;return new d(x,0)}function T(N,x){if(N.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(N.charAt(0)=="-")return J(T(N.substring(1),x));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(x,8));let C=S;for(let V=0;V<N.length;V+=8){var D=Math.min(8,N.length-V);const w=parseInt(N.substring(V,V+D),x);D<8?(D=y(Math.pow(x,D)),C=C.j(D).add(y(w))):(C=C.j(R),C=C.add(y(w)))}return C}var S=g(0),M=g(1),B=g(16777216);s=d.prototype,s.m=function(){if(W(this))return-J(this).m();let N=0,x=1;for(let R=0;R<this.g.length;R++){const C=this.i(R);N+=(C>=0?C:4294967296+C)*x,x*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(Z(this))return"0";if(W(this))return"-"+J(this).toString(N);const x=y(Math.pow(N,6));var R=this;let C="";for(;;){const D=ke(R,x).g;R=ce(R,D.j(x));let V=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=D,Z(R))return V+C;for(;V.length<6;)V="0"+V;C=V+C}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function Z(N){if(N.h!=0)return!1;for(let x=0;x<N.g.length;x++)if(N.g[x]!=0)return!1;return!0}function W(N){return N.h==-1}s.l=function(N){return N=ce(this,N),W(N)?-1:Z(N)?0:1};function J(N){const x=N.g.length,R=[];for(let C=0;C<x;C++)R[C]=~N.g[C];return new d(R,~N.h).add(M)}s.abs=function(){return W(this)?J(this):this},s.add=function(N){const x=Math.max(this.g.length,N.g.length),R=[];let C=0;for(let D=0;D<=x;D++){let V=C+(this.i(D)&65535)+(N.i(D)&65535),w=(V>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);C=w>>>16,V&=65535,w&=65535,R[D]=w<<16|V}return new d(R,R[R.length-1]&-2147483648?-1:0)};function ce(N,x){return N.add(J(x))}s.j=function(N){if(Z(this)||Z(N))return S;if(W(this))return W(N)?J(this).j(J(N)):J(J(this).j(N));if(W(N))return J(this.j(J(N)));if(this.l(B)<0&&N.l(B)<0)return y(this.m()*N.m());const x=this.g.length+N.g.length,R=[];for(var C=0;C<2*x;C++)R[C]=0;for(C=0;C<this.g.length;C++)for(let D=0;D<N.g.length;D++){const V=this.i(C)>>>16,w=this.i(C)&65535,he=N.i(D)>>>16,Ke=N.i(D)&65535;R[2*C+2*D]+=w*Ke,ve(R,2*C+2*D),R[2*C+2*D+1]+=V*Ke,ve(R,2*C+2*D+1),R[2*C+2*D+1]+=w*he,ve(R,2*C+2*D+1),R[2*C+2*D+2]+=V*he,ve(R,2*C+2*D+2)}for(N=0;N<x;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=x;N<2*x;N++)R[N]=0;return new d(R,0)};function ve(N,x){for(;(N[x]&65535)!=N[x];)N[x+1]+=N[x]>>>16,N[x]&=65535,x++}function le(N,x){this.g=N,this.h=x}function ke(N,x){if(Z(x))throw Error("division by zero");if(Z(N))return new le(S,S);if(W(N))return x=ke(J(N),x),new le(J(x.g),J(x.h));if(W(x))return x=ke(N,J(x)),new le(J(x.g),x.h);if(N.g.length>30){if(W(N)||W(x))throw Error("slowDivide_ only works with positive integers.");for(var R=M,C=x;C.l(N)<=0;)R=pe(R),C=pe(C);var D=re(R,1),V=re(C,1);for(C=re(C,2),R=re(R,2);!Z(C);){var w=V.add(C);w.l(N)<=0&&(D=D.add(R),V=w),C=re(C,1),R=re(R,1)}return x=ce(N,D.j(x)),new le(D,x)}for(D=S;N.l(x)>=0;){for(R=Math.max(1,Math.floor(N.m()/x.m())),C=Math.ceil(Math.log(R)/Math.LN2),C=C<=48?1:Math.pow(2,C-48),V=y(R),w=V.j(x);W(w)||w.l(N)>0;)R-=C,V=y(R),w=V.j(x);Z(V)&&(V=M),D=D.add(V),N=ce(N,w)}return new le(D,N)}s.B=function(N){return ke(this,N).h},s.and=function(N){const x=Math.max(this.g.length,N.g.length),R=[];for(let C=0;C<x;C++)R[C]=this.i(C)&N.i(C);return new d(R,this.h&N.h)},s.or=function(N){const x=Math.max(this.g.length,N.g.length),R=[];for(let C=0;C<x;C++)R[C]=this.i(C)|N.i(C);return new d(R,this.h|N.h)},s.xor=function(N){const x=Math.max(this.g.length,N.g.length),R=[];for(let C=0;C<x;C++)R[C]=this.i(C)^N.i(C);return new d(R,this.h^N.h)};function pe(N){const x=N.g.length+1,R=[];for(let C=0;C<x;C++)R[C]=N.i(C)<<1|N.i(C-1)>>>31;return new d(R,N.h)}function re(N,x){const R=x>>5;x%=32;const C=N.g.length-R,D=[];for(let V=0;V<C;V++)D[V]=x>0?N.i(V+R)>>>x|N.i(V+R+1)<<32-x:N.i(V+R);return new d(D,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,M1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,fa=d}).apply(typeof O_<"u"?O_:typeof self<"u"?self:typeof window<"u"?window:{});var Pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var O1,Ol,k1,Yc,mm,V1,j1,L1;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pc=="object"&&Pc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)e:{var v=a;u=u.split(".");for(var A=0;A<u.length-1;A++){var L=u[A];if(!(L in v))break e;v=v[L]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function g(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=g,y.apply(null,arguments)}function T(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(A,L,q){for(var te=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)te[Ce-2]=arguments[Ce];return m.prototype[L].apply(A,te)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function B(u){const m=u.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function Z(u,m){for(let A=1;A<arguments.length;A++){const L=arguments[A];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const q=L.length||0;u.length=v+q;for(let te=0;te<q;te++)u[v+te]=L[te]}else u.push(L)}}class W{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function ce(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ve{constructor(){this.h=this.g=null}add(m,v){const A=le.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var le=new W(()=>new ke,u=>u.reset());class ke{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,re=!1,N=new ve,x=()=>{const u=Promise.resolve(void 0);pe=()=>{u.then(R)}};function R(){for(var u;u=ce();){try{u.h.call(u.g)}catch(v){J(v)}var m=le;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}re=!1}function C(){this.u=this.u,this.C=this.C}C.prototype.u=!1,C.prototype.dispose=function(){this.u||(this.u=!0,this.N())},C.prototype[Symbol.dispose]=function(){this.dispose()},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function he(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(he,D),he.prototype.init=function(u,m){const v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&he.Z.h.call(this)},he.prototype.h=function(){he.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ke="closure_listenable_"+(Math.random()*1e6|0),F=0;function se(u,m,v,A,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=L,this.key=++F,this.da=this.fa=!1}function ge(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function je(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function Je(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function k(u){const m={};for(const v in u)m[v]=u[v];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(u,m){let v,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(v in A)u[v]=A[v];for(let q=0;q<Q.length;q++)v=Q[q],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function ie(u){this.src=u,this.g={},this.h=0}ie.prototype.add=function(u,m,v,A,L){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const te=xe(u,m,A,L);return te>-1?(m=u[te],v||(m.fa=!1)):(m=new se(m,this.src,q,!!A,L),m.fa=v,u.push(m)),m};function Ae(u,m){const v=m.type;if(v in u.g){var A=u.g[v],L=Array.prototype.indexOf.call(A,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(A,L,1),q&&(ge(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function xe(u,m,v,A){for(let L=0;L<u.length;++L){const q=u[L];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==A)return L}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),vt={};function Ze(u,m,v,A,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)Ze(u,m[q],v,A,L);return null}return v=xn(v),u&&u[Ke]?u.J(m,v,p(A)?!!A.capture:!1,L):Pn(u,m,v,!1,A,L)}function Pn(u,m,v,A,L,q){if(!m)throw Error("Invalid event type");const te=p(L)?!!L.capture:!!L;let Ce=Gi(u);if(Ce||(u[Le]=Ce=new ie(u)),v=Ce.add(m,v,A,te,q),v.proxy)return v;if(A=Ts(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)V||(L=te),L===void 0&&(L=!1),u.addEventListener(m.toString(),A,L);else if(u.attachEvent)u.attachEvent(wn(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ts(){function u(v){return m.call(u.src,u.listener,v)}const m=Aa;return u}function As(u,m,v,A,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)As(u,m[q],v,A,L);else A=p(A)?!!A.capture:!!A,v=xn(v),u&&u[Ke]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=xe(m,v,A,L),v>-1&&(ge(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=Gi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=xe(m,v,A,L)),(v=u>-1?m[u]:null)&&Ss(v))}function Ss(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ke])Ae(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(wn(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=Gi(m))?(Ae(v,u),v.h==0&&(v.src=null,m[Le]=null)):ge(u)}}}function wn(u){return u in vt?vt[u]:vt[u]="on"+u}function Aa(u,m){if(u.da)u=!0;else{m=new he(m,this);const v=u.listener,A=u.ha||u.src;u.fa&&Ss(u),u=v.call(A,m)}return u}function Gi(u){return u=u[Le],u instanceof ie?u:null}var qt="__closure_events_fn_"+(Math.random()*1e9>>>0);function xn(u){return typeof u=="function"?u:(u[qt]||(u[qt]=function(m){return u.handleEvent(m)}),u[qt])}function Et(){C.call(this),this.i=new ie(this),this.M=this,this.G=null}S(Et,C),Et.prototype[Ke]=!0,Et.prototype.removeEventListener=function(u,m,v,A){As(this,u,m,v,A)};function Tt(u,m){var v,A=u.G;if(A)for(v=[];A;A=A.G)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(A,u),ne(m,L)}L=!0;let q,te;if(v)for(te=v.length-1;te>=0;te--)q=m.g=v[te],L=di(q,A,!0,m)&&L;if(q=m.g=u,L=di(q,A,!0,m)&&L,L=di(q,A,!1,m)&&L,v)for(te=0;te<v.length;te++)q=m.g=v[te],L=di(q,A,!1,m)&&L}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let A=0;A<v.length;A++)ge(v[A]);delete u.g[m],u.h--}}this.G=null},Et.prototype.J=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},Et.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function di(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const te=m[q];if(te&&!te.da&&te.capture==v){const Ce=te.listener,wt=te.ha||te.src;te.fa&&Ae(u.i,te),L=Ce.call(wt,A)!==!1&&L}}return L&&!A.defaultPrevented}function mr(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function pr(u){u.g=mr(()=>{u.g=null,u.i&&(u.i=!1,pr(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Xt extends C{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:pr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mi(u){C.call(this),this.h=u,this.g={}}S(mi,C);var Sa=[];function wa(u){je(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ss(m)},u),u.g={}}mi.prototype.N=function(){mi.Z.N.call(this),wa(this)},mi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pi=d.JSON.stringify,Co=d.JSON.parse,gr=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function yr(){}function _r(){}var Rn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ct(){D.call(this,"d")}S(Ct,D);function dn(){D.call(this,"c")}S(dn,D);var ee={},Se=null;function Pe(){return Se=Se||new Et}ee.Ia="serverreachability";function Ve(u){D.call(this,ee.Ia,u)}S(Ve,D);function Me(u){const m=Pe();Tt(m,new Ve(m))}ee.STAT_EVENT="statevent";function at(u,m){D.call(this,ee.STAT_EVENT,u),this.stat=m}S(at,D);function mt(u){const m=Pe();Tt(m,new at(m,u))}ee.Ja="timingevent";function ht(u,m){D.call(this,ee.Ja,u),this.size=m}S(ht,D);function Jt(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Zt(){this.g=!0}Zt.prototype.ua=function(){this.g=!1};function ws(u,m,v,A,L,q){u.info(function(){if(u.g)if(q){var te="",Ce=q.split("&");for(let We=0;We<Ce.length;We++){var wt=Ce[We].split("=");if(wt.length>1){const yt=wt[0];wt=wt[1];const qn=yt.split("_");te=qn.length>=2&&qn[1]=="type"?te+(yt+"="+wt+"&"):te+(yt+"=redacted&")}}}else te=null;else te=q;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+m+`
`+v+`
`+te})}function mu(u,m,v,A,L,q,te){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+m+`
`+v+`
`+q+" "+te})}function gi(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+zh(u,v)+(A?" "+A:"")})}function xa(u,m){u.info(function(){return"TIMEOUT: "+m})}Zt.prototype.info=function(){};function zh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var L=A[0];if(L!="noop"&&L!="stop"&&L!="close")for(let te=1;te<A.length;te++)A[te]=""}}}}return pi(q)}catch{return m}}var Ra={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Do={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Mo;function Na(){}S(Na,yr),Na.prototype.g=function(){return new XMLHttpRequest},Mo=new Na;function Qi(u){return encodeURIComponent(String(u))}function pu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ei(u,m,v,A){this.j=u,this.i=m,this.l=v,this.S=A||1,this.V=new mi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ti}function ti(){this.i=null,this.g="",this.h=!1}var Dt={},Gt={};function yi(u,m,v){u.M=1,u.A=Ia(Ot(m)),u.u=v,u.R=!0,vr(u,null)}function vr(u,m){u.F=Date.now(),_i(u),u.B=Ot(u.A);var v=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),Ar(v.i,"t",A),u.C=0,v=u.j.L,u.h=new ti,u.g=Cu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Xt(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,A=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Sa[0]=L.toString()),L=Sa);for(let q=0;q<L.length;q++){const te=Ze(v,L[q],A||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.J?k(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Me(),ws(u.i,u.v,u.B,u.l,u.S,u.u)}ei.prototype.ba=function(u){u=u.target;const m=this.O;m&&si(u)==3?m.j():this.Y(u)},ei.prototype.Y=function(u){try{if(u==this.g)e:{const Ce=si(this.g),wt=this.g.ya(),We=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Wt(this.g)))){this.K||Ce!=4||wt==7||(wt==8||We<=0?Me(3):Me(2)),vi(this);var m=this.g.ca();this.X=m;var v=Bh(this);if(this.o=m==200,mu(this.i,this.v,this.B,this.l,this.S,Ce,m),this.o){if(this.U&&!this.L){t:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(A)){var q=A;break t}}q=null}if(u=q)gi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,bi(this,u);else{this.o=!1,this.m=3,mt(12),Nn(this),Un(this);break e}}if(this.R){u=!0;let yt;for(;!this.K&&this.C<v.length;)if(yt=yu(this,v),yt==Gt){Ce==4&&(this.m=4,mt(14),u=!1),gi(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==Dt){this.m=4,mt(15),gi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else gi(this.i,this.l,yt,null),bi(this,yt);if(gu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||v.length!=0||this.h.h||(this.m=1,mt(16),u=!1),this.o=this.o&&u,!u)gi(this.i,this.l,v,"[Invalid Chunked Response]"),Nn(this),Un(this);else if(v.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Yo(te),te.P=!0,mt(11))}}else gi(this.i,this.l,v,null),bi(this,v);Ce==4&&Nn(this),this.o&&!this.K&&(Ce==4?xu(this.j,this):(this.o=!1,_i(this)))}else Ki(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,mt(12)):(this.m=0,mt(13)),Nn(this),Un(this)}}}catch{}};function Bh(u){if(!gu(u))return u.g.la();const m=Wt(u.g);if(m==="")return"";let v="";const A=m.length,L=si(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Nn(u),Un(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<A;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(L&&q==A-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function gu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function yu(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?Gt:(v=Number(m.substring(v,A)),isNaN(v)?Dt:(A+=1,A+v>m.length?Gt:(m=m.slice(A,A+v),u.C=A+v,m)))}ei.prototype.cancel=function(){this.K=!0,Nn(this)};function _i(u){u.T=Date.now()+u.H,br(u,u.H)}function br(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Jt(y(u.aa,u),m)}function vi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ei.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(xa(this.i,this.B),this.M!=2&&(Me(),mt(17)),Nn(this),this.m=2,Un(this)):br(this,this.T-u)};function Un(u){u.j.I==0||u.K||xu(u.j,u)}function Nn(u){vi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,wa(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function bi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ti(v.h,u))){if(!u.L&&Ti(v.h,u)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Nr(v),Os(v);else break e;ja(v),mt(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Jt(y(v.Va,v),6e3));Ei(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ni(v,11)}else if((u.L||v.g==u)&&Nr(v),!w(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let We=L[m];const yt=We[0];if(!(yt<=v.K))if(v.K=yt,We=We[1],v.I==2)if(We[0]=="c"){v.M=We[1],v.ba=We[2];const qn=We[3];qn!=null&&(v.ka=qn,v.j.info("VER="+v.ka));const Ii=We[4];Ii!=null&&(v.za=Ii,v.j.info("SVER="+v.za));const ai=We[5];ai!=null&&typeof ai=="number"&&ai>0&&(A=1.5*ai,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const ri=u.g;if(ri){const La=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(La){var q=A.h;q.g||La.indexOf("spdy")==-1&&La.indexOf("quic")==-1&&La.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Vo(q,q.h),q.h=null))}if(A.G){const Ir=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;Ir&&(A.wa=Ir,nt(A.J,A.G,Ir))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var te=u;if(A.na=Iu(A,A.L?A.ba:null,A.W),te.L){jo(A.h,te);var Ce=te,wt=A.O;wt&&(Ce.H=wt),Ce.D&&(vi(Ce),_i(Ce)),A.g=te}else Su(A);v.i.length>0&&Ri(v)}else We[0]!="stop"&&We[0]!="close"||Ni(v,7);else v.I==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?Ni(v,7):Go(v):We[0]!="noop"&&v.l&&v.l.qa(We),v.A=0)}}Me(4)}catch{}}var Mt=class{constructor(u,m){this.g=u,this.map=m}};function Oo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ko(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ei(u){return u.h?1:u.g?u.g.size:0}function Ti(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Vo(u,m){u.g?u.g.add(m):u.h=m}function jo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Oo.prototype.cancel=function(){if(this.i=Lo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Lo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return B(u.i)}var _u=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Er(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const A=u[v].indexOf("=");let L,q=null;A>=0?(L=u[v].substring(0,A),q=u[v].substring(A+1)):L=u[v],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function In(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof In?(this.l=u.l,Qt(this,u.j),this.o=u.o,this.g=u.g,xs(this,u.u),this.h=u.h,Po(this,Tu(u.i)),this.m=u.m):u&&(m=String(u).match(_u))?(this.l=!1,Qt(this,m[1]||"",!0),this.o=Ai(m[2]||""),this.g=Ai(m[3]||"",!0),xs(this,m[4]),this.h=Ai(m[5]||"",!0),Po(this,m[6]||"",!0),this.m=Ai(m[7]||"")):(this.l=!1,this.i=new Ns(null,this.l))}In.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ca(m,Tr,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ca(m,Tr,!0),"@"),u.push(Qi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ca(v,v.charAt(0)=="/"?Uo:vu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ca(v,bu)),u.join("")},In.prototype.resolve=function(u){const m=Ot(this);let v=!!u.j;v?Qt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var A=u.h;if(v)xs(m,u.u);else if(v=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var L=m.h.lastIndexOf("/");L!=-1&&(A=m.h.slice(0,L+1)+A)}if(L=A,L==".."||L==".")A="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){A=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let te=0;te<L.length;){const Ce=L[te++];Ce=="."?A&&te==L.length&&q.push(""):Ce==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&te==L.length&&q.push("")):(q.push(Ce),A=!0)}A=q.join("/")}else A=L}return v?m.h=A:v=u.i.toString()!=="",v?Po(m,Tu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ot(u){return new In(u)}function Qt(u,m,v){u.j=v?Ai(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function xs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Po(u,m,v){m instanceof Ns?(u.i=m,Sr(u.i,u.l)):(v||(m=Ca(m,Rs)),u.i=new Ns(m,u.l))}function nt(u,m,v){u.i.set(m,v)}function Ia(u){return nt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ai(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ca(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,gn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function gn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Tr=/[#\/\?@]/g,vu=/[#\?:]/g,Uo=/[#\?]/g,Rs=/[#\?@]/g,bu=/#/g;function Ns(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function yn(u){u.g||(u.g=new Map,u.h=0,u.i&&Er(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Ns.prototype,s.add=function(u,m){yn(this),this.i=null,u=Is(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Eu(u,m){yn(u),m=Is(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function zo(u,m){return yn(u),m=Is(u,m),u.g.has(m)}s.forEach=function(u,m){yn(this),this.g.forEach(function(v,A){v.forEach(function(L){u.call(m,L,A,this)},this)},this)};function Bo(u,m){yn(u);let v=[];if(typeof m=="string")zo(u,m)&&(v=v.concat(u.g.get(Is(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return yn(this),this.i=null,u=Is(this,u),zo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Bo(this,u),u.length>0?String(u[0]):m):m};function Ar(u,m,v){Eu(u,m),v.length>0&&(u.i=null,u.g.set(Is(u,m),B(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const L=Qi(v);v=Bo(this,v);for(let q=0;q<v.length;q++){let te=L;v[q]!==""&&(te+="="+Qi(v[q])),u.push(te)}}return this.i=u.join("&")};function Tu(u){const m=new Ns;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Is(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Sr(u,m){m&&!u.j&&(yn(u),u.i=null,u.g.forEach(function(v,A){const L=A.toLowerCase();A!=L&&(Eu(this,A),Ar(this,L,v))},u)),u.j=m}function ni(u,m){const v=new Zt;if(d.Image){const A=new Image;A.onload=T(zn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=T(zn,v,"TestLoadImage: error",!1,m,A),A.onabort=T(zn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=T(zn,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function qo(u,m){const v=new Zt,A=new AbortController,L=setTimeout(()=>{A.abort(),zn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(L),q.ok?zn(v,"TestPingServer: ok",!0,m):zn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),zn(v,"TestPingServer: error",!1,m)})}function zn(u,m,v,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(v)}catch{}}function Cs(){this.g=new gr}function Si(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Si,yr),Si.prototype.g=function(){return new Da(this.i,this.h)};function Da(u,m){Et.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Da,Et),s=Da.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ii(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ds(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function wr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ds(this):ii(this),this.readyState==3&&wr(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ds(this))},s.Na=function(u){this.g&&(this.response=u,Ds(this))},s.ga=function(){this.g&&Ds(this)};function Ds(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ii(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ii(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Da.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Bn(u){let m="";return je(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function Ma(u,m,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Bn(v),typeof u=="string"?v!=null&&Qi(v):nt(u,m,v))}function rt(u){Et.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(rt,Et);var wi=/^https?$/i,Ho=["POST","PUT"];s=rt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Mo.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Oa(this,q);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)v.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())v.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ho,m,void 0)>=0)||A||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,te]of v)this.g.setRequestHeader(q,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Oa(this,q)}};function Oa(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Fo(u),Yi(u)}function Fo(u){u.A||(u.A=!0,Tt(u,"complete"),Tt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Tt(this,"complete"),Tt(this,"abort"),Yi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yi(this,!0)),rt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?ka(this):this.Xa())},s.Xa=function(){ka(this)};function ka(u){if(u.h&&typeof c<"u"){if(u.v&&si(u)==4)setTimeout(u.Ca.bind(u),0);else if(Tt(u,"readystatechange"),si(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var A;if(A=q===0){let te=String(u.D).match(_u)[1]||null;!te&&d.self&&d.self.location&&(te=d.self.location.protocol.slice(0,-1)),A=!wi.test(te?te.toLowerCase():"")}v=A}if(v)Tt(u,"complete"),Tt(u,"success");else{u.o=6;try{var L=si(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Fo(u)}}finally{Yi(u)}}}}function Yi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Tt(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function si(u){return u.g?u.g.readyState:0}s.ca=function(){try{return si(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Co(m)}};function Wt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ki(u){const m={};u=(u.g&&si(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(w(u[A]))continue;var v=pu(u[A]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[L]||[];m[L]=q,q.push(v)}Je(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ms(u){this.za=0,this.i=[],this.j=new Zt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xi("baseRetryDelayMs",5e3,u),this.Za=xi("retryDelaySeedMs",1e4,u),this.Ta=xi("forwardChannelMaxRetries",2,u),this.va=xi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Oo(u&&u.concurrentRequestLimit),this.Ba=new Cs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ms.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,A){mt(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Iu(this,null,this.W),Ri(this)};function Go(u){if(xr(u),u.I==3){var m=u.V++,v=Ot(u.J);if(nt(v,"SID",u.M),nt(v,"RID",m),nt(v,"TYPE","terminate"),Va(u,v),m=new ei(u,u.j,m),m.M=2,m.A=Ia(Ot(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Cu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),_i(m)}Nu(u)}function Os(u){u.g&&(Yo(u),u.g.cancel(),u.g=null)}function xr(u){Os(u),u.v&&(d.clearTimeout(u.v),u.v=null),Nr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ri(u){if(!ko(u.h)&&!u.m){u.m=!0;var m=u.Ea;pe||x(),re||(pe(),re=!0),N.add(m,u),u.D=0}}function Rr(u,m){return Ei(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Jt(y(u.Ea,u,m),Ru(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new ei(this,this.j,u);let q=this.o;if(this.U&&(q?(q=k(q),ne(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Au(this,L,m),v=Ot(this.J),nt(v,"RID",u),nt(v,"CVER",22),this.G&&nt(v,"X-HTTP-Session-Id",this.G),Va(this,v),q&&(this.R?m="headers="+Qi(Bn(q))+"&"+m:this.u&&Ma(v,this.u,q)),Vo(this.h,L),this.Ra&&nt(v,"TYPE","init"),this.S?(nt(v,"$req",m),nt(v,"SID","null"),L.U=!0,yi(L,v,null)):yi(L,v,m),this.I=2}}else this.I==3&&(u?Qo(this,u):this.i.length==0||ko(this.h)||Qo(this))};function Qo(u,m){var v;m?v=m.l:v=u.V++;const A=Ot(u.J);nt(A,"SID",u.M),nt(A,"RID",v),nt(A,"AID",u.K),Va(u,A),u.u&&u.o&&Ma(A,u.u,u.o),v=new ei(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Au(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Vo(u.h,v),yi(v,A,m)}function Va(u,m){u.H&&je(u.H,function(v,A){nt(m,A,v)}),u.l&&je({},function(v,A){nt(m,A,v)})}function Au(u,m,v){v=Math.min(u.i.length,v);const A=u.l?y(u.l.Ka,u.l,u):null;e:{var L=u.i;let Ce=-1;for(;;){const wt=["count="+v];Ce==-1?v>0?(Ce=L[0].g,wt.push("ofs="+Ce)):Ce=0:wt.push("ofs="+Ce);let We=!0;for(let yt=0;yt<v;yt++){var q=L[yt].g;const qn=L[yt].map;if(q-=Ce,q<0)Ce=Math.max(0,L[yt].g-100),We=!1;else try{q="req"+q+"_"||"";try{var te=qn instanceof Map?qn:Object.entries(qn);for(const[Ii,ai]of te){let ri=ai;p(ai)&&(ri=pi(ai)),wt.push(q+Ii+"="+encodeURIComponent(ri))}}catch(Ii){throw wt.push(q+"type="+encodeURIComponent("_badmap")),Ii}}catch{A&&A(qn)}}if(We){te=wt.join("&");break e}}te=void 0}return u=u.i.splice(0,v),m.G=u,te}function Su(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;pe||x(),re||(pe(),re=!0),N.add(m,u),u.A=0}}function ja(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Jt(y(u.Da,u),Ru(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,wu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Jt(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,mt(10),Os(this),wu(this))};function Yo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function wu(u){u.g=new ei(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ot(u.na);nt(m,"RID","rpc"),nt(m,"SID",u.M),nt(m,"AID",u.K),nt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&nt(m,"TO",u.ia),nt(m,"TYPE","xmlhttp"),Va(u,m),u.u&&u.o&&Ma(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Ia(Ot(m)),v.u=null,v.R=!0,vr(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Os(this),ja(this),mt(19))};function Nr(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function xu(u,m){var v=null;if(u.g==m){Nr(u),Yo(u),u.g=null;var A=2}else if(Ti(u.h,m))v=m.G,jo(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;A=Pe(),Tt(A,new ht(A,v)),Ri(u)}else Su(u);else if(L=m.m,L==3||L==0&&m.X>0||!(A==1&&Rr(u,m)||A==2&&ja(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Ni(u,5);break;case 4:Ni(u,10);break;case 3:Ni(u,6);break;default:Ni(u,2)}}}function Ru(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ni(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),A=u.Ua;const L=!A;A=new In(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Qt(A,"https"),Ia(A),L?ni(A.toString(),v):qo(A.toString(),v)}else mt(2);u.I=0,u.l&&u.l.pa(m),Nu(u),xr(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function Nu(u){if(u.I=0,u.ja=[],u.l){const m=Lo(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,B(u.i),u.i.length=0),u.l.oa()}}function Iu(u,m,v){var A=v instanceof In?Ot(v):new In(v);if(A.g!="")m&&(A.g=m+"."+A.g),xs(A,A.u);else{var L=d.location;A=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new In(null);A&&Qt(q,A),m&&(q.g=m),L&&xs(q,L),v&&(q.h=v),A=q}return v=u.G,m=u.wa,v&&m&&nt(A,v,m),nt(A,"VER",u.ka),Va(u,A),A}function Cu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new rt(new Si({ab:v})):new rt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Du(){}s=Du.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ks(){}ks.prototype.g=function(u,m){return new mn(u,m)};function mn(u,m){Et.call(this),this.g=new Ms(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new $i(this)}S(mn,Et),mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Go(this.g)},mn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=pi(u),u=v);m.i.push(new Mt(m.Ya++,u)),m.I==3&&Ri(m)},mn.prototype.N=function(){this.g.l=null,delete this.j,Go(this.g),delete this.g,mn.Z.N.call(this)};function Mu(u){Ct.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Mu,Ct);function Ou(){dn.call(this),this.status=1}S(Ou,dn);function $i(u){this.g=u}S($i,Du),$i.prototype.ra=function(){Tt(this.g,"a")},$i.prototype.qa=function(u){Tt(this.g,new Mu(u))},$i.prototype.pa=function(u){Tt(this.g,new Ou)},$i.prototype.oa=function(){Tt(this.g,"b")},ks.prototype.createWebChannel=ks.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,L1=function(){return new ks},j1=function(){return Pe()},V1=ee,mm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ra.NO_ERROR=0,Ra.TIMEOUT=8,Ra.HTTP_ERROR=6,Yc=Ra,Do.COMPLETE="complete",k1=Do,_r.EventType=Rn,Rn.OPEN="a",Rn.CLOSE="b",Rn.ERROR="c",Rn.MESSAGE="d",Et.prototype.listen=Et.prototype.J,Ol=_r,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,O1=rt}).apply(typeof Pc<"u"?Pc:typeof self<"u"?self:typeof window<"u"?window:{});const k_="@firebase/firestore",V_="4.9.3";let cn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");let xo="12.7.0";const lr=new Om("@firebase/firestore");function ro(){return lr.logLevel}function oe(s,...e){if(lr.logLevel<=He.DEBUG){const i=e.map(Fm);lr.debug(`Firestore (${xo}): ${s}`,...i)}}function vs(s,...e){if(lr.logLevel<=He.ERROR){const i=e.map(Fm);lr.error(`Firestore (${xo}): ${s}`,...i)}}function yo(s,...e){if(lr.logLevel<=He.WARN){const i=e.map(Fm);lr.warn(`Firestore (${xo}): ${s}`,...i)}}function Fm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Te(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,P1(s,a,i)}function P1(s,e,i){let a=`FIRESTORE (${xo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw vs(a),new Error(a)}function tt(s,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||P1(e,l,a)}function Ie(s,e){return s}const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Es{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ms{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class U1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Fw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(cn.UNAUTHENTICATED)))}shutdown(){}}class Gw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Qw{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){tt(this.o===void 0,42304);let a=this.i;const l=g=>this.i!==a?(a=this.i,i(g)):Promise.resolve();let c=new ms;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ms,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ms)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(tt(typeof a.accessToken=="string",31837,{l:a}),new U1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new cn(e)}}class Yw{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Kw{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new Yw(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class j_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $w{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){tt(this.o===void 0,3512);const a=c=>{c.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,oe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new j_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(tt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new j_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Xw(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Gm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=Xw(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=e.charAt(l[c]%62))}return a}}function Fe(s,e){return s<e?-1:s>e?1:0}function pm(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=e.charAt(a);if(l!==c)return $d(l)===$d(c)?Fe(l,c):$d(l)?1:-1}return Fe(s.length,e.length)}const Jw=55296,Zw=57343;function $d(s){const e=s.charCodeAt(0);return e>=Jw&&e<=Zw}function _o(s,e,i){return s.length===e.length&&s.every(((a,l)=>i(a,e[l])))}const L_="__name__";class ji{constructor(e,i,a){i===void 0?i=0:i>e.length&&Te(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Te(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return ji.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ji?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const c=ji.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Fe(e.length,i.length)}static compareSegments(e,i){const a=ji.isNumericId(e),l=ji.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?ji.extractNumericId(e).compare(ji.extractNumericId(i)):pm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fa.fromString(e.substring(4,e.length-2))}}class ft extends ji{construct(e,i,a){return new ft(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ae(K.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ft(i)}static emptyPath(){return new ft([])}}const Ww=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends ji{construct(e,i,a){return new rn(e,i,a)}static isValidIdentifier(e){return Ww.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===L_}static keyField(){return new rn([L_])}static fromServerFormat(e){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ae(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new ae(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ae(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=g,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ae(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(i)}static emptyPath(){return new rn([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ft.fromString(e))}static fromName(e){return new _e(ft.fromString(e).popFirst(5))}static empty(){return new _e(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ft.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ft(e.slice()))}}function z1(s,e,i){if(!i)throw new ae(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function ex(s,e,i,a){if(e===!0&&a===!0)throw new ae(K.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function P_(s){if(!_e.isDocumentKey(s))throw new ae(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function U_(s){if(_e.isDocumentKey(s))throw new ae(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function B1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Th(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Te(12329,{type:typeof s})}function hi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ae(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Th(s);throw new ae(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Bt(s,e){const i={typeString:s};return e&&(i.value=e),i}function ru(s,e){if(!B1(s))throw new ae(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ae(K.INVALID_ARGUMENT,i);return!0}const z_=-62135596800,B_=1e6;class dt{static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*B_);return new dt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ae(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ae(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<z_)throw new ae(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/B_}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ru(e,dt._jsonSchema))return new dt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-z_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}dt._jsonSchemaVersion="firestore/timestamp/1.0",dt._jsonSchema={type:Bt("string",dt._jsonSchemaVersion),seconds:Bt("number"),nanoseconds:Bt("number")};class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new dt(0,0))}static max(){return new Re(new dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ql=-1;function tx(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=Re.fromTimestamp(a===1e9?new dt(i+1,0):new dt(i,a));return new ma(l,_e.empty(),e)}function nx(s){return new ma(s.readTime,s.key,Ql)}class ma{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new ma(Re.min(),_e.empty(),Ql)}static max(){return new ma(Re.max(),_e.empty(),Ql)}}function ix(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=_e.comparator(s.documentKey,e.documentKey),i!==0?i:Fe(s.largestBatchId,e.largestBatchId))}const sx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ax{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ro(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==sx)throw s;oe("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,a)=>{i(e)}))}static reject(e){return new X(((i,a)=>{a(e)}))}static waitFor(e){return new X(((i,a)=>{let l=0,c=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(g=>a(g)))})),d=!0,c===l&&i()}))}static or(e){let i=X.resolve(!1);for(const a of e)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(e,i){return new X(((a,l)=>{const c=e.length,d=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;i(e[y]).next((T=>{d[y]=T,++p,p===c&&a(d)}),(T=>l(T)))}}))}static doWhile(e,i){return new X(((a,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):a()};c()}))}}function rx(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function No(s){return s.name==="IndexedDbTransactionError"}class Ah{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ah.ce=-1;const Qm=-1;function Sh(s){return s==null}function oh(s){return s===0&&1/s==-1/0}function ox(s){return typeof s=="number"&&Number.isInteger(s)&&!oh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const q1="";function lx(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=q_(e)),e=ux(s.get(i),e);return q_(e)}function ux(s,e){let i=e;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case q1:i+="";break;default:i+=c}}return i}function q_(s){return s+q1+""}function H_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Ea(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function H1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class bt{constructor(e,i){this.comparator=e,this.root=i||an.EMPTY}insert(e,i){return new bt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uc(this.root,e,this.comparator,!0)}}class Uc{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,i,a,l,c){this.key=e,this.value=i,this.color=a??an.RED,this.left=l??an.EMPTY,this.right=c??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,c){return new an(e??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return an.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,i,a,l,c){return this}insert(e,i,a){return new an(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ft{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new F_(this.data.getIterator())}getIteratorFrom(e){return new F_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ft(this.comparator);return i.data=e,i}}class F_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ln{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new Ln([])}unionWith(e){let i=new Ft(rn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Ln(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return _o(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class F1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class on{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new F1("Invalid base64 string: "+c):c}})(e);return new on(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new on(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const cx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pa(s){if(tt(!!s,39018),typeof s=="string"){let e=0;const i=cx.exec(s);if(tt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Nt(s.seconds),nanos:Nt(s.nanos)}}function Nt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ga(s){return typeof s=="string"?on.fromBase64String(s):on.fromUint8Array(s)}const G1="server_timestamp",Q1="__type__",Y1="__previous_value__",K1="__local_write_time__";function Ym(s){return(s?.mapValue?.fields||{})[Q1]?.stringValue===G1}function wh(s){const e=s.mapValue.fields[Y1];return Ym(e)?wh(e):e}function Yl(s){const e=pa(s.mapValue.fields[K1].timestampValue);return new dt(e.seconds,e.nanos)}class hx{constructor(e,i,a,l,c,d,p,g,y,T){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=T}}const lh="(default)";class Kl{constructor(e,i){this.projectId=e,this.database=i||lh}static empty(){return new Kl("","")}get isDefaultDatabase(){return this.database===lh}isEqual(e){return e instanceof Kl&&e.projectId===this.projectId&&e.database===this.database}}const $1="__type__",fx="__max__",zc={mapValue:{}},X1="__vector__",uh="value";function ya(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Ym(s)?4:mx(s)?9007199254740991:dx(s)?10:11:Te(28295,{value:s})}function Hi(s,e){if(s===e)return!0;const i=ya(s);if(i!==ya(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Yl(s).isEqual(Yl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=pa(l.timestampValue),p=pa(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return ga(l.bytesValue).isEqual(ga(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return Nt(l.geoPointValue.latitude)===Nt(c.geoPointValue.latitude)&&Nt(l.geoPointValue.longitude)===Nt(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Nt(l.integerValue)===Nt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Nt(l.doubleValue),p=Nt(c.doubleValue);return d===p?oh(d)===oh(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return _o(s.arrayValue.values||[],e.arrayValue.values||[],Hi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(H_(d)!==H_(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!Hi(d[g],p[g])))return!1;return!0})(s,e);default:return Te(52216,{left:s})}}function $l(s,e){return(s.values||[]).find((i=>Hi(i,e)))!==void 0}function vo(s,e){if(s===e)return 0;const i=ya(s),a=ya(e);if(i!==a)return Fe(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Fe(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=Nt(c.integerValue||c.doubleValue),g=Nt(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,e);case 3:return G_(s.timestampValue,e.timestampValue);case 4:return G_(Yl(s),Yl(e));case 5:return pm(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=ga(c),g=ga(d);return p.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),g=d.split("/");for(let y=0;y<p.length&&y<g.length;y++){const T=Fe(p[y],g[y]);if(T!==0)return T}return Fe(p.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Fe(Nt(c.latitude),Nt(d.latitude));return p!==0?p:Fe(Nt(c.longitude),Nt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Q_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},g=d.fields||{},y=p[uh]?.arrayValue,T=g[uh]?.arrayValue,S=Fe(y?.values?.length||0,T?.values?.length||0);return S!==0?S:Q_(y,T)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===zc.mapValue&&d===zc.mapValue)return 0;if(c===zc.mapValue)return 1;if(d===zc.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=d.fields||{},T=Object.keys(y);g.sort(),T.sort();for(let S=0;S<g.length&&S<T.length;++S){const M=pm(g[S],T[S]);if(M!==0)return M;const B=vo(p[g[S]],y[T[S]]);if(B!==0)return B}return Fe(g.length,T.length)})(s.mapValue,e.mapValue);default:throw Te(23264,{he:i})}}function G_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Fe(s,e);const i=pa(s),a=pa(e),l=Fe(i.seconds,a.seconds);return l!==0?l:Fe(i.nanos,a.nanos)}function Q_(s,e){const i=s.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=vo(i[l],a[l]);if(c)return c}return Fe(i.length,a.length)}function bo(s){return gm(s)}function gm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=pa(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return ga(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return _e.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=gm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${gm(i.fields[d])}`;return l+"}"})(s.mapValue):Te(61005,{value:s})}function Kc(s){switch(ya(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wh(s);return e?16+Kc(e):16;case 5:return 2*s.stringValue.length;case 6:return ga(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Kc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return Ea(a.fields,((c,d)=>{l+=c.length+Kc(d)})),l})(s.mapValue);default:throw Te(13486,{value:s})}}function Y_(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function ym(s){return!!s&&"integerValue"in s}function Km(s){return!!s&&"arrayValue"in s}function K_(s){return!!s&&"nullValue"in s}function $_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function $c(s){return!!s&&"mapValue"in s}function dx(s){return(s?.mapValue?.fields||{})[$1]?.stringValue===X1}function zl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Ea(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=zl(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=zl(s.arrayValue.values[i]);return e}return{...s}}function mx(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===fx}class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!$c(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=zl(i)}setAll(e){let i=rn.emptyPath(),a={},l=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const g=this.getFieldsMap(i);this.applyChanges(g,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=zl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(e){const i=this.field(e.popLast());$c(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Hi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];$c(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){Ea(i,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new Sn(zl(this.value))}}function J1(s){const e=[];return Ea(s.fields,((i,a)=>{const l=new rn([i]);if($c(a)){const c=J1(a.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Ln(e)}class hn{constructor(e,i,a,l,c,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new hn(e,0,Re.min(),Re.min(),Re.min(),Sn.empty(),0)}static newFoundDocument(e,i,a,l){return new hn(e,1,i,Re.min(),a,l,0)}static newNoDocument(e,i){return new hn(e,2,i,Re.min(),Re.min(),Sn.empty(),0)}static newUnknownDocument(e,i){return new hn(e,3,i,Re.min(),Re.min(),Sn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ch{constructor(e,i){this.position=e,this.inclusive=i}}function X_(s,e,i){let a=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?a=_e.comparator(_e.fromName(d.referenceValue),i.key):a=vo(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function J_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Hi(s.position[i],e.position[i]))return!1;return!0}class hh{constructor(e,i="asc"){this.field=e,this.dir=i}}function px(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class Z1{}class zt extends Z1{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new yx(e,i,a):i==="array-contains"?new bx(e,a):i==="in"?new Ex(e,a):i==="not-in"?new Tx(e,a):i==="array-contains-any"?new Ax(e,a):new zt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new _x(e,a):new vx(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(vo(i,this.value)):i!==null&&ya(this.value)===ya(i)&&this.matchesComparison(vo(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fi extends Z1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new fi(e,i)}matches(e){return W1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function W1(s){return s.op==="and"}function eb(s){return gx(s)&&W1(s)}function gx(s){for(const e of s.filters)if(e instanceof fi)return!1;return!0}function _m(s){if(s instanceof zt)return s.field.canonicalString()+s.op.toString()+bo(s.value);if(eb(s))return s.filters.map((e=>_m(e))).join(",");{const e=s.filters.map((i=>_m(i))).join(",");return`${s.op}(${e})`}}function tb(s,e){return s instanceof zt?(function(a,l){return l instanceof zt&&a.op===l.op&&a.field.isEqual(l.field)&&Hi(a.value,l.value)})(s,e):s instanceof fi?(function(a,l){return l instanceof fi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&tb(d,l.filters[p])),!0):!1})(s,e):void Te(19439)}function nb(s){return s instanceof zt?(function(i){return`${i.field.canonicalString()} ${i.op} ${bo(i.value)}`})(s):s instanceof fi?(function(i){return i.op.toString()+" {"+i.getFilters().map(nb).join(" ,")+"}"})(s):"Filter"}class yx extends zt{constructor(e,i,a){super(e,i,a),this.key=_e.fromName(a.referenceValue)}matches(e){const i=_e.comparator(e.key,this.key);return this.matchesComparison(i)}}class _x extends zt{constructor(e,i){super(e,"in",i),this.keys=ib("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class vx extends zt{constructor(e,i){super(e,"not-in",i),this.keys=ib("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function ib(s,e){return(e.arrayValue?.values||[]).map((i=>_e.fromName(i.referenceValue)))}class bx extends zt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Km(i)&&$l(i.arrayValue,this.value)}}class Ex extends zt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&$l(this.value.arrayValue,i)}}class Tx extends zt{constructor(e,i){super(e,"not-in",i)}matches(e){if($l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!$l(this.value.arrayValue,i)}}class Ax extends zt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Km(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>$l(this.value.arrayValue,a)))}}class Sx{constructor(e,i=null,a=[],l=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Z_(s,e=null,i=[],a=[],l=null,c=null,d=null){return new Sx(s,e,i,a,l,c,d)}function $m(s){const e=Ie(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>_m(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Sh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>bo(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>bo(a))).join(",")),e.Te=i}return e.Te}function Xm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!px(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!tb(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!J_(s.startAt,e.startAt)&&J_(s.endAt,e.endAt)}function vm(s){return _e.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class ou{constructor(e,i=null,a=[],l=[],c=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function wx(s,e,i,a,l,c,d,p){return new ou(s,e,i,a,l,c,d,p)}function xh(s){return new ou(s)}function W_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function sb(s){return s.collectionGroup!==null}function Bl(s){const e=Ie(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ft(rn.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new hh(c,a))})),i.has(rn.keyField().canonicalString())||e.Ie.push(new hh(rn.keyField(),a))}return e.Ie}function Ui(s){const e=Ie(s);return e.Ee||(e.Ee=xx(e,Bl(s))),e.Ee}function xx(s,e){if(s.limitType==="F")return Z_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new hh(l.field,c)}));const i=s.endAt?new ch(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new ch(s.startAt.position,s.startAt.inclusive):null;return Z_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function bm(s,e){const i=s.filters.concat([e]);return new ou(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Em(s,e,i){return new ou(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Rh(s,e){return Xm(Ui(s),Ui(e))&&s.limitType===e.limitType}function ab(s){return`${$m(Ui(s))}|lt:${s.limitType}`}function oo(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>nb(l))).join(", ")}]`),Sh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>bo(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>bo(l))).join(",")),`Target(${a})`})(Ui(s))}; limitType=${s.limitType})`}function Nh(s,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):_e.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,l){for(const c of Bl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(a,l){return!(a.startAt&&!(function(d,p,g){const y=X_(d,p,g);return d.inclusive?y<=0:y<0})(a.startAt,Bl(a),l)||a.endAt&&!(function(d,p,g){const y=X_(d,p,g);return d.inclusive?y>=0:y>0})(a.endAt,Bl(a),l))})(s,e)}function Rx(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function rb(s){return(e,i)=>{let a=!1;for(const l of Bl(s)){const c=Nx(l,e,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function Nx(s,e,i){const a=s.field.isKeyField()?_e.comparator(e.key,i.key):(function(c,d,p){const g=d.data.field(c),y=p.data.field(c);return g!==null&&y!==null?vo(g,y):Te(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Te(19790,{direction:s.dir})}}class hr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Ea(this.inner,((i,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return H1(this.inner)}size(){return this.innerSize}}const Ix=new bt(_e.comparator);function bs(){return Ix}const ob=new bt(_e.comparator);function kl(...s){let e=ob;for(const i of s)e=e.insert(i.key,i);return e}function lb(s){let e=ob;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function tr(){return ql()}function ub(){return ql()}function ql(){return new hr((s=>s.toString()),((s,e)=>s.isEqual(e)))}const Cx=new bt(_e.comparator),Dx=new Ft(_e.comparator);function Ge(...s){let e=Dx;for(const i of s)e=e.add(i);return e}const Mx=new Ft(Fe);function Ox(){return Mx}function Jm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oh(e)?"-0":e}}function cb(s){return{integerValue:""+s}}function kx(s,e){return ox(e)?cb(e):Jm(s,e)}class Ih{constructor(){this._=void 0}}function Vx(s,e,i){return s instanceof Xl?(function(l,c){const d={fields:{[Q1]:{stringValue:G1},[K1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Ym(c)&&(c=wh(c)),c&&(d.fields[Y1]=c),{mapValue:d}})(i,e):s instanceof Jl?fb(s,e):s instanceof Zl?db(s,e):(function(l,c){const d=hb(l,c),p=ev(d)+ev(l.Ae);return ym(d)&&ym(l.Ae)?cb(p):Jm(l.serializer,p)})(s,e)}function jx(s,e,i){return s instanceof Jl?fb(s,e):s instanceof Zl?db(s,e):i}function hb(s,e){return s instanceof fh?(function(a){return ym(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class Xl extends Ih{}class Jl extends Ih{constructor(e){super(),this.elements=e}}function fb(s,e){const i=mb(e);for(const a of s.elements)i.some((l=>Hi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Zl extends Ih{constructor(e){super(),this.elements=e}}function db(s,e){let i=mb(e);for(const a of s.elements)i=i.filter((l=>!Hi(l,a)));return{arrayValue:{values:i}}}class fh extends Ih{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function ev(s){return Nt(s.integerValue||s.doubleValue)}function mb(s){return Km(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class Lx{constructor(e,i){this.field=e,this.transform=i}}function Px(s,e){return s.field.isEqual(e.field)&&(function(a,l){return a instanceof Jl&&l instanceof Jl||a instanceof Zl&&l instanceof Zl?_o(a.elements,l.elements,Hi):a instanceof fh&&l instanceof fh?Hi(a.Ae,l.Ae):a instanceof Xl&&l instanceof Xl})(s.transform,e.transform)}class Ux{constructor(e,i){this.version=e,this.transformResults=i}}class Wn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Wn}static exists(e){return new Wn(void 0,e)}static updateTime(e){return new Wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Ch{}function pb(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Zm(s.key,Wn.none()):new lu(s.key,s.data,Wn.none());{const i=s.data,a=Sn.empty();let l=new Ft(rn.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Ta(s.key,a,new Ln(l.toArray()),Wn.none())}}function zx(s,e,i){s instanceof lu?(function(l,c,d){const p=l.value.clone(),g=nv(l.fieldTransforms,c,d.transformResults);p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof Ta?(function(l,c,d){if(!Xc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=nv(l.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(gb(l)),g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Hl(s,e,i,a){return s instanceof lu?(function(c,d,p,g){if(!Xc(c.precondition,d))return p;const y=c.value.clone(),T=iv(c.fieldTransforms,g,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,i,a):s instanceof Ta?(function(c,d,p,g){if(!Xc(c.precondition,d))return p;const y=iv(c.fieldTransforms,g,d),T=d.data;return T.setAll(gb(c)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,e,i,a):(function(c,d,p){return Xc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function Bx(s,e){let i=null;for(const a of s.fieldTransforms){const l=e.data.field(a.field),c=hb(a.transform,l||null);c!=null&&(i===null&&(i=Sn.empty()),i.set(a.field,c))}return i||null}function tv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&_o(a,l,((c,d)=>Px(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class lu extends Ch{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ta extends Ch{constructor(e,i,a,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function gb(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function nv(s,e,i){const a=new Map;tt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=e.data.field(c.field);a.set(c.field,jx(d,p,i[l]))}return a}function iv(s,e,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,Vx(c,d,e))}return a}class Zm extends Ch{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qx extends Ch{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Hx{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&zx(c,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Hl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Hl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=ub();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const g=pb(d,p);g!==null&&a.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(Re.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&_o(this.mutations,e.mutations,((i,a)=>tv(i,a)))&&_o(this.baseMutations,e.baseMutations,((i,a)=>tv(i,a)))}}class Wm{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){tt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return Cx})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Wm(e,i,a,l)}}class Fx{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Gx{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ut,Ye;function Qx(s){switch(s){case K.OK:return Te(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return Te(15467,{code:s})}}function yb(s){if(s===void 0)return vs("GRPC error has no .code"),K.UNKNOWN;switch(s){case Ut.OK:return K.OK;case Ut.CANCELLED:return K.CANCELLED;case Ut.UNKNOWN:return K.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return K.INTERNAL;case Ut.UNAVAILABLE:return K.UNAVAILABLE;case Ut.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Ut.NOT_FOUND:return K.NOT_FOUND;case Ut.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Ut.ABORTED:return K.ABORTED;case Ut.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Ut.DATA_LOSS:return K.DATA_LOSS;default:return Te(39323,{code:s})}}(Ye=Ut||(Ut={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";function Yx(){return new TextEncoder}const Kx=new fa([4294967295,4294967295],0);function sv(s){const e=Yx().encode(s),i=new M1;return i.update(e),new Uint8Array(i.digest())}function av(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new fa([i,a],0),new fa([l,c],0)]}class ep{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Vl(`Invalid padding: ${i}`);if(a<0)throw new Vl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Vl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Vl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=fa.fromNumber(this.ge)}ye(e,i,a){let l=e.add(i.multiply(fa.fromNumber(a)));return l.compare(Kx)===1&&(l=new fa([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=sv(e),[a,l]=av(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new ep(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=sv(e),[a,l]=av(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dh{constructor(e,i,a,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,uu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Dh(Re.min(),l,new bt(Fe),bs(),Ge())}}class uu{constructor(e,i,a,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new uu(a,i,Ge(),Ge(),Ge())}}class Jc{constructor(e,i,a,l){this.be=e,this.removedTargetIds=i,this.key=a,this.De=l}}class _b{constructor(e,i){this.targetId=e,this.Ce=i}}class vb{constructor(e,i,a=on.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class rv{constructor(){this.ve=0,this.Fe=ov(),this.Me=on.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),i=Ge(),a=Ge();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:Te(38017,{changeType:c})}})),new uu(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=ov()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class $x{constructor(e){this.Ge=e,this.ze=new Map,this.je=bs(),this.Je=Bc(),this.He=Bc(),this.Ye=new bt(Fe)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,a=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(vm(c))if(a===0){const d=new _e(c.path);this.et(i,d,hn.newNoDocument(d,Re.min()))}else tt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(e),g=p?this.ct(p,e,d):1;if(g!==0){this.it(i);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=ga(a).toUint8Array()}catch(g){if(g instanceof F1)return yo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new ep(d,l,c)}catch(g){return yo(g instanceof Vl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&vm(p.target)){const g=new _e(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,hn.newNoDocument(g,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Ge();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Dh(e,i,this.Ye,this.je,a);return this.je=bs(),this.Je=Bc(),this.He=Bc(),this.Ye=new bt(Fe),l}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new rv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ft(Fe),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ft(Fe),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||oe("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new rv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Bc(){return new bt(_e.comparator)}function ov(){return new bt(_e.comparator)}const Xx={asc:"ASCENDING",desc:"DESCENDING"},Jx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zx={and:"AND",or:"OR"};class Wx{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Tm(s,e){return s.useProto3Json||Sh(e)?e:{value:e}}function dh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bb(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function eR(s,e){return dh(s,e.toTimestamp())}function zi(s){return tt(!!s,49232),Re.fromTimestamp((function(i){const a=pa(i);return new dt(a.seconds,a.nanos)})(s))}function tp(s,e){return Am(s,e).canonicalString()}function Am(s,e){const i=(function(l){return new ft(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function Eb(s){const e=ft.fromString(s);return tt(xb(e),10190,{key:e.toString()}),e}function Sm(s,e){return tp(s.databaseId,e.path)}function Xd(s,e){const i=Eb(e);if(i.get(1)!==s.databaseId.projectId)throw new ae(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ae(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new _e(Ab(i))}function Tb(s,e){return tp(s.databaseId,e)}function tR(s){const e=Eb(s);return e.length===4?ft.emptyPath():Ab(e)}function wm(s){return new ft(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Ab(s){return tt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function lv(s,e,i){return{name:Sm(s,e),fields:i.value.mapValue.fields}}function nR(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,T){return y.useProto3Json?(tt(T===void 0||typeof T=="string",58123),on.fromBase64String(T||"")):(tt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),on.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const T=y.code===void 0?K.UNKNOWN:yb(y.code);return new ae(T,y.message||"")})(d);i=new vb(a,l,c,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Xd(s,a.document.name),c=zi(a.document.updateTime),d=a.document.createTime?zi(a.document.createTime):Re.min(),p=new Sn({mapValue:{fields:a.document.fields}}),g=hn.newFoundDocument(l,c,d,p),y=a.targetIds||[],T=a.removedTargetIds||[];i=new Jc(y,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Xd(s,a.document),c=a.readTime?zi(a.readTime):Re.min(),d=hn.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Jc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Xd(s,a.document),c=a.removedTargetIds||[];i=new Jc([],c,l,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new Gx(l,c),p=a.targetId;i=new _b(p,d)}}return i}function iR(s,e){let i;if(e instanceof lu)i={update:lv(s,e.key,e.value)};else if(e instanceof Zm)i={delete:Sm(s,e.key)};else if(e instanceof Ta)i={update:lv(s,e.key,e.data),updateMask:fR(e.fieldMask)};else{if(!(e instanceof qx))return Te(16599,{Vt:e.type});i={verify:Sm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof Xl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Jl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Zl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof fh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Te(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:eR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Te(27497)})(s,e.precondition)),i}function sR(s,e){return s&&s.length>0?(tt(e!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?zi(l.updateTime):zi(c);return d.isEqual(Re.min())&&(d=zi(c)),new Ux(d,l.transformResults||[])})(i,e)))):[]}function aR(s,e){return{documents:[Tb(s,e.path)]}}function rR(s,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=Tb(s,l);const c=(function(y){if(y.length!==0)return wb(fi.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((T=>(function(M){return{field:lo(M.field),direction:uR(M.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Tm(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:l}}function oR(s){let e=tR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){tt(a===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let c=[];i.where&&(c=(function(S){const M=Sb(S);return M instanceof fi&&eb(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((M=>(function(Z){return new hh(uo(Z.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let M;return M=typeof S=="object"?S.value:S,Sh(M)?null:M})(i.limit));let g=null;i.startAt&&(g=(function(S){const M=!!S.before,B=S.values||[];return new ch(B,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const M=!S.before,B=S.values||[];return new ch(B,M)})(i.endAt)),wx(e,l,d,c,p,"F",g,y)}function lR(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Sb(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=uo(i.unaryFilter.field);return zt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=uo(i.unaryFilter.field);return zt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=uo(i.unaryFilter.field);return zt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=uo(i.unaryFilter.field);return zt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(s):s.fieldFilter!==void 0?(function(i){return zt.create(uo(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return fi.create(i.compositeFilter.filters.map((a=>Sb(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(i.compositeFilter.op))})(s):Te(30097,{filter:s})}function uR(s){return Xx[s]}function cR(s){return Jx[s]}function hR(s){return Zx[s]}function lo(s){return{fieldPath:s.canonicalString()}}function uo(s){return rn.fromServerFormat(s.fieldPath)}function wb(s){return s instanceof zt?(function(i){if(i.op==="=="){if($_(i.value))return{unaryFilter:{field:lo(i.field),op:"IS_NAN"}};if(K_(i.value))return{unaryFilter:{field:lo(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if($_(i.value))return{unaryFilter:{field:lo(i.field),op:"IS_NOT_NAN"}};if(K_(i.value))return{unaryFilter:{field:lo(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lo(i.field),op:cR(i.op),value:i.value}}})(s):s instanceof fi?(function(i){const a=i.getFilters().map((l=>wb(l)));return a.length===1?a[0]:{compositeFilter:{op:hR(i.op),filters:a}}})(s):Te(54877,{filter:s})}function fR(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function xb(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class la{constructor(e,i,a,l,c=Re.min(),d=Re.min(),p=on.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new la(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class dR{constructor(e){this.yt=e}}function mR(s){const e=oR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Em(e,e.limit,"L"):e}class pR{constructor(){this.Cn=new gR}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(ma.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(ma.min())}updateCollectionGroup(e,i,a){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class gR{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new Ft(ft.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new Ft(ft.comparator)).toArray()}}const uv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Rb=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(Rb,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);class Eo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Eo(0)}static cr(){return new Eo(-1)}}const cv="LruGarbageCollector",yR=1048576;function hv([s,e],[i,a]){const l=Fe(s,i);return l===0?Fe(e,a):l}class _R{constructor(e){this.Ir=e,this.buffer=new Ft(hv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();hv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class vR{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(cv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){No(i)?oe(cv,"Ignoring IndexedDB error during garbage collection: ",i):await Ro(i)}await this.Vr(3e5)}))}}class bR{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(Ah.ce);const a=new _R(i);return this.mr.forEachTarget(e,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(uv)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,l,c,d,p,g,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(e,l)))).next((S=>(a=S,p=Date.now(),this.removeTargets(e,a,i)))).next((S=>(c=S,g=Date.now(),this.removeOrphanedDocuments(e,a)))).next((S=>(y=Date.now(),ro()<=He.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-T}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function ER(s,e){return new bR(s,e)}class TR{constructor(){this.changes=new hr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class AR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class SR{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&Hl(a.mutation,l,Ln.empty(),dt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Ge()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Ge()){const l=tr();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((c=>{let d=kl();return c.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=tr();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Ge())))}populateOverlays(e,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,a,l){let c=bs();const d=ql(),p=(function(){return ql()})();return i.forEach(((g,y)=>{const T=a.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof Ta)?c=c.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),Hl(T.mutation,y,T.mutation.getFieldMask(),dt.now())):d.set(y.key,Ln.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,T)=>d.set(y,T))),i.forEach(((y,T)=>p.set(y,new AR(T,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,i){const a=ql();let l=new bt(((d,p)=>d-p)),c=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((g=>{const y=i.get(g);if(y===null)return;let T=a.get(g)||Ln.empty();T=p.applyToLocalView(y,T),a.set(g,T);const S=(l.get(p.batchId)||Ge()).add(g);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,T=g.value,S=ub();T.forEach((M=>{if(!c.has(M)){const B=pb(i.get(M),a.get(M));B!==null&&S.set(M,B),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,S))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return(function(d){return _e.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):sb(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-c.size):X.resolve(tr());let p=Ql,g=c;return d.next((y=>X.forEach(y,((T,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(T)?X.resolve():this.remoteDocumentCache.getEntry(e,T).next((M=>{g=g.insert(T,M)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,Ge()))).next((T=>({batchId:p,changes:lb(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new _e(i)).next((a=>{let l=kl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const c=i.collectionGroup;let d=kl();return this.indexManager.getCollectionParents(e,c).next((p=>X.forEach(p,(g=>{const y=(function(S,M){return new ou(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,a,l).next((T=>{T.forEach(((S,M)=>{d=d.insert(S,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,l)))).next((d=>{c.forEach(((g,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,hn.newInvalidDocument(T)))}));let p=kl();return d.forEach(((g,y)=>{const T=c.get(g);T!==void 0&&Hl(T.mutation,y,Ln.empty(),dt.now()),Nh(i,y)&&(p=p.insert(g,y))})),p}))}}class wR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:zi(l.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:mR(l.bundledQuery),readTime:zi(l.readTime)}})(i)),X.resolve()}}class xR{constructor(){this.overlays=new bt(_e.comparator),this.qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const a=tr();return X.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,c)=>{this.St(e,i,c)})),X.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(e,i,a){const l=tr(),c=i.length+1,d=new _e(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>a&&l.set(g.getKey(),g)}return X.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let c=new bt(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let T=c.get(y.largestBatchId);T===null&&(T=tr(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const p=tr(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,T)=>p.set(y,T))),!(p.size()>=l)););return X.resolve(p)}St(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Fx(i,a));let c=this.qr.get(i);c===void 0&&(c=Ge(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class RR{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}class np{constructor(){this.Qr=new Ft(Kt.$r),this.Ur=new Ft(Kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Kt(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Kt(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new _e(new ft([])),a=new Kt(i,e),l=new Kt(i,e+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new _e(new ft([])),a=new Kt(i,e),l=new Kt(i,e+1);let c=Ge();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Kt(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Kt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return _e.comparator(e.key,i.key)||Fe(e.Yr,i.Yr)}static Kr(e,i){return Fe(e.Yr,i.Yr)||_e.comparator(e.key,i.key)}}class NR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ft(Kt.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Hx(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Kt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Qm:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Kt(i,0),l=new Kt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Ft(Fe);return i.forEach((l=>{const c=new Kt(l,0),d=new Kt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let c=a;_e.isDocumentKey(c)||(c=c.child(""));const d=new Kt(new _e(c),0);let p=new Ft(Fe);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(g.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){tt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(l=>{const c=new Kt(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Kt(i,0),l=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class IR{constructor(e){this.ri=e,this.docs=(function(){return new bt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():hn.newInvalidDocument(i))}getEntries(e,i){let a=bs();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():hn.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let c=bs();const d=i.path,p=new _e(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:T}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||ix(nx(T),a)<=0||(l.has(T.key)||Nh(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(e,i,a,l){Te(9500)}ii(e,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new CR(this)}getSize(e){return X.resolve(this.size)}}class CR extends TR{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class DR{constructor(e){this.persistence=e,this.si=new hr((i=>$m(i)),Xm),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new np,this.targetCount=0,this.ai=Eo.ur()}forEachTarget(e,i){return this.si.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Eo(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Pr(i),X.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(e,i){return X.resolve(this._i.containsKey(i))}}class Nb{constructor(e,i){this.ui={},this.overlays={},this.ci=new Ah(0),this.li=!1,this.li=!0,this.hi=new RR,this.referenceDelegate=e(this),this.Pi=new DR(this),this.indexManager=new pR,this.remoteDocumentCache=(function(l){return new IR(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new dR(i),this.Ii=new wR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new xR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new NR(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){oe("MemoryPersistence","Starting transaction:",e);const l=new MR(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class MR extends ax{constructor(e){super(),this.currentSequenceNumber=e}}class ip{constructor(e){this.persistence=e,this.Ri=new np,this.Vi=null}static mi(e){return new ip(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const l=_e.fromPath(a);return this.gi(e,l).next((c=>{c||i.removeEntry(l,Re.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class mh{constructor(e,i){this.persistence=e,this.pi=new hr((a=>lx(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=ER(this,i)}static mi(e,i){return new mh(e,i)}Ei(){}di(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((l=>a+l))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return X.forEach(this.pi,((a,l)=>this.br(e,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((p=>{p||(a++,c.removeEntry(d,Re.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Kc(e.data.value)),i}br(e,i,a){return X.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class sp{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=l}static As(e,i){let a=Ge(),l=Ge();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new sp(e,i.fromCache,a,l)}}class OR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class kR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return T2()?8:rx(fn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new OR;return this.Ss(e,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>c.result))}bs(e,i,a,l){return a.documentReadCount<this.fs?(ro()<=He.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",oo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(ro()<=He.DEBUG&&oe("QueryEngine","Query:",oo(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(ro()<=He.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",oo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ui(i))):X.resolve())}ys(e,i){if(W_(i))return X.resolve(null);let a=Ui(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Em(i,null,"F"),a=Ui(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Ge(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,a).next((g=>{const y=this.Ds(i,p);return this.Cs(i,y,d,g.readTime)?this.ys(e,Em(i,null,"F")):this.vs(e,y,i,g)}))))})))))}ws(e,i,a,l){return W_(i)||l.isEqual(Re.min())?X.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?X.resolve(null):(ro()<=He.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),oo(i)),this.vs(e,d,i,tx(l,Ql)).next((p=>p)))}))}Ds(e,i){let a=new Ft(rb(e));return i.forEach(((l,c)=>{Nh(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,a){return ro()<=He.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",oo(i)),this.ps.getDocumentsMatchingQuery(e,i,ma.min(),a)}vs(e,i,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const ap="LocalStore",VR=3e8;class jR{constructor(e,i,a,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new bt(Fe),this.xs=new hr((c=>$m(c)),Xm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function LR(s,e,i,a){return new jR(s,e,i,a)}async function Ib(s,e){const i=Ie(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let g=Ge();for(const y of l){d.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}for(const y of c){p.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}return i.localDocuments.getDocuments(a,g).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function PR(s,e){const i=Ie(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,T){const S=y.batch,M=S.keys();let B=X.resolve();return M.forEach((Z=>{B=B.next((()=>T.getEntry(g,Z))).next((W=>{const J=y.docVersions.get(Z);tt(J!==null,48541),W.version.compareTo(J)<0&&(S.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),T.addEntry(W)))}))})),B.next((()=>p.mutationQueue.removeMutationBatch(g,S)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let g=Ge();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function Cb(s){const e=Ie(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function UR(s,e){const i=Ie(s),a=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];e.targetChanges.forEach(((T,S)=>{const M=l.get(S);if(!M)return;p.push(i.Pi.removeMatchingKeys(c,T.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,T.addedDocuments,S))));let B=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?B=B.withResumeToken(on.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):T.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(T.resumeToken,a)),l=l.insert(S,B),(function(W,J,ce){return W.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=VR?!0:ce.addedDocuments.size+ce.modifiedDocuments.size+ce.removedDocuments.size>0})(M,B,T)&&p.push(i.Pi.updateTargetData(c,B))}));let g=bs(),y=Ge();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),p.push(zR(c,d,e.documentUpdates).next((T=>{g=T.ks,y=T.qs}))),!a.isEqual(Re.min())){const T=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(T)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(i.Ms=l,c)))}function zR(s,e,i){let a=Ge(),l=Ge();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=bs();return i.forEach(((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(Re.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):oe(ap,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:d,qs:l}}))}function BR(s,e){const i=Ie(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Qm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function qR(s,e){const i=Ie(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,e).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new la(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function xm(s,e,i){const a=Ie(s),l=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!No(d))throw d;oe(ap,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(l.target)}function fv(s,e,i){const a=Ie(s);let l=Re.min(),c=Ge();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,y,T){const S=Ie(g),M=S.xs.get(T);return M!==void 0?X.resolve(S.Ms.get(M)):S.Pi.getTargetData(y,T)})(a,d,Ui(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((g=>{c=g}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?l:Re.min(),i?c:Ge()))).next((p=>(HR(a,Rx(e),p),{documents:p,Qs:c})))))}function HR(s,e,i){let a=s.Os.get(e)||Re.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(e,a)}class dv{constructor(){this.activeTargetIds=Ox()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class FR{constructor(){this.Mo=new dv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new dv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class GR{Oo(e){}shutdown(){}}const mv="ConnectivityMonitor";class pv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(mv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(mv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let qc=null;function Rm(){return qc===null?qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():qc++,"0x"+qc.toString(16)}const Jd="RestConnection",QR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class YR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===lh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,i,a,l,c){const d=Rm(),p=this.zo(e,i.toUriEncodedString());oe(Jd,`Sending RPC '${e}' ${d}:`,p,a);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,c);const{host:y}=new URL(p),T=Ao(y);return this.Jo(e,p,g,a,T).then((S=>(oe(Jd,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw yo(Jd,`RPC '${e}' ${d} failed with error: `,S,"url: ",p,"request:",a),S}))}Ho(e,i,a,l,c,d){return this.Go(e,i,a,l,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+xo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const a=QR[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class KR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const un="WebChannelConnection";class $R extends YR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,l,c){const d=Rm();return new Promise(((p,g)=>{const y=new O1;y.setWithCredentials(!0),y.listenOnce(k1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Yc.NO_ERROR:const S=y.getResponseJson();oe(un,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),p(S);break;case Yc.TIMEOUT:oe(un,`RPC '${e}' ${d} timed out`),g(new ae(K.DEADLINE_EXCEEDED,"Request time out"));break;case Yc.HTTP_ERROR:const M=y.getStatus();if(oe(un,`RPC '${e}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let B=y.getResponseJson();Array.isArray(B)&&(B=B[0]);const Z=B?.error;if(Z&&Z.status&&Z.message){const W=(function(ce){const ve=ce.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(ve)>=0?ve:K.UNKNOWN})(Z.status);g(new ae(W,Z.message))}else g(new ae(K.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ae(K.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{oe(un,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(l);oe(un,`RPC '${e}' ${d} sending request:`,l),y.send(i,"POST",T,a,15)}))}T_(e,i,a){const l=Rm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=L1(),p=j1(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,i,a),g.encodeInitMessageHeaders=!0;const T=c.join("");oe(un,`Creating RPC '${e}' stream ${l}: ${T}`,g);const S=d.createWebChannel(T,g);this.I_(S);let M=!1,B=!1;const Z=new KR({Yo:J=>{B?oe(un,`Not sending because RPC '${e}' stream ${l} is closed:`,J):(M||(oe(un,`Opening RPC '${e}' stream ${l} transport.`),S.open(),M=!0),oe(un,`RPC '${e}' stream ${l} sending:`,J),S.send(J))},Zo:()=>S.close()}),W=(J,ce,ve)=>{J.listen(ce,(le=>{try{ve(le)}catch(ke){setTimeout((()=>{throw ke}),0)}}))};return W(S,Ol.EventType.OPEN,(()=>{B||(oe(un,`RPC '${e}' stream ${l} transport opened.`),Z.o_())})),W(S,Ol.EventType.CLOSE,(()=>{B||(B=!0,oe(un,`RPC '${e}' stream ${l} transport closed`),Z.a_(),this.E_(S))})),W(S,Ol.EventType.ERROR,(J=>{B||(B=!0,yo(un,`RPC '${e}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),Z.a_(new ae(K.UNAVAILABLE,"The operation could not be completed")))})),W(S,Ol.EventType.MESSAGE,(J=>{if(!B){const ce=J.data[0];tt(!!ce,16349);const ve=ce,le=ve?.error||ve[0]?.error;if(le){oe(un,`RPC '${e}' stream ${l} received error:`,le);const ke=le.status;let pe=(function(x){const R=Ut[x];if(R!==void 0)return yb(R)})(ke),re=le.message;pe===void 0&&(pe=K.INTERNAL,re="Unknown error status: "+ke+" with message "+le.message),B=!0,Z.a_(new ae(pe,re)),S.close()}else oe(un,`RPC '${e}' stream ${l} received:`,ce),Z.u_(ce)}})),W(p,V1.STAT_EVENT,(J=>{J.stat===mm.PROXY?oe(un,`RPC '${e}' stream ${l} detected buffering proxy`):J.stat===mm.NOPROXY&&oe(un,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Zd(){return typeof document<"u"?document:null}function Mh(s){return new Wx(s,!0)}class Db{constructor(e,i,a=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&oe("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const gv="PersistentStream";class Mb{constructor(e,i,a,l,c,d,p,g){this.Mi=e,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Db(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(vs(i.toString()),vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{e((()=>{const l=new ae(K.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(gv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(oe(gv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class XR extends Mb{constructor(e,i,a,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=nR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Re.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Re.min():d.readTime?zi(d.readTime):Re.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=wm(this.serializer),i.addTarget=(function(c,d){let p;const g=d.target;if(p=vm(g)?{documents:aR(c,g)}:{query:rR(c,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=bb(c,d.resumeToken);const y=Tm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Re.min())>0){p.readTime=dh(c,d.snapshotVersion.toTimestamp());const y=Tm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const a=lR(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=wm(this.serializer),i.removeTarget=e,this.q_(i)}}class JR extends Mb{constructor(e,i,a,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=sR(e.writeResults,e.commitTime),a=zi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=wm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>iR(this.serializer,a)))};this.q_(i)}}class ZR{}class WR extends ZR{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ae(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Am(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ae(K.UNKNOWN,c.toString())}))}Ho(e,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,Am(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ae(K.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class eN{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vs(i),this.aa=!1):oe("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ur="RemoteStore";class tN{constructor(e,i,a,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{fr(this)&&(oe(ur,"Restarting streams for network reachability change."),await(async function(g){const y=Ie(g);y.Ea.add(4),await cu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Oh(y)})(this))}))})),this.Ra=new eN(a,l)}}async function Oh(s){if(fr(s))for(const e of s.da)await e(!0)}async function cu(s){for(const e of s.da)await e(!1)}function Ob(s,e){const i=Ie(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),up(i)?lp(i):Io(i).O_()&&op(i,e))}function rp(s,e){const i=Ie(s),a=Io(i);i.Ia.delete(e),a.O_()&&kb(i,e),i.Ia.size===0&&(a.O_()?a.L_():fr(i)&&i.Ra.set("Unknown"))}function op(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Io(s).Y_(e)}function kb(s,e){s.Va.Ue(e),Io(s).Z_(e)}function lp(s){s.Va=new $x({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Io(s).start(),s.Ra.ua()}function up(s){return fr(s)&&!Io(s).x_()&&s.Ia.size>0}function fr(s){return Ie(s).Ea.size===0}function Vb(s){s.Va=void 0}async function nN(s){s.Ra.set("Online")}async function iN(s){s.Ia.forEach(((e,i)=>{op(s,e)}))}async function sN(s,e){Vb(s),up(s)?(s.Ra.ha(e),lp(s)):s.Ra.set("Unknown")}async function aN(s,e,i){if(s.Ra.set("Online"),e instanceof vb&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,e)}catch(a){oe(ur,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await ph(s,a)}else if(e instanceof Jc?s.Va.Ze(e):e instanceof _b?s.Va.st(e):s.Va.tt(e),!i.isEqual(Re.min()))try{const a=await Cb(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const T=c.Ia.get(y);T&&c.Ia.set(y,T.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,y)=>{const T=c.Ia.get(g);if(!T)return;c.Ia.set(g,T.withResumeToken(on.EMPTY_BYTE_STRING,T.snapshotVersion)),kb(c,g);const S=new la(T.target,g,y,T.sequenceNumber);op(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){oe(ur,"Failed to raise snapshot:",a),await ph(s,a)}}async function ph(s,e,i){if(!No(e))throw e;s.Ea.add(1),await cu(s),s.Ra.set("Offline"),i||(i=()=>Cb(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{oe(ur,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Oh(s)}))}function jb(s,e){return e().catch((i=>ph(s,i,e)))}async function kh(s){const e=Ie(s),i=_a(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Qm;for(;rN(e);)try{const l=await BR(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,oN(e,l)}catch(l){await ph(e,l)}Lb(e)&&Pb(e)}function rN(s){return fr(s)&&s.Ta.length<10}function oN(s,e){s.Ta.push(e);const i=_a(s);i.O_()&&i.X_&&i.ea(e.mutations)}function Lb(s){return fr(s)&&!_a(s).x_()&&s.Ta.length>0}function Pb(s){_a(s).start()}async function lN(s){_a(s).ra()}async function uN(s){const e=_a(s);for(const i of s.Ta)e.ea(i.mutations)}async function cN(s,e,i){const a=s.Ta.shift(),l=Wm.from(a,e,i);await jb(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await kh(s)}async function hN(s,e){e&&_a(s).X_&&await(async function(a,l){if((function(d){return Qx(d)&&d!==K.ABORTED})(l.code)){const c=a.Ta.shift();_a(a).B_(),await jb(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await kh(a)}})(s,e),Lb(s)&&Pb(s)}async function yv(s,e){const i=Ie(s);i.asyncQueue.verifyOperationInProgress(),oe(ur,"RemoteStore received new credentials");const a=fr(i);i.Ea.add(3),await cu(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Oh(i)}async function fN(s,e){const i=Ie(s);e?(i.Ea.delete(2),await Oh(i)):e||(i.Ea.add(2),await cu(i),i.Ra.set("Unknown"))}function Io(s){return s.ma||(s.ma=(function(i,a,l){const c=Ie(i);return c.sa(),new XR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:nN.bind(null,s),t_:iN.bind(null,s),r_:sN.bind(null,s),H_:aN.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),up(s)?lp(s):s.Ra.set("Unknown")):(await s.ma.stop(),Vb(s))}))),s.ma}function _a(s){return s.fa||(s.fa=(function(i,a,l){const c=Ie(i);return c.sa(),new JR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:lN.bind(null,s),r_:hN.bind(null,s),ta:uN.bind(null,s),na:cN.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await kh(s)):(await s.fa.stop(),s.Ta.length>0&&(oe(ur,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class cp{constructor(e,i,a,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,c){const d=Date.now()+a,p=new cp(e,i,d,l,c);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hp(s,e){if(vs("AsyncQueue",`${e}: ${s}`),No(s))return new ae(K.UNAVAILABLE,`${e}: ${s}`);throw s}class po{static emptySet(e){return new po(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||_e.comparator(i.key,a.key):(i,a)=>_e.comparator(i.key,a.key),this.keyedMap=kl(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof po)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new po;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class _v{constructor(){this.ga=new bt(_e.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class To{constructor(e,i,a,l,c,d,p,g,y){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new To(e,i,po.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class dN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class mN{constructor(){this.queries=vv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Ie(i),c=l.queries;l.queries=vv(),c.forEach(((d,p)=>{for(const g of p.Sa)g.onError(a)}))})(this,new ae(K.ABORTED,"Firestore shutting down"))}}function vv(){return new hr((s=>ab(s)),Rh)}async function fp(s,e){const i=Ie(s);let a=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(a=2):(c=new dN,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=hp(d,`Initialization of query '${oo(e.query)}' failed`);return void e.onError(p)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&mp(i)}async function dp(s,e){const i=Ie(s),a=e.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function pN(s,e){const i=Ie(s);let a=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&mp(i)}function gN(s,e,i){const a=Ie(s),l=a.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(e)}function mp(s){s.Ca.forEach((e=>{e.next()}))}var Nm,bv;(bv=Nm||(Nm={})).Ma="default",bv.Cache="cache";class pp{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new To(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=To.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Nm.Cache}}class Ub{constructor(e){this.key=e}}class zb{constructor(e){this.key=e}}class yN{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ge(),this.mutatedKeys=Ge(),this.eu=rb(e),this.tu=new po(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new _v,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((T,S)=>{const M=l.get(T),B=Nh(this.query,S)?S:null,Z=!!M&&this.mutatedKeys.has(M.key),W=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let J=!1;M&&B?M.data.isEqual(B.data)?Z!==W&&(a.track({type:3,doc:B}),J=!0):this.su(M,B)||(a.track({type:2,doc:B}),J=!0,(g&&this.eu(B,g)>0||y&&this.eu(B,y)<0)&&(p=!0)):!M&&B?(a.track({type:0,doc:B}),J=!0):M&&!B&&(a.track({type:1,doc:M}),J=!0,(g||y)&&(p=!0)),J&&(B?(d=d.add(B),c=W?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),a.track({type:1,doc:T})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,S)=>(function(B,Z){const W=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:J})}};return W(B)-W(Z)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,y=g!==this.Za;return this.Za=g,d.length!==0||y?{snapshot:new To(this.query,e.tu,c,d,e.mutatedKeys,g===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _v,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ge(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new zb(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new Ub(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Ge();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return To.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const gp="SyncEngine";class _N{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class vN{constructor(e){this.key=e,this.hu=!1}}class bN{constructor(e,i,a,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new hr((p=>ab(p)),Rh),this.Iu=new Map,this.Eu=new Set,this.du=new bt(_e.comparator),this.Au=new Map,this.Ru=new np,this.Vu={},this.mu=new Map,this.fu=Eo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function EN(s,e,i=!0){const a=Qb(s);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await Bb(a,e,i,!0),l}async function TN(s,e){const i=Qb(s);await Bb(i,e,!0,!1)}async function Bb(s,e,i,a){const l=await qR(s.localStore,Ui(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await AN(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&Ob(s.remoteStore,l),p}async function AN(s,e,i,a,l){s.pu=(S,M,B)=>(async function(W,J,ce,ve){let le=J.view.ru(ce);le.Cs&&(le=await fv(W.localStore,J.query,!1).then((({documents:N})=>J.view.ru(N,le))));const ke=ve&&ve.targetChanges.get(J.targetId),pe=ve&&ve.targetMismatches.get(J.targetId)!=null,re=J.view.applyChanges(le,W.isPrimaryClient,ke,pe);return Tv(W,J.targetId,re.au),re.snapshot})(s,S,M,B);const c=await fv(s.localStore,e,!0),d=new yN(e,c.Qs),p=d.ru(c.documents),g=uu.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,g);Tv(s,i,y.au);const T=new _N(e,i,d);return s.Tu.set(e,T),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),y.snapshot}async function SN(s,e,i){const a=Ie(s),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!Rh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await xm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&rp(a.remoteStore,l.targetId),Im(a,l.targetId)})).catch(Ro)):(Im(a,l.targetId),await xm(a.localStore,l.targetId,!0))}async function wN(s,e){const i=Ie(s),a=i.Tu.get(e),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),rp(i.remoteStore,a.targetId))}async function xN(s,e,i){const a=ON(s);try{const l=await(function(d,p){const g=Ie(d),y=dt.now(),T=p.reduce(((B,Z)=>B.add(Z.key)),Ge());let S,M;return g.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let Z=bs(),W=Ge();return g.Ns.getEntries(B,T).next((J=>{Z=J,Z.forEach(((ce,ve)=>{ve.isValidDocument()||(W=W.add(ce))}))})).next((()=>g.localDocuments.getOverlayedDocuments(B,Z))).next((J=>{S=J;const ce=[];for(const ve of p){const le=Bx(ve,S.get(ve.key).overlayedDocument);le!=null&&ce.push(new Ta(ve.key,le,J1(le.value.mapValue),Wn.exists(!0)))}return g.mutationQueue.addMutationBatch(B,y,ce,p)})).next((J=>{M=J;const ce=J.applyToLocalDocumentSet(S,W);return g.documentOverlayCache.saveOverlays(B,J.batchId,ce)}))})).then((()=>({batchId:M.batchId,changes:lb(S)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,g){let y=d.Vu[d.currentUser.toKey()];y||(y=new bt(Fe)),y=y.insert(p,g),d.Vu[d.currentUser.toKey()]=y})(a,l.batchId,i),await hu(a,l.changes),await kh(a.remoteStore)}catch(l){const c=hp(l,"Failed to persist write");i.reject(c)}}async function qb(s,e){const i=Ie(s);try{const a=await UR(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(tt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?tt(d.hu,14607):l.removedDocuments.size>0&&(tt(d.hu,42227),d.hu=!1))})),await hu(i,a,e)}catch(a){await Ro(a)}}function Ev(s,e,i){const a=Ie(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const g=Ie(d);g.onlineState=p;let y=!1;g.queries.forEach(((T,S)=>{for(const M of S.Sa)M.va(p)&&(y=!0)})),y&&mp(g)})(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function RN(s,e,i){const a=Ie(s);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Au.get(e),c=l&&l.key;if(c){let d=new bt(_e.comparator);d=d.insert(c,hn.newNoDocument(c,Re.min()));const p=Ge().add(c),g=new Dh(Re.min(),new Map,new bt(Fe),d,p);await qb(a,g),a.du=a.du.remove(c),a.Au.delete(e),yp(a)}else await xm(a.localStore,e,!1).then((()=>Im(a,e,i))).catch(Ro)}async function NN(s,e){const i=Ie(s),a=e.batch.batchId;try{const l=await PR(i.localStore,e);Fb(i,a,null),Hb(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await hu(i,l)}catch(l){await Ro(l)}}async function IN(s,e,i){const a=Ie(s);try{const l=await(function(d,p){const g=Ie(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return g.mutationQueue.lookupMutationBatch(y,p).next((S=>(tt(S!==null,37113),T=S.keys(),g.mutationQueue.removeMutationBatch(y,S)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,T,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>g.localDocuments.getDocuments(y,T)))}))})(a.localStore,e);Fb(a,e,i),Hb(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await hu(a,l)}catch(l){await Ro(l)}}function Hb(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function Fb(s,e,i){const a=Ie(s);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}function Im(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((a=>{s.Ru.containsKey(a)||Gb(s,a)}))}function Gb(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(rp(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),yp(s))}function Tv(s,e,i){for(const a of i)a instanceof Ub?(s.Ru.addReference(a.key,e),CN(s,a)):a instanceof zb?(oe(gp,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||Gb(s,a.key)):Te(19791,{wu:a})}function CN(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(oe(gp,"New document in limbo: "+i),s.Eu.add(a),yp(s))}function yp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new _e(ft.fromString(e)),a=s.fu.next();s.Au.set(a,new vN(i)),s.du=s.du.insert(i,a),Ob(s.remoteStore,new la(Ui(xh(i.path)),a,"TargetPurposeLimboResolution",Ah.ce))}}async function hu(s,e,i){const a=Ie(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,g)=>{d.push(a.pu(g,e,i).then((y=>{if((y||i)&&a.isPrimaryClient){const T=y?!y.fromCache:i?.targetChanges.get(g.targetId)?.current;a.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(y){l.push(y);const T=sp.As(g.targetId,y);c.push(T)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(g,y){const T=Ie(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(y,(M=>X.forEach(M.Es,(B=>T.persistence.referenceDelegate.addReference(S,M.targetId,B))).next((()=>X.forEach(M.ds,(B=>T.persistence.referenceDelegate.removeReference(S,M.targetId,B)))))))))}catch(S){if(!No(S))throw S;oe(ap,"Failed to update sequence numbers: "+S)}for(const S of y){const M=S.targetId;if(!S.fromCache){const B=T.Ms.get(M),Z=B.snapshotVersion,W=B.withLastLimboFreeSnapshotVersion(Z);T.Ms=T.Ms.insert(M,W)}}})(a.localStore,c))}async function DN(s,e){const i=Ie(s);if(!i.currentUser.isEqual(e)){oe(gp,"User change. New user:",e.toKey());const a=await Ib(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new ae(K.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await hu(i,a.Ls)}}function MN(s,e){const i=Ie(s),a=i.Au.get(e);if(a&&a.hu)return Ge().add(a.key);{let l=Ge();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function Qb(s){const e=Ie(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=qb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RN.bind(null,e),e.Pu.H_=pN.bind(null,e.eventManager),e.Pu.yu=gN.bind(null,e.eventManager),e}function ON(s){const e=Ie(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=NN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IN.bind(null,e),e}class gh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return LR(this.persistence,new kR,e.initialUser,this.serializer)}Cu(e){return new Nb(ip.mi,this.serializer)}Du(e){return new FR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gh.provider={build:()=>new gh};class kN extends gh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){tt(this.persistence.referenceDelegate instanceof mh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new vR(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new Nb((a=>mh.mi(a,i)),this.serializer)}}class Cm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Ev(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=DN.bind(null,this.syncEngine),await fN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new mN})()}createDatastore(e){const i=Mh(e.databaseInfo.databaseId),a=(function(c){return new $R(c)})(e.databaseInfo);return(function(c,d,p,g){return new WR(c,d,p,g)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,c,d,p){return new tN(a,l,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>Ev(this.syncEngine,i,0)),(function(){return pv.v()?new pv:new GR})())}createSyncEngine(e,i){return(function(l,c,d,p,g,y,T){const S=new bN(l,c,d,p,g,y);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ie(i);oe(ur,"RemoteStore shutting down."),a.Ea.add(5),await cu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Cm.provider={build:()=>new Cm};class _p{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):vs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const va="FirestoreClient";class VN{constructor(e,i,a,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=cn.UNAUTHENTICATED,this.clientId=Gm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{oe(va,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(oe(va,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=hp(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Wd(s,e){s.asyncQueue.verifyOperationInProgress(),oe(va,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await Ib(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Av(s,e){s.asyncQueue.verifyOperationInProgress();const i=await jN(s);oe(va,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>yv(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>yv(e.remoteStore,l))),s._onlineComponents=e}async function jN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){oe(va,"Using user provided OfflineComponentProvider");try{await Wd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===K.FAILED_PRECONDITION||l.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;yo("Error using user provided cache. Falling back to memory cache: "+i),await Wd(s,new gh)}}else oe(va,"Using default OfflineComponentProvider"),await Wd(s,new kN(void 0));return s._offlineComponents}async function Yb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(oe(va,"Using user provided OnlineComponentProvider"),await Av(s,s._uninitializedComponentsProvider._online)):(oe(va,"Using default OnlineComponentProvider"),await Av(s,new Cm))),s._onlineComponents}function LN(s){return Yb(s).then((e=>e.syncEngine))}async function yh(s){const e=await Yb(s),i=e.eventManager;return i.onListen=EN.bind(null,e.syncEngine),i.onUnlisten=SN.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=TN.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=wN.bind(null,e.syncEngine),i}function PN(s,e,i={}){const a=new ms;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,g,y){const T=new _p({next:M=>{T.Nu(),d.enqueueAndForget((()=>dp(c,S)));const B=M.docs.has(p);!B&&M.fromCache?y.reject(new ae(K.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&M.fromCache&&g&&g.source==="server"?y.reject(new ae(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(M)},error:M=>y.reject(M)}),S=new pp(xh(p.path),T,{includeMetadataChanges:!0,qa:!0});return fp(c,S)})(await yh(s),s.asyncQueue,e,i,a))),a.promise}function UN(s,e,i={}){const a=new ms;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,g,y){const T=new _p({next:M=>{T.Nu(),d.enqueueAndForget((()=>dp(c,S))),M.fromCache&&g.source==="server"?y.reject(new ae(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(M)},error:M=>y.reject(M)}),S=new pp(p,T,{includeMetadataChanges:!0,qa:!0});return fp(c,S)})(await yh(s),s.asyncQueue,e,i,a))),a.promise}function Kb(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const Sv=new Map;const $b="firestore.googleapis.com",wv=!0;class xv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ae(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$b,this.ssl=wv}else this.host=e.host,this.ssl=e.ssl??wv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Rb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yR)throw new ae(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ex("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Kb(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ae(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ae(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ae(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vh{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Fw;switch(a.type){case"firstParty":return new Kw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ae(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Sv.get(i);a&&(oe("ComponentProvider","Removing Datastore"),Sv.delete(i),a.terminate())})(this),Promise.resolve()}}function zN(s,e,i,a={}){s=hi(s,Vh);const l=Ao(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;l&&(Yv(`https://${p}`),Kv("Firestore",!0)),c.host!==$b&&c.host!==p&&yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:l,emulatorOptions:a};if(!ar(g,d)&&(s._setSettings(g),a.mockUserToken)){let y,T;if(typeof a.mockUserToken=="string")y=a.mockUserToken,T=cn.MOCK_USER;else{y=d2(a.mockUserToken,s._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new ae(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new cn(S)}s._authCredentials=new Gw(new U1(y,T))}}class dr{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new dr(this.firestore,e,this._query)}}class It{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new da(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new It(this.firestore,e,this._key)}toJSON(){return{type:It._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(ru(i,It._jsonSchema))return new It(e,a||null,new _e(ft.fromString(i.referencePath)))}}It._jsonSchemaVersion="firestore/documentReference/1.0",It._jsonSchema={type:Bt("string",It._jsonSchemaVersion),referencePath:Bt("string")};class da extends dr{constructor(e,i,a){super(e,i,xh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new _e(e))}withConverter(e){return new da(this.firestore,e,this._path)}}function Rv(s,e,...i){if(s=$t(s),z1("collection","path",e),s instanceof Vh){const a=ft.fromString(e,...i);return U_(a),new da(s,null,a)}{if(!(s instanceof It||s instanceof da))throw new ae(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ft.fromString(e,...i));return U_(a),new da(s.firestore,null,a)}}function ao(s,e,...i){if(s=$t(s),arguments.length===1&&(e=Gm.newId()),z1("doc","path",e),s instanceof Vh){const a=ft.fromString(e,...i);return P_(a),new It(s,null,new _e(a))}{if(!(s instanceof It||s instanceof da))throw new ae(K.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ft.fromString(e,...i));return P_(a),new It(s.firestore,s instanceof da?s.converter:null,new _e(a))}}const Nv="AsyncQueue";class Iv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Db(this,"async_queue_retry"),this._c=()=>{const a=Zd();a&&oe(Nv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Zd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Zd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ms;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!No(e))throw e;oe(Nv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,vs("INTERNAL UNHANDLED ERROR: ",Cv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=cp.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Te(47125,{Pc:Cv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Cv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function Dv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class cr extends Vh{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new Iv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Iv(e),this._firestoreClient=void 0,await e}}}function BN(s,e){const i=typeof s=="object"?s:Zv(),a=typeof s=="string"?s:lh,l=Vm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=h2("firestore");c&&zN(l,...c)}return l}function fu(s){if(s._terminated)throw new ae(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||qN(s),s._firestoreClient}function qN(s){const e=s._freezeSettings(),i=(function(l,c,d,p){return new hx(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Kb(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new VN(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zn(on.fromBase64String(e))}catch(i){throw new ae(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Zn(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ru(e,Zn._jsonSchema))return Zn.fromBase64String(e.bytes)}}Zn._jsonSchemaVersion="firestore/bytes/1.0",Zn._jsonSchema={type:Bt("string",Zn._jsonSchemaVersion),bytes:Bt("string")};class jh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ae(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Lh{constructor(e){this._methodName=e}}class Bi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ae(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ae(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bi._jsonSchemaVersion}}static fromJSON(e){if(ru(e,Bi._jsonSchema))return new Bi(e.latitude,e.longitude)}}Bi._jsonSchemaVersion="firestore/geoPoint/1.0",Bi._jsonSchema={type:Bt("string",Bi._jsonSchemaVersion),latitude:Bt("number"),longitude:Bt("number")};class qi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ru(e,qi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new qi(e.vectorValues);throw new ae(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qi._jsonSchemaVersion="firestore/vectorValue/1.0",qi._jsonSchema={type:Bt("string",qi._jsonSchemaVersion),vectorValues:Bt("object")};const HN=/^__.*__$/;class FN{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Ta(e,this.data,this.fieldMask,i,this.fieldTransforms):new lu(e,this.data,i,this.fieldTransforms)}}class Xb{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Ta(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Jb(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:s})}}class vp{constructor(e,i,a,l,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new vp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return _h(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Jb(this.Ac)&&HN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class GN{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Mh(e)}Cc(e,i,a,l=!1){return new vp({Ac:e,methodName:i,Dc:a,path:rn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bp(s){const e=s._freezeSettings(),i=Mh(s._databaseId);return new GN(s._databaseId,!!e.ignoreUndefinedProperties,i)}function Zb(s,e,i,a,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,l);Tp("Data must be an object, but it was:",d,a);const p=Wb(a,d);let g,y;if(c.merge)g=new Ln(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const S of c.mergeFields){const M=Dm(e,S,i);if(!d.contains(M))throw new ae(K.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);tE(T,M)||T.push(M)}g=new Ln(T),y=d.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,y=d.fieldTransforms;return new FN(new Sn(p),g,y)}class Ph extends Lh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ph}}class Ep extends Lh{_toFieldTransform(e){return new Lx(e.path,new Xl)}isEqual(e){return e instanceof Ep}}function QN(s,e,i,a){const l=s.Cc(1,e,i);Tp("Data must be an object, but it was:",l,a);const c=[],d=Sn.empty();Ea(a,((g,y)=>{const T=Ap(e,g,i);y=$t(y);const S=l.yc(T);if(y instanceof Ph)c.push(T);else{const M=du(y,S);M!=null&&(c.push(T),d.set(T,M))}}));const p=new Ln(c);return new Xb(d,p,l.fieldTransforms)}function YN(s,e,i,a,l,c){const d=s.Cc(1,e,i),p=[Dm(e,a,i)],g=[l];if(c.length%2!=0)throw new ae(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)p.push(Dm(e,c[M])),g.push(c[M+1]);const y=[],T=Sn.empty();for(let M=p.length-1;M>=0;--M)if(!tE(y,p[M])){const B=p[M];let Z=g[M];Z=$t(Z);const W=d.yc(B);if(Z instanceof Ph)y.push(B);else{const J=du(Z,W);J!=null&&(y.push(B),T.set(B,J))}}const S=new Ln(y);return new Xb(T,S,d.fieldTransforms)}function KN(s,e,i,a=!1){return du(i,s.Cc(a?4:3,e))}function du(s,e){if(eE(s=$t(s)))return Tp("Unsupported field value:",e,s),Wb(s,e);if(s instanceof Lh)return(function(a,l){if(!Jb(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let g=du(p,l.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,l){if((a=$t(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return kx(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=dt.fromDate(a);return{timestampValue:dh(l.serializer,c)}}if(a instanceof dt){const c=new dt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:dh(l.serializer,c)}}if(a instanceof Bi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Zn)return{bytesValue:bb(l.serializer,a._byteString)};if(a instanceof It){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:tp(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof qi)return(function(d,p){return{mapValue:{fields:{[$1]:{stringValue:X1},[uh]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Jm(p.serializer,y)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Th(a)}`)})(s,e)}function Wb(s,e){const i={};return H1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ea(s,((a,l)=>{const c=du(l,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function eE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof dt||s instanceof Bi||s instanceof Zn||s instanceof It||s instanceof Lh||s instanceof qi)}function Tp(s,e,i){if(!eE(i)||!B1(i)){const a=Th(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function Dm(s,e,i){if((e=$t(e))instanceof jh)return e._internalPath;if(typeof e=="string")return Ap(s,e);throw _h("Field path arguments must be of type string or ",s,!1,void 0,i)}const $N=new RegExp("[~\\*/\\[\\]]");function Ap(s,e,i){if(e.search($N)>=0)throw _h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new jh(...e.split("."))._internalPath}catch{throw _h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function _h(s,e,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${a}`),d&&(g+=` in document ${l}`),g+=")"),new ae(K.INVALID_ARGUMENT,p+s+g)}function tE(s,e){return s.some((i=>i.isEqual(e)))}class nE{constructor(e,i,a,l,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new XN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Sp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class XN extends nE{data(){return super.data()}}function Sp(s,e){return typeof e=="string"?Ap(s,e):e instanceof jh?e._internalPath:e._delegate._internalPath}function iE(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ae(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wp{}class JN extends wp{}function ZN(s,e,...i){let a=[];e instanceof wp&&a.push(e),a=a.concat(i),(function(c){const d=c.filter((g=>g instanceof xp)).length,p=c.filter((g=>g instanceof Uh)).length;if(d>1||d>0&&p>0)throw new ae(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)s=l._apply(s);return s}class Uh extends JN{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new Uh(e,i,a)}_apply(e){const i=this._parse(e);return sE(e._query,i),new dr(e.firestore,e.converter,bm(e._query,i))}_parse(e){const i=bp(e.firestore);return(function(c,d,p,g,y,T,S){let M;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new ae(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){Ov(S,T);const Z=[];for(const W of S)Z.push(Mv(g,c,W));M={arrayValue:{values:Z}}}else M=Mv(g,c,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||Ov(S,T),M=KN(p,d,S,T==="in"||T==="not-in");return zt.create(y,T,M)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function WN(s,e,i){const a=e,l=Sp("where",s);return Uh._create(l,a,i)}class xp extends wp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new xp(e,i)}_parse(e){const i=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:fi.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const g of p)sE(d,g),d=bm(d,g)})(e._query,i),new dr(e.firestore,e.converter,bm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Mv(s,e,i){if(typeof(i=$t(i))=="string"){if(i==="")throw new ae(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sb(e)&&i.indexOf("/")!==-1)throw new ae(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(ft.fromString(i));if(!_e.isDocumentKey(a))throw new ae(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Y_(s,new _e(a))}if(i instanceof It)return Y_(s,i._key);throw new ae(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Th(i)}.`)}function Ov(s,e){if(!Array.isArray(s)||s.length===0)throw new ae(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sE(s,e){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new ae(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class eI{convertValue(e,i="none"){switch(ya(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(ga(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Ea(e,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[uh].arrayValue?.values?.map((a=>Nt(a.doubleValue)));return new qi(i)}convertGeoPoint(e){return new Bi(Nt(e.latitude),Nt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=wh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Yl(e));default:return null}}convertTimestamp(e){const i=pa(e);return new dt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=ft.fromString(e);tt(xb(a),9688,{name:e});const l=new Kl(a.get(1),a.get(3)),c=new _e(a.popFirst(5));return l.isEqual(i)||vs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function aE(s,e,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,a}class jl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ir extends nE{constructor(e,i,a,l,c,d){super(e,i,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Sp("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ir._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ir._jsonSchemaVersion="firestore/documentSnapshot/1.0",ir._jsonSchema={type:Bt("string",ir._jsonSchemaVersion),bundleSource:Bt("string","DocumentSnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class Zc extends ir{data(e={}){return super.data(e)}}class sr{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new jl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Zc(this._firestore,this._userDataWriter,a.key,a,new jl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ae(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const g=new Zc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new jl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new Zc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new jl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,T=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:tI(p.type),doc:g,oldIndex:y,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=sr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Gm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:s})}}function kv(s){s=hi(s,It);const e=hi(s.firestore,cr);return PN(fu(e),s._key).then((i=>oE(e,s,i)))}sr._jsonSchemaVersion="firestore/querySnapshot/1.0",sr._jsonSchema={type:Bt("string",sr._jsonSchemaVersion),bundleSource:Bt("string","QuerySnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class Rp extends eI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,i)}}function nI(s){s=hi(s,dr);const e=hi(s.firestore,cr),i=fu(e),a=new Rp(e);return iE(s._query),UN(i,s._query).then((l=>new sr(e,a,s,l)))}function Ml(s,e,i){s=hi(s,It);const a=hi(s.firestore,cr),l=aE(s.converter,e,i);return rE(a,[Zb(bp(a),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,Wn.none())])}function iI(s,...e){s=$t(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Dv(e[a])||(i=e[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Dv(e[a])){const g=e[a];e[a]=g.next?.bind(g),e[a+1]=g.error?.bind(g),e[a+2]=g.complete?.bind(g)}let c,d,p;if(s instanceof It)d=hi(s.firestore,cr),p=xh(s._key.path),c={next:g=>{e[a]&&e[a](oE(d,s,g))},error:e[a+1],complete:e[a+2]};else{const g=hi(s,dr);d=hi(g.firestore,cr),p=g._query;const y=new Rp(d);c={next:T=>{e[a]&&e[a](new sr(d,y,g,T))},error:e[a+1],complete:e[a+2]},iE(s._query)}return(function(y,T,S,M){const B=new _p(M),Z=new pp(T,B,S);return y.asyncQueue.enqueueAndForget((async()=>fp(await yh(y),Z))),()=>{B.Nu(),y.asyncQueue.enqueueAndForget((async()=>dp(await yh(y),Z)))}})(fu(d),p,l,c)}function rE(s,e){return(function(a,l){const c=new ms;return a.asyncQueue.enqueueAndForget((async()=>xN(await LN(a),l,c))),c.promise})(fu(s),e)}function oE(s,e,i){const a=i.docs.get(e._key),l=new Rp(s);return new ir(s,l,e._key,a,new jl(i.hasPendingWrites,i.fromCache),e.converter)}class sI{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=bp(e)}set(e,i,a){this._verifyNotCommitted();const l=em(e,this._firestore),c=aE(l.converter,i,a),d=Zb(this._dataReader,"WriteBatch.set",l._key,c,l.converter!==null,a);return this._mutations.push(d.toMutation(l._key,Wn.none())),this}update(e,i,a,...l){this._verifyNotCommitted();const c=em(e,this._firestore);let d;return d=typeof(i=$t(i))=="string"||i instanceof jh?YN(this._dataReader,"WriteBatch.update",c._key,i,a,l):QN(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(d.toMutation(c._key,Wn.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=em(e,this._firestore);return this._mutations=this._mutations.concat(new Zm(i._key,Wn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ae(K.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function em(s,e){if((s=$t(s)).firestore!==e)throw new ae(K.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function tm(){return new Ep("serverTimestamp")}function nm(s){return fu(s=hi(s,cr)),new sI(s,(e=>rE(s,e)))}(function(e,i=!0){(function(l){xo=l})(So),go(new rr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new cr(new Qw(a.getProvider("auth-internal")),new $w(d,a.getProvider("app-check-internal")),(function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ae(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kl(y.options.projectId,T)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),ha(k_,V_,e),ha(k_,V_,"esm2020")})();const aI=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rI=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),Vv=s=>{const e=rI(s);return e.charAt(0).toUpperCase()+e.slice(1)},lE=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),oI=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var lI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const uI=de.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},g)=>de.createElement("svg",{ref:g,...lI,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:lE("lucide",l),...!c&&!oI(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,T])=>de.createElement(y,T)),...Array.isArray(c)?c:[c]]));const be=(s,e)=>{const i=de.forwardRef(({className:a,...l},c)=>de.createElement(uI,{ref:c,iconNode:e,className:lE(`lucide-${aI(Vv(s))}`,`lucide-${s}`,a),...l}));return i.displayName=Vv(s),i};const cI=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],hI=be("activity",cI);const fI=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],dI=be("arrow-left",fI);const mI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],pI=be("arrow-right",mI);const gI=[["path",{d:"M12.409 13.017A5 5 0 0 1 22 15c0 3.866-4 7-9 7-4.077 0-8.153-.82-10.371-2.462-.426-.316-.631-.832-.62-1.362C2.118 12.723 2.627 2 10 2a3 3 0 0 1 3 3 2 2 0 0 1-2 2c-1.105 0-1.64-.444-2-1",key:"1pmlyh"}],["path",{d:"M15 14a5 5 0 0 0-7.584 2",key:"5rb254"}],["path",{d:"M9.964 6.825C8.019 7.977 9.5 13 8 15",key:"kbvsx9"}]],yI=be("biceps-flexed",gI);const _I=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],vI=be("brain-circuit",_I);const bI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],jv=be("calendar-days",bI);const EI=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],TI=be("check",EI);const AI=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],SI=be("chevron-down",AI);const wI=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],xI=be("chevron-right",wI);const RI=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],NI=be("chevron-up",RI);const II=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],CI=be("circle-check-big",II);const DI=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],MI=be("clipboard-list",DI);const OI=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],kI=be("clipboard",OI);const VI=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Lv=be("clock",VI);const jI=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],LI=be("copy",jI);const PI=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],UI=be("database",PI);const zI=[["path",{d:"m10 16 1.5 1.5",key:"11lckj"}],["path",{d:"m14 8-1.5-1.5",key:"1ohn8i"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993",key:"80uv8i"}],["path",{d:"m16.5 10.5 1 1",key:"696xn5"}],["path",{d:"m17 6-2.891-2.891",key:"xu6p2f"}],["path",{d:"M2 15c6.667-6 13.333 0 20-6",key:"1pyr53"}],["path",{d:"m20 9 .891.891",key:"3xwk7g"}],["path",{d:"M3.109 14.109 4 15",key:"q76aoh"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m7 18 2.891 2.891",key:"1sisit"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993",key:"q3hbxp"}]],BI=be("dna",zI);const qI=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],HI=be("download",qI);const FI=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],GI=be("dumbbell",FI);const QI=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],YI=be("file-braces",QI);const KI=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],$I=be("flame",KI);const XI=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}],["path",{d:"M3.22 13H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"auskq0"}]],JI=be("heart-pulse",XI);const ZI=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],WI=be("heart",ZI);const eC=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],tC=be("hourglass",eC);const nC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],iC=be("info",nC);const sC=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],aC=be("languages",sC);const rC=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],oC=be("layers",rC);const lC=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],uC=be("link-2",lC);const cC=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],hC=be("link",cC);const fC=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],dC=be("loader-circle",fC);const mC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],pC=be("log-out",mC);const gC=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M7 11h10",key:"1twpyw"}],["path",{d:"M7 15h6",key:"d9of3u"}],["path",{d:"M7 7h8",key:"af5zfr"}]],yC=be("message-square-text",gC);const _C=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],vC=be("moon",_C);const bC=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],EC=be("play",bC);const TC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],AC=be("plus",TC);const SC=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],wC=be("refresh-cw",SC);const xC=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],RC=be("ruler",xC);const NC=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],IC=be("save",NC);const CC=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M18.944 12.33a1 1 0 0 0 0-.66 7.5 7.5 0 0 0-13.888 0 1 1 0 0 0 0 .66 7.5 7.5 0 0 0 13.888 0",key:"11ak4c"}]],DC=be("scan-eye",CC);const MC=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],OC=be("settings",MC);const kC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],VC=be("shield-alert",kC);const jC=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],LC=be("sparkles",jC);const PC=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],UC=be("star",PC);const zC=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],BC=be("stethoscope",zC);const qC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],HC=be("target",qC);const FC=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],GC=be("timer",FC);const QC=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],YC=be("toggle-left",QC);const KC=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],$C=be("toggle-right",KC);const XC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],JC=be("triangle-alert",XC);const ZC=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],WC=be("upload",ZC);const e4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],t4=be("user",e4);const n4=[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]],i4=be("weight",n4);const s4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],a4=be("x",s4),r4=typeof __firebase_config<"u"?JSON.parse(__firebase_config):{apiKey:"AIzaSyDTcSIPkEt2dtyAmlcC1xFVuZ68e8y1SKM",authDomain:"momentum-fitness-ai.firebaseapp.com",projectId:"momentum-fitness-ai",storageBucket:"momentum-fitness-ai.firebasestorage.app",messagingSenderId:"335276198384",appId:"1:335276198384:web:ac58a4771d605892203535",measurementId:"G-9DJX8R1NX8"},o4=typeof __app_id<"u"?__app_id:"momentum-fitness-ai",Wa=o4.replace(/\//g,"_").replace(/\./g,"_");let im,Ll,Pt;try{im=Jv(r4),Ll=qw(im),Pt=BN(im)}catch(s){console.error("Error al inicializar Firebase:",s)}const Fi={es:{online:"Online",appTitle:"Momentum AI",routineInProgress:"Rutina en curso",errorAuth:"Error de autenticacin",errorSave:"Error al guardar",tabTraining:"Entrenamiento",tabHistory:"Historial",tabProfile:"Perfil",bioageTitle:"Perfil Avanzado (Bioage)",bioageSubtitle:"Biometra Clnica & Estructural",bioageDesc:"Datos opcionales para aumentar precisin de generacin de rutina.",structuralIntegrity:"Integridad Estructural",metabolicHealth:"Salud Metablica",clinicalAnalysis:"Anlisis Bioage",detectedRisks:"Reglas de Ajuste Activadas",healthyStatus:"Perfil equilibrado. Sin contraindicaciones estructurales detectadas.",calcBioAge:"Calcular Edad Biolgica",bioAgeResult:"Edad Biolgica Estimada",realAge:"Cronolgica",bioAgeAnalysis:"Anlisis de Longevidad",cycleTitle:"Salud Femenina (CycleSync)",cycleSubtitle:"Adaptacin al Ciclo Menstrual",lastPeriod:"Fecha ltima Menstruacin",cycleLength:"Duracin Ciclo (das)",phase:"Fase Actual",menstrual:"Menstrual",follicular:"Folicular",ovulation:"Ovulacin",luteal:"Luteal",phaseDesc:"Impacto en el Entrenamiento",tt_sq1rm:"Mximo peso para 1 repeticin en Sentadilla.",tt_bp1rm:"Mximo peso para 1 repeticin en Banca.",tt_pullups:"Mximas repeticiones estrictas.",tt_pushups:"Mximas flexiones estrictas.",tt_plank:"Tiempo mximo manteniendo postura perfecta.",tt_waist:"Circunferencia a nivel del ombligo.",tt_vo2:"Volumen mximo de oxgeno.",tt_rhr:"Pulsaciones nada ms despertar.",tt_hrr:"Pulsaciones que bajan 1 min despus de esfuerzo mximo.",generating:"Generando...",analyzing:"Analizando Biometra...",designing:"Diseando Terapia...",optimizing:"Optimizando Cargas...",finalizing:"Finalizando Plan...",weeklyProgress:"Progreso Semanal",generalView:"Vista General",weeklyPlan:"Plan Semanal",startRoutine:"COMENZAR",goalMet:"Objetivo Cumplido",progressReg:"Progreso registrado.",activeRecovery:"Recuperacin Activa",restVital:"El descanso es vital.",regenerateCycle:"Regenerar Ciclo",noPlan:"Sin plan semanal",adjustSession:"Ajuste de Sesin",modify:"Modificar:",focusZone:"Zona de Enfoque",timeAvailable:"Tiempo Disponible (min)",modality:"Modalidad",noEquipment:"Entrenamiento sin equipo",recalcParams:"Recalcular Parmetros",processing:"Procesando...",activeSession:"Sesin Activa",recovery:"Recuperacin",notes:"Notas",finishSession:"Finalizar Sesin",easy:"Fcil",good:"Adecuado",hard:"Difcil",hide:"OCULTAR",viewTech:"Ver Tcnica",series:"Serie",reps:"Reps",load:"Carga",superset:"Superserie",completed:"Completado",noRecords:"No hay registros previos.",biometrics:"Datos Bsicos",gender:"Gnero",age:"Edad",height:"Altura (cm)",weight:"Peso (kg)",bodyFat:"% Grasa (Opcional)",muscleMass:"% Msculo (Opcional)",customFocus:"Enfoque personalizado",mainGoal:"Objetivo Principal",expLevel:"Nivel Experiencia",daysWeek:"Das/Semana",injuries:"Lesiones / Limitaciones",saveFile:"Guardar Expediente",dataManagement:"Gestin de Datos",export:"Exportar",pasteJson:"Pegar JSON",uploadFile:"Cargar Archivo",phNotes:"Reporte de dolor, sensaciones o ajustes necesarios...",phInjuries:"Ej. Menisco rodilla derecha...",male:"Hombre",female:"Mujer",goalFat:"Perder Grasa / Metabolismo",goalMuscle:"Hipertrofia / Fuerza",goalStrength:"Fuerza Mxima",goalCardio:"Resistencia Cardio",expBeginner:"Principiante (0-6 meses)",expInter:"Intermedio (6m - 2y)",expAdvanced:"Avanzado (+2y)",msgPlanGen:"Nuevo plan teraputico generado!",msgSessionUpd:"Sesin clnica actualizada.",msgSessionReg:"Sesin completada y registrada.",msgBonusReg:"Entreno Bonus registrado!",msgProfileSaved:"Expediente guardado correctamente.",msgImported:"Datos importados.",importData:"Importar Datos",copyBackup:"Copia de Seguridad",copied:"Copiado",copyToClip:"Copiar al Portapapeles",importBtn:"Importar",cancel:"Cancelar"}},l4=()=>b.jsx("style",{children:`
    body { background-color: #0f172a; color: #f8fafc; }
    .minimal-scrollbar { scrollbar-width: thin; scrollbar-color: #334155 #0f172a; }
    .minimal-scrollbar::-webkit-scrollbar { height: 6px; width: 6px; }
    .minimal-scrollbar::-webkit-scrollbar-track { background: #0f172a; border-radius: 8px; }
    .minimal-scrollbar::-webkit-scrollbar-thumb { background-color: #334155; border-radius: 8px; border: 2px solid #0f172a; }
    .animate-fadeIn { animation: fadeIn 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes spin-slow { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
    .gemini-loader-circle { width: 28px; height: 28px; position: relative; animation: spin-slow 2s linear infinite; }
    .gemini-loader-icon { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: #2dd4bf; }
    .gemini-loader-path {
      width: 28px; height: 28px; border-radius: 50%; padding: 2px;
      background: conic-gradient(from 0deg, #2dd4bf, #8b5cf6, #2dd4bf);
      mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
      mask-composite: exclude;
      animation: spin-slow 2s linear infinite;
    }
    .tooltip { visibility: hidden; opacity: 0; transition: opacity 0.3s; }
    .has-tooltip:hover .tooltip { visibility: visible; opacity: 1; }
    .hide-scrollbar::-webkit-scrollbar { display: none; }
    .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
  `}),me=({name:s,className:e=""})=>{if(s==="youtube")return b.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17"}),b.jsx("path",{d:"m10 15 5-3-5-3z"})]});const a={dumbbell:GI,list:MI,user:t4,loader:dC,sparkles:LC,arrowLeft:dI,database:UI,feedback:yC,check:CI,checkSimple:TI,target:HC,upload:WC,download:HI,close:a4,copy:LI,clipboard:kI,moon:vC,calendar:jv,clock:Lv,refresh:wC,alert:JC,star:UC,biceps:yI,ruler:RC,weight:i4,activity:hI,flame:$I,play:EC,save:IC,settings:OC,logout:pC,chevronRight:xI,info:iC,layers:oC,link:hC,plus:AC,timer:GC,toggleOn:$C,toggleOff:YC,lang:aC,chevronDown:SI,chevronUp:NI,heartPulse:JI,shieldAlert:VC,brain:vI,stethoscope:BC,scanEye:DC,fileJson:YI,link2:uC,dna:BI,flower:WI,calendarHeart:jv,hourglass:tC,coffee:Lv,arrowRight:pI}[s];return a?b.jsx(a,{className:`${e}`,strokeWidth:2}):null},u4=({show:s})=>b.jsxs("div",{className:`fixed inset-0 z-50 bg-slate-950 flex flex-col items-center justify-center transition-opacity duration-1000 pointer-events-none ${s?"opacity-100":"opacity-0"}`,children:[b.jsxs("div",{className:"relative mb-6",children:[b.jsx("div",{className:"absolute inset-0 bg-teal-500 blur-2xl opacity-20 rounded-full animate-pulse"}),b.jsx(me,{name:"dumbbell",className:"w-12 h-12 text-teal-400 relative z-10"})]}),b.jsxs("h1",{className:"text-xl font-black text-white tracking-tight",children:["Momentum ",b.jsx("span",{className:"text-teal-400",children:"AI"})]})]}),uE=({progressText:s})=>b.jsxs("div",{className:"flex items-center gap-3 bg-slate-800/80 px-4 py-2 rounded-full border border-teal-500/20 shadow-xl shadow-teal-900/10 backdrop-blur-md transition-all scale-90 origin-right",children:[b.jsxs("div",{className:"gemini-loader-circle",children:[b.jsx("div",{className:"gemini-loader-path"}),b.jsx(me,{name:"sparkles",className:"gemini-loader-icon w-3 h-3"})]}),b.jsx("span",{className:"text-xs font-medium bg-gradient-to-r from-teal-300 to-violet-300 bg-clip-text text-transparent animate-pulse",children:s})]}),c4=(s,e)=>{let i=60;const a=s.mainGoal||"";if(a.includes("Fuerza")?i=180:a.includes("Hipertrofia")?i=90:(a.includes("Grasa")||a.includes("Cardio"))&&(i=45),e?.tipo_bloque==="superserie"&&(a.includes("Fuerza")?i=180:i=60),e?.tipo_bloque!=="superserie"){const l=parseFloat(s.bioage?.hrr)||0,c=parseFloat(s.bioage?.vo2max)||0;l>30&&c>45&&(i-=15)}return Math.max(30,i)},cE=s=>{const e=[],i=s.bioage||{},a=parseFloat(s.weight)||70,l=parseFloat(s.height)||175,c=parseFloat(i.sq1rm)||0,d=parseFloat(i.plank)||0;parseFloat(i.pullups);const p=parseFloat(i.pushups)||0,g=parseFloat(i.waist)||0,y=parseFloat(i.vo2max)||45,T=parseFloat(i.rhr)||60;c>1.5*a&&d>0&&d<45&&e.push("RIESGO LUMBAR (Fuerza > Estabilidad): Sustituir Sentadilla pesada por variantes unilaterales.");const S=s.gender==="Hombre"?15:10;return p>0&&p<S&&e.push("DFICIT RESISTENCIA EMPUJE: Priorizar volumen en empuje."),(g>0&&l>0?g/l:0)>.55&&e.push("RIESGO METABLICO (ICA > 0.55): Prioridad Gasto Calrico."),(y<38&&y>0||T>80)&&e.push("CAPACIDAD AERBICA BAJA: Aumentar descansos."),e},h4=(s,e=28)=>{if(!s)return null;const i=new Date(s);if(isNaN(i.getTime()))return null;const l=Math.abs(new Date-i),d=Math.ceil(l/(1e3*60*60*24))%e||e;return d>=1&&d<=5?{phase:"menstrual",day:d,label:"Menstrual",desc:"Energa baja. Recuperacin."}:d>=6&&d<=13?{phase:"follicular",day:d,label:"Folicular",desc:"Energa alta. Fuerza."}:d>=14&&d<=16?{phase:"ovulation",day:d,label:"Ovulacin",desc:"Pico de Fuerza."}:{phase:"luteal",day:d,label:"Ltea",desc:"Energa moderada."}},Pv=s=>!s||s.length===0?"No hay historial reciente.":s.map(e=>{const i=e.feedback?`Feedback: ${Object.values(e.feedback).join(", ")}`:`Feedback: ${e.notes||"N/A"}`,a=e.routine?.rutinaPrincipal?.map(l=>`${l.ejercicio}`).slice(0,2).join(", ");return`- ${e.diaEnfoque}: ${i}. Ejs: ${a}`}).join(`
`),hE={type:"OBJECT",properties:{tipo_bloque:{type:"STRING",enum:["normal","superserie"]},ejercicio:{type:"STRING"},tecnica_general:{type:"STRING"},componentes:{type:"ARRAY",items:{type:"OBJECT",properties:{numero_serie:{type:"INTEGER"},repeticiones_ejercicio:{type:"STRING"},carga_sugerida:{type:"STRING"},repeticiones_ejercicioA:{type:"STRING"},carga_sugeridaA:{type:"STRING"},repeticiones_ejercicioB:{type:"STRING"},carga_sugeridaB:{type:"STRING"},completado:{type:"BOOLEAN",default:!1}},required:["numero_serie"]}}},required:["tipo_bloque","ejercicio","componentes","tecnica_general"]},fE=(s,e,i,a,l,c="")=>{const d=e.length>0?`
[CLINICAL]:
${e.map(S=>`- ${S}`).join(`
`)}`:`
[Clinical]: Healthy.`,p=parseFloat(s.bioage?.sq1rm)||0,g=s.gender==="Hombre",y=parseFloat(s.weight)||70,T=p>0?p:Math.round(y*(g?1.2:.8));return`Eres "FitCoach AI". ${l}
  Atleta: ${s.gender}, ${s.age} aos, ${y}kg.
  Lesiones: ${s.injuries||"Ninguna"}.
  Fuerza Base (Est): Squat ${T} kg.
  Meta: ${s.mainGoal}.
  Tiempo Disponible: ${s.timeAvailable} min.
  ${d}
  Historial: ${a}
  ${c}
  INSTRUCCIN: La duracin total debe ser cercana a ${s.timeAvailable} minutos.
  REGLAS: 
  1. Nombres descriptivos y completos (ej: "Sentadilla (Goblet)" en vez de "Sentadilla").
  2. SUPERSERIES: Campo "ejercicio" DEBE usar formato "A1: [Nombre] + A2: [Nombre]".
  3. Carga en kg, Reps numricas. JSON Estricto.`};async function f4(s,e,i){const a=i==="en"?"RESPOND IN ENGLISH.":"RESPONDE EN ESPAOL.",l=cE(s),c=fE(s,l,"WEEKLY_PLAN",e,a),d=`Genera un nuevo plan semanal de ${s.daysPerWeek} das.`;return await Np(d,c,{type:"OBJECT",properties:{planSemanal:{type:"ARRAY",items:{type:"OBJECT",properties:{diaEnfoque:{type:"STRING"},descripcionBreve:{type:"STRING"},duracionEstimada:{type:"STRING"},calentamiento:{type:"STRING"},rutinaPrincipal:{type:"ARRAY",items:hE},enfriamiento:{type:"STRING"},consejoPro:{type:"STRING"}},required:["diaEnfoque","descripcionBreve","rutinaPrincipal","enfriamiento","consejoPro","duracionEstimada"]}}}},"planSemanal")}async function d4(s,e,i,a,l,c,d){const p=d==="en"?"RESPOND IN ENGLISH.":"RESPONDE EN ESPAOL.",g=cE(s),y=`Nuevo Enfoque: ${i}. TIEMPO: ${a} min. ${c?"Sin Equipo":"Con Equipo"}.`,T={...s,timeAvailable:a},S=fE(T,g,"SESSION_ADJUSTMENT",l,p,y),M=`Genera una rutina ${i} de ${a} min.`;return await Np(M,S,{type:"OBJECT",properties:{diaEnfoque:{type:"STRING"},descripcionBreve:{type:"STRING"},duracionEstimada:{type:"STRING"},calentamiento:{type:"STRING"},rutinaPrincipal:{type:"ARRAY",items:hE},enfriamiento:{type:"STRING"},consejoPro:{type:"STRING"}}},null)}async function m4(s,e){const i=s.bioage||{},l=`Eres Especialista Clnico. ${e==="en"?"RESPOND IN ENGLISH.":"RESPONDE EN ESPAOL."}. Calcula edad biolgica basada en ${s.age} aos, VO2Max ${i.vo2max}, Fuerza ${i.sq1rm}. Si faltan datos, estima con lo disponible.`;return await Np("Analiza mi edad biolgica",l,{type:"OBJECT",properties:{edadBiologica:{type:"INTEGER"},diferencia:{type:"INTEGER"},evaluacion:{type:"STRING"}},required:["edadBiologica","evaluacion"]},null)}async function Np(s,e,i,a){const c="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=",d={contents:[{parts:[{text:s}]}],systemInstruction:{parts:[{text:e}]},generationConfig:{responseMimeType:"application/json",responseSchema:i,temperature:.7}};try{const p=await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});if(!p.ok)throw new Error(`Error API: ${p.status}`);const y=(await p.json()).candidates?.[0]?.content?.parts?.[0]?.text;if(!y)throw new Error("Respuesta vaca de IA");const T=JSON.parse(y);return a?T[a]:T}catch(p){throw console.error("Gemini Error:",p),p}}const p4=(s,e)=>{let i=Array(7).fill(null);if(!s||s.length===0)return i;const a={1:[0],2:[0,3],3:[0,2,4],4:[0,1,3,4],5:[0,1,2,3,4],6:[0,1,2,3,4,5],7:[0,1,2,3,4,5,6]},l=a[Math.min(e,7)]||a[3];return s.forEach((c,d)=>{if(d<l.length)i[l[d]]=c;else{const p=i.indexOf(null);p!==-1&&(i[p]=c)}}),i},Uv=s=>{const e=Math.floor(s/60),i=s%60;return`${e}:${i.toString().padStart(2,"0")}`},nr=s=>{if(!s)return"";let e=s,i;do i=e,e=e.replace(/^(?:Superserie:?|Serie\s?\w+|[A-Z]+\d+[:.)-]?|[A-Z][:.)-]|\d+[:.)-])\s*/i,"").replace(/^[A-Z]\d+\s+/,"").trim();while(e!==i&&e.length>0);return e},dE=s=>{if(!s)return"Entrenamiento";let e=s.replace(/^(?:Lunes|Martes|Mircoles|Miercoles|Jueves|Viernes|Sbado|Sabado|Domingo)(?:\s*[:,-])?\s*/i,"");return e=e.replace(/^(?:Da|Dia)\s*\d+\s*[:,-]?\s*/i,""),e.trim()||"Entrenamiento"},sm=s=>{if(!s)return"--";let e=s.replace(/segundos?|segun\w*/gi,"seg").replace(/minutos?|mins?/gi,"min");if(/min|seg|sec|m\b|s\b/i.test(e))return e.substring(0,8);const i=e.match(/\d+/);return i?i[0].slice(0,2):"--"},am=s=>{if(!s||/PC|Bodyweight/i.test(s))return"-";if(s.includes("%")||/Nvl/i.test(s))return s.substring(0,6);const e=s.match(/[\d.]+/);return e?`${e[0].substring(0,4)} kg`:"-"},ba=({children:s,className:e="",onClick:i})=>b.jsx("div",{onClick:i,className:`bg-slate-800/40 border border-slate-700/50 rounded-2xl shadow-sm backdrop-blur-xl transition-all duration-300 ${e}`,children:s}),ki=({label:s,icon:e,type:i="text",name:a,value:l,onChange:c,placeholder:d,options:p,isTextArea:g=!1})=>b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider ml-1",children:s}),b.jsxs("div",{className:"relative group",children:[b.jsx("div",{className:`absolute left-0 pl-4 flex items-center pointer-events-none text-slate-500 group-focus-within:text-teal-400 transition-colors duration-300 ${g?"top-4":"inset-y-0"}`,children:b.jsx(me,{name:e,className:"w-5 h-5"})}),p?b.jsx("select",{name:a,value:l,onChange:c,className:"w-full bg-slate-900/50 border border-slate-700 text-slate-100 rounded-xl py-4 pl-12 pr-4 text-sm focus:ring-4 focus:ring-teal-500/10 focus:border-teal-500 outline-none appearance-none cursor-pointer hover:bg-slate-800/50",children:p.map(y=>b.jsx("option",{value:y.value,children:y.label},y.value))}):g?b.jsx("textarea",{name:a,value:l,onChange:c,placeholder:d,rows:"3",className:"w-full bg-slate-900/50 border border-slate-700 text-slate-100 rounded-xl py-4 pl-12 pr-4 text-sm focus:ring-4 focus:ring-teal-500/10 focus:border-teal-500 outline-none min-h-[100px] resize-y"}):b.jsx("input",{type:i,name:a,value:l===0?"":l,onChange:c,placeholder:d,className:"w-full bg-slate-900/50 border border-slate-700 text-slate-100 rounded-xl py-4 pl-12 pr-4 text-sm focus:ring-4 focus:ring-teal-500/10 focus:border-teal-500 outline-none"})]})]}),Vi=({label:s,name:e,value:i,onChange:a,unit:l,tooltip:c,isBio:d=!0})=>b.jsxs("div",{className:"space-y-2",children:[b.jsx("div",{className:"flex justify-between items-center ml-1",children:b.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:s})}),b.jsxs("div",{className:"relative group",children:[b.jsx("input",{type:"number",name:d?`bio_${e}`:e,value:i===0?"":i,onChange:a,className:"w-full bg-slate-950/30 border border-slate-700/70 text-slate-200 rounded-lg py-3 pl-3 pr-10 text-sm focus:ring-2 focus:ring-violet-500/30 focus:border-violet-500 outline-none",placeholder:"0"}),b.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs font-bold text-slate-600 pointer-events-none",children:l})]})]}),g4=({profile:s,onChange:e,lang:i,onAnalyzeBioage:a,bioageLoading:l})=>{const[c,d]=de.useState(!1),p=Fi[i],g=s.bioage||{},y=T=>{const S=T.target.name.replace("bio_","");e({target:{name:"bioage",value:{...g,[S]:T.target.value}}})};return b.jsxs("div",{className:"rounded-2xl border border-violet-500/20 bg-gradient-to-br from-slate-900/80 to-slate-800/80 overflow-hidden shadow-lg transition-all duration-300",children:[b.jsxs("button",{type:"button",onClick:()=>d(!c),className:"w-full p-5 flex items-center justify-between hover:bg-slate-800/50 transition-colors",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"p-2.5 rounded-xl bg-violet-500/10 text-violet-300 border border-violet-500/20",children:b.jsx(me,{name:"scanEye",className:"w-5 h-5"})}),b.jsx("div",{className:"text-left",children:b.jsx("h3",{className:"text-sm font-bold text-slate-100",children:p.bioageTitle})})]}),b.jsx(me,{name:c?"chevronUp":"chevronDown",className:`w-5 h-5 text-slate-500 transition-transform ${c?"rotate-0":"-rotate-90"}`})]}),c&&b.jsx("div",{className:"p-5 pt-0 animate-fadeIn border-t border-slate-700/50",children:b.jsxs("div",{className:"space-y-6 mt-4",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsx(Vi,{name:"sq1rm",value:g.sq1rm,onChange:y,unit:"kg",label:"Squat 1RM"}),b.jsx(Vi,{name:"plank",value:g.plank,onChange:y,unit:"seg",label:"Plank"})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsx(Vi,{name:"pullups",value:g.pullups,onChange:y,unit:"reps",label:"Dominadas"}),b.jsx(Vi,{name:"pushups",value:g.pushups,onChange:y,unit:"reps",label:"Flexiones"})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[b.jsx(Vi,{name:"waist",value:g.waist,onChange:y,unit:"cm",label:"Cintura"}),b.jsx(Vi,{name:"vo2max",value:g.vo2max,onChange:y,unit:"ml",label:"VO2 Max"})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[b.jsx(Vi,{name:"rhr",value:g.rhr,onChange:y,unit:"bpm",label:"FC Reposo"}),b.jsx(Vi,{name:"hrr",value:g.hrr,onChange:y,unit:"bpm",label:"Recuperacin"})]}),b.jsxs("button",{onClick:()=>a(s),disabled:l,className:"w-full py-3 rounded-xl bg-slate-800 border border-teal-500/30 text-teal-400 hover:bg-slate-700/80 transition-all font-bold text-xs flex items-center justify-center gap-2",children:[l?b.jsx(me,{name:"loader",className:"w-4 h-4 animate-spin"}):b.jsx(me,{name:"brain",className:"w-4 h-4"})," ",l?p.processing:p.calcBioAge]}),s.bioageEstimation&&b.jsxs("div",{className:"mt-4 p-4 bg-violet-900/20 border border-violet-500/30 rounded-xl animate-fadeIn",children:[b.jsxs("div",{className:"flex justify-between items-center mb-2",children:[b.jsxs("div",{children:[b.jsx("div",{className:"text-[10px] uppercase text-violet-400 font-bold",children:p.realAge}),b.jsxs("div",{className:"text-xl font-mono text-slate-300",children:[s.age," ",b.jsx("span",{className:"text-xs",children:"aos"})]})]}),b.jsx(me,{name:"arrowRight",className:"text-violet-500/50 w-6 h-6"}),b.jsxs("div",{className:"text-right",children:[b.jsx("div",{className:"text-[10px] uppercase text-teal-400 font-bold",children:p.bioAgeResult}),b.jsxs("div",{className:"text-3xl font-black text-teal-300 drop-shadow-sm",children:[s.bioageEstimation.edadBiologica," ",b.jsx("span",{className:"text-base font-normal text-teal-500/80",children:"aos"})]})]})]}),s.bioageEstimation.evaluacion&&b.jsxs("div",{className:"text-xs text-slate-300 italic border-t border-violet-500/20 pt-2 mt-2 leading-relaxed",children:['"',s.bioageEstimation.evaluacion,'"']})]})]})})]})},y4=({profile:s,onChange:e,lang:i})=>{if(s.gender!=="Mujer")return null;const a=Fi[i],l=s.menstrualCycle||{lastPeriod:"",cycleLength:28},c=h4(l.lastPeriod,l.cycleLength),d=p=>e({target:{name:"menstrualCycle",value:{...l,[p.target.name]:p.target.value}}});return b.jsxs(ba,{className:"p-6 border-pink-500/20 bg-gradient-to-br from-slate-900 to-pink-900/10",children:[b.jsxs("h3",{className:"text-sm font-bold text-pink-300 uppercase tracking-wider mb-2 flex items-center gap-2",children:[b.jsx(me,{name:"flower",className:"w-4 h-4 text-pink-400"})," ",a.cycleTitle]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-5",children:[b.jsx("input",{type:"date",name:"lastPeriod",value:l.lastPeriod,onChange:d,className:"w-full bg-slate-900/50 border border-slate-700 text-slate-100 rounded-lg py-3 px-3 text-xs outline-none"}),b.jsx("input",{type:"number",name:"cycleLength",value:l.cycleLength,onChange:d,className:"w-full bg-slate-900/50 border border-slate-700 text-slate-100 rounded-lg py-3 px-3 text-xs outline-none"})]}),c&&b.jsxs("div",{className:"bg-pink-500/10 border border-pink-500/30 rounded-xl p-4",children:[b.jsx("h4",{className:"text-lg font-bold text-pink-100",children:c.label}),b.jsx("p",{className:"text-xs text-pink-200/80",children:c.desc})]})]})},_4=({weekDistribution:s,completionLog:e,todayIndex:i})=>b.jsxs("div",{className:"flex items-center justify-between bg-slate-800/50 p-4 rounded-2xl border border-slate-700/50 mb-6 backdrop-blur-sm",children:[b.jsxs("div",{className:"flex flex-col",children:[b.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Tu Racha"}),b.jsxs("span",{className:"text-xs text-slate-300 font-medium",children:["Semana ",s.length>0?"Activa":"Off"]})]}),b.jsx("div",{className:"flex gap-2",children:[0,1,2,3,4,5,6].map(a=>{const l=e.has(a),c=a===i;let d="bg-slate-700/50",p="border-transparent";return l?d="bg-teal-500 shadow-[0_0_8px_rgba(20,184,166,0.5)]":c&&(d="bg-slate-800",p="border-teal-500 animate-pulse"),b.jsx("div",{className:`w-3 h-3 rounded-full border ${p} ${d} transition-all duration-500`},a)})})]}),mE=({exercises:s,limit:e})=>{const i=e?s.slice(0,e):s,a=e?Math.max(0,s.length-e):0;return b.jsxs("div",{className:"space-y-2 mt-2",children:[i.map((l,c)=>{const d=l.tipo_bloque==="superserie";let p=null;if(d){const g=["+",`
`," y "," / "];let y=[l.ejercicio];for(const M of g)if(l.ejercicio.includes(M)){y=l.ejercicio.split(M);break}y.length<2&&(y=[l.ejercicio,"Ver detalles"]);const T=nr(y[0]);let S=nr(y[1]);S=S.replace(/^[A-Z]\d+[\s.-]*/,""),p=b.jsxs("div",{className:"flex flex-col w-full gap-1",children:[b.jsx("div",{className:"flex justify-between items-baseline",children:b.jsxs("div",{className:"flex items-center gap-1.5 overflow-hidden",children:[b.jsx("span",{className:"text-[9px] font-black text-cyan-400 bg-cyan-900/30 px-1 rounded border border-cyan-500/20 whitespace-nowrap",children:"A1"}),b.jsx("p",{className:"text-xs font-medium text-slate-200 truncate",children:T})]})}),b.jsx("div",{className:"flex justify-between items-baseline",children:b.jsxs("div",{className:"flex items-center gap-1.5 overflow-hidden",children:[b.jsx("span",{className:"text-[9px] font-black text-blue-400 bg-blue-900/30 px-1 rounded border border-blue-500/20 whitespace-nowrap",children:"A2"}),b.jsx("p",{className:"text-xs font-medium text-slate-200 truncate",children:S})]})})]})}else{const g=nr(l.ejercicio);let y="General";g.match(/barra/i)?y="Barra":g.match(/mancuerna/i)?y="Mancuernas":g.match(/polea|cable/i)?y="Polea":g.match(/mquina|maquina/i)?y="Mquina":g.match(/corporal|bodyweight/i)&&(y="Body"),p=b.jsx("div",{className:"flex-1 min-w-0",children:b.jsxs("div",{className:"flex justify-between items-baseline",children:[b.jsx("p",{className:"text-xs font-medium text-slate-200 truncate pr-2",children:g}),b.jsx("span",{className:"text-[8px] font-bold text-slate-500 uppercase bg-slate-800 px-1 py-0.5 rounded border border-slate-700 whitespace-nowrap",children:y})]})})}return b.jsxs("div",{className:`flex items-start gap-2 p-2 rounded-lg border ${d?"bg-slate-900/60 border-cyan-900/30":"bg-slate-900/40 border-slate-700/30"}`,children:[b.jsx("span",{className:`shrink-0 flex items-center justify-center w-5 h-5 rounded text-[9px] font-bold mt-0.5 ${d?"bg-cyan-900/20 text-cyan-500":"bg-teal-900/30 text-teal-400"}`,children:c+1}),p]},c)}),a>0&&b.jsx("div",{className:"text-center pt-1",children:b.jsxs("span",{className:"text-[10px] text-slate-500 font-medium",children:["+ ",a," ejercicios..."]})})]})},v4=({routine:s,onView:e,onAdjust:i})=>{if(!s)return b.jsx("div",{className:"p-4 text-center text-xs text-slate-500 border border-dashed border-slate-700 rounded-2xl",children:"Todo listo por hoy."});const a=s.routine||{};let l=dE(a.diaEnfoque||a.descripcionBreve);return s.weekDay&&(l=`Da ${s.weekDay}: ${l}`),b.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-slate-800 border border-slate-700/50 shadow-xl transition-all animate-fadeIn",children:[b.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-teal-500/5 rounded-full blur-2xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),b.jsxs("div",{className:"p-4 relative z-10",children:[b.jsxs("div",{className:"flex justify-between items-start mb-3",children:[b.jsxs("div",{className:"flex-1 mr-2",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[b.jsx("span",{className:"inline-block px-2 py-0.5 rounded bg-teal-500/10 text-teal-400 text-[9px] font-black uppercase tracking-wider border border-teal-500/20",children:"Sugerencia"}),b.jsx("span",{className:"text-[10px] text-slate-500 font-mono",children:a.duracionEstimada})]}),b.jsx("h2",{className:"text-lg font-bold text-white leading-tight line-clamp-2",children:l})]}),b.jsx("button",{onClick:c=>{c.stopPropagation(),i()},className:"p-2 rounded-full bg-slate-700/50 text-slate-400 hover:text-white transition-all shrink-0",children:b.jsx(me,{name:"settings",className:"w-4 h-4"})})]}),b.jsx("div",{className:"mb-12",children:b.jsx(mE,{exercises:a.rutinaPrincipal||[]})})]}),b.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-3 bg-gradient-to-t from-slate-900 via-slate-900/95 to-transparent flex justify-end items-center z-20",children:b.jsxs("button",{onClick:c=>{c.preventDefault(),c.stopPropagation(),e(s)},className:"group flex items-center gap-2 pl-4 pr-1.5 py-1.5 bg-teal-500 hover:bg-teal-400 text-slate-900 rounded-full font-bold shadow-lg shadow-teal-500/20 transition-all active:scale-95 cursor-pointer z-50",children:[b.jsx("span",{className:"text-xs tracking-wide",children:"INICIAR"}),b.jsx("div",{className:"w-8 h-8 bg-slate-900/20 rounded-full flex items-center justify-center group-hover:bg-slate-900/30 transition-colors",children:b.jsx(me,{name:"play",className:"w-3.5 h-3.5 fill-current"})})]})})]})},b4=({routines:s,onView:e,onAdjust:i})=>{const[a,l]=de.useState(null);return!s||s.length===0?b.jsx("div",{className:"text-center py-8 text-xs text-slate-500",children:"No hay opciones alternativas pendientes."}):b.jsx("div",{className:"space-y-2 pb-20",children:s.map(c=>{const d=a===c.id,p=c.routine||{};let g=dE(p.diaEnfoque||p.descripcionBreve);return c.weekDay&&(g=`Da ${c.weekDay}: ${g}`),b.jsxs("div",{className:`rounded-xl border transition-all duration-300 overflow-hidden ${d?"bg-slate-800 border-teal-500/30 shadow-md":"bg-slate-800/40 border-slate-700/50"}`,children:[b.jsxs("div",{className:"w-full flex items-center justify-between p-3 text-left",children:[b.jsxs("button",{onClick:()=>l(d?null:c.id),className:"flex items-center gap-3 flex-1",children:[b.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center transition-colors ${d?"bg-teal-500 text-slate-900":"bg-slate-900 text-slate-500"}`,children:b.jsx(me,{name:"dumbbell",className:"w-4 h-4"})}),b.jsxs("div",{children:[b.jsx("h4",{className:`text-xs font-bold ${d?"text-white":"text-slate-300"}`,children:g}),b.jsxs("p",{className:"text-[9px] text-slate-500 font-mono flex items-center gap-2",children:[b.jsx("span",{children:p.duracionEstimada}),c.status==="completed"&&b.jsx("span",{className:"text-emerald-500",children:" Completado"})]})]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("button",{onClick:y=>{y.stopPropagation(),i(c)},className:"p-2 rounded-full bg-slate-700/30 text-slate-500 hover:text-white hover:bg-slate-700 transition-all",children:b.jsx(me,{name:"settings",className:"w-4 h-4"})}),b.jsx("button",{onClick:()=>l(d?null:c.id),className:`transition-transform duration-300 p-1 ${d?"rotate-180 text-teal-500":"text-slate-600"}`,children:b.jsx(me,{name:"chevronDown",className:"w-4 h-4"})})]})]}),b.jsx("div",{className:`transition-all duration-300 ease-in-out ${d?"max-h-[500px] opacity-100":"max-h-0 opacity-0"}`,children:b.jsxs("div",{className:"p-3 pt-0 border-t border-slate-700/50",children:[b.jsx("div",{className:"mt-2 mb-4",children:b.jsx(mE,{exercises:p.rutinaPrincipal||[],limit:3})}),b.jsx("div",{className:"flex justify-end",children:b.jsxs("button",{onClick:y=>{y.stopPropagation(),e(c)},className:"group flex items-center gap-2 pl-4 pr-1.5 py-1.5 bg-slate-700 hover:bg-slate-600 text-white rounded-full font-bold shadow-md transition-all active:scale-95",children:[b.jsx("span",{className:"text-xs tracking-wide",children:"INICIAR SESIN"}),b.jsx("div",{className:"w-8 h-8 bg-black/20 rounded-full flex items-center justify-center",children:b.jsx(me,{name:"play",className:"w-3.5 h-3.5 fill-current"})})]})})]})})]},c.id)})})},E4=({nextRoutine:s,profile:e,onProfileChange:i,onAdjustNextSession:a,loading:l,progressText:c,lang:d})=>{const p=Fi[d],[g,y]=de.useState([]),[T,S]=de.useState(!1),[M,B]=de.useState(!1),Z=J=>y(ce=>ce.includes(J)?ce.filter(ve=>ve!==J):[...ce,J]);de.useEffect(()=>{g.length>0&&i({target:{name:"muscleFocus",value:g.join(", ")}})},[g,i]);const W=[{category:"Grupos",items:["Tren Superior","Tren Inferior","Core","Full Body"]},{category:"Msculos",items:["Glteos","Cudriceps","Pecho","Espalda","Brazos"]}];return b.jsxs(ba,{className:"p-6",children:[b.jsxs("div",{className:"flex justify-between items-start mb-6 border-b border-slate-700/50 pb-4",children:[b.jsx("div",{children:b.jsxs("h3",{className:"text-lg font-bold text-slate-100 flex items-center gap-2",children:[b.jsx(me,{name:"settings",className:"w-5 h-5 text-slate-400"})," ",s.diaEnfoque]})}),l&&b.jsx(uE,{progressText:c})]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-6 items-center",children:[b.jsx(ki,{label:p.timeAvailable,icon:"clock",type:"number",name:"timeAvailable",value:e.timeAvailable,onChange:i}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider ml-1",children:p.modality}),b.jsxs("button",{onClick:()=>S(!T),className:`w-full py-3 px-4 rounded-xl border flex items-center justify-between transition-all ${T?"bg-indigo-500/20 border-indigo-500/50 text-indigo-300":"bg-slate-900/50 border-slate-700 text-slate-400"}`,children:[b.jsx("span",{className:"text-sm font-semibold",children:p.noEquipment}),b.jsx(me,{name:T?"toggleOn":"toggleOff",className:`w-6 h-6 ${T?"text-indigo-400":"text-slate-600"}`})]})]})]}),b.jsxs("div",{className:"border border-slate-700 rounded-xl overflow-hidden",children:[b.jsxs("button",{onClick:()=>B(!M),className:"w-full p-4 flex items-center justify-between bg-slate-900/50 hover:bg-slate-800 transition-colors",children:[b.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:p.focusZone}),b.jsx(me,{name:M?"chevronUp":"chevronDown",className:"w-4 h-4 text-slate-500"})]}),M&&b.jsx("div",{className:"p-4 bg-slate-900/30 animate-fadeIn border-t border-slate-700/50",children:b.jsx("div",{className:"flex flex-wrap gap-2.5",children:W.flatMap(J=>J.items).map(J=>{const ce=g.includes(J);return b.jsx("button",{onClick:()=>Z(J),className:`px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 border hover:scale-105 active:scale-95 ${ce?"bg-teal-600 border-teal-500 text-white shadow-md shadow-teal-900/30":"bg-slate-800 border-slate-700 text-slate-400 hover:border-slate-500 hover:text-slate-200"}`,children:J},J)})})})]}),b.jsx("button",{onClick:()=>a(s,e,T),disabled:l,className:"w-full py-4 rounded-xl bg-slate-700 hover:bg-slate-600 text-white font-bold transition-all duration-300 disabled:opacity-50 disabled:scale-100 hover:scale-[1.02] active:scale-95 flex justify-center items-center gap-2 shadow-lg",children:l?p.processing:b.jsxs(b.Fragment,{children:[b.jsx(me,{name:"refresh",className:"w-5 h-5"})," ",p.recalcParams]})})]})]})},T4=({routine:s,onBack:e,routineId:i,onRoutineFeedback:a,successMessage:l,lang:c,onExerciseComplete:d})=>{const p=Fi[c],[g,y]=de.useState({}),[T,S]=de.useState(""),[M,B]=de.useState({}),[Z,W]=de.useState({});if(!s)return null;const J=pe=>{if(!pe)return;const re=pe.replace(/^[A-Z]\d+[:.]\s*/,"").replace(/\(.*\)/,"").trim(),N=encodeURIComponent(`${re} tecnica ejercicio gym`);window.open(`https://www.youtube.com/results?search_query=${N}`,"_blank")},ce=(pe,re)=>{y(N=>({...N,[pe]:re}))},ve=()=>a(i,{difficulty:g,sets:Z},T,null),le=(pe,re,N)=>{const x=`${pe}-${re}`;W(R=>{const C=!R[x];return C&&d&&d(N),{...R,[x]:C}})},ke=({label:pe,value:re,index:N,current:x,iconName:R})=>{const C=x===re,D={facil:"bg-emerald-600/20 border-emerald-500 text-emerald-400",media:"bg-amber-600/20 border-amber-500 text-amber-400",dificil:"bg-red-600/20 border-red-500 text-red-400",default:"bg-slate-800 border-slate-600 text-slate-400 hover:bg-slate-700"};return b.jsxs("button",{onClick:()=>ce(N,re),className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-lg border text-xs font-bold transition-all duration-300 ${C?D[re]:D.default}`,children:[b.jsx(me,{name:R,className:"w-4 h-4"})," ",pe]})};return b.jsxs("div",{className:"animate-fadeIn pb-24 px-2",children:[b.jsxs("div",{className:"snap-start scroll-mt-24 relative rounded-3xl overflow-hidden bg-slate-800 border border-slate-700 shadow-2xl mb-8",children:[b.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5",children:b.jsx(me,{name:"activity",className:"w-40 h-40"})}),b.jsxs("div",{className:"p-8 relative z-10",children:[b.jsx("div",{className:"flex items-center gap-3 mb-3",children:b.jsx("span",{className:"px-3 py-1 rounded-full bg-teal-500/10 text-teal-300 text-[10px] font-bold uppercase tracking-wider border border-teal-500/20",children:p.activeSession})}),b.jsx("h2",{className:"text-2xl font-bold text-slate-100 mb-2 tracking-tight",children:s.diaEnfoque}),b.jsx("p",{className:"text-slate-400 text-sm mb-6 leading-relaxed max-w-lg",children:s.consejoPro}),b.jsxs("div",{className:"flex gap-4",children:[b.jsxs("div",{className:"px-4 py-2 rounded-lg bg-slate-900/50 border border-slate-700/50 flex items-center gap-2 text-xs text-slate-300",children:[b.jsx(me,{name:"clock",className:"w-3.5 h-3.5 text-teal-400"})," ",s.duracionEstimada]}),b.jsxs("div",{className:"px-4 py-2 rounded-lg bg-slate-900/50 border border-slate-700/50 flex items-center gap-2 text-xs text-slate-300",children:[b.jsx(me,{name:"flame",className:"w-3.5 h-3.5 text-orange-400"})," ",s.calentamiento]})]})]})]}),b.jsx("div",{className:"space-y-6",children:s.rutinaPrincipal?.map((pe,re)=>{const N=pe.tipo_bloque==="superserie",x=pe.componentes||[],R=String.fromCharCode(65+re);let C="Ejercicio 1",D="Ejercicio 2";if(N){const w=["+","/",`
`," y "];let he=null;for(const Ke of w)if(pe.ejercicio.includes(Ke)){he=pe.ejercicio.split(Ke);break}he&&he.length>=2?(C=he[0]?.trim(),D=he[1]?.trim()):(C=pe.ejercicio,D="Parte 2 (Ver detalle)"),C=nr(C),D=nr(D)}else C=pe.ejercicio;const V=w=>w.length>35?"text-sm leading-tight":w.length>25?"text-base leading-tight":"text-lg";return b.jsx(ba,{className:"snap-start scroll-mt-24 overflow-hidden bg-slate-900 border-slate-800 shadow-xl",children:b.jsxs("div",{className:"p-5",children:[N?b.jsxs("div",{className:"mb-6 relative",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[b.jsx("span",{className:"px-2 py-0.5 rounded bg-cyan-500/10 text-cyan-300 text-[10px] font-bold uppercase border border-cyan-500/20",children:"Superserie"}),b.jsx("span",{className:"text-[10px] text-slate-500",children:"Sin descanso entre ejercicios"})]}),b.jsxs("div",{className:"flex justify-between items-center bg-cyan-900/10 p-3 rounded-lg border border-cyan-500/30 mb-8 relative z-10 shadow-[0_0_15px_rgba(6,182,212,0.05)]",children:[b.jsxs("h3",{className:`${V(C)} font-black text-cyan-100 flex items-center`,children:[b.jsxs("span",{className:"text-cyan-400 mr-2 drop-shadow-sm flex-shrink-0",children:[R,"1:"]}),b.jsx("span",{children:C})]}),b.jsxs("div",{className:"flex gap-2 shrink-0",children:[b.jsxs("button",{onClick:w=>{w.stopPropagation(),J(C)},className:"flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-red-600 text-white hover:bg-red-500 transition-colors shadow-lg shadow-red-900/20",title:"Ver video",children:[b.jsx(me,{name:"youtube",className:"w-3.5 h-3.5 fill-current"}),b.jsx("span",{className:"text-[10px] font-bold",children:"VIDEO"})]}),b.jsx("button",{onClick:()=>B(w=>({...w,[re]:!w[re]})),className:"flex items-center gap-1 bg-cyan-500/10 text-cyan-400 px-2 py-1 rounded-full text-[10px] font-bold border border-cyan-500/20 hover:bg-cyan-500/20 transition-colors",children:b.jsx(me,{name:"info",className:"w-3 h-3"})})]})]}),b.jsx("div",{className:"absolute left-8 top-[85px] h-8 w-full border-l-2 border-b-2 border-slate-700/50 rounded-bl-2xl z-0 pointer-events-none"}),b.jsxs("div",{className:"flex justify-between items-center bg-blue-950/60 p-3 rounded-lg border border-blue-800/60 relative z-10 mt-4 shadow-inner",children:[b.jsxs("h3",{className:`${V(D)} font-black text-blue-100 flex items-center`,children:[b.jsxs("span",{className:"text-blue-400 mr-2 flex-shrink-0",children:[R,"2:"]}),b.jsx("span",{children:D})]}),b.jsxs("div",{className:"flex gap-2 shrink-0",children:[b.jsxs("button",{onClick:w=>{w.stopPropagation(),J(D)},className:"flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-red-600 text-white hover:bg-red-500 transition-colors shadow-lg shadow-red-900/20",title:"Ver video",children:[b.jsx(me,{name:"youtube",className:"w-3.5 h-3.5 fill-current"}),b.jsx("span",{className:"text-[10px] font-bold",children:"VIDEO"})]}),b.jsx("button",{onClick:()=>B(w=>({...w,[re]:!w[re]})),className:"flex items-center gap-1 bg-blue-500/10 text-blue-300 px-2 py-1 rounded-full text-[10px] font-bold border border-blue-500/20 hover:bg-blue-500/20 transition-colors",children:b.jsx(me,{name:"info",className:"w-3 h-3"})})]})]})]}):b.jsx("div",{className:"mb-6",children:b.jsxs("div",{className:"flex justify-between items-center bg-slate-800 p-3 rounded-lg border border-slate-700",children:[b.jsxs("h3",{className:`${V(nr(C))} font-black text-slate-200 flex items-center`,children:[b.jsxs("span",{className:"text-slate-500 mr-2 flex-shrink-0",children:[R,":"]}),b.jsx("span",{children:nr(C)})]}),b.jsxs("div",{className:"flex gap-2 shrink-0",children:[b.jsxs("button",{onClick:w=>{w.stopPropagation(),J(C)},className:"flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-red-600 text-white hover:bg-red-500 transition-colors shadow-lg shadow-red-900/20",title:"Ver video",children:[b.jsx(me,{name:"youtube",className:"w-3.5 h-3.5 fill-current"}),b.jsx("span",{className:"text-[10px] font-bold",children:"VIDEO"})]}),b.jsx("button",{onClick:()=>B(w=>({...w,[re]:!w[re]})),className:"flex items-center gap-1 bg-emerald-500/10 text-emerald-400 px-2 py-1 rounded-full text-[10px] font-bold border border-emerald-500/20 hover:bg-emerald-500/20 transition-colors",children:b.jsx(me,{name:"info",className:"w-3 h-3"})})]})]})}),M[re]&&b.jsx("div",{className:"mb-6 p-4 bg-slate-800/50 rounded-xl text-xs text-slate-400 leading-relaxed border-l-2 border-cyan-500 animate-fadeIn whitespace-pre-wrap",children:pe.tecnica_general}),b.jsx("div",{className:"bg-slate-800/30 rounded-xl border border-slate-700/50 p-4",children:N?b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"grid grid-cols-[30px_1fr_1fr_1fr_1fr_40px] gap-2 mb-3 px-1 text-[9px] font-bold uppercase tracking-wider text-center",children:[b.jsx("div",{className:"text-slate-500",children:"#"}),b.jsx("div",{className:"text-cyan-400",children:"Reps 1"}),b.jsx("div",{className:"text-cyan-400",children:"Carga 1"}),b.jsx("div",{className:"text-blue-400",children:"Reps 2"}),b.jsx("div",{className:"text-blue-400",children:"Carga 2"}),b.jsx("div",{children:b.jsx(me,{name:"check",className:"w-3 h-3 mx-auto text-slate-500"})})]}),b.jsx("div",{className:"space-y-2",children:x.map((w,he)=>{const Ke=Z[`${re}-${he}`];return b.jsxs("div",{className:"grid grid-cols-[30px_1fr_1fr_1fr_1fr_40px] gap-2 items-center",children:[b.jsx("div",{className:"w-8 h-8 rounded-full border border-slate-600 flex items-center justify-center text-xs font-bold text-slate-400 bg-slate-800",children:w.numero_serie||he+1}),b.jsx("div",{className:"bg-cyan-500/5 border border-cyan-500/20 rounded h-10 flex items-center justify-center text-xs font-sans text-cyan-200",children:sm(w.repeticiones_ejercicioA)}),b.jsx("div",{className:"bg-cyan-500/5 border border-cyan-500/20 rounded h-10 flex items-center justify-center text-xs font-sans font-semibold text-cyan-300",children:am(w.carga_sugeridaA)}),b.jsx("div",{className:"bg-blue-900/30 border border-blue-800/40 rounded h-10 flex items-center justify-center text-xs font-sans text-blue-200",children:sm(w.repeticiones_ejercicioB)}),b.jsx("div",{className:"bg-blue-900/30 border border-blue-800/40 rounded h-10 flex items-center justify-center text-xs font-sans font-semibold text-blue-300",children:am(w.carga_sugeridaB)}),b.jsx("button",{onClick:()=>le(re,he,pe),className:`w-10 h-10 rounded-lg flex items-center justify-center transition-all duration-200 border ${Ke?"bg-emerald-500 border-emerald-500 text-white":"bg-transparent border-slate-600 text-transparent hover:border-slate-500"}`,children:b.jsx(me,{name:"check",className:"w-5 h-5"})})]},he)})})]}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"grid grid-cols-[30px_1fr_1fr_40px] gap-2 mb-3 px-1 text-[9px] font-bold text-slate-500 uppercase tracking-wider text-center",children:[b.jsx("div",{children:"#"}),b.jsx("div",{children:"Reps"}),b.jsx("div",{children:"Carga"}),b.jsx("div",{children:b.jsx(me,{name:"check",className:"w-3 h-3 mx-auto"})})]}),b.jsx("div",{className:"space-y-2",children:x.map((w,he)=>{const Ke=Z[`${re}-${he}`];return b.jsxs("div",{className:"grid grid-cols-[30px_1fr_1fr_40px] gap-2 items-center",children:[b.jsx("div",{className:"w-8 h-8 rounded-full border border-slate-600 flex items-center justify-center text-xs font-bold text-slate-400 bg-slate-800",children:w.numero_serie||he+1}),b.jsx("div",{className:"bg-slate-700/50 border border-slate-600 rounded h-10 flex items-center justify-center text-xs font-sans text-slate-200",children:sm(w.repeticiones_ejercicio)}),b.jsx("div",{className:"bg-slate-700/50 border border-slate-600 rounded h-10 flex items-center justify-center text-xs font-sans font-semibold text-emerald-400",children:am(w.carga_sugerida)}),b.jsx("button",{onClick:()=>le(re,he,pe),className:`w-10 h-10 rounded-lg flex items-center justify-center transition-all duration-200 border ${Ke?"bg-emerald-500 border-emerald-500 text-white":"bg-transparent border-slate-600 text-transparent hover:border-slate-500"}`,children:b.jsx(me,{name:"check",className:"w-5 h-5"})})]},he)})})]})}),b.jsxs("div",{className:"flex gap-3 mt-6 pt-0",children:[b.jsx(ke,{label:p.easy,value:"facil",index:re,current:g[re],iconName:"biceps"}),b.jsx(ke,{label:p.good,value:"media",index:re,current:g[re],iconName:"checkSimple"}),b.jsx(ke,{label:p.hard,value:"dificil",index:re,current:g[re],iconName:"flame"})]})]})},re)})}),b.jsxs("div",{className:"snap-start mt-10 p-6 bg-slate-800/80 border-t border-slate-700 -mx-4 md:mx-0 md:rounded-2xl backdrop-blur-md",children:[b.jsxs("h3",{className:"text-slate-100 font-bold mb-4 flex items-center gap-2",children:[b.jsx(me,{name:"clipboard",className:"w-5 h-5 text-slate-400"})," ",p.notes]}),b.jsx("textarea",{value:T,onChange:pe=>S(pe.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-xl p-4 text-sm text-slate-200 focus:ring-4 focus:ring-teal-500/20 focus:border-teal-500 outline-none min-h-[100px] mb-5 placeholder:text-slate-600 transition-all",placeholder:p.phNotes}),b.jsxs("button",{onClick:ve,className:"w-full py-4 rounded-xl bg-teal-600 hover:bg-teal-500 text-white font-bold shadow-lg shadow-teal-900/30 transition-all duration-300 hover:scale-[1.02] active:scale-95 flex items-center justify-center gap-2 text-lg",children:[b.jsx(me,{name:"check",className:"w-6 h-6"})," ",p.finishSession]})]})]})},A4=({history:s,profile:e,onViewRoutine:i,lang:a})=>{const l=Fi[a],c=s.filter(d=>d.status==="archived_history").sort((d,p)=>(p.createdAt?.seconds||0)-(d.createdAt?.seconds||0));return b.jsxs("div",{className:"animate-fadeIn pb-20",children:[b.jsxs("h2",{className:"text-lg font-bold text-slate-100 mb-6 flex items-center gap-2",children:[b.jsx(me,{name:"list",className:"w-5 h-5 text-teal-400"})," ",l.history]}),c.length>0?b.jsx("div",{className:"space-y-4",children:c.map(d=>b.jsxs(ba,{className:"p-5 flex items-center justify-between group hover:bg-slate-800 transition-colors cursor-pointer",onClick:()=>i(d),children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx("span",{className:"text-xs font-mono text-slate-500 bg-slate-900 px-2 py-0.5 rounded",children:d.createdAt?.toDate?.().toLocaleDateString()||"N/A"}),b.jsxs("span",{className:"flex items-center gap-1 text-[10px] text-teal-400 font-bold uppercase",children:[b.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-teal-500"})," ",l.completed]})]}),b.jsx("h4",{className:"text-base font-bold text-slate-200 group-hover:text-teal-300 transition-colors",children:d.diaEnfoque})]}),b.jsx("div",{className:"p-3 rounded-full bg-slate-900 text-slate-500 border border-slate-700 group-hover:bg-teal-600 group-hover:text-white group-hover:border-teal-500 transition-all",children:b.jsx(me,{name:"chevronRight",className:"w-5 h-5"})})]},d.id))}):b.jsxs("div",{className:"text-center py-16 opacity-50 bg-slate-800/30 rounded-2xl border border-dashed border-slate-700",children:[b.jsx(me,{name:"database",className:"w-12 h-12 mx-auto mb-4 text-slate-600"}),b.jsx("p",{className:"text-slate-500 font-medium",children:l.noRecords})]})]})},S4=({profile:s,onProfileChange:e,onProfileSave:i,onGenerateBackup:a,onImportFromFile:l,onShowImportModal:c,profileSuccess:d,profileError:p,lang:g,onAnalyzeBioage:y,bioageLoading:T})=>{const S=Fi[g];return b.jsx("div",{className:"animate-fadeIn pb-20 space-y-6",children:b.jsxs("form",{onSubmit:M=>{M.preventDefault(),i(s)},className:"space-y-8",children:[b.jsxs(ba,{className:"p-6",children:[b.jsxs("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-5 flex items-center gap-2 pb-2 border-b border-slate-700/50",children:[b.jsx(me,{name:"user",className:"w-4 h-4 text-teal-400"})," ",S.biometrics]}),b.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[b.jsx(ki,{label:S.gender,icon:"user",type:"select",name:"gender",value:s.gender,onChange:e,options:[{value:"Hombre",label:S.male},{value:"Mujer",label:S.female}]}),b.jsx(ki,{label:S.age,icon:"calendar",type:"number",name:"age",value:s.age,onChange:e}),b.jsx(ki,{label:S.height,icon:"ruler",type:"number",name:"height",value:s.height,onChange:e}),b.jsx(ki,{label:S.weight,icon:"weight",type:"number",name:"weight",value:s.weight,onChange:e})]}),b.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-700/50 grid grid-cols-2 gap-6",children:[b.jsx(Vi,{name:"bodyFat",value:s.bodyFat,onChange:e,unit:"%",label:S.bodyFat,tooltip:"Opcional: Grasa",isBio:!1}),b.jsx(Vi,{name:"muscleMass",value:s.muscleMass,onChange:e,unit:"%",label:S.muscleMass,tooltip:"Opcional: Msculo",isBio:!1})]})]}),b.jsx(y4,{profile:s,onChange:e,lang:g}),b.jsx(g4,{profile:s,onChange:e,lang:g,onAnalyzeBioage:y,bioageLoading:T}),b.jsxs(ba,{className:"p-6",children:[b.jsxs("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-5 flex items-center gap-2 pb-2 border-b border-slate-700/50",children:[b.jsx(me,{name:"target",className:"w-4 h-4 text-violet-400"})," ",S.customFocus]}),b.jsxs("div",{className:"space-y-6",children:[b.jsx(ki,{label:S.mainGoal,icon:"star",type:"select",name:"mainGoal",value:s.mainGoal,onChange:e,options:[{value:"Perder grasa corporal",label:S.goalFat},{value:"Crecimiento muscular (Hipertrofia)",label:S.goalMuscle},{value:"Incremento de fuerza",label:S.goalStrength},{value:"Mejora de rendimiento cardiovascular",label:S.goalCardio}]}),b.jsx(ki,{label:S.expLevel,icon:"activity",type:"select",name:"experienceLevel",value:s.experienceLevel,onChange:e,options:[{value:"Principiante",label:S.expBeginner},{value:"Intermedio",label:S.expInter},{value:"Avanzado",label:S.expAdvanced}]}),b.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[b.jsx(ki,{label:S.daysWeek,icon:"calendar",type:"number",name:"daysPerWeek",value:s.daysPerWeek,onChange:e}),b.jsx(ki,{label:S.timeAvailable,icon:"clock",type:"number",name:"timeAvailable",value:s.timeAvailable,onChange:e})]}),b.jsx(ki,{label:S.injuries,icon:"alert",type:"text",name:"injuries",value:s.injuries,onChange:e,placeholder:S.phInjuries,isTextArea:!0})]})]}),b.jsx("div",{className:"flex items-center gap-4",children:b.jsxs("button",{type:"submit",className:"flex-1 py-4 bg-teal-600 hover:bg-teal-500 text-white font-bold rounded-xl shadow-lg shadow-teal-900/20 transition-all duration-300 hover:scale-[1.02] active:scale-95 flex justify-center items-center gap-2",children:[b.jsx(me,{name:"save",className:"w-5 h-5"})," ",S.saveFile]})}),d&&b.jsx("div",{className:"p-4 rounded-xl bg-teal-500/10 border border-teal-500/30 text-teal-400 text-sm font-medium text-center shadow-sm",children:d}),p&&b.jsx("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/30 text-red-400 text-sm font-medium text-center shadow-sm",children:p})]})})};function w4({profile:s,onProfileChange:e,onGeneratePlan:i,onAdjustNextSession:a,loading:l,successMessage:c,errorMessage:d,history:p,onViewRoutine:g,generationProgress:y,lang:T,onAnalyzeBioage:S,bioageLoading:M}){const B=Fi[T],[Z,W]=de.useState(B.generating),[J,ce]=de.useState("recommended"),[ve,le]=de.useState(!1),[ke,pe]=de.useState(null),re=s.currentPlanId,N=(new Date().getDay()+6)%7,x=p.filter(he=>he.planId===re&&he.status!=="archived_history").sort((he,Ke)=>he.weekDay-Ke.weekDay),R=new Map;p.forEach(he=>{he.planId===re&&he.status==="completed"&&he.completedOnDay!==void 0&&R.set(he.completedOnDay,he)});const C=x.find(he=>he.status==="pending"),D=x.filter(he=>he.id!==C?.id),V=p4(x,parseInt(s.daysPerWeek,10)||3);de.useEffect(()=>{y<30?W(B.analyzing):y<60?W(B.designing):y<90?W(B.optimizing):W(B.finalizing)},[y,T]);const w=he=>{pe(he),le(!0)};return b.jsxs("div",{className:"animate-fadeIn pb-24",children:[b.jsxs("div",{className:"space-y-2 mb-4",children:[c&&b.jsxs("div",{className:"p-4 bg-teal-500/10 border border-teal-500/20 text-teal-300 rounded-xl flex items-center shadow-lg backdrop-blur-md",children:[b.jsx(me,{name:"check",className:"mr-3 w-5 h-5"})," ",c]}),d&&b.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 text-red-300 rounded-xl flex items-center shadow-lg backdrop-blur-md",children:[b.jsx(me,{name:"alert",className:"mr-3 w-5 h-5"})," ",d]})]}),b.jsx(_4,{weekDistribution:V,completionLog:R,todayIndex:N}),b.jsxs("div",{className:"flex items-center justify-between mb-4 border-b border-slate-700/50 pb-1 px-2",children:[b.jsxs("div",{className:"flex gap-6",children:[b.jsxs("button",{onClick:()=>ce("recommended"),className:`pb-2 text-xs font-bold transition-all relative uppercase tracking-wider ${J==="recommended"?"text-teal-400":"text-slate-500 hover:text-slate-300"}`,children:["Recomendado",J==="recommended"&&b.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-teal-500 rounded-t-full"})]}),b.jsxs("button",{onClick:()=>ce("library"),className:`pb-2 text-xs font-bold transition-all relative uppercase tracking-wider ${J==="library"?"text-slate-200":"text-slate-500 hover:text-slate-300"}`,children:["Ms Opciones",J==="library"&&b.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-slate-200 rounded-t-full"})]})]}),b.jsxs("button",{onClick:()=>i(s),className:"pb-2 text-[10px] font-bold text-teal-400 hover:text-teal-300 flex items-center gap-1.5 transition-colors",children:[b.jsx(me,{name:"refresh",className:"w-3 h-3"})," ",B.regenerateCycle]})]}),b.jsxs("div",{className:"min-h-[250px]",children:[l?b.jsx("div",{className:"flex flex-col items-center justify-center py-10",children:b.jsx(uE,{progressText:Z})}):b.jsxs(b.Fragment,{children:[J==="recommended"&&b.jsx(b.Fragment,{children:C?b.jsx("div",{className:"animate-fadeIn",children:b.jsx(v4,{routine:C,onView:g,onAdjust:()=>w(C)})}):b.jsxs("div",{className:"text-center py-12 border border-dashed border-slate-700/50 rounded-2xl bg-slate-800/20",children:[b.jsx("div",{className:"w-16 h-16 bg-emerald-500/10 rounded-full flex items-center justify-center mx-auto mb-3 border border-emerald-500/20",children:b.jsx(me,{name:"check",className:"w-8 h-8 text-emerald-500"})}),b.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:"Semana Completada!"}),b.jsx("p",{className:"text-slate-500 text-xs mb-5 max-w-[200px] mx-auto",children:"No hay rutinas pendientes. Gran trabajo!"})]})}),J==="library"&&b.jsxs("div",{className:"animate-fadeIn",children:[b.jsx(b4,{routines:D,onView:g,onAdjust:w}),D.length===0&&C&&b.jsx("div",{className:"text-center py-10 opacity-50",children:b.jsx("p",{className:"text-xs text-slate-500",children:"Solo queda la rutina recomendada."})})]})]}),ve&&ke&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-slate-950/90 backdrop-blur-sm p-4 animate-fadeIn",children:b.jsxs("div",{className:"w-full max-w-md relative",children:[b.jsx("button",{onClick:()=>le(!1),className:"absolute -top-10 right-0 text-slate-400 hover:text-white",children:b.jsx(me,{name:"close",className:"w-8 h-8"})}),b.jsx(E4,{nextRoutine:ke,profile:s,onProfileChange:e,onAdjustNextSession:(he,Ke,F)=>{a(he,Ke,F),le(!1)},loading:l,progressText:Z,lang:T})]})}),x.length===0&&!l&&b.jsxs("div",{className:"p-6 text-center border border-dashed border-slate-700 rounded-2xl mt-4",children:[b.jsx(me,{name:"sparkles",className:"w-8 h-8 text-teal-500 mx-auto mb-3"}),b.jsx("p",{className:"text-slate-400 text-xs mb-4",children:B.noPlan}),b.jsx("button",{onClick:()=>i(s),className:"w-full py-3 rounded-lg bg-teal-600 text-white font-bold text-xs shadow-lg shadow-teal-900/20 hover:bg-teal-500",children:B.startRoutine})]})]})]})}const x4=({jsonString:s,onClose:e,onCopy:i,copySuccess:a,lang:l})=>{const c=Fi[l];return b.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-sm flex items-center justify-center p-6 z-50 animate-fadeIn",children:b.jsxs(ba,{className:"w-full max-w-lg p-6 border-slate-600 bg-slate-900",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h3",{className:"text-slate-100 font-bold text-lg",children:c.copyBackup}),b.jsx("button",{onClick:e,children:b.jsx(me,{name:"close",className:"text-slate-400 hover:text-white"})})]}),b.jsx("textarea",{readOnly:!0,value:s,className:"w-full h-48 bg-slate-950 text-slate-400 text-xs p-4 rounded-xl border border-slate-700 mb-5 minimal-scrollbar font-mono focus:outline-none focus:border-teal-500"}),b.jsx("div",{className:"flex justify-end gap-3",children:b.jsx("button",{onClick:i,className:`px-5 py-2.5 rounded-lg font-bold text-sm transition-colors shadow-lg ${a?"bg-emerald-600 text-white":"bg-teal-600 text-white hover:bg-teal-500"}`,children:a?b.jsxs(b.Fragment,{children:[b.jsx(me,{name:"check",className:"inline w-4 h-4 mr-1"})," ",c.copied]}):b.jsxs(b.Fragment,{children:[b.jsx(me,{name:"copy",className:"inline w-4 h-4 mr-1"})," ",c.copyToClip]})})})]})})},R4=({onClose:s,onImport:e,importError:i,lang:a})=>{const l=Fi[a],[c,d]=de.useState("");return b.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-sm flex items-center justify-center p-6 z-50 animate-fadeIn",children:b.jsxs(ba,{className:"w-full max-w-lg p-6 border-slate-600 bg-slate-900",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h3",{className:"text-slate-100 font-bold text-lg",children:l.importData}),b.jsx("button",{onClick:s,children:b.jsx(me,{name:"close",className:"text-slate-400 hover:text-white"})})]}),b.jsx("textarea",{value:c,onChange:p=>d(p.target.value),className:"w-full h-48 bg-slate-950 text-slate-200 text-xs p-4 rounded-xl border border-slate-700 mb-5 minimal-scrollbar font-mono focus:ring-2 focus:ring-teal-500 outline-none",placeholder:"Pegar contenido JSON aqu..."}),b.jsx("div",{className:"flex justify-end gap-3",children:b.jsx("button",{onClick:()=>e(c),className:"px-5 py-2.5 rounded-lg bg-teal-600 text-white font-bold text-sm hover:bg-teal-500 shadow-lg",children:l.importBtn})}),i&&b.jsx("p",{className:"text-red-400 text-xs mt-3 bg-red-900/20 p-2 rounded border border-red-900/50",children:i})]})})};function N4(){const[s,e]=de.useState("main"),[i,a]=de.useState("es"),[l,c]=de.useState(null),[d,p]=de.useState(null),[g,y]=de.useState([]),[T,S]=de.useState({gender:"Hombre",age:0,height:0,weight:0,bodyFat:0,muscleMass:0,daysPerWeek:3,mainGoal:"Perder grasa corporal",experienceLevel:"Intermedio",injuries:"",muscleFocus:"recomendado",timeAvailable:45,currentPlanId:null,bioage:{sq1rm:"",bp1rm:"",plank:"",pullups:"",pushups:"",waist:"",vo2max:"",rhr:"",hrr:""},bioageEstimation:null,menstrualCycle:{lastPeriod:"",cycleLength:28}}),[M,B]=de.useState(!1),[Z,W]=de.useState(!1),[J,ce]=de.useState(0),[ve,le]=de.useState(null),[ke,pe]=de.useState(null),[re,N]=de.useState(null),[x,R]=de.useState(null),[C,D]=de.useState(null),[V,w]=de.useState(!1),[he,Ke]=de.useState(null),[F,se]=de.useState(!1),[ge,je]=de.useState(!1),[Je,k]=de.useState(null),[Q,ne]=de.useState("training"),ie=Fi[i],[Ae,xe]=de.useState(0),[Le,vt]=de.useState(!1),[Ze,Pn]=de.useState(0),[Ts,As]=de.useState(!0),Ss=de.useRef(null),[wn,Aa]=de.useState(!1),Gi=ee=>Aa(ee.currentTarget.scrollTop>10),qt=C&&Pt?ao(Pt,"artifacts",Wa,"users",C,"profile","userProfile"):null,xn=C&&Pt?Rv(Pt,"artifacts",Wa,"users",C,"routines"):null,Et=()=>a(ee=>ee==="es"?"en":"es");de.useEffect(()=>{const ee=setTimeout(()=>As(!1),2e3);return()=>clearTimeout(ee)},[]),de.useEffect(()=>{let ee=!0;if(!Ll)return;const Se=DS(Ll,async Pe=>{if(ee){if(Pe)D(Pe.uid);else try{const Ve=typeof __initial_auth_token<"u"?__initial_auth_token:null;Ve?await NS(Ll,Ve):await AS(Ll)}catch(Ve){console.error(Ve),ee&&le(typeof Ve.message=="string"?Ve.message:ie.errorAuth)}ee&&w(!0)}});return()=>{ee=!1,Se()}},[]),de.useEffect(()=>{let ee=!0;if(!V||!C||!qt||!xn||!Pt)return;(async()=>{try{const Ve=await kv(qt);if(!ee)return;if(Ve.exists()){const Me=Ve.data();S(at=>({...at,...Me,bioage:Me.bioage||{sq1rm:"",bp1rm:"",plank:"",pullups:"",pushups:"",waist:"",vo2max:"",rhr:"",hrr:""},bioageEstimation:Me.bioageEstimation||null,menstrualCycle:Me.menstrualCycle||{lastPeriod:"",cycleLength:28}}))}else await Ml(qt,T)}catch(Ve){console.error(Ve)}})();const Pe=iI(xn,Ve=>{if(!ee)return;const Me=Ve.docs.map(at=>({id:at.id,...at.data()}));y(Me)},Ve=>{console.error(Ve)});return()=>{ee=!1,Pe()}},[V,C]),de.useEffect(()=>{let ee;return Le&&(ee=setInterval(()=>{xe(Se=>Se+1)},1e3)),()=>clearInterval(ee)},[Le]),de.useEffect(()=>{let ee;return Ze>0&&(ee=setInterval(()=>{Pn(Se=>Se-1)},1e3)),()=>clearInterval(ee)},[Ze]),de.useEffect(()=>{if(ke||re||ve||x){const ee=setTimeout(()=>{pe(null),N(null),le(null),R(null)},3e3);return()=>clearTimeout(ee)}},[ke,re,ve,x]);const Tt=ee=>{const{name:Se,value:Pe,type:Ve}=ee.target;if(Se==="bioage"){S(at=>({...at,bioage:Pe}));return}if(Se==="menstrualCycle"){S(at=>({...at,menstrualCycle:Pe}));return}let Me=Pe;Se==="daysPerWeek"&&Pe!==""?Me=Math.max(1,Math.min(7,parseInt(Pe,10))):Ve==="number"&&(Me=Pe===""?"":parseFloat(Pe)),S(at=>({...at,[Se]:Me}))},di=de.useCallback(async ee=>{if(qt)try{await Ml(qt,ee,{merge:!0}),N(ie.msgProfileSaved)}catch{R(ie.errorSave)}},[qt,i]),mr=async ee=>{W(!0),le(null);try{const Se=await m4(ee,i),Pe={...ee,bioageEstimation:Se};S(Pe),qt&&await Ml(qt,{bioageEstimation:Se},{merge:!0})}catch(Se){console.error(Se),R("Error al calcular BioAge.")}finally{W(!1)}},pr=de.useCallback(async ee=>{if(B(!0),le(null),pe(null),ce(0),!xn||!Pt){le("DB no lista"),B(!1);return}try{const Se=g.filter(ht=>ht.status==="completed").sort((ht,Jt)=>Jt.createdAt?.seconds-ht.createdAt?.seconds).slice(0,10),Pe=await f4(ee,Pv(Se),i);ce(100);const Ve=`plan_${Date.now()}`,Me=nm(Pt),at=ZN(xn,WN("status","==","pending"));(await nI(at)).forEach(ht=>Me.delete(ht.ref)),Pe.forEach((ht,Jt)=>{const Zt=ao(xn);Me.set(Zt,{routine:ht,diaEnfoque:ht.diaEnfoque||`Da ${Jt+1}`,createdAt:tm(),status:"pending",weekDay:Jt+1,planId:Ve})}),qt&&Me.update(qt,{currentPlanId:Ve}),S(ht=>({...ht,currentPlanId:Ve})),await Me.commit(),pe(ie.msgPlanGen)}catch(Se){console.error(Se),le(Se.message)}finally{setTimeout(()=>{B(!1),ce(0)},500)}},[xn,Pt,g,qt,i]),Xt=de.useCallback(async(ee,Se,Pe)=>{if(B(!0),le(null),!!Pt)try{const Ve=g.filter(mt=>mt.status==="completed").slice(0,5),Me=await d4(Se,ee.diaEnfoque,Se.muscleFocus,Se.timeAvailable,Pv(Ve),Pe,i),at=ao(Pt,"artifacts",Wa,"users",C,"routines",ee.id);await Ml(at,{routine:Me,diaEnfoque:Me.diaEnfoque,descripcionBreve:Me.descripcionBreve},{merge:!0}),pe(ie.msgSessionUpd)}catch(Ve){console.error(Ve),le(Ve.message)}finally{setTimeout(()=>{B(!1)},500)}},[Pt,Wa,C,g,i]),mi=ee=>{c(ee.routine),p(ee.id),pe(null),le(null),e("routine"),xe(0),vt(!0),Pn(0)},Sa=ee=>{const Se=c4(T,ee);Pn(Se)},wa=de.useCallback(async(ee,Se,Pe,Ve)=>{if(vt(!1),!C||ee==="bonus_01"){pe(ie.msgBonusReg),setTimeout(()=>{e("main"),ne("training")},1e3);return}if(!Pt)return;const Me=ao(Pt,"artifacts",Wa,"users",C,"routines",ee),at=Rv(Pt,"artifacts",Wa,"users",C,"routines"),mt=ao(at);try{const ht=await kv(Me),Jt=ht.exists()?ht.data():{},Zt={feedback:Se,notes:Pe,exerciseView:Ve,status:"completed",completedOnDay:(new Date().getDay()+6)%7,completedAt:tm()},ws=nm(Pt);ws.update(Me,Zt),ws.set(Me,Zt,{merge:!0}),ws.set(mt,{...Jt,...Zt,status:"archived_history",originalRoutineId:ee}),await ws.commit(),pe(ie.msgSessionReg),setTimeout(()=>{e("main"),ne("training")},1e3)}catch(ht){console.error(ht),le(ie.errorSave)}},[C,Wa,Pt,i]),pi=()=>{N(null),R(null);try{if(!T||!g)return;const ee=g.map(({id:Se,...Pe})=>Pe);Ke(JSON.stringify({profile:T,routineHistory:ee},null,2))}catch(ee){R(ee.message)}},Co=()=>{Ke(null),se(!1)},gr=()=>{he&&navigator.clipboard.writeText(he).then(()=>se(!0))},yr=ee=>{const Se=ee.target.files[0];if(!Se)return;const Pe=new FileReader;Pe.onload=async Ve=>{try{await Ct(Ve.target.result),N(ie.msgImported)}catch(Me){R(Me.message)}ee.target.value=null},Pe.readAsText(Se)},_r=()=>{k(null),je(!0)},Rn=async ee=>{k(null),N(null),R(null);try{await Ct(ee),je(!1),N(ie.msgImported)}catch(Se){k(Se.message)}},Ct=async ee=>{if(!Pt||!qt)return;const Se=JSON.parse(ee);if(!Se.profile||!Se.routineHistory)throw new Error("JSON invlido");const Pe={...T,...Se.profile};await Ml(qt,Pe,{merge:!0}),S(Pe);const Ve=nm(Pt);Se.routineHistory.forEach(Me=>{let at={...Me};Me.createdAt?.seconds?at.createdAt=new dt(Me.createdAt.seconds,Me.createdAt.nanoseconds||0):at.createdAt=tm(),Ve.set(ao(xn),at)}),await Ve.commit()},dn=()=>{const ee=Q==="history";e("main"),c(null),p(null),ee||pe(null),ne(ee?"history":"training"),vt(!1),xe(0),Pn(0)};return!Pt&&!ve?b.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-900 text-slate-400 animate-pulse",children:"Iniciando base de datos..."}):b.jsxs(b.Fragment,{children:[b.jsx(l4,{}),b.jsx(u4,{show:Ts}),b.jsxs("div",{className:"h-screen supports-[height:100dvh]:h-[100dvh] flex flex-col overflow-hidden font-sans bg-slate-900 text-slate-100 selection:bg-teal-500/30",children:[he&&b.jsx(x4,{jsonString:he,onClose:Co,onCopy:gr,copySuccess:F,lang:i}),ge&&b.jsx(R4,{onClose:()=>je(!1),onImport:Rn,importError:Je,lang:i}),b.jsx("header",{ref:Ss,className:`w-full z-40 fixed top-0 left-0 border-b transition-all duration-300 ${wn?"bg-slate-900/90 backdrop-blur-xl border-slate-700/50 py-2 shadow-md":"bg-transparent border-transparent py-3"}`,children:b.jsxs("div",{className:"max-w-md mx-auto px-6 flex items-center justify-between",children:[b.jsxs("h1",{className:`font-bold text-slate-100 flex items-center transition-all ${wn?"text-sm":"text-base"}`,children:[s==="routine"?b.jsx("button",{onClick:dn,className:"mr-3 text-slate-400 hover:text-white transition-colors p-2 rounded-full hover:bg-slate-800",children:b.jsx(me,{name:"arrowLeft",className:"w-6 h-6"})}):b.jsx("div",{className:"bg-teal-500/10 p-1.5 rounded-lg mr-2",children:b.jsx(me,{name:"dumbbell",className:"text-teal-400 w-4 h-4"})}),b.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-white to-slate-400",children:s==="routine"?ie.routineInProgress:ie.appTitle})]}),b.jsx("div",{className:"flex items-center gap-2 text-xs",children:s==="routine"?b.jsx("div",{className:"w-8"}):b.jsxs("div",{className:"flex items-center gap-2 scale-90 origin-right",children:[b.jsxs("button",{onClick:Et,className:"flex items-center px-2 py-0.5 rounded-lg bg-slate-800 border border-slate-700 text-slate-400 hover:text-white hover:border-slate-500 transition-all font-bold font-mono tracking-tighter",children:[b.jsx("span",{className:i==="es"?"text-teal-400":"",children:"ES"}),b.jsx("span",{className:"mx-1 opacity-30",children:"|"}),b.jsx("span",{className:i==="en"?"text-teal-400":"",children:"EN"})]}),C?b.jsxs("span",{className:"flex items-center px-2 py-0.5 rounded-full bg-teal-500/10 border border-teal-500/20 text-teal-300 font-semibold shadow-inner",children:[b.jsx(me,{name:"activity",className:"w-3.5 h-3.5 mr-2"}),ie.online]}):b.jsx(me,{name:"loader",className:"w-4 h-4 animate-spin text-slate-500"})]})})]})}),b.jsx("main",{className:`flex-1 overflow-y-auto overflow-x-hidden minimal-scrollbar pt-16 ${s==="routine"?"snap-y snap-proximity":""}`,onScroll:Gi,children:b.jsxs("div",{className:"max-w-md mx-auto px-4 md:px-0 pb-32",children:[s==="main"&&b.jsxs(b.Fragment,{children:[Q==="training"&&b.jsx(w4,{profile:T,onProfileChange:Tt,onGeneratePlan:pr,onAdjustNextSession:Xt,loading:M,successMessage:ke,errorMessage:ve,history:g,onViewRoutine:mi,generationProgress:J,lang:i,onAnalyzeBioage:mr,bioageLoading:Z}),Q==="history"&&b.jsx(A4,{history:g,profile:T,onViewRoutine:mi,lang:i}),Q==="profile"&&b.jsx(S4,{profile:T,onProfileChange:Tt,onProfileSave:di,onGenerateBackup:pi,onImportFromFile:yr,onShowImportModal:_r,profileSuccess:re,profileError:x,lang:i,onAnalyzeBioage:mr,bioageLoading:Z})]}),s==="routine"&&b.jsx(T4,{routine:l,onBack:dn,routineId:d,onRoutineFeedback:wa,successMessage:ke,lang:i,onExerciseComplete:Sa})]})}),b.jsx("div",{className:"fixed bottom-6 left-0 right-0 z-40 flex justify-center pointer-events-none",children:s==="main"?b.jsx("nav",{className:"bg-slate-800/50 backdrop-blur-xl border border-slate-700/50 shadow-2xl rounded-full px-6 py-3 flex gap-8 pointer-events-auto",children:["training","history","profile"].map(ee=>{const Se=Q===ee,Pe={training:"target",history:"list",profile:"user"};return b.jsx("button",{onClick:()=>ne(ee),className:`relative p-3 rounded-full transition-all duration-300 group ${Se?"bg-teal-500 text-white shadow-lg shadow-teal-500/30 -translate-y-2 scale-110":"text-slate-400 hover:text-slate-200 hover:bg-slate-700/50"}`,children:b.jsx(me,{name:Pe[ee],className:"w-6 h-6"})},ee)})}):b.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-xl border border-slate-700/50 shadow-2xl rounded-full px-6 py-3 flex gap-6 items-center pointer-events-auto animate-fadeIn",children:[b.jsxs("div",{className:`flex items-center gap-2 font-mono font-bold text-xl ${Ze>0?"text-orange-400":"text-slate-500 opacity-60"}`,children:[b.jsx(me,{name:"coffee",className:`w-4 h-4 ${Ze>0?"animate-pulse":""}`}),b.jsx("span",{children:Ze>0?Uv(Ze):"--:--"})]}),b.jsx("div",{className:"w-px h-6 bg-slate-600/50"}),b.jsxs("div",{className:"flex items-center gap-2 font-mono font-bold text-xl text-teal-400",children:[b.jsx(me,{name:"timer",className:"w-4 h-4"}),b.jsx("span",{children:Uv(Ae)})]})]})})]})]})}n2.createRoot(document.getElementById("root")).render(b.jsx(KT.StrictMode,{children:b.jsx(N4,{})}));
