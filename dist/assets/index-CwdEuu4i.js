(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function r1(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Yf={exports:{}},zl={};var h_;function T2(){if(h_)return zl;h_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:c}}return zl.Fragment=e,zl.jsx=n,zl.jsxs=n,zl}var d_;function A2(){return d_||(d_=1,Yf.exports=T2()),Yf.exports}var _=A2(),Kf={exports:{}},De={};var f_;function S2(){if(f_)return De;f_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),w=Symbol.iterator;function P(k){return k===null||typeof k!="object"?null:(k=w&&k[w]||k["@@iterator"],typeof k=="function"?k:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,G={};function ne(k,K,re){this.props=k,this.context=K,this.refs=G,this.updater=re||Y}ne.prototype.isReactComponent={},ne.prototype.setState=function(k,K){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,K,"setState")},ne.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function oe(){}oe.prototype=ne.prototype;function le(k,K,re){this.props=k,this.context=K,this.refs=G,this.updater=re||Y}var _e=le.prototype=new oe;_e.constructor=le,J(_e,ne.prototype),_e.isPureReactComponent=!0;var Te=Array.isArray;function xe(){}var I={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function N(k,K,re){var te=re.ref;return{$$typeof:s,type:k,key:K,ref:te!==void 0?te:null,props:re}}function O(k,K){return N(k.type,K,k.props)}function D(k){return typeof k=="object"&&k!==null&&k.$$typeof===s}function V(k){var K={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(re){return K[re]})}var R=/\/+/g;function Re(k,K){return typeof k=="object"&&k!==null&&k.key!=null?V(""+k.key):K.toString(36)}function Qe(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(xe,xe):(k.status="pending",k.then(function(K){k.status==="pending"&&(k.status="fulfilled",k.value=K)},function(K){k.status==="pending"&&(k.status="rejected",k.reason=K)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function F(k,K,re,te,me){var Ae=typeof k;(Ae==="undefined"||Ae==="boolean")&&(k=null);var ie=!1;if(k===null)ie=!0;else switch(Ae){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(k.$$typeof){case s:case e:ie=!0;break;case E:return ie=k._init,F(ie(k._payload),K,re,te,me)}}if(ie)return me=me(k),ie=te===""?"."+Re(k,0):te,Te(me)?(re="",ie!=null&&(re=ie.replace(R,"$&/")+"/"),F(me,K,re,"",function(ut){return ut})):me!=null&&(D(me)&&(me=O(me,re+(me.key==null||k&&k.key===me.key?"":(""+me.key).replace(R,"$&/")+"/")+ie)),K.push(me)),1;ie=0;var pe=te===""?".":te+":";if(Te(k))for(var ve=0;ve<k.length;ve++)te=k[ve],Ae=pe+Re(te,ve),ie+=F(te,K,re,Ae,me);else if(ve=P(k),typeof ve=="function")for(k=ve.call(k),ve=0;!(te=k.next()).done;)te=te.value,Ae=pe+Re(te,ve++),ie+=F(te,K,re,Ae,me);else if(Ae==="object"){if(typeof k.then=="function")return F(Qe(k),K,re,te,me);throw K=String(k),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ie}function se(k,K,re){if(k==null)return k;var te=[],me=0;return F(k,te,"","",function(Ae){return K.call(re,Ae,me++)}),te}function ce(k){if(k._status===-1){var K=k._result;K=K(),K.then(function(re){(k._status===0||k._status===-1)&&(k._status=1,k._result=re)},function(re){(k._status===0||k._status===-1)&&(k._status=2,k._result=re)}),k._status===-1&&(k._status=0,k._result=K)}if(k._status===1)return k._result.default;throw k._result}var Me=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},je={map:se,forEach:function(k,K,re){se(k,function(){K.apply(this,arguments)},re)},count:function(k){var K=0;return se(k,function(){K++}),K},toArray:function(k){return se(k,function(K){return K})||[]},only:function(k){if(!D(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return De.Activity=S,De.Children=je,De.Component=ne,De.Fragment=n,De.Profiler=o,De.PureComponent=le,De.StrictMode=r,De.Suspense=g,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,De.__COMPILER_RUNTIME={__proto__:null,c:function(k){return I.H.useMemoCache(k)}},De.cache=function(k){return function(){return k.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(k,K,re){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var te=J({},k.props),me=k.key;if(K!=null)for(Ae in K.key!==void 0&&(me=""+K.key),K)!x.call(K,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&K.ref===void 0||(te[Ae]=K[Ae]);var Ae=arguments.length-2;if(Ae===1)te.children=re;else if(1<Ae){for(var ie=Array(Ae),pe=0;pe<Ae;pe++)ie[pe]=arguments[pe+2];te.children=ie}return N(k.type,me,te)},De.createContext=function(k){return k={$$typeof:d,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:c,_context:k},k},De.createElement=function(k,K,re){var te,me={},Ae=null;if(K!=null)for(te in K.key!==void 0&&(Ae=""+K.key),K)x.call(K,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(me[te]=K[te]);var ie=arguments.length-2;if(ie===1)me.children=re;else if(1<ie){for(var pe=Array(ie),ve=0;ve<ie;ve++)pe[ve]=arguments[ve+2];me.children=pe}if(k&&k.defaultProps)for(te in ie=k.defaultProps,ie)me[te]===void 0&&(me[te]=ie[te]);return N(k,Ae,me)},De.createRef=function(){return{current:null}},De.forwardRef=function(k){return{$$typeof:m,render:k}},De.isValidElement=D,De.lazy=function(k){return{$$typeof:E,_payload:{_status:-1,_result:k},_init:ce}},De.memo=function(k,K){return{$$typeof:y,type:k,compare:K===void 0?null:K}},De.startTransition=function(k){var K=I.T,re={};I.T=re;try{var te=k(),me=I.S;me!==null&&me(re,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(xe,Me)}catch(Ae){Me(Ae)}finally{K!==null&&re.types!==null&&(K.types=re.types),I.T=K}},De.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},De.use=function(k){return I.H.use(k)},De.useActionState=function(k,K,re){return I.H.useActionState(k,K,re)},De.useCallback=function(k,K){return I.H.useCallback(k,K)},De.useContext=function(k){return I.H.useContext(k)},De.useDebugValue=function(){},De.useDeferredValue=function(k,K){return I.H.useDeferredValue(k,K)},De.useEffect=function(k,K){return I.H.useEffect(k,K)},De.useEffectEvent=function(k){return I.H.useEffectEvent(k)},De.useId=function(){return I.H.useId()},De.useImperativeHandle=function(k,K,re){return I.H.useImperativeHandle(k,K,re)},De.useInsertionEffect=function(k,K){return I.H.useInsertionEffect(k,K)},De.useLayoutEffect=function(k,K){return I.H.useLayoutEffect(k,K)},De.useMemo=function(k,K){return I.H.useMemo(k,K)},De.useOptimistic=function(k,K){return I.H.useOptimistic(k,K)},De.useReducer=function(k,K,re){return I.H.useReducer(k,K,re)},De.useRef=function(k){return I.H.useRef(k)},De.useState=function(k){return I.H.useState(k)},De.useSyncExternalStore=function(k,K,re){return I.H.useSyncExternalStore(k,K,re)},De.useTransition=function(){return I.H.useTransition()},De.version="19.2.3",De}var m_;function Gm(){return m_||(m_=1,Kf.exports=S2()),Kf.exports}var ee=Gm();const a1=r1(ee);var $f={exports:{}},Bl={},Xf={exports:{}},Jf={};var p_;function w2(){return p_||(p_=1,(function(s){function e(F,se){var ce=F.length;F.push(se);e:for(;0<ce;){var Me=ce-1>>>1,je=F[Me];if(0<o(je,se))F[Me]=se,F[ce]=je,ce=Me;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var se=F[0],ce=F.pop();if(ce!==se){F[0]=ce;e:for(var Me=0,je=F.length,k=je>>>1;Me<k;){var K=2*(Me+1)-1,re=F[K],te=K+1,me=F[te];if(0>o(re,ce))te<je&&0>o(me,re)?(F[Me]=me,F[te]=ce,Me=te):(F[Me]=re,F[K]=ce,Me=K);else if(te<je&&0>o(me,ce))F[Me]=me,F[te]=ce,Me=te;else break e}}return se}function o(F,se){var ce=F.sortIndex-se.sortIndex;return ce!==0?ce:F.id-se.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();s.unstable_now=function(){return d.now()-m}}var g=[],y=[],E=1,S=null,w=3,P=!1,Y=!1,J=!1,G=!1,ne=typeof setTimeout=="function"?setTimeout:null,oe=typeof clearTimeout=="function"?clearTimeout:null,le=typeof setImmediate<"u"?setImmediate:null;function _e(F){for(var se=n(y);se!==null;){if(se.callback===null)r(y);else if(se.startTime<=F)r(y),se.sortIndex=se.expirationTime,e(g,se);else break;se=n(y)}}function Te(F){if(J=!1,_e(F),!Y)if(n(g)!==null)Y=!0,xe||(xe=!0,V());else{var se=n(y);se!==null&&Qe(Te,se.startTime-F)}}var xe=!1,I=-1,x=5,N=-1;function O(){return G?!0:!(s.unstable_now()-N<x)}function D(){if(G=!1,xe){var F=s.unstable_now();N=F;var se=!0;try{e:{Y=!1,J&&(J=!1,oe(I),I=-1),P=!0;var ce=w;try{t:{for(_e(F),S=n(g);S!==null&&!(S.expirationTime>F&&O());){var Me=S.callback;if(typeof Me=="function"){S.callback=null,w=S.priorityLevel;var je=Me(S.expirationTime<=F);if(F=s.unstable_now(),typeof je=="function"){S.callback=je,_e(F),se=!0;break t}S===n(g)&&r(g),_e(F)}else r(g);S=n(g)}if(S!==null)se=!0;else{var k=n(y);k!==null&&Qe(Te,k.startTime-F),se=!1}}break e}finally{S=null,w=ce,P=!1}se=void 0}}finally{se?V():xe=!1}}}var V;if(typeof le=="function")V=function(){le(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Re=R.port2;R.port1.onmessage=D,V=function(){Re.postMessage(null)}}else V=function(){ne(D,0)};function Qe(F,se){I=ne(function(){F(s.unstable_now())},se)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_next=function(F){switch(w){case 1:case 2:case 3:var se=3;break;default:se=w}var ce=w;w=se;try{return F()}finally{w=ce}},s.unstable_requestPaint=function(){G=!0},s.unstable_runWithPriority=function(F,se){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ce=w;w=F;try{return se()}finally{w=ce}},s.unstable_scheduleCallback=function(F,se,ce){var Me=s.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Me+ce:Me):ce=Me,F){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=ce+je,F={id:E++,callback:se,priorityLevel:F,startTime:ce,expirationTime:je,sortIndex:-1},ce>Me?(F.sortIndex=ce,e(y,F),n(g)===null&&F===n(y)&&(J?(oe(I),I=-1):J=!0,Qe(Te,ce-Me))):(F.sortIndex=je,e(g,F),Y||P||(Y=!0,xe||(xe=!0,V()))),F},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(F){var se=w;return function(){var ce=w;w=se;try{return F.apply(this,arguments)}finally{w=ce}}}})(Jf)),Jf}var g_;function x2(){return g_||(g_=1,Xf.exports=w2()),Xf.exports}var Zf={exports:{}},an={};var y_;function R2(){if(y_)return an;y_=1;var s=Gm();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:y,implementation:E}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,an.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,E)},an.flushSync=function(g){var y=d.T,E=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=y,r.p=E,r.d.f()}},an.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},an.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},an.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,P=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:P}):E==="script"&&r.d.X(g,{crossOrigin:S,integrity:w,fetchPriority:P,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},an.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},an.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);r.d.L(g,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},an.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},an.requestFormReset=function(g){r.d.r(g)},an.unstable_batchedUpdates=function(g,y){return g(y)},an.useFormState=function(g,y,E){return d.H.useFormState(g,y,E)},an.useFormStatus=function(){return d.H.useHostTransitionStatus()},an.version="19.2.3",an}var __;function N2(){if(__)return Zf.exports;__=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Zf.exports=R2(),Zf.exports}var v_;function I2(){if(v_)return Bl;v_=1;var s=x2(),e=Gm(),n=N2();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(r(188))}function y(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),t;if(f===l)return g(h),i;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=f;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=f;break}if(T===l){v=!0,l=h,a=f;break}T=T.sibling}if(!v){for(T=f.child;T;){if(T===a){v=!0,a=f,l=h;break}if(T===l){v=!0,l=f,a=h;break}T=T.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,w=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),oe=Symbol.for("react.consumer"),le=Symbol.for("react.context"),_e=Symbol.for("react.forward_ref"),Te=Symbol.for("react.suspense"),xe=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Re(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case J:return"Fragment";case ne:return"Profiler";case G:return"StrictMode";case Te:return"Suspense";case xe:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Y:return"Portal";case le:return t.displayName||"Context";case oe:return(t._context.displayName||"Context")+".Consumer";case _e:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:Re(t.type)||"Memo";case x:i=t._payload,t=t._init;try{return Re(t(i))}catch{}}return null}var Qe=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Me=[],je=-1;function k(t){return{current:t}}function K(t){0>je||(t.current=Me[je],Me[je]=null,je--)}function re(t,i){je++,Me[je]=t.current,t.current=i}var te=k(null),me=k(null),Ae=k(null),ie=k(null);function pe(t,i){switch(re(Ae,i),re(me,t),re(te,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Oy(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Oy(i),t=Vy(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(te),re(te,t)}function ve(){K(te),K(me),K(Ae)}function ut(t){t.memoizedState!==null&&re(ie,t);var i=te.current,a=Vy(i,t.type);i!==a&&(re(me,t),re(te,a))}function Bt(t){me.current===t&&(K(te),K(me)),ie.current===t&&(K(ie),jl._currentValue=ce)}var mn,Gt;function pn(t){if(mn===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);mn=i&&i[1]||"",Gt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mn+t+Gt}var zn=!1;function hn(t,i){if(!t||zn)return"";zn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(H){var B=H}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(H){B=H}t.call(Z.prototype)}}else{try{throw Error()}catch(H){B=H}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],T=f[1];if(v&&T){var C=v.split(`
`),z=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===z.length)for(l=C.length-1,h=z.length-1;1<=l&&0<=h&&C[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==z[h]){var Q=`
`+C[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{zn=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?pn(a):""}function oi(t,i){switch(t.tag){case 26:case 27:case 5:return pn(t.type);case 16:return pn("Lazy");case 13:return t.child!==i&&i!==null?pn("Suspense Fallback"):pn("Suspense");case 19:return pn("SuspenseList");case 0:case 15:return hn(t.type,!1);case 11:return hn(t.type.render,!1);case 1:return hn(t.type,!0);case 31:return pn("Activity");default:return""}}function Ji(t){try{var i="",a=null;do i+=oi(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var dt=Object.prototype.hasOwnProperty,gt=s.unstable_scheduleCallback,Tt=s.unstable_cancelCallback,Vs=s.unstable_shouldYield,Bn=s.unstable_requestPaint,qt=s.unstable_now,Nn=s.unstable_getCurrentPriorityLevel,Pr=s.unstable_ImmediatePriority,Lr=s.unstable_UserBlockingPriority,Ei=s.unstable_NormalPriority,Bo=s.unstable_LowPriority,Ur=s.unstable_IdlePriority,xa=s.log,Ra=s.unstable_setDisableYieldValue,sn=null,Dt=null;function gn(t){if(typeof xa=="function"&&Ra(t),Dt&&typeof Dt.setStrictMode=="function")try{Dt.setStrictMode(sn,t)}catch{}}var yt=Math.clz32?Math.clz32:Ia,Na=Math.log,js=Math.LN2;function Ia(t){return t>>>=0,t===0?32:31-(Na(t)/js|0)|0}var qn=256,Zi=262144,At=4194304;function Hn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Fn(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=Hn(l):(v&=T,v!==0?h=Hn(v):a||(a=T&~t,a!==0&&(h=Hn(a))))):(T=l&~f,T!==0?h=Hn(T):v!==0?h=Hn(v):a||(a=l&~t,a!==0&&(h=Hn(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function In(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Ps(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ca(){var t=At;return At<<=1,(At&62914560)===0&&(At=4194304),t}function Gn(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Wi(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qo(t,i,a,l,h,f){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,z=t.hiddenUpdates;for(a=v&~a;0<a;){var Q=31-yt(a),Z=1<<Q;T[Q]=0,C[Q]=-1;var B=z[Q];if(B!==null)for(z[Q]=null,Q=0;Q<B.length;Q++){var H=B[Q];H!==null&&(H.lane&=-536870913)}a&=~Z}l!==0&&es(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~i))}function es(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-yt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function zr(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-yt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Br(t,i){var a=i&-i;return a=(a&42)!==0?1:ts(a),(a&(t.suspendedLanes|i))!==0?0:a}function ts(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function li(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Da(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:s_(t.type))}function Ie(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var et=Math.random().toString(36).slice(2),tt="__reactFiber$"+et,Ke="__reactProps$"+et,rn="__reactContainer$"+et,Qn="__reactEvents$"+et,ns="__reactListeners$"+et,Ls="__reactHandles$"+et,wc="__reactResources$"+et,Ti="__reactMarker$"+et;function ka(t){delete t[tt],delete t[Ke],delete t[Qn],delete t[ns],delete t[Ls]}function Ai(t){var i=t[tt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[rn]||a[tt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=qy(t);t!==null;){if(a=t[tt])return a;t=qy(t)}return i}t=a,a=t.parentNode}return null}function Yn(t){if(t=t[tt]||t[rn]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Cn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function Si(t){var i=t[wc];return i||(i=t[wc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function kt(t){t[Ti]=!0}var Ho=new Set,Fo={};function wi(t,i){xi(t,i),xi(t+"Capture",i)}function xi(t,i){for(Fo[t]=i,t=0;t<i.length;t++)Ho.add(i[t])}var Go=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qo={},Yo={};function xc(t){return dt.call(Yo,t)?!0:dt.call(Qo,t)?!1:Go.test(t)?Yo[t]=!0:(Qo[t]=!0,!1)}function Ma(t,i,a){if(xc(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Dn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Mt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Us(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ko(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,f.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function nt(t){if(!t._valueTracker){var i=Us(t)?"checked":"value";t._valueTracker=Ko(t,i,""+t[i])}}function qr(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Us(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ri(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Hr=/[\n"\\]/g;function yn(t){return t.replace(Hr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Oa(t,i,a,l,h,f,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Qt(i)):t.value!==""+Qt(i)&&(t.value=""+Qt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?$o(t,v,Qt(i)):a!=null?$o(t,v,Qt(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Qt(T):t.removeAttribute("name")}function Rc(t,i,a,l,h,f,v,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){nt(t);return}a=a!=null?""+Qt(a):"",i=i!=null?""+Qt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),nt(t)}function $o(t,i,a){i==="number"&&Ri(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function zs(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Qt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Nc(t,i,a){if(i!=null&&(i=""+Qt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Qt(a):""}function Bs(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(Qe(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Qt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),nt(t)}function _n(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Ic=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Ic.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Jo(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Xo(t,h,l)}else for(var f in i)i.hasOwnProperty(f)&&Xo(t,f,i[f])}function Va(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ja(t){return qs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ci(){}var Zo=null;function Kn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hs=null,Ni=null;function Fr(t){var i=Yn(t);if(i&&(t=i.stateNode)){var a=t[Ke]||null;e:switch(t=i.stateNode,i.type){case"input":if(Oa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+yn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Ke]||null;if(!h)throw Error(r(90));Oa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&qr(l)}break e;case"textarea":Nc(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&zs(t,!!a.multiple,i,!1)}}}var Pa=!1;function Fs(t,i,a){if(Pa)return t(i,a);Pa=!0;try{var l=t(i);return l}finally{if(Pa=!1,(Hs!==null||Ni!==null)&&(Au(),Hs&&(i=Hs,t=Ni,Ni=Hs=null,Fr(i),t)))for(i=0;i<t.length;i++)Fr(t[i])}}function ui(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Ke]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gr=!1;if($n)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){Gr=!0}}),window.addEventListener("test",rt,rt),window.removeEventListener("test",rt,rt)}catch{Gr=!1}var Ii=null,Wo=null,Qr=null;function el(){if(Qr)return Qr;var t,i=Wo,a=i.length,l,h="value"in Ii?Ii.value:Ii.textContent,f=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[f-l];l++);return Qr=h.slice(t,1<l?1-l:void 0)}function Yr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function is(){return!0}function hi(){return!1}function $t(t){function i(a,l,h,f,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?is:hi,this.isPropagationStopped=hi,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=is)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=is)},persist:function(){},isPersistent:is}),i}var ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ci=$t(ss),Gs=S({},ss,{view:0,detail:0}),tl=$t(Gs),Qs,La,Di,Ua=S({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ys,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Di&&(Di&&t.type==="mousemove"?(Qs=t.screenX-Di.screenX,La=t.screenY-Di.screenY):La=Qs=0,Di=t),Qs)},movementY:function(t){return"movementY"in t?t.movementY:La}}),nl=$t(Ua),Kr=S({},Ua,{dataTransfer:0}),Dc=$t(Kr),kc=S({},Gs,{relatedTarget:0}),$r=$t(kc),il=S({},ss,{animationName:0,elapsedTime:0,pseudoElement:0}),Mc=$t(il),za=S({},ss,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Oc=$t(za),Vc=S({},ss,{data:0}),ki=$t(Vc),jc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uc(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Lc[t])?!!i[t]:!1}function Ys(){return Uc}var dn=S({},Gs,{key:function(t){if(t.key){var i=jc[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Yr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Pc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ys,charCode:function(t){return t.type==="keypress"?Yr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zc=$t(dn),Bc=S({},Ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rs=$t(Bc),u=S({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ys}),p=$t(u),b=S({},ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=$t(b),L=S({},Ua,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=$t(L),ae=S({},ss,{newState:0,oldState:0}),Oe=$t(ae),xt=[9,13,27,32],Je=$n&&"CompositionEvent"in window,_t=null;$n&&"documentMode"in document&&(_t=document.documentMode);var Xn=$n&&"TextEvent"in window&&!_t,Mi=$n&&(!Je||_t&&8<_t&&11>=_t),di=" ",fi=!1;function Xr(t,i){switch(t){case"keyup":return xt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ba(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qa=!1;function QE(t,i){switch(t){case"compositionend":return Ba(i);case"keypress":return i.which!==32?null:(fi=!0,di);case"textInput":return t=i.data,t===di&&fi?null:t;default:return null}}function YE(t,i){if(qa)return t==="compositionend"||!Je&&Xr(t,i)?(t=el(),Qr=Wo=Ii=null,qa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Mi&&i.locale!=="ko"?null:i.data;default:return null}}var KE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!KE[t.type]:i==="textarea"}function Qp(t,i,a,l){Hs?Ni?Ni.push(l):Ni=[l]:Hs=l,i=Cu(i,"onChange"),0<i.length&&(a=new Ci("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var sl=null,rl=null;function $E(t){Ny(t,0)}function qc(t){var i=Cn(t);if(qr(i))return t}function Yp(t,i){if(t==="change")return i}var Kp=!1;if($n){var Wh;if($n){var ed="oninput"in document;if(!ed){var $p=document.createElement("div");$p.setAttribute("oninput","return;"),ed=typeof $p.oninput=="function"}Wh=ed}else Wh=!1;Kp=Wh&&(!document.documentMode||9<document.documentMode)}function Xp(){sl&&(sl.detachEvent("onpropertychange",Jp),rl=sl=null)}function Jp(t){if(t.propertyName==="value"&&qc(rl)){var i=[];Qp(i,rl,t,Kn(t)),Fs($E,i)}}function XE(t,i,a){t==="focusin"?(Xp(),sl=i,rl=a,sl.attachEvent("onpropertychange",Jp)):t==="focusout"&&Xp()}function JE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qc(rl)}function ZE(t,i){if(t==="click")return qc(i)}function WE(t,i){if(t==="input"||t==="change")return qc(i)}function eT(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var kn=typeof Object.is=="function"?Object.is:eT;function al(t,i){if(kn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!dt.call(i,h)||!kn(t[h],i[h]))return!1}return!0}function Zp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wp(t,i){var a=Zp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Zp(a)}}function eg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?eg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function tg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ri(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ri(t.document)}return i}function td(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var tT=$n&&"documentMode"in document&&11>=document.documentMode,Ha=null,nd=null,ol=null,id=!1;function ng(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;id||Ha==null||Ha!==Ri(l)||(l=Ha,"selectionStart"in l&&td(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ol&&al(ol,l)||(ol=l,l=Cu(nd,"onSelect"),0<l.length&&(i=new Ci("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ha)))}function Jr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Fa={animationend:Jr("Animation","AnimationEnd"),animationiteration:Jr("Animation","AnimationIteration"),animationstart:Jr("Animation","AnimationStart"),transitionrun:Jr("Transition","TransitionRun"),transitionstart:Jr("Transition","TransitionStart"),transitioncancel:Jr("Transition","TransitionCancel"),transitionend:Jr("Transition","TransitionEnd")},sd={},ig={};$n&&(ig=document.createElement("div").style,"AnimationEvent"in window||(delete Fa.animationend.animation,delete Fa.animationiteration.animation,delete Fa.animationstart.animation),"TransitionEvent"in window||delete Fa.transitionend.transition);function Zr(t){if(sd[t])return sd[t];if(!Fa[t])return t;var i=Fa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in ig)return sd[t]=i[a];return t}var sg=Zr("animationend"),rg=Zr("animationiteration"),ag=Zr("animationstart"),nT=Zr("transitionrun"),iT=Zr("transitionstart"),sT=Zr("transitioncancel"),og=Zr("transitionend"),lg=new Map,rd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rd.push("scrollEnd");function mi(t,i){lg.set(t,i),wi(i,[t])}var Hc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Jn=[],Ga=0,ad=0;function Fc(){for(var t=Ga,i=ad=Ga=0;i<t;){var a=Jn[i];Jn[i++]=null;var l=Jn[i];Jn[i++]=null;var h=Jn[i];Jn[i++]=null;var f=Jn[i];if(Jn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}f!==0&&cg(a,h,f)}}function Gc(t,i,a,l){Jn[Ga++]=t,Jn[Ga++]=i,Jn[Ga++]=a,Jn[Ga++]=l,ad|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function od(t,i,a,l){return Gc(t,i,a,l),Qc(t)}function Wr(t,i){return Gc(t,null,null,i),Qc(t)}function cg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&i!==null&&(h=31-yt(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),f):null}function Qc(t){if(50<Il)throw Il=0,yf=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Qa={};function rT(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(t,i,a,l){return new rT(t,i,a,l)}function ld(t){return t=t.prototype,!(!t||!t.isReactComponent)}function as(t,i){var a=t.alternate;return a===null?(a=Mn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ug(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Yc(t,i,a,l,h,f){var v=0;if(l=t,typeof t=="function")ld(t)&&(v=1);else if(typeof t=="string")v=u2(t,a,te.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=Mn(31,a,i,h),t.elementType=N,t.lanes=f,t;case J:return ea(a.children,h,f,i);case G:v=8,h|=24;break;case ne:return t=Mn(12,a,i,h|2),t.elementType=ne,t.lanes=f,t;case Te:return t=Mn(13,a,i,h),t.elementType=Te,t.lanes=f,t;case xe:return t=Mn(19,a,i,h),t.elementType=xe,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case le:v=10;break e;case oe:v=9;break e;case _e:v=11;break e;case I:v=14;break e;case x:v=16,l=null;break e}v=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return i=Mn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=f,i}function ea(t,i,a,l){return t=Mn(7,t,l,i),t.lanes=a,t}function cd(t,i,a){return t=Mn(6,t,null,i),t.lanes=a,t}function hg(t){var i=Mn(18,null,null,0);return i.stateNode=t,i}function ud(t,i,a){return i=Mn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var dg=new WeakMap;function Zn(t,i){if(typeof t=="object"&&t!==null){var a=dg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Ji(i)},dg.set(t,i),i)}return{value:t,source:i,stack:Ji(i)}}var Ya=[],Ka=0,Kc=null,ll=0,Wn=[],ei=0,Ks=null,Oi=1,Vi="";function os(t,i){Ya[Ka++]=ll,Ya[Ka++]=Kc,Kc=t,ll=i}function fg(t,i,a){Wn[ei++]=Oi,Wn[ei++]=Vi,Wn[ei++]=Ks,Ks=t;var l=Oi;t=Vi;var h=32-yt(l)-1;l&=~(1<<h),a+=1;var f=32-yt(i)+h;if(30<f){var v=h-h%5;f=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Oi=1<<32-yt(i)+h|a<<h|l,Vi=f+t}else Oi=1<<f|a<<h|l,Vi=t}function hd(t){t.return!==null&&(os(t,1),fg(t,1,0))}function dd(t){for(;t===Kc;)Kc=Ya[--Ka],Ya[Ka]=null,ll=Ya[--Ka],Ya[Ka]=null;for(;t===Ks;)Ks=Wn[--ei],Wn[ei]=null,Vi=Wn[--ei],Wn[ei]=null,Oi=Wn[--ei],Wn[ei]=null}function mg(t,i){Wn[ei++]=Oi,Wn[ei++]=Vi,Wn[ei++]=Ks,Oi=i.id,Vi=i.overflow,Ks=t}var Xt=null,mt=null,Ge=!1,$s=null,ti=!1,fd=Error(r(519));function Xs(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw cl(Zn(i,t)),fd}function pg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[tt]=t,i[Ke]=l,a){case"dialog":Ue("cancel",i),Ue("close",i);break;case"iframe":case"object":case"embed":Ue("load",i);break;case"video":case"audio":for(a=0;a<Dl.length;a++)Ue(Dl[a],i);break;case"source":Ue("error",i);break;case"img":case"image":case"link":Ue("error",i),Ue("load",i);break;case"details":Ue("toggle",i);break;case"input":Ue("invalid",i),Rc(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ue("invalid",i);break;case"textarea":Ue("invalid",i),Bs(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||ky(i.textContent,a)?(l.popover!=null&&(Ue("beforetoggle",i),Ue("toggle",i)),l.onScroll!=null&&Ue("scroll",i),l.onScrollEnd!=null&&Ue("scrollend",i),l.onClick!=null&&(i.onclick=ci),i=!0):i=!1,i||Xs(t,!0)}function gg(t){for(Xt=t.return;Xt;)switch(Xt.tag){case 5:case 31:case 13:ti=!1;return;case 27:case 3:ti=!0;return;default:Xt=Xt.return}}function $a(t){if(t!==Xt)return!1;if(!Ge)return gg(t),Ge=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||kf(t.type,t.memoizedProps)),a=!a),a&&mt&&Xs(t),gg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));mt=By(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));mt=By(t)}else i===27?(i=mt,ur(t.type)?(t=Pf,Pf=null,mt=t):mt=i):mt=Xt?ii(t.stateNode.nextSibling):null;return!0}function ta(){mt=Xt=null,Ge=!1}function md(){var t=$s;return t!==null&&(Tn===null?Tn=t:Tn.push.apply(Tn,t),$s=null),t}function cl(t){$s===null?$s=[t]:$s.push(t)}var pd=k(null),na=null,ls=null;function Js(t,i,a){re(pd,i._currentValue),i._currentValue=a}function cs(t){t._currentValue=pd.current,K(pd)}function gd(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function yd(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var C=0;C<i.length;C++)if(T.context===i[C]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),gd(f.return,a,t),l||(v=null);break e}f=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(r(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),gd(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Xa(t,i,a,l){t=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var T=h.type;kn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===ie.current){if(v=h.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(jl):t=[jl])}h=h.return}t!==null&&yd(i,t,a,l),i.flags|=262144}function $c(t){for(t=t.firstContext;t!==null;){if(!kn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ia(t){na=t,ls=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Jt(t){return yg(na,t)}function Xc(t,i){return na===null&&ia(t),yg(t,i)}function yg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ls===null){if(t===null)throw Error(r(308));ls=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else ls=ls.next=i;return a}var aT=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},oT=s.unstable_scheduleCallback,lT=s.unstable_NormalPriority,Ot={$$typeof:le,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _d(){return{controller:new aT,data:new Map,refCount:0}}function ul(t){t.refCount--,t.refCount===0&&oT(lT,function(){t.controller.abort()})}var hl=null,vd=0,Ja=0,Za=null;function cT(t,i){if(hl===null){var a=hl=[];vd=0,Ja=Af(),Za={status:"pending",value:void 0,then:function(l){a.push(l)}}}return vd++,i.then(_g,_g),i}function _g(){if(--vd===0&&hl!==null){Za!==null&&(Za.status="fulfilled");var t=hl;hl=null,Ja=0,Za=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function uT(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var vg=F.S;F.S=function(t,i){ny=qt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&cT(t,i),vg!==null&&vg(t,i)};var sa=k(null);function bd(){var t=sa.current;return t!==null?t:ht.pooledCache}function Jc(t,i){i===null?re(sa,sa.current):re(sa,i.pool)}function bg(){var t=bd();return t===null?null:{parent:Ot._currentValue,pool:t}}var Wa=Error(r(460)),Ed=Error(r(474)),Zc=Error(r(542)),Wc={then:function(){}};function Eg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Tg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ci,ci),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Sg(t),t;default:if(typeof i.status=="string")i.then(ci,ci);else{if(t=ht,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Sg(t),t}throw aa=i,Wa}}function ra(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(aa=a,Wa):a}}var aa=null;function Ag(){if(aa===null)throw Error(r(459));var t=aa;return aa=null,t}function Sg(t){if(t===Wa||t===Zc)throw Error(r(483))}var eo=null,dl=0;function eu(t){var i=dl;return dl+=1,eo===null&&(eo=[]),Tg(eo,t,i)}function fl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function tu(t,i){throw i.$$typeof===w?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function wg(t){function i(j,M){if(t){var U=j.deletions;U===null?(j.deletions=[M],j.flags|=16):U.push(M)}}function a(j,M){if(!t)return null;for(;M!==null;)i(j,M),M=M.sibling;return null}function l(j){for(var M=new Map;j!==null;)j.key!==null?M.set(j.key,j):M.set(j.index,j),j=j.sibling;return M}function h(j,M){return j=as(j,M),j.index=0,j.sibling=null,j}function f(j,M,U){return j.index=U,t?(U=j.alternate,U!==null?(U=U.index,U<M?(j.flags|=67108866,M):U):(j.flags|=67108866,M)):(j.flags|=1048576,M)}function v(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function T(j,M,U,$){return M===null||M.tag!==6?(M=cd(U,j.mode,$),M.return=j,M):(M=h(M,U),M.return=j,M)}function C(j,M,U,$){var be=U.type;return be===J?Q(j,M,U.props.children,$,U.key):M!==null&&(M.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===x&&ra(be)===M.type)?(M=h(M,U.props),fl(M,U),M.return=j,M):(M=Yc(U.type,U.key,U.props,null,j.mode,$),fl(M,U),M.return=j,M)}function z(j,M,U,$){return M===null||M.tag!==4||M.stateNode.containerInfo!==U.containerInfo||M.stateNode.implementation!==U.implementation?(M=ud(U,j.mode,$),M.return=j,M):(M=h(M,U.children||[]),M.return=j,M)}function Q(j,M,U,$,be){return M===null||M.tag!==7?(M=ea(U,j.mode,$,be),M.return=j,M):(M=h(M,U),M.return=j,M)}function Z(j,M,U){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=cd(""+M,j.mode,U),M.return=j,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case P:return U=Yc(M.type,M.key,M.props,null,j.mode,U),fl(U,M),U.return=j,U;case Y:return M=ud(M,j.mode,U),M.return=j,M;case x:return M=ra(M),Z(j,M,U)}if(Qe(M)||V(M))return M=ea(M,j.mode,U,null),M.return=j,M;if(typeof M.then=="function")return Z(j,eu(M),U);if(M.$$typeof===le)return Z(j,Xc(j,M),U);tu(j,M)}return null}function B(j,M,U,$){var be=M!==null?M.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return be!==null?null:T(j,M,""+U,$);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case P:return U.key===be?C(j,M,U,$):null;case Y:return U.key===be?z(j,M,U,$):null;case x:return U=ra(U),B(j,M,U,$)}if(Qe(U)||V(U))return be!==null?null:Q(j,M,U,$,null);if(typeof U.then=="function")return B(j,M,eu(U),$);if(U.$$typeof===le)return B(j,M,Xc(j,U),$);tu(j,U)}return null}function H(j,M,U,$,be){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return j=j.get(U)||null,T(M,j,""+$,be);if(typeof $=="object"&&$!==null){switch($.$$typeof){case P:return j=j.get($.key===null?U:$.key)||null,C(M,j,$,be);case Y:return j=j.get($.key===null?U:$.key)||null,z(M,j,$,be);case x:return $=ra($),H(j,M,U,$,be)}if(Qe($)||V($))return j=j.get(U)||null,Q(M,j,$,be,null);if(typeof $.then=="function")return H(j,M,U,eu($),be);if($.$$typeof===le)return H(j,M,U,Xc(M,$),be);tu(M,$)}return null}function fe(j,M,U,$){for(var be=null,$e=null,ye=M,Pe=M=0,Be=null;ye!==null&&Pe<U.length;Pe++){ye.index>Pe?(Be=ye,ye=null):Be=ye.sibling;var Xe=B(j,ye,U[Pe],$);if(Xe===null){ye===null&&(ye=Be);break}t&&ye&&Xe.alternate===null&&i(j,ye),M=f(Xe,M,Pe),$e===null?be=Xe:$e.sibling=Xe,$e=Xe,ye=Be}if(Pe===U.length)return a(j,ye),Ge&&os(j,Pe),be;if(ye===null){for(;Pe<U.length;Pe++)ye=Z(j,U[Pe],$),ye!==null&&(M=f(ye,M,Pe),$e===null?be=ye:$e.sibling=ye,$e=ye);return Ge&&os(j,Pe),be}for(ye=l(ye);Pe<U.length;Pe++)Be=H(ye,j,Pe,U[Pe],$),Be!==null&&(t&&Be.alternate!==null&&ye.delete(Be.key===null?Pe:Be.key),M=f(Be,M,Pe),$e===null?be=Be:$e.sibling=Be,$e=Be);return t&&ye.forEach(function(pr){return i(j,pr)}),Ge&&os(j,Pe),be}function Se(j,M,U,$){if(U==null)throw Error(r(151));for(var be=null,$e=null,ye=M,Pe=M=0,Be=null,Xe=U.next();ye!==null&&!Xe.done;Pe++,Xe=U.next()){ye.index>Pe?(Be=ye,ye=null):Be=ye.sibling;var pr=B(j,ye,Xe.value,$);if(pr===null){ye===null&&(ye=Be);break}t&&ye&&pr.alternate===null&&i(j,ye),M=f(pr,M,Pe),$e===null?be=pr:$e.sibling=pr,$e=pr,ye=Be}if(Xe.done)return a(j,ye),Ge&&os(j,Pe),be;if(ye===null){for(;!Xe.done;Pe++,Xe=U.next())Xe=Z(j,Xe.value,$),Xe!==null&&(M=f(Xe,M,Pe),$e===null?be=Xe:$e.sibling=Xe,$e=Xe);return Ge&&os(j,Pe),be}for(ye=l(ye);!Xe.done;Pe++,Xe=U.next())Xe=H(ye,j,Pe,Xe.value,$),Xe!==null&&(t&&Xe.alternate!==null&&ye.delete(Xe.key===null?Pe:Xe.key),M=f(Xe,M,Pe),$e===null?be=Xe:$e.sibling=Xe,$e=Xe);return t&&ye.forEach(function(E2){return i(j,E2)}),Ge&&os(j,Pe),be}function lt(j,M,U,$){if(typeof U=="object"&&U!==null&&U.type===J&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case P:e:{for(var be=U.key;M!==null;){if(M.key===be){if(be=U.type,be===J){if(M.tag===7){a(j,M.sibling),$=h(M,U.props.children),$.return=j,j=$;break e}}else if(M.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===x&&ra(be)===M.type){a(j,M.sibling),$=h(M,U.props),fl($,U),$.return=j,j=$;break e}a(j,M);break}else i(j,M);M=M.sibling}U.type===J?($=ea(U.props.children,j.mode,$,U.key),$.return=j,j=$):($=Yc(U.type,U.key,U.props,null,j.mode,$),fl($,U),$.return=j,j=$)}return v(j);case Y:e:{for(be=U.key;M!==null;){if(M.key===be)if(M.tag===4&&M.stateNode.containerInfo===U.containerInfo&&M.stateNode.implementation===U.implementation){a(j,M.sibling),$=h(M,U.children||[]),$.return=j,j=$;break e}else{a(j,M);break}else i(j,M);M=M.sibling}$=ud(U,j.mode,$),$.return=j,j=$}return v(j);case x:return U=ra(U),lt(j,M,U,$)}if(Qe(U))return fe(j,M,U,$);if(V(U)){if(be=V(U),typeof be!="function")throw Error(r(150));return U=be.call(U),Se(j,M,U,$)}if(typeof U.then=="function")return lt(j,M,eu(U),$);if(U.$$typeof===le)return lt(j,M,Xc(j,U),$);tu(j,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,M!==null&&M.tag===6?(a(j,M.sibling),$=h(M,U),$.return=j,j=$):(a(j,M),$=cd(U,j.mode,$),$.return=j,j=$),v(j)):a(j,M)}return function(j,M,U,$){try{dl=0;var be=lt(j,M,U,$);return eo=null,be}catch(ye){if(ye===Wa||ye===Zc)throw ye;var $e=Mn(29,ye,null,j.mode);return $e.lanes=$,$e.return=j,$e}}}var oa=wg(!0),xg=wg(!1),Zs=!1;function Td(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ad(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ws(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function er(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ze&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Qc(t),cg(t,null,a),i}return Gc(t,l,i,a),Qc(t)}function ml(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,zr(t,a)}}function Sd(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var wd=!1;function pl(){if(wd){var t=Za;if(t!==null)throw t}}function gl(t,i,a,l){wd=!1;var h=t.updateQueue;Zs=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,z=C.next;C.next=null,v===null?f=z:v.next=z,v=C;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==v&&(T===null?Q.firstBaseUpdate=z:T.next=z,Q.lastBaseUpdate=C))}if(f!==null){var Z=h.baseState;v=0,Q=z=C=null,T=f;do{var B=T.lane&-536870913,H=B!==T.lane;if(H?(ze&B)===B:(l&B)===B){B!==0&&B===Ja&&(wd=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var fe=t,Se=T;B=i;var lt=a;switch(Se.tag){case 1:if(fe=Se.payload,typeof fe=="function"){Z=fe.call(lt,Z,B);break e}Z=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=Se.payload,B=typeof fe=="function"?fe.call(lt,Z,B):fe,B==null)break e;Z=S({},Z,B);break e;case 2:Zs=!0}}B=T.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(z=Q=H,C=Z):Q=Q.next=H,v|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(C=Z),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),rr|=v,t.lanes=v,t.memoizedState=Z}}function Rg(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function Ng(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Rg(a[t],i)}var to=k(null),nu=k(0);function Ig(t,i){t=_s,re(nu,t),re(to,i),_s=t|i.baseLanes}function xd(){re(nu,_s),re(to,to.current)}function Rd(){_s=nu.current,K(to),K(nu)}var On=k(null),ni=null;function tr(t){var i=t.alternate;re(Rt,Rt.current&1),re(On,t),ni===null&&(i===null||to.current!==null||i.memoizedState!==null)&&(ni=t)}function Nd(t){re(Rt,Rt.current),re(On,t),ni===null&&(ni=t)}function Cg(t){t.tag===22?(re(Rt,Rt.current),re(On,t),ni===null&&(ni=t)):nr()}function nr(){re(Rt,Rt.current),re(On,On.current)}function Vn(t){K(On),ni===t&&(ni=null),K(Rt)}var Rt=k(0);function iu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Vf(a)||jf(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var us=0,Ve=null,at=null,Vt=null,su=!1,no=!1,la=!1,ru=0,yl=0,io=null,hT=0;function St(){throw Error(r(321))}function Id(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!kn(t[a],i[a]))return!1;return!0}function Cd(t,i,a,l,h,f){return us=f,Ve=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=t===null||t.memoizedState===null?f0:Gd,la=!1,f=a(l,h),la=!1,no&&(f=kg(i,a,l,h)),Dg(t),f}function Dg(t){F.H=bl;var i=at!==null&&at.next!==null;if(us=0,Vt=at=Ve=null,su=!1,yl=0,io=null,i)throw Error(r(300));t===null||jt||(t=t.dependencies,t!==null&&$c(t)&&(jt=!0))}function kg(t,i,a,l){Ve=t;var h=0;do{if(no&&(io=null),yl=0,no=!1,25<=h)throw Error(r(301));if(h+=1,Vt=at=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=m0,f=i(a,l)}while(no);return f}function dT(){var t=F.H,i=t.useState()[0];return i=typeof i.then=="function"?_l(i):i,t=t.useState()[0],(at!==null?at.memoizedState:null)!==t&&(Ve.flags|=1024),i}function Dd(){var t=ru!==0;return ru=0,t}function kd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Md(t){if(su){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}su=!1}us=0,Vt=at=Ve=null,no=!1,yl=ru=0,io=null}function fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?Ve.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function Nt(){if(at===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=at.next;var i=Vt===null?Ve.memoizedState:Vt.next;if(i!==null)Vt=i,at=t;else{if(t===null)throw Ve.alternate===null?Error(r(467)):Error(r(310));at=t,t={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Vt===null?Ve.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function au(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _l(t){var i=yl;return yl+=1,io===null&&(io=[]),t=Tg(io,t,i),i=Ve,(Vt===null?i.memoizedState:Vt.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?f0:Gd),t}function ou(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _l(t);if(t.$$typeof===le)return Jt(t)}throw Error(r(438,String(t)))}function Od(t){var i=null,a=Ve.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ve.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=au(),Ve.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=O;return i.index++,a}function hs(t,i){return typeof i=="function"?i(t):i}function lu(t){var i=Nt();return Vd(i,at,t)}function Vd(t,i,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}i.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{i=h.next;var T=v=null,C=null,z=i,Q=!1;do{var Z=z.lane&-536870913;if(Z!==z.lane?(ze&Z)===Z:(us&Z)===Z){var B=z.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Z===Ja&&(Q=!0);else if((us&B)===B){z=z.next,B===Ja&&(Q=!0);continue}else Z={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(T=C=Z,v=f):C=C.next=Z,Ve.lanes|=B,rr|=B;Z=z.action,la&&a(f,Z),f=z.hasEagerState?z.eagerState:a(f,Z)}else B={lane:Z,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(T=C=B,v=f):C=C.next=B,Ve.lanes|=Z,rr|=Z;z=z.next}while(z!==null&&z!==i);if(C===null?v=f:C.next=T,!kn(f,t.memoizedState)&&(jt=!0,Q&&(a=Za,a!==null)))throw a;t.memoizedState=f,t.baseState=v,t.baseQueue=C,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function jd(t){var i=Nt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);kn(f,i.memoizedState)||(jt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,l]}function Mg(t,i,a){var l=Ve,h=Nt(),f=Ge;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=i();var v=!kn((at||h).memoizedState,a);if(v&&(h.memoizedState=a,jt=!0),h=h.queue,Ud(jg.bind(null,l,h,t),[t]),h.getSnapshot!==i||v||Vt!==null&&Vt.memoizedState.tag&1){if(l.flags|=2048,so(9,{destroy:void 0},Vg.bind(null,l,h,a,i),null),ht===null)throw Error(r(349));f||(us&127)!==0||Og(l,i,a)}return a}function Og(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ve.updateQueue,i===null?(i=au(),Ve.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Vg(t,i,a,l){i.value=a,i.getSnapshot=l,Pg(i)&&Lg(t)}function jg(t,i,a){return a(function(){Pg(i)&&Lg(t)})}function Pg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!kn(t,a)}catch{return!0}}function Lg(t){var i=Wr(t,2);i!==null&&An(i,t,2)}function Pd(t){var i=fn();if(typeof t=="function"){var a=t;if(t=a(),la){gn(!0);try{a()}finally{gn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:t},i}function Ug(t,i,a,l){return t.baseState=a,Vd(t,at,typeof l=="function"?l:hs)}function fT(t,i,a,l,h){if(hu(t))throw Error(r(485));if(t=i.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};F.T!==null?a(!0):f.isTransition=!1,l(f),a=i.pending,a===null?(f.next=i.pending=f,zg(i,f)):(f.next=a.next,i.pending=a.next=f)}}function zg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var f=F.T,v={};F.T=v;try{var T=a(h,l),C=F.S;C!==null&&C(v,T),Bg(t,i,T)}catch(z){Ld(t,i,z)}finally{f!==null&&v.types!==null&&(f.types=v.types),F.T=f}}else try{f=a(h,l),Bg(t,i,f)}catch(z){Ld(t,i,z)}}function Bg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){qg(t,i,l)},function(l){return Ld(t,i,l)}):qg(t,i,a)}function qg(t,i,a){i.status="fulfilled",i.value=a,Hg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,zg(t,a)))}function Ld(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Hg(i),i=i.next;while(i!==l)}t.action=null}function Hg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Fg(t,i){return i}function Gg(t,i){if(Ge){var a=ht.formState;if(a!==null){e:{var l=Ve;if(Ge){if(mt){t:{for(var h=mt,f=ti;h.nodeType!==8;){if(!f){h=null;break t}if(h=ii(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){mt=ii(h.nextSibling),l=h.data==="F!";break e}}Xs(l)}l=!1}l&&(i=a[0])}}return a=fn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fg,lastRenderedState:i},a.queue=l,a=u0.bind(null,Ve,l),l.dispatch=a,l=Pd(!1),f=Fd.bind(null,Ve,!1,l.queue),l=fn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=fT.bind(null,Ve,h,f,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Qg(t){var i=Nt();return Yg(i,at,t)}function Yg(t,i,a){if(i=Vd(t,i,Fg)[0],t=lu(hs)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=_l(i)}catch(v){throw v===Wa?Zc:v}else l=i;i=Nt();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(Ve.flags|=2048,so(9,{destroy:void 0},mT.bind(null,h,a),null)),[l,f,t]}function mT(t,i){t.action=i}function Kg(t){var i=Nt(),a=at;if(a!==null)return Yg(i,a,t);Nt(),i=i.memoizedState,a=Nt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function so(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ve.updateQueue,i===null&&(i=au(),Ve.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function $g(){return Nt().memoizedState}function cu(t,i,a,l){var h=fn();Ve.flags|=t,h.memoizedState=so(1|i,{destroy:void 0},a,l===void 0?null:l)}function uu(t,i,a,l){var h=Nt();l=l===void 0?null:l;var f=h.memoizedState.inst;at!==null&&l!==null&&Id(l,at.memoizedState.deps)?h.memoizedState=so(i,f,a,l):(Ve.flags|=t,h.memoizedState=so(1|i,f,a,l))}function Xg(t,i){cu(8390656,8,t,i)}function Ud(t,i){uu(2048,8,t,i)}function pT(t){Ve.flags|=4;var i=Ve.updateQueue;if(i===null)i=au(),Ve.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Jg(t){var i=Nt().memoizedState;return pT({ref:i,nextImpl:t}),function(){if((Ze&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Zg(t,i){return uu(4,2,t,i)}function Wg(t,i){return uu(4,4,t,i)}function e0(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function t0(t,i,a){a=a!=null?a.concat([t]):null,uu(4,4,e0.bind(null,i,t),a)}function zd(){}function n0(t,i){var a=Nt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Id(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function i0(t,i){var a=Nt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Id(i,l[1]))return l[0];if(l=t(),la){gn(!0);try{t()}finally{gn(!1)}}return a.memoizedState=[l,i],l}function Bd(t,i,a){return a===void 0||(us&1073741824)!==0&&(ze&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=sy(),Ve.lanes|=t,rr|=t,a)}function s0(t,i,a,l){return kn(a,i)?a:to.current!==null?(t=Bd(t,a,l),kn(t,i)||(jt=!0),t):(us&42)===0||(us&1073741824)!==0&&(ze&261930)===0?(jt=!0,t.memoizedState=a):(t=sy(),Ve.lanes|=t,rr|=t,i)}function r0(t,i,a,l,h){var f=se.p;se.p=f!==0&&8>f?f:8;var v=F.T,T={};F.T=T,Fd(t,!1,i,a);try{var C=h(),z=F.S;if(z!==null&&z(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Q=uT(C,l);vl(t,i,Q,Ln(t))}else vl(t,i,l,Ln(t))}catch(Z){vl(t,i,{then:function(){},status:"rejected",reason:Z},Ln())}finally{se.p=f,v!==null&&T.types!==null&&(v.types=T.types),F.T=v}}function gT(){}function qd(t,i,a,l){if(t.tag!==5)throw Error(r(476));var h=a0(t).queue;r0(t,h,i,ce,a===null?gT:function(){return o0(t),a(l)})}function a0(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:ce},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function o0(t){var i=a0(t);i.next===null&&(i=t.alternate.memoizedState),vl(t,i.next.queue,{},Ln())}function Hd(){return Jt(jl)}function l0(){return Nt().memoizedState}function c0(){return Nt().memoizedState}function yT(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Ln();t=Ws(a);var l=er(i,t,a);l!==null&&(An(l,i,a),ml(l,i,a)),i={cache:_d()},t.payload=i;return}i=i.return}}function _T(t,i,a){var l=Ln();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},hu(t)?h0(i,a):(a=od(t,i,a,l),a!==null&&(An(a,t,l),d0(a,i,l)))}function u0(t,i,a){var l=Ln();vl(t,i,a,l)}function vl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(hu(t))h0(i,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var v=i.lastRenderedState,T=f(v,a);if(h.hasEagerState=!0,h.eagerState=T,kn(T,v))return Gc(t,i,h,0),ht===null&&Fc(),!1}catch{}if(a=od(t,i,h,l),a!==null)return An(a,t,l),d0(a,i,l),!0}return!1}function Fd(t,i,a,l){if(l={lane:2,revertLane:Af(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},hu(t)){if(i)throw Error(r(479))}else i=od(t,a,l,2),i!==null&&An(i,t,2)}function hu(t){var i=t.alternate;return t===Ve||i!==null&&i===Ve}function h0(t,i){no=su=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function d0(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,zr(t,a)}}var bl={readContext:Jt,use:ou,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St,useHostTransitionStatus:St,useFormState:St,useActionState:St,useOptimistic:St,useMemoCache:St,useCacheRefresh:St};bl.useEffectEvent=St;var f0={readContext:Jt,use:ou,useCallback:function(t,i){return fn().memoizedState=[t,i===void 0?null:i],t},useContext:Jt,useEffect:Xg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,cu(4194308,4,e0.bind(null,i,t),a)},useLayoutEffect:function(t,i){return cu(4194308,4,t,i)},useInsertionEffect:function(t,i){cu(4,2,t,i)},useMemo:function(t,i){var a=fn();i=i===void 0?null:i;var l=t();if(la){gn(!0);try{t()}finally{gn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=fn();if(a!==void 0){var h=a(i);if(la){gn(!0);try{a(i)}finally{gn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=_T.bind(null,Ve,t),[l.memoizedState,t]},useRef:function(t){var i=fn();return t={current:t},i.memoizedState=t},useState:function(t){t=Pd(t);var i=t.queue,a=u0.bind(null,Ve,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:zd,useDeferredValue:function(t,i){var a=fn();return Bd(a,t,i)},useTransition:function(){var t=Pd(!1);return t=r0.bind(null,Ve,t.queue,!0,!1),fn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ve,h=fn();if(Ge){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),ht===null)throw Error(r(349));(ze&127)!==0||Og(l,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,Xg(jg.bind(null,l,f,t),[t]),l.flags|=2048,so(9,{destroy:void 0},Vg.bind(null,l,f,a,i),null),a},useId:function(){var t=fn(),i=ht.identifierPrefix;if(Ge){var a=Vi,l=Oi;a=(l&~(1<<32-yt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=ru++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=hT++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Hd,useFormState:Gg,useActionState:Gg,useOptimistic:function(t){var i=fn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Fd.bind(null,Ve,!0,a),a.dispatch=i,[t,i]},useMemoCache:Od,useCacheRefresh:function(){return fn().memoizedState=yT.bind(null,Ve)},useEffectEvent:function(t){var i=fn(),a={impl:t};return i.memoizedState=a,function(){if((Ze&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Gd={readContext:Jt,use:ou,useCallback:n0,useContext:Jt,useEffect:Ud,useImperativeHandle:t0,useInsertionEffect:Zg,useLayoutEffect:Wg,useMemo:i0,useReducer:lu,useRef:$g,useState:function(){return lu(hs)},useDebugValue:zd,useDeferredValue:function(t,i){var a=Nt();return s0(a,at.memoizedState,t,i)},useTransition:function(){var t=lu(hs)[0],i=Nt().memoizedState;return[typeof t=="boolean"?t:_l(t),i]},useSyncExternalStore:Mg,useId:l0,useHostTransitionStatus:Hd,useFormState:Qg,useActionState:Qg,useOptimistic:function(t,i){var a=Nt();return Ug(a,at,t,i)},useMemoCache:Od,useCacheRefresh:c0};Gd.useEffectEvent=Jg;var m0={readContext:Jt,use:ou,useCallback:n0,useContext:Jt,useEffect:Ud,useImperativeHandle:t0,useInsertionEffect:Zg,useLayoutEffect:Wg,useMemo:i0,useReducer:jd,useRef:$g,useState:function(){return jd(hs)},useDebugValue:zd,useDeferredValue:function(t,i){var a=Nt();return at===null?Bd(a,t,i):s0(a,at.memoizedState,t,i)},useTransition:function(){var t=jd(hs)[0],i=Nt().memoizedState;return[typeof t=="boolean"?t:_l(t),i]},useSyncExternalStore:Mg,useId:l0,useHostTransitionStatus:Hd,useFormState:Kg,useActionState:Kg,useOptimistic:function(t,i){var a=Nt();return at!==null?Ug(a,at,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Od,useCacheRefresh:c0};m0.useEffectEvent=Jg;function Qd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Yd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Ln(),h=Ws(l);h.payload=i,a!=null&&(h.callback=a),i=er(t,h,l),i!==null&&(An(i,t,l),ml(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Ln(),h=Ws(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=er(t,h,l),i!==null&&(An(i,t,l),ml(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Ln(),l=Ws(a);l.tag=2,i!=null&&(l.callback=i),i=er(t,l,a),i!==null&&(An(i,t,a),ml(i,t,a))}};function p0(t,i,a,l,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):i.prototype&&i.prototype.isPureReactComponent?!al(a,l)||!al(h,f):!0}function g0(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Yd.enqueueReplaceState(i,i.state,null)}function ca(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function y0(t){Hc(t)}function _0(t){console.error(t)}function v0(t){Hc(t)}function du(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function b0(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Kd(t,i,a){return a=Ws(a),a.tag=3,a.payload={element:null},a.callback=function(){du(t,i)},a}function E0(t){return t=Ws(t),t.tag=3,t}function T0(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){b0(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){b0(i,a,l),typeof h!="function"&&(ar===null?ar=new Set([this]):ar.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function vT(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Xa(i,a,h,!0),a=On.current,a!==null){switch(a.tag){case 31:case 13:return ni===null?Su():a.alternate===null&&wt===0&&(wt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Wc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),bf(t,l,h)),!1;case 22:return a.flags|=65536,l===Wc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),bf(t,l,h)),!1}throw Error(r(435,a.tag))}return bf(t,l,h),Su(),!1}if(Ge)return i=On.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==fd&&(t=Error(r(422),{cause:l}),cl(Zn(t,a)))):(l!==fd&&(i=Error(r(423),{cause:l}),cl(Zn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Zn(l,a),h=Kd(t.stateNode,l,h),Sd(t,h),wt!==4&&(wt=2)),!1;var f=Error(r(520),{cause:l});if(f=Zn(f,a),Nl===null?Nl=[f]:Nl.push(f),wt!==4&&(wt=2),i===null)return!0;l=Zn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Kd(a.stateNode,l,t),Sd(a,t),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ar===null||!ar.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=E0(h),T0(h,t,a,l),Sd(a,h),!1}a=a.return}while(a!==null);return!1}var $d=Error(r(461)),jt=!1;function Zt(t,i,a,l){i.child=t===null?xg(i,null,a,l):oa(i,t.child,a,l)}function A0(t,i,a,l,h){a=a.render;var f=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return ia(i),l=Cd(t,i,a,v,f,h),T=Dd(),t!==null&&!jt?(kd(t,i,h),ds(t,i,h)):(Ge&&T&&hd(i),i.flags|=1,Zt(t,i,l,h),i.child)}function S0(t,i,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!ld(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,w0(t,i,f,l,h)):(t=Yc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!sf(t,h)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:al,a(v,l)&&t.ref===i.ref)return ds(t,i,h)}return i.flags|=1,t=as(f,l),t.ref=i.ref,t.return=i,i.child=t}function w0(t,i,a,l,h){if(t!==null){var f=t.memoizedProps;if(al(f,l)&&t.ref===i.ref)if(jt=!1,i.pendingProps=l=f,sf(t,h))(t.flags&131072)!==0&&(jt=!0);else return i.lanes=t.lanes,ds(t,i,h)}return Xd(t,i,a,l,h)}function x0(t,i,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,i.child=null;return R0(t,i,f,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Jc(i,f!==null?f.cachePool:null),f!==null?Ig(i,f):xd(),Cg(i);else return l=i.lanes=536870912,R0(t,i,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Jc(i,f.cachePool),Ig(i,f),nr(),i.memoizedState=null):(t!==null&&Jc(i,null),xd(),nr());return Zt(t,i,h,a),i.child}function El(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function R0(t,i,a,l,h){var f=bd();return f=f===null?null:{parent:Ot._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},t!==null&&Jc(i,null),xd(),Cg(i),t!==null&&Xa(t,i,l,!0),i.childLanes=h,null}function fu(t,i){return i=pu({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function N0(t,i,a){return oa(i,t.child,null,a),t=fu(i,i.pendingProps),t.flags|=2,Vn(i),i.memoizedState=null,t}function bT(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ge){if(l.mode==="hidden")return t=fu(i,l),i.lanes=536870912,El(null,t);if(Nd(i),(t=mt)?(t=zy(t,ti),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ks!==null?{id:Oi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},a=hg(t),a.return=i,i.child=a,Xt=i,mt=null)):t=null,t===null)throw Xs(i);return i.lanes=536870912,null}return fu(i,l)}var f=t.memoizedState;if(f!==null){var v=f.dehydrated;if(Nd(i),h)if(i.flags&256)i.flags&=-257,i=N0(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(jt||Xa(t,i,a,!1),h=(a&t.childLanes)!==0,jt||h){if(l=ht,l!==null&&(v=Br(l,a),v!==0&&v!==f.retryLane))throw f.retryLane=v,Wr(t,v),An(l,t,v),$d;Su(),i=N0(t,i,a)}else t=f.treeContext,mt=ii(v.nextSibling),Xt=i,Ge=!0,$s=null,ti=!1,t!==null&&mg(i,t),i=fu(i,l),i.flags|=4096;return i}return t=as(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function mu(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Xd(t,i,a,l,h){return ia(i),a=Cd(t,i,a,l,void 0,h),l=Dd(),t!==null&&!jt?(kd(t,i,h),ds(t,i,h)):(Ge&&l&&hd(i),i.flags|=1,Zt(t,i,a,h),i.child)}function I0(t,i,a,l,h,f){return ia(i),i.updateQueue=null,a=kg(i,l,a,h),Dg(t),l=Dd(),t!==null&&!jt?(kd(t,i,f),ds(t,i,f)):(Ge&&l&&hd(i),i.flags|=1,Zt(t,i,a,f),i.child)}function C0(t,i,a,l,h){if(ia(i),i.stateNode===null){var f=Qa,v=a.contextType;typeof v=="object"&&v!==null&&(f=Jt(v)),f=new a(l,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Yd,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=l,f.state=i.memoizedState,f.refs={},Td(i),v=a.contextType,f.context=typeof v=="object"&&v!==null?Jt(v):Qa,f.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Qd(i,a,v,l),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Yd.enqueueReplaceState(f,f.state,null),gl(i,l,f,h),pl(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){f=i.stateNode;var T=i.memoizedProps,C=ca(a,T);f.props=C;var z=f.context,Q=a.contextType;v=Qa,typeof Q=="object"&&Q!==null&&(v=Jt(Q));var Z=a.getDerivedStateFromProps;Q=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==v)&&g0(i,f,l,v),Zs=!1;var B=i.memoizedState;f.state=B,gl(i,l,f,h),pl(),z=i.memoizedState,T||B!==z||Zs?(typeof Z=="function"&&(Qd(i,a,Z,l),z=i.memoizedState),(C=Zs||p0(i,a,C,l,B,z,v))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),f.props=l,f.state=z,f.context=v,l=C):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{f=i.stateNode,Ad(t,i),v=i.memoizedProps,Q=ca(a,v),f.props=Q,Z=i.pendingProps,B=f.context,z=a.contextType,C=Qa,typeof z=="object"&&z!==null&&(C=Jt(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==Z||B!==C)&&g0(i,f,l,C),Zs=!1,B=i.memoizedState,f.state=B,gl(i,l,f,h),pl();var H=i.memoizedState;v!==Z||B!==H||Zs||t!==null&&t.dependencies!==null&&$c(t.dependencies)?(typeof T=="function"&&(Qd(i,a,T,l),H=i.memoizedState),(Q=Zs||p0(i,a,Q,l,B,H,C)||t!==null&&t.dependencies!==null&&$c(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,C)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),f.props=l,f.state=H,f.context=C,l=Q):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),l=!1)}return f=l,mu(t,i),l=(i.flags&128)!==0,f||l?(f=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&l?(i.child=oa(i,t.child,null,h),i.child=oa(i,null,a,h)):Zt(t,i,a,h),i.memoizedState=f.state,t=i.child):t=ds(t,i,h),t}function D0(t,i,a,l){return ta(),i.flags|=256,Zt(t,i,a,l),i.child}var Jd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zd(t){return{baseLanes:t,cachePool:bg()}}function Wd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Pn),t}function k0(t,i,a){var l=i.pendingProps,h=!1,f=(i.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ge){if(h?tr(i):nr(),(t=mt)?(t=zy(t,ti),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ks!==null?{id:Oi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},a=hg(t),a.return=i,i.child=a,Xt=i,mt=null)):t=null,t===null)throw Xs(i);return jf(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(nr(),h=i.mode,T=pu({mode:"hidden",children:T},h),l=ea(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=Zd(a),l.childLanes=Wd(t,v,a),i.memoizedState=Jd,El(null,l)):(tr(i),ef(i,T))}var C=t.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(f)i.flags&256?(tr(i),i.flags&=-257,i=tf(t,i,a)):i.memoizedState!==null?(nr(),i.child=t.child,i.flags|=128,i=null):(nr(),T=l.fallback,h=i.mode,l=pu({mode:"visible",children:l.children},h),T=ea(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,oa(i,t.child,null,a),l=i.child,l.memoizedState=Zd(a),l.childLanes=Wd(t,v,a),i.memoizedState=Jd,i=El(null,l));else if(tr(i),jf(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var z=v.dgst;v=z,l=Error(r(419)),l.stack="",l.digest=v,cl({value:l,source:null,stack:null}),i=tf(t,i,a)}else if(jt||Xa(t,i,a,!1),v=(a&t.childLanes)!==0,jt||v){if(v=ht,v!==null&&(l=Br(v,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,Wr(t,l),An(v,t,l),$d;Vf(T)||Su(),i=tf(t,i,a)}else Vf(T)?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,mt=ii(T.nextSibling),Xt=i,Ge=!0,$s=null,ti=!1,t!==null&&mg(i,t),i=ef(i,l.children),i.flags|=4096);return i}return h?(nr(),T=l.fallback,h=i.mode,C=t.child,z=C.sibling,l=as(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,z!==null?T=as(z,T):(T=ea(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,El(null,l),l=i.child,T=t.child.memoizedState,T===null?T=Zd(a):(h=T.cachePool,h!==null?(C=Ot._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=bg(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=Wd(t,v,a),i.memoizedState=Jd,El(t.child,l)):(tr(i),a=t.child,t=a.sibling,a=as(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function ef(t,i){return i=pu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function pu(t,i){return t=Mn(22,t,null,i),t.lanes=0,t}function tf(t,i,a){return oa(i,t.child,null,a),t=ef(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function M0(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),gd(t.return,i,a)}function nf(t,i,a,l,h,f){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=h,v.treeForkCount=f)}function O0(t,i,a){var l=i.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var v=Rt.current,T=(v&2)!==0;if(T?(v=v&1|2,i.flags|=128):v&=1,re(Rt,v),Zt(t,i,l,a),l=Ge?ll:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&M0(t,a,i);else if(t.tag===19)M0(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&iu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),nf(i,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&iu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}nf(i,!0,a,null,f,l);break;case"together":nf(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function ds(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),rr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Xa(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=as(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=as(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function sf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&$c(t)))}function ET(t,i,a){switch(i.tag){case 3:pe(i,i.stateNode.containerInfo),Js(i,Ot,t.memoizedState.cache),ta();break;case 27:case 5:ut(i);break;case 4:pe(i,i.stateNode.containerInfo);break;case 10:Js(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Nd(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(tr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?k0(t,i,a):(tr(i),t=ds(t,i,a),t!==null?t.sibling:null);tr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Xa(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return O0(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(Rt,Rt.current),l)break;return null;case 22:return i.lanes=0,x0(t,i,a,i.pendingProps);case 24:Js(i,Ot,t.memoizedState.cache)}return ds(t,i,a)}function V0(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)jt=!0;else{if(!sf(t,a)&&(i.flags&128)===0)return jt=!1,ET(t,i,a);jt=(t.flags&131072)!==0}else jt=!1,Ge&&(i.flags&1048576)!==0&&fg(i,ll,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=ra(i.elementType),i.type=t,typeof t=="function")ld(t)?(l=ca(t,l),i.tag=1,i=C0(null,i,t,l,a)):(i.tag=0,i=Xd(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===_e){i.tag=11,i=A0(null,i,t,l,a);break e}else if(h===I){i.tag=14,i=S0(null,i,t,l,a);break e}}throw i=Re(t)||t,Error(r(306,i,""))}}return i;case 0:return Xd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=ca(l,i.pendingProps),C0(t,i,l,h,a);case 3:e:{if(pe(i,i.stateNode.containerInfo),t===null)throw Error(r(387));l=i.pendingProps;var f=i.memoizedState;h=f.element,Ad(t,i),gl(i,l,null,a);var v=i.memoizedState;if(l=v.cache,Js(i,Ot,l),l!==f.cache&&yd(i,[Ot],a,!0),pl(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=D0(t,i,l,a);break e}else if(l!==h){h=Zn(Error(r(424)),i),cl(h),i=D0(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,mt=ii(t.firstChild),Xt=i,Ge=!0,$s=null,ti=!0,a=xg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ta(),l===h){i=ds(t,i,a);break e}Zt(t,i,l,a)}i=i.child}return i;case 26:return mu(t,i),t===null?(a=Qy(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ge||(a=i.type,t=i.pendingProps,l=Du(Ae.current).createElement(a),l[tt]=i,l[Ke]=t,Wt(l,a,t),kt(l),i.stateNode=l):i.memoizedState=Qy(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ut(i),t===null&&Ge&&(l=i.stateNode=Hy(i.type,i.pendingProps,Ae.current),Xt=i,ti=!0,h=mt,ur(i.type)?(Pf=h,mt=ii(l.firstChild)):mt=h),Zt(t,i,i.pendingProps.children,a),mu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ge&&((h=l=mt)&&(l=JT(l,i.type,i.pendingProps,ti),l!==null?(i.stateNode=l,Xt=i,mt=ii(l.firstChild),ti=!1,h=!0):h=!1),h||Xs(i)),ut(i),h=i.type,f=i.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,kf(h,f)?l=null:v!==null&&kf(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Cd(t,i,dT,null,null,a),jl._currentValue=h),mu(t,i),Zt(t,i,l,a),i.child;case 6:return t===null&&Ge&&((t=a=mt)&&(a=ZT(a,i.pendingProps,ti),a!==null?(i.stateNode=a,Xt=i,mt=null,t=!0):t=!1),t||Xs(i)),null;case 13:return k0(t,i,a);case 4:return pe(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=oa(i,null,l,a):Zt(t,i,l,a),i.child;case 11:return A0(t,i,i.type,i.pendingProps,a);case 7:return Zt(t,i,i.pendingProps,a),i.child;case 8:return Zt(t,i,i.pendingProps.children,a),i.child;case 12:return Zt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Js(i,i.type,l.value),Zt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ia(i),h=Jt(h),l=l(h),i.flags|=1,Zt(t,i,l,a),i.child;case 14:return S0(t,i,i.type,i.pendingProps,a);case 15:return w0(t,i,i.type,i.pendingProps,a);case 19:return O0(t,i,a);case 31:return bT(t,i,a);case 22:return x0(t,i,a,i.pendingProps);case 24:return ia(i),l=Jt(Ot),t===null?(h=bd(),h===null&&(h=ht,f=_d(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:l,cache:h},Td(i),Js(i,Ot,h)):((t.lanes&a)!==0&&(Ad(t,i),gl(i,null,null,a),pl()),h=t.memoizedState,f=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Js(i,Ot,l)):(l=f.cache,Js(i,Ot,l),l!==h.cache&&yd(i,[Ot],a,!0))),Zt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function fs(t){t.flags|=4}function rf(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(ly())t.flags|=8192;else throw aa=Wc,Ed}else t.flags&=-16777217}function j0(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Jy(i))if(ly())t.flags|=8192;else throw aa=Wc,Ed}function gu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ca():536870912,t.lanes|=i,lo|=i)}function Tl(t,i){if(!Ge)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function pt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function TT(t,i,a){var l=i.pendingProps;switch(dd(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(i),null;case 1:return pt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),cs(Ot),ve(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&($a(i)?fs(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,md())),pt(i),null;case 26:var h=i.type,f=i.memoizedState;return t===null?(fs(i),f!==null?(pt(i),j0(i,f)):(pt(i),rf(i,h,null,l,a))):f?f!==t.memoizedState?(fs(i),pt(i),j0(i,f)):(pt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&fs(i),pt(i),rf(i,h,t,l,a)),null;case 27:if(Bt(i),a=Ae.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&fs(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return pt(i),null}t=te.current,$a(i)?pg(i):(t=Hy(h,l,a),i.stateNode=t,fs(i))}return pt(i),null;case 5:if(Bt(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&fs(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return pt(i),null}if(f=te.current,$a(i))pg(i);else{var v=Du(Ae.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}f[tt]=i,f[Ke]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=f;e:switch(Wt(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&fs(i)}}return pt(i),rf(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&fs(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(t=Ae.current,$a(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Xt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[tt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||ky(t.nodeValue,a)),t||Xs(i,!0)}else t=Du(t).createTextNode(l),t[tt]=i,i.stateNode=t}return pt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=$a(i),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[tt]=i}else ta(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;pt(i),t=!1}else a=md(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Vn(i),i):(Vn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return pt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=$a(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[tt]=i}else ta(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;pt(i),h=!1}else h=md(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Vn(i),i):(Vn(i),null)}return Vn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),gu(i,i.updateQueue),pt(i),null);case 4:return ve(),t===null&&Rf(i.stateNode.containerInfo),pt(i),null;case 10:return cs(i.type),pt(i),null;case 19:if(K(Rt),l=i.memoizedState,l===null)return pt(i),null;if(h=(i.flags&128)!==0,f=l.rendering,f===null)if(h)Tl(l,!1);else{if(wt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=iu(t),f!==null){for(i.flags|=128,Tl(l,!1),t=f.updateQueue,i.updateQueue=t,gu(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)ug(a,t),a=a.sibling;return re(Rt,Rt.current&1|2),Ge&&os(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&qt()>Eu&&(i.flags|=128,h=!0,Tl(l,!1),i.lanes=4194304)}else{if(!h)if(t=iu(f),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,gu(i,t),Tl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ge)return pt(i),null}else 2*qt()-l.renderingStartTime>Eu&&a!==536870912&&(i.flags|=128,h=!0,Tl(l,!1),i.lanes=4194304);l.isBackwards?(f.sibling=i.child,i.child=f):(t=l.last,t!==null?t.sibling=f:i.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=qt(),t.sibling=null,a=Rt.current,re(Rt,h?a&1|2:a&1),Ge&&os(i,l.treeForkCount),t):(pt(i),null);case 22:case 23:return Vn(i),Rd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(pt(i),i.subtreeFlags&6&&(i.flags|=8192)):pt(i),a=i.updateQueue,a!==null&&gu(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&K(sa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),cs(Ot),pt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function AT(t,i){switch(dd(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return cs(Ot),ve(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Bt(i),null;case 31:if(i.memoizedState!==null){if(Vn(i),i.alternate===null)throw Error(r(340));ta()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Vn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));ta()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return K(Rt),null;case 4:return ve(),null;case 10:return cs(i.type),null;case 22:case 23:return Vn(i),Rd(),t!==null&&K(sa),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return cs(Ot),null;case 25:return null;default:return null}}function P0(t,i){switch(dd(i),i.tag){case 3:cs(Ot),ve();break;case 26:case 27:case 5:Bt(i);break;case 4:ve();break;case 31:i.memoizedState!==null&&Vn(i);break;case 13:Vn(i);break;case 19:K(Rt);break;case 10:cs(i.type);break;case 22:case 23:Vn(i),Rd(),t!==null&&K(sa);break;case 24:cs(Ot)}}function Al(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,v=a.inst;l=f(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){st(i,i.return,T)}}function ir(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var C=a,z=T;try{z()}catch(Q){st(h,C,Q)}}}l=l.next}while(l!==f)}}catch(Q){st(i,i.return,Q)}}function L0(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Ng(i,a)}catch(l){st(t,t.return,l)}}}function U0(t,i,a){a.props=ca(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){st(t,i,l)}}function Sl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){st(t,i,h)}}function ji(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){st(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){st(t,i,h)}else a.current=null}function z0(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){st(t,t.return,h)}}function af(t,i,a){try{var l=t.stateNode;GT(l,t.type,a,i),l[Ke]=i}catch(h){st(t,t.return,h)}}function B0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ur(t.type)||t.tag===4}function of(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||B0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ur(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ci));else if(l!==4&&(l===27&&ur(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(lf(t,i,a),t=t.sibling;t!==null;)lf(t,i,a),t=t.sibling}function yu(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&ur(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(yu(t,i,a),t=t.sibling;t!==null;)yu(t,i,a),t=t.sibling}function q0(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Wt(i,l,a),i[tt]=t,i[Ke]=a}catch(f){st(t,t.return,f)}}var ms=!1,Pt=!1,cf=!1,H0=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function ST(t,i){if(t=t.containerInfo,Cf=Lu,t=tg(t),td(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var v=0,T=-1,C=-1,z=0,Q=0,Z=t,B=null;t:for(;;){for(var H;Z!==a||h!==0&&Z.nodeType!==3||(T=v+h),Z!==f||l!==0&&Z.nodeType!==3||(C=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(H=Z.firstChild)!==null;)B=Z,Z=H;for(;;){if(Z===t)break t;if(B===a&&++z===h&&(T=v),B===f&&++Q===l&&(C=v),(H=Z.nextSibling)!==null)break;Z=B,B=Z.parentNode}Z=H}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Df={focusedElem:t,selectionRange:a},Lu=!1,Yt=i;Yt!==null;)if(i=Yt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Yt=t;else for(;Yt!==null;){switch(i=Yt,f=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var fe=ca(a.type,h);t=l.getSnapshotBeforeUpdate(fe,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Se){st(a,a.return,Se)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Of(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Of(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Yt=t;break}Yt=i.return}}function F0(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:gs(t,a),l&4&&Al(5,a);break;case 1:if(gs(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){st(a,a.return,v)}else{var h=ca(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){st(a,a.return,v)}}l&64&&L0(a),l&512&&Sl(a,a.return);break;case 3:if(gs(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Ng(t,i)}catch(v){st(a,a.return,v)}}break;case 27:i===null&&l&4&&q0(a);case 26:case 5:gs(t,a),i===null&&l&4&&z0(a),l&512&&Sl(a,a.return);break;case 12:gs(t,a);break;case 31:gs(t,a),l&4&&Y0(t,a);break;case 13:gs(t,a),l&4&&K0(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=MT.bind(null,a),WT(t,a))));break;case 22:if(l=a.memoizedState!==null||ms,!l){i=i!==null&&i.memoizedState!==null||Pt,h=ms;var f=Pt;ms=l,(Pt=i)&&!f?ys(t,a,(a.subtreeFlags&8772)!==0):gs(t,a),ms=h,Pt=f}break;case 30:break;default:gs(t,a)}}function G0(t){var i=t.alternate;i!==null&&(t.alternate=null,G0(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ka(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var vt=null,vn=!1;function ps(t,i,a){for(a=a.child;a!==null;)Q0(t,i,a),a=a.sibling}function Q0(t,i,a){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(sn,a)}catch{}switch(a.tag){case 26:Pt||ji(a,i),ps(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Pt||ji(a,i);var l=vt,h=vn;ur(a.type)&&(vt=a.stateNode,vn=!1),ps(t,i,a),Ml(a.stateNode),vt=l,vn=h;break;case 5:Pt||ji(a,i);case 6:if(l=vt,h=vn,vt=null,ps(t,i,a),vt=l,vn=h,vt!==null)if(vn)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(a.stateNode)}catch(f){st(a,i,f)}else try{vt.removeChild(a.stateNode)}catch(f){st(a,i,f)}break;case 18:vt!==null&&(vn?(t=vt,Ly(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),yo(t)):Ly(vt,a.stateNode));break;case 4:l=vt,h=vn,vt=a.stateNode.containerInfo,vn=!0,ps(t,i,a),vt=l,vn=h;break;case 0:case 11:case 14:case 15:ir(2,a,i),Pt||ir(4,a,i),ps(t,i,a);break;case 1:Pt||(ji(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&U0(a,i,l)),ps(t,i,a);break;case 21:ps(t,i,a);break;case 22:Pt=(l=Pt)||a.memoizedState!==null,ps(t,i,a),Pt=l;break;default:ps(t,i,a)}}function Y0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{yo(t)}catch(a){st(i,i.return,a)}}}function K0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{yo(t)}catch(a){st(i,i.return,a)}}function wT(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new H0),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new H0),i;default:throw Error(r(435,t.tag))}}function _u(t,i){var a=wT(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=OT.bind(null,t,l);l.then(h,h)}})}function bn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(ur(T.type)){vt=T.stateNode,vn=!1;break e}break;case 5:vt=T.stateNode,vn=!1;break e;case 3:case 4:vt=T.stateNode.containerInfo,vn=!0;break e}T=T.return}if(vt===null)throw Error(r(160));Q0(f,v,h),vt=null,vn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)$0(i,t),i=i.sibling}var pi=null;function $0(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:bn(i,t),En(t),l&4&&(ir(3,t,t.return),Al(3,t),ir(5,t,t.return));break;case 1:bn(i,t),En(t),l&512&&(Pt||a===null||ji(a,a.return)),l&64&&ms&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=pi;if(bn(i,t),En(t),l&512&&(Pt||a===null||ji(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ti]||f[tt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Wt(f,l,a),f[tt]=t,kt(f),l=f;break e;case"link":var v=$y("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(f=v[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}f=h.createElement(l),Wt(f,l,a),h.head.appendChild(f);break;case"meta":if(v=$y("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(f=v[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}f=h.createElement(l),Wt(f,l,a),h.head.appendChild(f);break;default:throw Error(r(468,l))}f[tt]=t,kt(f),l=f}t.stateNode=l}else Xy(h,t.type,t.stateNode);else t.stateNode=Ky(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Xy(h,t.type,t.stateNode):Ky(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&af(t,t.memoizedProps,a.memoizedProps)}break;case 27:bn(i,t),En(t),l&512&&(Pt||a===null||ji(a,a.return)),a!==null&&l&4&&af(t,t.memoizedProps,a.memoizedProps);break;case 5:if(bn(i,t),En(t),l&512&&(Pt||a===null||ji(a,a.return)),t.flags&32){h=t.stateNode;try{_n(h,"")}catch(fe){st(t,t.return,fe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,af(t,h,a!==null?a.memoizedProps:h)),l&1024&&(cf=!0);break;case 6:if(bn(i,t),En(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){st(t,t.return,fe)}}break;case 3:if(Ou=null,h=pi,pi=ku(i.containerInfo),bn(i,t),pi=h,En(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{yo(i.containerInfo)}catch(fe){st(t,t.return,fe)}cf&&(cf=!1,X0(t));break;case 4:l=pi,pi=ku(t.stateNode.containerInfo),bn(i,t),En(t),pi=l;break;case 12:bn(i,t),En(t);break;case 31:bn(i,t),En(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_u(t,l)));break;case 13:bn(i,t),En(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(bu=qt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_u(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=ms,Q=Pt;if(ms=z||h,Pt=Q||C,bn(i,t),Pt=Q,ms=z,En(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||ms||Pt||ua(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(f=C.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=C.stateNode;var Z=C.memoizedProps.style,B=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(fe){st(C,C.return,fe)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(fe){st(C,C.return,fe)}}}else if(i.tag===18){if(a===null){C=i;try{var H=C.stateNode;h?Uy(H,!0):Uy(C.stateNode,!1)}catch(fe){st(C,C.return,fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,_u(t,a))));break;case 19:bn(i,t),En(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_u(t,l)));break;case 30:break;case 21:break;default:bn(i,t),En(t)}}function En(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(B0(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=of(t);yu(t,f,h);break;case 5:var v=a.stateNode;a.flags&32&&(_n(v,""),a.flags&=-33);var T=of(t);yu(t,T,v);break;case 3:case 4:var C=a.stateNode.containerInfo,z=of(t);lf(t,z,C);break;default:throw Error(r(161))}}catch(Q){st(t,t.return,Q)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function X0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;X0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function gs(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)F0(t,i.alternate,i),i=i.sibling}function ua(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:ir(4,i,i.return),ua(i);break;case 1:ji(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&U0(i,i.return,a),ua(i);break;case 27:Ml(i.stateNode);case 26:case 5:ji(i,i.return),ua(i);break;case 22:i.memoizedState===null&&ua(i);break;case 30:ua(i);break;default:ua(i)}t=t.sibling}}function ys(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,f=i,v=f.flags;switch(f.tag){case 0:case 11:case 15:ys(h,f,a),Al(4,f);break;case 1:if(ys(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){st(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Rg(C[h],T)}catch(z){st(l,l.return,z)}}a&&v&64&&L0(f),Sl(f,f.return);break;case 27:q0(f);case 26:case 5:ys(h,f,a),a&&l===null&&v&4&&z0(f),Sl(f,f.return);break;case 12:ys(h,f,a);break;case 31:ys(h,f,a),a&&v&4&&Y0(h,f);break;case 13:ys(h,f,a),a&&v&4&&K0(h,f);break;case 22:f.memoizedState===null&&ys(h,f,a),Sl(f,f.return);break;case 30:break;default:ys(h,f,a)}i=i.sibling}}function uf(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ul(a))}function hf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ul(t))}function gi(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)J0(t,i,a,l),i=i.sibling}function J0(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:gi(t,i,a,l),h&2048&&Al(9,i);break;case 1:gi(t,i,a,l);break;case 3:gi(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ul(t)));break;case 12:if(h&2048){gi(t,i,a,l),t=i.stateNode;try{var f=i.memoizedProps,v=f.id,T=f.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){st(i,i.return,C)}}else gi(t,i,a,l);break;case 31:gi(t,i,a,l);break;case 13:gi(t,i,a,l);break;case 23:break;case 22:f=i.stateNode,v=i.alternate,i.memoizedState!==null?f._visibility&2?gi(t,i,a,l):wl(t,i):f._visibility&2?gi(t,i,a,l):(f._visibility|=2,ro(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&uf(v,i);break;case 24:gi(t,i,a,l),h&2048&&hf(i.alternate,i);break;default:gi(t,i,a,l)}}function ro(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=t,v=i,T=a,C=l,z=v.flags;switch(v.tag){case 0:case 11:case 15:ro(f,v,T,C,h),Al(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&2?ro(f,v,T,C,h):wl(f,v):(Q._visibility|=2,ro(f,v,T,C,h)),h&&z&2048&&uf(v.alternate,v);break;case 24:ro(f,v,T,C,h),h&&z&2048&&hf(v.alternate,v);break;default:ro(f,v,T,C,h)}i=i.sibling}}function wl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:wl(a,l),h&2048&&uf(l.alternate,l);break;case 24:wl(a,l),h&2048&&hf(l.alternate,l);break;default:wl(a,l)}i=i.sibling}}var xl=8192;function ao(t,i,a){if(t.subtreeFlags&xl)for(t=t.child;t!==null;)Z0(t,i,a),t=t.sibling}function Z0(t,i,a){switch(t.tag){case 26:ao(t,i,a),t.flags&xl&&t.memoizedState!==null&&h2(a,pi,t.memoizedState,t.memoizedProps);break;case 5:ao(t,i,a);break;case 3:case 4:var l=pi;pi=ku(t.stateNode.containerInfo),ao(t,i,a),pi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=xl,xl=16777216,ao(t,i,a),xl=l):ao(t,i,a));break;default:ao(t,i,a)}}function W0(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Rl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Yt=l,ty(l,t)}W0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ey(t),t=t.sibling}function ey(t){switch(t.tag){case 0:case 11:case 15:Rl(t),t.flags&2048&&ir(9,t,t.return);break;case 3:Rl(t);break;case 12:Rl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,vu(t)):Rl(t);break;default:Rl(t)}}function vu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Yt=l,ty(l,t)}W0(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:ir(8,i,i.return),vu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,vu(i));break;default:vu(i)}t=t.sibling}}function ty(t,i){for(;Yt!==null;){var a=Yt;switch(a.tag){case 0:case 11:case 15:ir(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ul(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Yt=l;else e:for(a=t;Yt!==null;){l=Yt;var h=l.sibling,f=l.return;if(G0(l),l===a){Yt=null;break e}if(h!==null){h.return=f,Yt=h;break e}Yt=f}}}var xT={getCacheForType:function(t){var i=Jt(Ot),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Jt(Ot).controller.signal}},RT=typeof WeakMap=="function"?WeakMap:Map,Ze=0,ht=null,Le=null,ze=0,it=0,jn=null,sr=!1,oo=!1,df=!1,_s=0,wt=0,rr=0,ha=0,ff=0,Pn=0,lo=0,Nl=null,Tn=null,mf=!1,bu=0,ny=0,Eu=1/0,Tu=null,ar=null,Ht=0,or=null,co=null,vs=0,pf=0,gf=null,iy=null,Il=0,yf=null;function Ln(){return(Ze&2)!==0&&ze!==0?ze&-ze:F.T!==null?Af():Da()}function sy(){if(Pn===0)if((ze&536870912)===0||Ge){var t=Zi;Zi<<=1,(Zi&3932160)===0&&(Zi=262144),Pn=t}else Pn=536870912;return t=On.current,t!==null&&(t.flags|=32),Pn}function An(t,i,a){(t===ht&&(it===2||it===9)||t.cancelPendingCommit!==null)&&(uo(t,0),lr(t,ze,Pn,!1)),Wi(t,a),((Ze&2)===0||t!==ht)&&(t===ht&&((Ze&2)===0&&(ha|=a),wt===4&&lr(t,ze,Pn,!1)),Pi(t))}function ry(t,i,a){if((Ze&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||In(t,i),h=l?CT(t,i):vf(t,i,!0),f=l;do{if(h===0){oo&&!l&&lr(t,i,0,!1);break}else{if(a=t.current.alternate,f&&!NT(a)){h=vf(t,i,!1),f=!1;continue}if(h===2){if(f=i,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;h=Nl;var C=T.current.memoizedState.isDehydrated;if(C&&(uo(T,v).flags|=256),v=vf(T,v,!1),v!==2){if(df&&!C){T.errorRecoveryDisabledLanes|=f,ha|=f,h=4;break e}f=Tn,Tn=h,f!==null&&(Tn===null?Tn=f:Tn.push.apply(Tn,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){uo(t,0),lr(t,i,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:lr(l,i,Pn,!sr);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=bu+300-qt(),10<h)){if(lr(l,i,Pn,!sr),Fn(l,0,!0)!==0)break e;vs=i,l.timeoutHandle=jy(ay.bind(null,l,a,Tn,Tu,mf,i,Pn,ha,lo,sr,f,"Throttled",-0,0),h);break e}ay(l,a,Tn,Tu,mf,i,Pn,ha,lo,sr,f,null,-0,0)}}break}while(!0);Pi(t)}function ay(t,i,a,l,h,f,v,T,C,z,Q,Z,B,H){if(t.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ci},Z0(i,f,Z);var fe=(f&62914560)===f?bu-qt():(f&4194048)===f?ny-qt():0;if(fe=d2(Z,fe),fe!==null){vs=f,t.cancelPendingCommit=fe(my.bind(null,t,i,f,a,l,h,v,T,C,Q,Z,null,B,H)),lr(t,f,v,!z);return}}my(t,i,f,a,l,h,v,T,C)}function NT(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!kn(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function lr(t,i,a,l){i&=~ff,i&=~ha,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var f=31-yt(h),v=1<<f;l[f]=-1,h&=~v}a!==0&&es(t,a,i)}function Au(){return(Ze&6)===0?(Cl(0),!1):!0}function _f(){if(Le!==null){if(it===0)var t=Le.return;else t=Le,ls=na=null,Md(t),eo=null,dl=0,t=Le;for(;t!==null;)P0(t.alternate,t),t=t.return;Le=null}}function uo(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,KT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),vs=0,_f(),ht=t,Le=a=as(t.current,null),ze=i,it=0,jn=null,sr=!1,oo=In(t,i),df=!1,lo=Pn=ff=ha=rr=wt=0,Tn=Nl=null,mf=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-yt(l),f=1<<h;i|=t[h],l&=~f}return _s=i,Fc(),a}function oy(t,i){Ve=null,F.H=bl,i===Wa||i===Zc?(i=Ag(),it=3):i===Ed?(i=Ag(),it=4):it=i===$d?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,jn=i,Le===null&&(wt=1,du(t,Zn(i,t.current)))}function ly(){var t=On.current;return t===null?!0:(ze&4194048)===ze?ni===null:(ze&62914560)===ze||(ze&536870912)!==0?t===ni:!1}function cy(){var t=F.H;return F.H=bl,t===null?bl:t}function uy(){var t=F.A;return F.A=xT,t}function Su(){wt=4,sr||(ze&4194048)!==ze&&On.current!==null||(oo=!0),(rr&134217727)===0&&(ha&134217727)===0||ht===null||lr(ht,ze,Pn,!1)}function vf(t,i,a){var l=Ze;Ze|=2;var h=cy(),f=uy();(ht!==t||ze!==i)&&(Tu=null,uo(t,i)),i=!1;var v=wt;e:do try{if(it!==0&&Le!==null){var T=Le,C=jn;switch(it){case 8:_f(),v=6;break e;case 3:case 2:case 9:case 6:On.current===null&&(i=!0);var z=it;if(it=0,jn=null,ho(t,T,C,z),a&&oo){v=0;break e}break;default:z=it,it=0,jn=null,ho(t,T,C,z)}}IT(),v=wt;break}catch(Q){oy(t,Q)}while(!0);return i&&t.shellSuspendCounter++,ls=na=null,Ze=l,F.H=h,F.A=f,Le===null&&(ht=null,ze=0,Fc()),v}function IT(){for(;Le!==null;)hy(Le)}function CT(t,i){var a=Ze;Ze|=2;var l=cy(),h=uy();ht!==t||ze!==i?(Tu=null,Eu=qt()+500,uo(t,i)):oo=In(t,i);e:do try{if(it!==0&&Le!==null){i=Le;var f=jn;t:switch(it){case 1:it=0,jn=null,ho(t,i,f,1);break;case 2:case 9:if(Eg(f)){it=0,jn=null,dy(i);break}i=function(){it!==2&&it!==9||ht!==t||(it=7),Pi(t)},f.then(i,i);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:Eg(f)?(it=0,jn=null,dy(i)):(it=0,jn=null,ho(t,i,f,7));break;case 5:var v=null;switch(Le.tag){case 26:v=Le.memoizedState;case 5:case 27:var T=Le;if(v?Jy(v):T.stateNode.complete){it=0,jn=null;var C=T.sibling;if(C!==null)Le=C;else{var z=T.return;z!==null?(Le=z,wu(z)):Le=null}break t}}it=0,jn=null,ho(t,i,f,5);break;case 6:it=0,jn=null,ho(t,i,f,6);break;case 8:_f(),wt=6;break e;default:throw Error(r(462))}}DT();break}catch(Q){oy(t,Q)}while(!0);return ls=na=null,F.H=l,F.A=h,Ze=a,Le!==null?0:(ht=null,ze=0,Fc(),wt)}function DT(){for(;Le!==null&&!Vs();)hy(Le)}function hy(t){var i=V0(t.alternate,t,_s);t.memoizedProps=t.pendingProps,i===null?wu(t):Le=i}function dy(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=I0(a,i,i.pendingProps,i.type,void 0,ze);break;case 11:i=I0(a,i,i.pendingProps,i.type.render,i.ref,ze);break;case 5:Md(i);default:P0(a,i),i=Le=ug(i,_s),i=V0(a,i,_s)}t.memoizedProps=t.pendingProps,i===null?wu(t):Le=i}function ho(t,i,a,l){ls=na=null,Md(i),eo=null,dl=0;var h=i.return;try{if(vT(t,h,i,a,ze)){wt=1,du(t,Zn(a,t.current)),Le=null;return}}catch(f){if(h!==null)throw Le=h,f;wt=1,du(t,Zn(a,t.current)),Le=null;return}i.flags&32768?(Ge||l===1?t=!0:oo||(ze&536870912)!==0?t=!1:(sr=t=!0,(l===2||l===9||l===3||l===6)&&(l=On.current,l!==null&&l.tag===13&&(l.flags|=16384))),fy(i,t)):wu(i)}function wu(t){var i=t;do{if((i.flags&32768)!==0){fy(i,sr);return}t=i.return;var a=TT(i.alternate,i,_s);if(a!==null){Le=a;return}if(i=i.sibling,i!==null){Le=i;return}Le=i=t}while(i!==null);wt===0&&(wt=5)}function fy(t,i){do{var a=AT(t.alternate,t);if(a!==null){a.flags&=32767,Le=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Le=t;return}Le=t=a}while(t!==null);wt=6,Le=null}function my(t,i,a,l,h,f,v,T,C){t.cancelPendingCommit=null;do xu();while(Ht!==0);if((Ze&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(f=i.lanes|i.childLanes,f|=ad,qo(t,a,f,v,T,C),t===ht&&(Le=ht=null,ze=0),co=i,or=t,vs=a,pf=f,gf=h,iy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,VT(Ei,function(){return vy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=se.p,se.p=2,v=Ze,Ze|=4;try{ST(t,i,a)}finally{Ze=v,se.p=h,F.T=l}}Ht=1,py(),gy(),yy()}}function py(){if(Ht===1){Ht=0;var t=or,i=co,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=se.p;se.p=2;var h=Ze;Ze|=4;try{$0(i,t);var f=Df,v=tg(t.containerInfo),T=f.focusedElem,C=f.selectionRange;if(v!==T&&T&&T.ownerDocument&&eg(T.ownerDocument.documentElement,T)){if(C!==null&&td(T)){var z=C.start,Q=C.end;if(Q===void 0&&(Q=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(Q,T.value.length);else{var Z=T.ownerDocument||document,B=Z&&Z.defaultView||window;if(B.getSelection){var H=B.getSelection(),fe=T.textContent.length,Se=Math.min(C.start,fe),lt=C.end===void 0?Se:Math.min(C.end,fe);!H.extend&&Se>lt&&(v=lt,lt=Se,Se=v);var j=Wp(T,Se),M=Wp(T,lt);if(j&&M&&(H.rangeCount!==1||H.anchorNode!==j.node||H.anchorOffset!==j.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var U=Z.createRange();U.setStart(j.node,j.offset),H.removeAllRanges(),Se>lt?(H.addRange(U),H.extend(M.node,M.offset)):(U.setEnd(M.node,M.offset),H.addRange(U))}}}}for(Z=[],H=T;H=H.parentNode;)H.nodeType===1&&Z.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var $=Z[T];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Lu=!!Cf,Df=Cf=null}finally{Ze=h,se.p=l,F.T=a}}t.current=i,Ht=2}}function gy(){if(Ht===2){Ht=0;var t=or,i=co,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=se.p;se.p=2;var h=Ze;Ze|=4;try{F0(t,i.alternate,i)}finally{Ze=h,se.p=l,F.T=a}}Ht=3}}function yy(){if(Ht===4||Ht===3){Ht=0,Bn();var t=or,i=co,a=vs,l=iy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ht=5:(Ht=0,co=or=null,_y(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ar=null),li(a),i=i.stateNode,Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(sn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=F.T,h=se.p,se.p=2,F.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];f(T.value,{componentStack:T.stack})}}finally{F.T=i,se.p=h}}(vs&3)!==0&&xu(),Pi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===yf?Il++:(Il=0,yf=t):Il=0,Cl(0)}}function _y(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ul(i)))}function xu(){return py(),gy(),yy(),vy()}function vy(){if(Ht!==5)return!1;var t=or,i=pf;pf=0;var a=li(vs),l=F.T,h=se.p;try{se.p=32>a?32:a,F.T=null,a=gf,gf=null;var f=or,v=vs;if(Ht=0,co=or=null,vs=0,(Ze&6)!==0)throw Error(r(331));var T=Ze;if(Ze|=4,ey(f.current),J0(f,f.current,v,a),Ze=T,Cl(0,!1),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(sn,f)}catch{}return!0}finally{se.p=h,F.T=l,_y(t,i)}}function by(t,i,a){i=Zn(a,i),i=Kd(t.stateNode,i,2),t=er(t,i,2),t!==null&&(Wi(t,2),Pi(t))}function st(t,i,a){if(t.tag===3)by(t,t,a);else for(;i!==null;){if(i.tag===3){by(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ar===null||!ar.has(l))){t=Zn(a,t),a=E0(2),l=er(i,a,2),l!==null&&(T0(a,l,i,t),Wi(l,2),Pi(l));break}}i=i.return}}function bf(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new RT;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(df=!0,h.add(a),t=kT.bind(null,t,i,a),i.then(t,t))}function kT(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ht===t&&(ze&a)===a&&(wt===4||wt===3&&(ze&62914560)===ze&&300>qt()-bu?(Ze&2)===0&&uo(t,0):ff|=a,lo===ze&&(lo=0)),Pi(t)}function Ey(t,i){i===0&&(i=Ca()),t=Wr(t,i),t!==null&&(Wi(t,i),Pi(t))}function MT(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Ey(t,a)}function OT(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),Ey(t,a)}function VT(t,i){return gt(t,i)}var Ru=null,fo=null,Ef=!1,Nu=!1,Tf=!1,cr=0;function Pi(t){t!==fo&&t.next===null&&(fo===null?Ru=fo=t:fo=fo.next=t),Nu=!0,Ef||(Ef=!0,PT())}function Cl(t,i){if(!Tf&&Nu){Tf=!0;do for(var a=!1,l=Ru;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var v=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-yt(42|t)+1)-1,f&=h&~(v&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,wy(l,f))}else f=ze,f=Fn(l,l===ht?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||In(l,f)||(a=!0,wy(l,f));l=l.next}while(a);Tf=!1}}function jT(){Ty()}function Ty(){Nu=Ef=!1;var t=0;cr!==0&&YT()&&(t=cr);for(var i=qt(),a=null,l=Ru;l!==null;){var h=l.next,f=Ay(l,i);f===0?(l.next=null,a===null?Ru=h:a.next=h,h===null&&(fo=a)):(a=l,(t!==0||(f&3)!==0)&&(Nu=!0)),l=h}Ht!==0&&Ht!==5||Cl(t),cr!==0&&(cr=0)}function Ay(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-yt(f),T=1<<v,C=h[v];C===-1?((T&a)===0||(T&l)!==0)&&(h[v]=Ps(T,i)):C<=i&&(t.expiredLanes|=T),f&=~T}if(i=ht,a=ze,a=Fn(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(it===2||it===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Tt(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||In(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Tt(l),li(a)){case 2:case 8:a=Lr;break;case 32:a=Ei;break;case 268435456:a=Ur;break;default:a=Ei}return l=Sy.bind(null,t),a=gt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Tt(l),t.callbackPriority=2,t.callbackNode=null,2}function Sy(t,i){if(Ht!==0&&Ht!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(xu()&&t.callbackNode!==a)return null;var l=ze;return l=Fn(t,t===ht?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(ry(t,l,i),Ay(t,qt()),t.callbackNode!=null&&t.callbackNode===a?Sy.bind(null,t):null)}function wy(t,i){if(xu())return null;ry(t,i,!0)}function PT(){$T(function(){(Ze&6)!==0?gt(Pr,jT):Ty()})}function Af(){if(cr===0){var t=Ja;t===0&&(t=qn,qn<<=1,(qn&261888)===0&&(qn=256)),cr=t}return cr}function xy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ja(""+t)}function Ry(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function LT(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var f=xy((h[Ke]||null).action),v=l.submitter;v&&(i=(i=v[Ke]||null)?xy(i.formAction):v.getAttribute("formAction"),i!==null&&(f=i,v=null));var T=new Ci("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(cr!==0){var C=v?Ry(h,v):new FormData(h);qd(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(T.preventDefault(),C=v?Ry(h,v):new FormData(h),qd(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var Sf=0;Sf<rd.length;Sf++){var wf=rd[Sf],UT=wf.toLowerCase(),zT=wf[0].toUpperCase()+wf.slice(1);mi(UT,"on"+zT)}mi(sg,"onAnimationEnd"),mi(rg,"onAnimationIteration"),mi(ag,"onAnimationStart"),mi("dblclick","onDoubleClick"),mi("focusin","onFocus"),mi("focusout","onBlur"),mi(nT,"onTransitionRun"),mi(iT,"onTransitionStart"),mi(sT,"onTransitionCancel"),mi(og,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function Ny(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var f=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],C=T.instance,z=T.currentTarget;if(T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=z;try{f(h)}catch(Q){Hc(Q)}h.currentTarget=null,f=C}else for(v=0;v<l.length;v++){if(T=l[v],C=T.instance,z=T.currentTarget,T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=z;try{f(h)}catch(Q){Hc(Q)}h.currentTarget=null,f=C}}}}function Ue(t,i){var a=i[Qn];a===void 0&&(a=i[Qn]=new Set);var l=t+"__bubble";a.has(l)||(Iy(i,t,2,!1),a.add(l))}function xf(t,i,a){var l=0;i&&(l|=4),Iy(a,t,l,i)}var Iu="_reactListening"+Math.random().toString(36).slice(2);function Rf(t){if(!t[Iu]){t[Iu]=!0,Ho.forEach(function(a){a!=="selectionchange"&&(BT.has(a)||xf(a,!1,t),xf(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Iu]||(i[Iu]=!0,xf("selectionchange",!1,i))}}function Iy(t,i,a,l){switch(s_(i)){case 2:var h=p2;break;case 8:h=g2;break;default:h=qf}a=h.bind(null,i,a,t),h=void 0,!Gr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Nf(t,i,a,l,h){var f=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Ai(T),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=f=v;continue e}T=T.parentNode}}l=l.return}Fs(function(){var z=f,Q=Kn(a),Z=[];e:{var B=lg.get(t);if(B!==void 0){var H=Ci,fe=t;switch(t){case"keypress":if(Yr(a)===0)break e;case"keydown":case"keyup":H=zc;break;case"focusin":fe="focus",H=$r;break;case"focusout":fe="blur",H=$r;break;case"beforeblur":case"afterblur":H=$r;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Dc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=p;break;case sg:case rg:case ag:H=Mc;break;case og:H=A;break;case"scroll":case"scrollend":H=tl;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Oc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=rs;break;case"toggle":case"beforetoggle":H=Oe}var Se=(i&4)!==0,lt=!Se&&(t==="scroll"||t==="scrollend"),j=Se?B!==null?B+"Capture":null:B;Se=[];for(var M=z,U;M!==null;){var $=M;if(U=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||U===null||j===null||($=ui(M,j),$!=null&&Se.push(kl(M,$,U))),lt)break;M=M.return}0<Se.length&&(B=new H(B,fe,null,a,Q),Z.push({event:B,listeners:Se}))}}if((i&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&a!==Zo&&(fe=a.relatedTarget||a.fromElement)&&(Ai(fe)||fe[rn]))break e;if((H||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,H?(fe=a.relatedTarget||a.toElement,H=z,fe=fe?Ai(fe):null,fe!==null&&(lt=c(fe),Se=fe.tag,fe!==lt||Se!==5&&Se!==27&&Se!==6)&&(fe=null)):(H=null,fe=z),H!==fe)){if(Se=nl,$="onMouseLeave",j="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Se=rs,$="onPointerLeave",j="onPointerEnter",M="pointer"),lt=H==null?B:Cn(H),U=fe==null?B:Cn(fe),B=new Se($,M+"leave",H,a,Q),B.target=lt,B.relatedTarget=U,$=null,Ai(Q)===z&&(Se=new Se(j,M+"enter",fe,a,Q),Se.target=U,Se.relatedTarget=lt,$=Se),lt=$,H&&fe)t:{for(Se=qT,j=H,M=fe,U=0,$=j;$;$=Se($))U++;$=0;for(var be=M;be;be=Se(be))$++;for(;0<U-$;)j=Se(j),U--;for(;0<$-U;)M=Se(M),$--;for(;U--;){if(j===M||M!==null&&j===M.alternate){Se=j;break t}j=Se(j),M=Se(M)}Se=null}else Se=null;H!==null&&Cy(Z,B,H,Se,!1),fe!==null&&lt!==null&&Cy(Z,lt,fe,Se,!0)}}e:{if(B=z?Cn(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var $e=Yp;else if(Gp(B))if(Kp)$e=WE;else{$e=JE;var ye=XE}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Va(z.elementType)&&($e=Yp):$e=ZE;if($e&&($e=$e(t,z))){Qp(Z,$e,a,Q);break e}ye&&ye(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&$o(B,"number",B.value)}switch(ye=z?Cn(z):window,t){case"focusin":(Gp(ye)||ye.contentEditable==="true")&&(Ha=ye,nd=z,ol=null);break;case"focusout":ol=nd=Ha=null;break;case"mousedown":id=!0;break;case"contextmenu":case"mouseup":case"dragend":id=!1,ng(Z,a,Q);break;case"selectionchange":if(tT)break;case"keydown":case"keyup":ng(Z,a,Q)}var Pe;if(Je)e:{switch(t){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else qa?Xr(t,a)&&(Be="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Be="onCompositionStart");Be&&(Mi&&a.locale!=="ko"&&(qa||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&qa&&(Pe=el()):(Ii=Q,Wo="value"in Ii?Ii.value:Ii.textContent,qa=!0)),ye=Cu(z,Be),0<ye.length&&(Be=new ki(Be,t,null,a,Q),Z.push({event:Be,listeners:ye}),Pe?Be.data=Pe:(Pe=Ba(a),Pe!==null&&(Be.data=Pe)))),(Pe=Xn?QE(t,a):YE(t,a))&&(Be=Cu(z,"onBeforeInput"),0<Be.length&&(ye=new ki("onBeforeInput","beforeinput",null,a,Q),Z.push({event:ye,listeners:Be}),ye.data=Pe)),LT(Z,t,z,a,Q)}Ny(Z,i)})}function kl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Cu(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ui(t,a),h!=null&&l.unshift(kl(t,h,f)),h=ui(t,i),h!=null&&l.push(kl(t,h,f))),t.tag===3)return l;t=t.return}return[]}function qT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Cy(t,i,a,l,h){for(var f=i._reactName,v=[];a!==null&&a!==l;){var T=a,C=T.alternate,z=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||z===null||(C=z,h?(z=ui(a,f),z!=null&&v.unshift(kl(a,z,C))):h||(z=ui(a,f),z!=null&&v.push(kl(a,z,C)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var HT=/\r\n?/g,FT=/\u0000|\uFFFD/g;function Dy(t){return(typeof t=="string"?t:""+t).replace(HT,`
`).replace(FT,"")}function ky(t,i){return i=Dy(i),Dy(t)===i}function ot(t,i,a,l,h,f){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||_n(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&_n(t,""+l);break;case"className":Dn(t,"class",l);break;case"tabIndex":Dn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(t,a,l);break;case"style":Jo(t,l,f);break;case"data":if(i!=="object"){Dn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ja(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&ot(t,i,"name",h.name,h,null),ot(t,i,"formEncType",h.formEncType,h,null),ot(t,i,"formMethod",h.formMethod,h,null),ot(t,i,"formTarget",h.formTarget,h,null)):(ot(t,i,"encType",h.encType,h,null),ot(t,i,"method",h.method,h,null),ot(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ja(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ci);break;case"onScroll":l!=null&&Ue("scroll",t);break;case"onScrollEnd":l!=null&&Ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ja(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ue("beforetoggle",t),Ue("toggle",t),Ma(t,"popover",l);break;case"xlinkActuate":Mt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Mt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Mt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Mt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Mt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Mt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Mt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Mt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Mt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ma(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Cc.get(a)||a,Ma(t,a,l))}}function If(t,i,a,l,h,f){switch(a){case"style":Jo(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?_n(t,l):(typeof l=="number"||typeof l=="bigint")&&_n(t,""+l);break;case"onScroll":l!=null&&Ue("scroll",t);break;case"onScrollEnd":l!=null&&Ue("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ci);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=t[Ke]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(i,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ma(t,a,l)}}}function Wt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",t),Ue("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ot(t,i,f,v,a,null)}}h&&ot(t,i,"srcSet",a.srcSet,a,null),l&&ot(t,i,"src",a.src,a,null);return;case"input":Ue("invalid",t);var T=f=v=h=null,C=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":v=Q;break;case"checked":C=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,i));break;default:ot(t,i,l,Q,a,null)}}Rc(t,f,T,C,z,v,h,!1);return;case"select":Ue("invalid",t),l=v=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:ot(t,i,h,T,a,null)}i=f,a=v,t.multiple=!!l,i!=null?zs(t,!!l,i,!1):a!=null&&zs(t,!!l,a,!0);return;case"textarea":Ue("invalid",t),f=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:ot(t,i,v,T,a,null)}Bs(t,l,h,f);return;case"option":for(C in a)a.hasOwnProperty(C)&&(l=a[C],l!=null)&&(C==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":ot(t,i,C,l,a,null));return;case"dialog":Ue("beforetoggle",t),Ue("toggle",t),Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":Ue("load",t);break;case"video":case"audio":for(l=0;l<Dl.length;l++)Ue(Dl[l],t);break;case"image":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"embed":case"source":case"link":Ue("error",t),Ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ot(t,i,z,l,a,null)}return;default:if(Va(i)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&If(t,i,Q,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&ot(t,i,T,l,a,null))}function GT(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,T=null,C=null,z=null,Q=null;for(H in a){var Z=a[H];if(a.hasOwnProperty(H)&&Z!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=Z;default:l.hasOwnProperty(H)||ot(t,i,H,null,l,Z)}}for(var B in l){var H=l[B];if(Z=a[B],l.hasOwnProperty(B)&&(H!=null||Z!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":Q=H;break;case"value":v=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:H!==Z&&ot(t,i,B,H,l,Z)}}Oa(t,v,T,C,z,Q,f,h);return;case"select":H=v=T=B=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:l.hasOwnProperty(f)||ot(t,i,f,null,l,C)}for(h in l)if(f=l[h],C=a[h],l.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":T=f;break;case"multiple":v=f;default:f!==C&&ot(t,i,h,f,l,C)}i=T,a=v,l=H,B!=null?zs(t,!!a,B,!1):!!l!=!!a&&(i!=null?zs(t,!!a,i,!0):zs(t,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ot(t,i,T,null,l,h)}for(v in l)if(h=l[v],f=a[v],l.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&ot(t,i,v,h,l,f)}Nc(t,B,H);return;case"option":for(var fe in a)B=a[fe],a.hasOwnProperty(fe)&&B!=null&&!l.hasOwnProperty(fe)&&(fe==="selected"?t.selected=!1:ot(t,i,fe,null,l,B));for(C in l)B=l[C],H=a[C],l.hasOwnProperty(C)&&B!==H&&(B!=null||H!=null)&&(C==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":ot(t,i,C,B,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in a)B=a[Se],a.hasOwnProperty(Se)&&B!=null&&!l.hasOwnProperty(Se)&&ot(t,i,Se,null,l,B);for(z in l)if(B=l[z],H=a[z],l.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,i));break;default:ot(t,i,z,B,l,H)}return;default:if(Va(i)){for(var lt in a)B=a[lt],a.hasOwnProperty(lt)&&B!==void 0&&!l.hasOwnProperty(lt)&&If(t,i,lt,void 0,l,B);for(Q in l)B=l[Q],H=a[Q],!l.hasOwnProperty(Q)||B===H||B===void 0&&H===void 0||If(t,i,Q,B,l,H);return}}for(var j in a)B=a[j],a.hasOwnProperty(j)&&B!=null&&!l.hasOwnProperty(j)&&ot(t,i,j,null,l,B);for(Z in l)B=l[Z],H=a[Z],!l.hasOwnProperty(Z)||B===H||B==null&&H==null||ot(t,i,Z,B,l,H)}function My(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function QT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,v=h.initiatorType,T=h.duration;if(f&&T&&My(v)){for(v=0,T=h.responseEnd,l+=1;l<a.length;l++){var C=a[l],z=C.startTime;if(z>T)break;var Q=C.transferSize,Z=C.initiatorType;Q&&My(Z)&&(C=C.responseEnd,v+=Q*(C<T?1:(T-z)/(C-z)))}if(--l,i+=8*(f+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Cf=null,Df=null;function Du(t){return t.nodeType===9?t:t.ownerDocument}function Oy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vy(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function kf(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Mf=null;function YT(){var t=window.event;return t&&t.type==="popstate"?t===Mf?!1:(Mf=t,!0):(Mf=null,!1)}var jy=typeof setTimeout=="function"?setTimeout:void 0,KT=typeof clearTimeout=="function"?clearTimeout:void 0,Py=typeof Promise=="function"?Promise:void 0,$T=typeof queueMicrotask=="function"?queueMicrotask:typeof Py<"u"?function(t){return Py.resolve(null).then(t).catch(XT)}:jy;function XT(t){setTimeout(function(){throw t})}function ur(t){return t==="head"}function Ly(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),yo(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ml(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ml(a);for(var f=a.firstChild;f;){var v=f.nextSibling,T=f.nodeName;f[Ti]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=v}}else a==="body"&&Ml(t.ownerDocument.body);a=h}while(a);yo(i)}function Uy(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Of(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Of(a),ka(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function JT(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ti])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ii(t.nextSibling),t===null)break}return null}function ZT(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ii(t.nextSibling),t===null))return null;return t}function zy(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=ii(t.nextSibling),t===null))return null;return t}function Vf(t){return t.data==="$?"||t.data==="$~"}function jf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function WT(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ii(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Pf=null;function By(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return ii(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function qy(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Hy(t,i,a){switch(i=Du(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Ml(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ka(t)}var si=new Map,Fy=new Set;function ku(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var bs=se.d;se.d={f:e2,r:t2,D:n2,C:i2,L:s2,m:r2,X:o2,S:a2,M:l2};function e2(){var t=bs.f(),i=Au();return t||i}function t2(t){var i=Yn(t);i!==null&&i.tag===5&&i.type==="form"?o0(i):bs.r(t)}var mo=typeof document>"u"?null:document;function Gy(t,i,a){var l=mo;if(l&&typeof i=="string"&&i){var h=yn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Fy.has(h)||(Fy.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Wt(i,"link",t),kt(i),l.head.appendChild(i)))}}function n2(t){bs.D(t),Gy("dns-prefetch",t,null)}function i2(t,i){bs.C(t,i),Gy("preconnect",t,i)}function s2(t,i,a){bs.L(t,i,a);var l=mo;if(l&&t&&i){var h='link[rel="preload"][as="'+yn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+yn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+yn(a.imageSizes)+'"]')):h+='[href="'+yn(t)+'"]';var f=h;switch(i){case"style":f=po(t);break;case"script":f=go(t)}si.has(f)||(t=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),si.set(f,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Ol(f))||i==="script"&&l.querySelector(Vl(f))||(i=l.createElement("link"),Wt(i,"link",t),kt(i),l.head.appendChild(i)))}}function r2(t,i){bs.m(t,i);var a=mo;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+yn(l)+'"][href="'+yn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=go(t)}if(!si.has(f)&&(t=S({rel:"modulepreload",href:t},i),si.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Vl(f)))return}l=a.createElement("link"),Wt(l,"link",t),kt(l),a.head.appendChild(l)}}}function a2(t,i,a){bs.S(t,i,a);var l=mo;if(l&&t){var h=Si(l).hoistableStyles,f=po(t);i=i||"default";var v=h.get(f);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Ol(f)))T.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},a),(a=si.get(f))&&Lf(t,a);var C=v=l.createElement("link");kt(C),Wt(C,"link",t),C._p=new Promise(function(z,Q){C.onload=z,C.onerror=Q}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Mu(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(f,v)}}}function o2(t,i){bs.X(t,i);var a=mo;if(a&&t){var l=Si(a).hoistableScripts,h=go(t),f=l.get(h);f||(f=a.querySelector(Vl(h)),f||(t=S({src:t,async:!0},i),(i=si.get(h))&&Uf(t,i),f=a.createElement("script"),kt(f),Wt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function l2(t,i){bs.M(t,i);var a=mo;if(a&&t){var l=Si(a).hoistableScripts,h=go(t),f=l.get(h);f||(f=a.querySelector(Vl(h)),f||(t=S({src:t,async:!0,type:"module"},i),(i=si.get(h))&&Uf(t,i),f=a.createElement("script"),kt(f),Wt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Qy(t,i,a,l){var h=(h=Ae.current)?ku(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=po(a.href),a=Si(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=po(a.href);var f=Si(h).hoistableStyles,v=f.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=h.querySelector(Ol(t)))&&!f._p&&(v.instance=f,v.state.loading=5),si.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},si.set(t,a),f||c2(h,t,a,v.state))),i&&l===null)throw Error(r(528,""));return v}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=go(a),a=Si(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function po(t){return'href="'+yn(t)+'"'}function Ol(t){return'link[rel="stylesheet"]['+t+"]"}function Yy(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function c2(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Wt(i,"link",a),kt(i),t.head.appendChild(i))}function go(t){return'[src="'+yn(t)+'"]'}function Vl(t){return"script[async]"+t}function Ky(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+yn(a.href)+'"]');if(l)return i.instance=l,kt(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),kt(l),Wt(l,"style",h),Mu(l,a.precedence,t),i.instance=l;case"stylesheet":h=po(a.href);var f=t.querySelector(Ol(h));if(f)return i.state.loading|=4,i.instance=f,kt(f),f;l=Yy(a),(h=si.get(h))&&Lf(l,h),f=(t.ownerDocument||t).createElement("link"),kt(f);var v=f;return v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),Wt(f,"link",l),i.state.loading|=4,Mu(f,a.precedence,t),i.instance=f;case"script":return f=go(a.src),(h=t.querySelector(Vl(f)))?(i.instance=h,kt(h),h):(l=a,(h=si.get(f))&&(l=S({},a),Uf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),kt(h),Wt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Mu(l,a.precedence,t));return i.instance}function Mu(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Lf(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Uf(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Ou=null;function $y(t,i,a){if(Ou===null){var l=new Map,h=Ou=new Map;h.set(a,l)}else h=Ou,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Ti]||f[tt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(i)||"";v=t+v;var T=l.get(v);T?T.push(f):l.set(v,[f])}}return l}function Xy(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function u2(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Jy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function h2(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=po(l.href),f=i.querySelector(Ol(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Vu.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=f,kt(f);return}f=i.ownerDocument||i,l=Yy(l),(h=si.get(h))&&Lf(l,h),f=f.createElement("link"),kt(f);var v=f;v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),Wt(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Vu.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var zf=0;function d2(t,i){return t.stylesheets&&t.count===0&&Pu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Pu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+i);0<t.imgBytes&&zf===0&&(zf=62500*QT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Pu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>zf?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Vu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ju=null;function Pu(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ju=new Map,i.forEach(f2,t),ju=null,Vu.call(t))}function f2(t,i){if(!(i.state.loading&4)){var a=ju.get(t);if(a)var l=a.get(null);else{a=new Map,ju.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),f=a.get(v)||l,f===l&&a.set(null,h),a.set(v,h),this.count++,l=Vu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var jl={$$typeof:le,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function m2(t,i,a,l,h,f,v,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gn(0),this.hiddenUpdates=Gn(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Zy(t,i,a,l,h,f,v,T,C,z,Q,Z){return t=new m2(t,i,a,v,C,z,Q,Z,T),i=1,f===!0&&(i|=24),f=Mn(3,null,null,i),t.current=f,f.stateNode=t,i=_d(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:i},Td(f),t}function Wy(t){return t?(t=Qa,t):Qa}function e_(t,i,a,l,h,f){h=Wy(h),l.context===null?l.context=h:l.pendingContext=h,l=Ws(i),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=er(t,l,i),a!==null&&(An(a,t,i),ml(a,t,i))}function t_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Bf(t,i){t_(t,i),(t=t.alternate)&&t_(t,i)}function n_(t){if(t.tag===13||t.tag===31){var i=Wr(t,67108864);i!==null&&An(i,t,67108864),Bf(t,67108864)}}function i_(t){if(t.tag===13||t.tag===31){var i=Ln();i=ts(i);var a=Wr(t,i);a!==null&&An(a,t,i),Bf(t,i)}}var Lu=!0;function p2(t,i,a,l){var h=F.T;F.T=null;var f=se.p;try{se.p=2,qf(t,i,a,l)}finally{se.p=f,F.T=h}}function g2(t,i,a,l){var h=F.T;F.T=null;var f=se.p;try{se.p=8,qf(t,i,a,l)}finally{se.p=f,F.T=h}}function qf(t,i,a,l){if(Lu){var h=Hf(l);if(h===null)Nf(t,i,l,Uu,a),r_(t,l);else if(_2(h,t,i,a,l))l.stopPropagation();else if(r_(t,l),i&4&&-1<y2.indexOf(t)){for(;h!==null;){var f=Yn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Hn(f.pendingLanes);if(v!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var C=1<<31-yt(v);T.entanglements[1]|=C,v&=~C}Pi(f),(Ze&6)===0&&(Eu=qt()+500,Cl(0))}}break;case 31:case 13:T=Wr(f,2),T!==null&&An(T,f,2),Au(),Bf(f,2)}if(f=Hf(l),f===null&&Nf(t,i,l,Uu,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else Nf(t,i,l,null,a)}}function Hf(t){return t=Kn(t),Ff(t)}var Uu=null;function Ff(t){if(Uu=null,t=Ai(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=d(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Uu=t,null}function s_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Nn()){case Pr:return 2;case Lr:return 8;case Ei:case Bo:return 32;case Ur:return 268435456;default:return 32}default:return 32}}var Gf=!1,hr=null,dr=null,fr=null,Pl=new Map,Ll=new Map,mr=[],y2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function r_(t,i){switch(t){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":Pl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(i.pointerId)}}function Ul(t,i,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},i!==null&&(i=Yn(i),i!==null&&n_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function _2(t,i,a,l,h){switch(i){case"focusin":return hr=Ul(hr,t,i,a,l,h),!0;case"dragenter":return dr=Ul(dr,t,i,a,l,h),!0;case"mouseover":return fr=Ul(fr,t,i,a,l,h),!0;case"pointerover":var f=h.pointerId;return Pl.set(f,Ul(Pl.get(f)||null,t,i,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Ll.set(f,Ul(Ll.get(f)||null,t,i,a,l,h)),!0}return!1}function a_(t){var i=Ai(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){t.blockedOn=i,Ie(t.priority,function(){i_(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Ie(t.priority,function(){i_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zu(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Hf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Zo=l,a.target.dispatchEvent(l),Zo=null}else return i=Yn(a),i!==null&&n_(i),t.blockedOn=a,!1;i.shift()}return!0}function o_(t,i,a){zu(t)&&a.delete(i)}function v2(){Gf=!1,hr!==null&&zu(hr)&&(hr=null),dr!==null&&zu(dr)&&(dr=null),fr!==null&&zu(fr)&&(fr=null),Pl.forEach(o_),Ll.forEach(o_)}function Bu(t,i){t.blockedOn===i&&(t.blockedOn=null,Gf||(Gf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,v2)))}var qu=null;function l_(t){qu!==t&&(qu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){qu===t&&(qu=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Ff(l||a)===null)continue;break}var f=Yn(a);f!==null&&(t.splice(i,3),i-=3,qd(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function yo(t){function i(C){return Bu(C,t)}hr!==null&&Bu(hr,t),dr!==null&&Bu(dr,t),fr!==null&&Bu(fr,t),Pl.forEach(i),Ll.forEach(i);for(var a=0;a<mr.length;a++){var l=mr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<mr.length&&(a=mr[0],a.blockedOn===null);)a_(a),a.blockedOn===null&&mr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],v=h[Ke]||null;if(typeof f=="function")v||l_(a);else if(v){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[Ke]||null)T=v.formAction;else if(Ff(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),l_(a)}}}function c_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Qf(t){this._internalRoot=t}Hu.prototype.render=Qf.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=Ln();e_(a,l,t,i,null,null)},Hu.prototype.unmount=Qf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;e_(t.current,2,null,t,null,null),Au(),i[rn]=null}};function Hu(t){this._internalRoot=t}Hu.prototype.unstable_scheduleHydration=function(t){if(t){var i=Da();t={blockedOn:null,target:t,priority:i};for(var a=0;a<mr.length&&i!==0&&i<mr[a].priority;a++);mr.splice(a,0,t),a===0&&a_(t)}};var u_=e.version;if(u_!=="19.2.3")throw Error(r(527,u_,"19.2.3"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var b2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fu.isDisabled&&Fu.supportsFiber)try{sn=Fu.inject(b2),Dt=Fu}catch{}}return Bl.createRoot=function(t,i){if(!o(t))throw Error(r(299));var a=!1,l="",h=y0,f=_0,v=v0;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=Zy(t,1,!1,null,null,a,l,null,h,f,v,c_),t[rn]=i.current,Rf(t),new Qf(i)},Bl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(r(299));var l=!1,h="",f=y0,v=_0,T=v0,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=Zy(t,1,!0,i,a??null,l,h,C,f,v,T,c_),i.context=Wy(null),a=i.current,l=Ln(),l=ts(l),h=Ws(l),h.callback=null,er(a,h,l),a=l,i.current.lanes=a,Wi(i,a),Pi(i),t[rn]=i.current,Rf(t),new Hu(i)},Bl.version="19.2.3",Bl}var b_;function C2(){if(b_)return $f.exports;b_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),$f.exports=I2(),$f.exports}var D2=C2();const k2=r1(D2),M2=()=>{};var E_={};const o1=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},O2=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[n++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[n++],d=s[n++],m=s[n++],g=((o&7)<<18|(c&63)<<12|(d&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const c=s[n++],d=s[n++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},l1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,m=d?s[o+1]:0,g=o+2<s.length,y=g?s[o+2]:0,E=c>>2,S=(c&3)<<4|m>>4;let w=(m&15)<<2|y>>6,P=y&63;g||(P=64,d||(w=64)),r.push(n[E],n[S],n[w],n[P])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(o1(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):O2(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=n[s.charAt(o++)],m=o<s.length?n[s.charAt(o)]:0;++o;const y=o<s.length?n[s.charAt(o)]:64;++o;const S=o<s.length?n[s.charAt(o)]:64;if(++o,c==null||m==null||y==null||S==null)throw new V2;const w=c<<2|m>>4;if(r.push(w),y!==64){const P=m<<4&240|y>>2;if(r.push(P),S!==64){const Y=y<<6&192|S;r.push(Y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class V2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const j2=function(s){const e=o1(s);return l1.encodeByteArray(e,!0)},lh=function(s){return j2(s).replace(/\./g,"")},c1=function(s){try{return l1.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function P2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const L2=()=>P2().__FIREBASE_DEFAULTS__,U2=()=>{if(typeof process>"u"||typeof E_>"u")return;const s=E_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},z2=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&c1(s[1]);return e&&JSON.parse(e)},Dh=()=>{try{return M2()||L2()||U2()||z2()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},u1=s=>Dh()?.emulatorHosts?.[s],h1=s=>{const e=u1(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},d1=()=>Dh()?.config,f1=s=>Dh()?.[`_${s}`];class B2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Or(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Qm(s){return(await fetch(s,{credentials:"include"})).ok}function q2(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[lh(JSON.stringify(n)),lh(JSON.stringify(d)),""].join(".")}const Kl={};function H2(){const s={prod:[],emulator:[]};for(const e of Object.keys(Kl))Kl[e]?s.emulator.push(e):s.prod.push(e);return s}function F2(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let T_=!1;function Ym(s,e){if(typeof window>"u"||typeof document>"u"||!Or(window.location.host)||Kl[s]===e||Kl[s]||T_)return;Kl[s]=e;function n(w){return`__firebase__banner__${w}`}const r="__firebase__banner",c=H2().prod.length>0;function d(){const w=document.getElementById(r);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,P){w.setAttribute("width","24"),w.setAttribute("id",P),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{T_=!0,d()},w}function E(w,P){w.setAttribute("id",P),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function S(){const w=F2(r),P=n("text"),Y=document.getElementById(P)||document.createElement("span"),J=n("learnmore"),G=document.getElementById(J)||document.createElement("a"),ne=n("preprendIcon"),oe=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const le=w.element;m(le),E(G,J);const _e=y();g(oe,ne),le.append(oe,Y,G,_e),document.body.appendChild(le)}c?(Y.innerText="Preview backend disconnected.",oe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(oe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function G2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function Q2(){const s=Dh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Y2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function K2(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function $2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function X2(){const s=un();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function J2(){return!Q2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Z2(){try{return typeof indexedDB=="object"}catch{return!1}}function W2(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const eA="FirebaseError";class Xi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=eA,Object.setPrototypeOf(this,Xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hc.prototype.create)}}class hc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?tA(c,r):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new Xi(o,m,r)}}function tA(s,e){return s.replace(nA,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const nA=/\{\$([^}]+)}/g;function iA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function ga(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const c=s[o],d=e[o];if(A_(c)&&A_(d)){if(!ga(c,d))return!1}else if(c!==d)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function A_(s){return s!==null&&typeof s=="object"}function dc(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ql(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,c]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Hl(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function sA(s,e){const n=new rA(s,e);return n.subscribe.bind(n)}class rA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");aA(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Wf),o.error===void 0&&(o.error=Wf),o.complete===void 0&&(o.complete=Wf);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aA(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function Wf(){}function bt(s){return s&&s._delegate?s._delegate:s}class Rr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const da="[DEFAULT]";class oA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new B2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cA(e))try{this.getOrInitializeService({instanceIdentifier:da})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=da){return this.instances.has(e)}getOptions(e=da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);r===m&&d.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=da){return this.component?this.component.multipleInstances?e:da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lA(s){return s===da?void 0:s}function cA(s){return s.instantiationMode==="EAGER"}class uA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var qe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(qe||(qe={}));const hA={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},dA=qe.INFO,fA={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},mA=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=fA[e];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Km{constructor(e){this.name=e,this._logLevel=dA,this._logHandler=mA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const pA=(s,e)=>e.some(n=>s instanceof n);let S_,w_;function gA(){return S_||(S_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yA(){return w_||(w_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const m1=new WeakMap,gm=new WeakMap,p1=new WeakMap,em=new WeakMap,$m=new WeakMap;function _A(s){const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{n(Ar(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&m1.set(n,s)}).catch(()=>{}),$m.set(e,s),e}function vA(s){if(gm.has(s))return;const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{n(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});gm.set(s,e)}let ym={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return gm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||p1.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ar(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function bA(s){ym=s(ym)}function EA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(tm(this),e,...n);return p1.set(r,e.sort?e.sort():[e]),Ar(r)}:yA().includes(s)?function(...e){return s.apply(tm(this),e),Ar(m1.get(this))}:function(...e){return Ar(s.apply(tm(this),e))}}function TA(s){return typeof s=="function"?EA(s):(s instanceof IDBTransaction&&vA(s),pA(s,gA())?new Proxy(s,ym):s)}function Ar(s){if(s instanceof IDBRequest)return _A(s);if(em.has(s))return em.get(s);const e=TA(s);return e!==s&&(em.set(s,e),$m.set(e,s)),e}const tm=s=>$m.get(s);function AA(s,e,{blocked:n,upgrade:r,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),m=Ar(d);return r&&d.addEventListener("upgradeneeded",g=>{r(Ar(d.result),g.oldVersion,g.newVersion,Ar(d.transaction),g)}),n&&d.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const SA=["get","getKey","getAll","getAllKeys","count"],wA=["put","add","delete","clear"],nm=new Map;function x_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(nm.get(e))return nm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=wA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||SA.includes(n)))return;const c=async function(d,...m){const g=this.transaction(d,o?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return nm.set(e,c),c}bA(s=>({...s,get:(e,n,r)=>x_(e,n)||s.get(e,n,r),has:(e,n)=>!!x_(e,n)||s.has(e,n)}));class xA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(RA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function RA(s){return s.getComponent()?.type==="VERSION"}const _m="@firebase/app",R_="0.14.6";const Rs=new Km("@firebase/app"),NA="@firebase/app-compat",IA="@firebase/analytics-compat",CA="@firebase/analytics",DA="@firebase/app-check-compat",kA="@firebase/app-check",MA="@firebase/auth",OA="@firebase/auth-compat",VA="@firebase/database",jA="@firebase/data-connect",PA="@firebase/database-compat",LA="@firebase/functions",UA="@firebase/functions-compat",zA="@firebase/installations",BA="@firebase/installations-compat",qA="@firebase/messaging",HA="@firebase/messaging-compat",FA="@firebase/performance",GA="@firebase/performance-compat",QA="@firebase/remote-config",YA="@firebase/remote-config-compat",KA="@firebase/storage",$A="@firebase/storage-compat",XA="@firebase/firestore",JA="@firebase/ai",ZA="@firebase/firestore-compat",WA="firebase",eS="12.6.0";const vm="[DEFAULT]",tS={[_m]:"fire-core",[NA]:"fire-core-compat",[CA]:"fire-analytics",[IA]:"fire-analytics-compat",[kA]:"fire-app-check",[DA]:"fire-app-check-compat",[MA]:"fire-auth",[OA]:"fire-auth-compat",[VA]:"fire-rtdb",[jA]:"fire-data-connect",[PA]:"fire-rtdb-compat",[LA]:"fire-fn",[UA]:"fire-fn-compat",[zA]:"fire-iid",[BA]:"fire-iid-compat",[qA]:"fire-fcm",[HA]:"fire-fcm-compat",[FA]:"fire-perf",[GA]:"fire-perf-compat",[QA]:"fire-rc",[YA]:"fire-rc-compat",[KA]:"fire-gcs",[$A]:"fire-gcs-compat",[XA]:"fire-fst",[ZA]:"fire-fst-compat",[JA]:"fire-vertex","fire-js":"fire-js",[WA]:"fire-js-all"};const ch=new Map,nS=new Map,bm=new Map;function N_(s,e){try{s.container.addComponent(e)}catch(n){Rs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function ya(s){const e=s.name;if(bm.has(e))return Rs.debug(`There were multiple attempts to register component ${e}.`),!1;bm.set(e,s);for(const n of ch.values())N_(n,s);for(const n of nS.values())N_(n,s);return!0}function kh(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function wn(s){return s==null?!1:s.settings!==void 0}const iS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sr=new hc("app","Firebase",iS);class sS{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sr.create("app-deleted",{appName:this._name})}}const jo=eS;function g1(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:vm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Sr.create("bad-app-name",{appName:String(o)});if(n||(n=d1()),!n)throw Sr.create("no-options");const c=ch.get(o);if(c){if(ga(n,c.options)&&ga(r,c.config))return c;throw Sr.create("duplicate-app",{appName:o})}const d=new uA(o);for(const g of bm.values())d.addComponent(g);const m=new sS(n,r,d);return ch.set(o,m),m}function Xm(s=vm){const e=ch.get(s);if(!e&&s===vm&&d1())return g1();if(!e)throw Sr.create("no-app",{appName:s});return e}function zi(s,e,n){let r=tS[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rs.warn(d.join(" "));return}ya(new Rr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const rS="firebase-heartbeat-database",aS=1,ec="firebase-heartbeat-store";let im=null;function y1(){return im||(im=AA(rS,aS,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(ec)}catch(n){console.warn(n)}}}}).catch(s=>{throw Sr.create("idb-open",{originalErrorMessage:s.message})})),im}async function oS(s){try{const n=(await y1()).transaction(ec),r=await n.objectStore(ec).get(_1(s));return await n.done,r}catch(e){if(e instanceof Xi)Rs.warn(e.message);else{const n=Sr.create("idb-get",{originalErrorMessage:e?.message});Rs.warn(n.message)}}}async function I_(s,e){try{const r=(await y1()).transaction(ec,"readwrite");await r.objectStore(ec).put(e,_1(s)),await r.done}catch(n){if(n instanceof Xi)Rs.warn(n.message);else{const r=Sr.create("idb-set",{originalErrorMessage:n?.message});Rs.warn(r.message)}}}function _1(s){return`${s.name}!${s.options.appId}`}const lS=1024,cS=30;class uS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dS(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=C_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>cS){const o=fS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Rs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=C_(),{heartbeatsToSend:n,unsentEntries:r}=hS(this._heartbeatsCache.heartbeats),o=lh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Rs.warn(e),""}}}function C_(){return new Date().toISOString().substring(0,10)}function hS(s,e=lS){const n=[];let r=s.slice();for(const o of s){const c=n.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),D_(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),D_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class dS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Z2()?W2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await oS(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return I_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return I_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function D_(s){return lh(JSON.stringify({version:2,heartbeats:s})).length}function fS(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}function mS(s){ya(new Rr("platform-logger",e=>new xA(e),"PRIVATE")),ya(new Rr("heartbeat",e=>new uS(e),"PRIVATE")),zi(_m,R_,s),zi(_m,R_,"esm2020"),zi("fire-js","")}mS("");function v1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pS=v1,b1=new hc("auth","Firebase",v1());const uh=new Km("@firebase/auth");function gS(s,...e){uh.logLevel<=qe.WARN&&uh.warn(`Auth (${jo}): ${s}`,...e)}function Zu(s,...e){uh.logLevel<=qe.ERROR&&uh.error(`Auth (${jo}): ${s}`,...e)}function vi(s,...e){throw Jm(s,...e)}function Bi(s,...e){return Jm(s,...e)}function E1(s,e,n){const r={...pS(),[e]:n};return new hc("auth","Firebase",r).create(e,{appName:s.name})}function qi(s){return E1(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jm(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return b1.create(s,...e)}function we(s,e,...n){if(!s)throw Jm(e,...n)}function Ss(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Zu(e),new Error(e)}function Ns(s,e){s||Ss(e)}function Em(){return typeof self<"u"&&self.location?.href||""}function yS(){return k_()==="http:"||k_()==="https:"}function k_(){return typeof self<"u"&&self.location?.protocol||null}function _S(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yS()||K2()||"connection"in navigator)?navigator.onLine:!0}function vS(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class fc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ns(n>e,"Short delay should be less than long delay!"),this.isMobile=G2()||$2()}get(){return _S()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Zm(s,e){Ns(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class T1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const ES=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],TS=new fc(3e4,6e4);function ks(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Ms(s,e,n,r,o={}){return A1(s,o,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const m=dc({key:s.config.apiKey,...d}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:g,...c};return Y2()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Or(s.emulatorConfig.host)&&(y.credentials="include"),T1.fetch()(await S1(s,s.config.apiHost,n,m),y)})}async function A1(s,e,n){s._canInitEmulator=!1;const r={...bS,...e};try{const o=new SS(s),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Gu(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const m=c.ok?d.errorMessage:d.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gu(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Gu(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw Gu(s,"user-disabled",d);const E=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw E1(s,E,y);vi(s,E)}}catch(o){if(o instanceof Xi)throw o;vi(s,"network-request-failed",{message:String(o)})}}async function mc(s,e,n,r,o={}){const c=await Ms(s,e,n,r,o);return"mfaPendingCredential"in c&&vi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function S1(s,e,n,r){const o=`${e}${n}?${r}`,c=s,d=c.config.emulator?Zm(s.config,o):`${s.config.apiScheme}://${o}`;return ES.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function AS(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class SS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Bi(this.auth,"network-request-failed")),TS.get())})}}function Gu(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Bi(s,e,r);return o.customData._tokenResponse=n,o}function M_(s){return s!==void 0&&s.enterprise!==void 0}class wS{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return AS(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function xS(s,e){return Ms(s,"GET","/v2/recaptchaConfig",ks(s,e))}async function RS(s,e){return Ms(s,"POST","/v1/accounts:delete",e)}async function hh(s,e){return Ms(s,"POST","/v1/accounts:lookup",e)}function $l(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NS(s,e=!1){const n=bt(s),r=await n.getIdToken(e),o=Wm(r);we(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:r,authTime:$l(sm(o.auth_time)),issuedAtTime:$l(sm(o.iat)),expirationTime:$l(sm(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function sm(s){return Number(s)*1e3}function Wm(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return Zu("JWT malformed, contained fewer than 3 sections"),null;try{const o=c1(n);return o?JSON.parse(o):(Zu("Failed to decode base64 JWT payload"),null)}catch(o){return Zu("Caught error parsing JWT payload as JSON",o?.toString()),null}}function O_(s){const e=Wm(s);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function tc(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Xi&&IS(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function IS({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class CS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Tm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$l(this.lastLoginAt),this.creationTime=$l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function nc(s){const e=s.auth,n=await s.getIdToken(),r=await tc(s,hh(e,{idToken:n}));we(r?.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?w1(o.providerUserInfo):[],d=kS(s.providerData,c),m=s.isAnonymous,g=!(s.email&&o.passwordHash)&&!d?.length,y=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Tm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,E)}async function DS(s){const e=bt(s);await nc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kS(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function w1(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function MS(s,e){const n=await A1(s,{},async()=>{const r=dc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await S1(s,o,"/v1/token",`key=${c}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:r};return s.emulatorConfig&&Or(s.emulatorConfig.host)&&(g.credentials="include"),T1.fetch()(d,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function OS(s,e){return Ms(s,"POST","/v2/accounts:revokeToken",ks(s,e))}class Ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):O_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=O_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:c}=await MS(e,n);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:c}=n,d=new Ao;return r&&(we(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),o&&(we(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(we(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ao,this.toJSON())}_performRefresh(){return Ss("not implemented")}}function gr(s,e){we(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class yi{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new CS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Tm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await tc(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return NS(this,e)}reload(){return DS(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new yi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await nc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wn(this.auth.app))return Promise.reject(qi(this.auth));const e=await this.getIdToken();return await tc(this,RS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,d=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:w,isAnonymous:P,providerData:Y,stsTokenManager:J}=n;we(S&&J,e,"internal-error");const G=Ao.fromJSON(this.name,J);we(typeof S=="string",e,"internal-error"),gr(r,e.name),gr(o,e.name),we(typeof w=="boolean",e,"internal-error"),we(typeof P=="boolean",e,"internal-error"),gr(c,e.name),gr(d,e.name),gr(m,e.name),gr(g,e.name),gr(y,e.name),gr(E,e.name);const ne=new yi({uid:S,auth:e,email:o,emailVerified:w,displayName:r,isAnonymous:P,photoURL:d,phoneNumber:c,tenantId:m,stsTokenManager:G,createdAt:y,lastLoginAt:E});return Y&&Array.isArray(Y)&&(ne.providerData=Y.map(oe=>({...oe}))),g&&(ne._redirectEventId=g),ne}static async _fromIdTokenResponse(e,n,r=!1){const o=new Ao;o.updateFromServerResponse(n);const c=new yi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await nc(c),c}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];we(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?w1(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,m=new Ao;m.updateFromIdToken(r);const g=new yi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Tm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,y),g}}const V_=new Map;function ws(s){Ns(s instanceof Function,"Expected a class definition");let e=V_.get(s);return e?(Ns(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,V_.set(s,e),e)}class x1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}x1.type="NONE";const j_=x1;function Wu(s,e,n){return`firebase:${s}:${e}:${n}`}class So{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=Wu(this.userKey,o.apiKey,c),this.fullPersistenceKey=Wu("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await hh(this.auth,{idToken:e}).catch(()=>{});return n?yi._fromGetAccountInfoResponse(this.auth,n,e):null}return yi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new So(ws(j_),e,r);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||ws(j_);const d=Wu(r,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(d);if(E){let S;if(typeof E=="string"){const w=await hh(e,{idToken:E}).catch(()=>{});if(!w)break;S=await yi._fromGetAccountInfoResponse(e,w,E)}else S=yi._fromJSON(e,E);y!==c&&(m=S),c=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new So(c,e,r):(c=g[0],m&&await c._set(d,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new So(c,e,r))}}function P_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(C1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(R1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(k1(e))return"Blackberry";if(M1(e))return"Webos";if(N1(e))return"Safari";if((e.includes("chrome/")||I1(e))&&!e.includes("edge/"))return"Chrome";if(D1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function R1(s=un()){return/firefox\//i.test(s)}function N1(s=un()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function I1(s=un()){return/crios\//i.test(s)}function C1(s=un()){return/iemobile/i.test(s)}function D1(s=un()){return/android/i.test(s)}function k1(s=un()){return/blackberry/i.test(s)}function M1(s=un()){return/webos/i.test(s)}function ep(s=un()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function VS(s=un()){return ep(s)&&!!window.navigator?.standalone}function jS(){return X2()&&document.documentMode===10}function O1(s=un()){return ep(s)||D1(s)||M1(s)||k1(s)||/windows phone/i.test(s)||C1(s)}function V1(s,e=[]){let n;switch(s){case"Browser":n=P_(un());break;case"Worker":n=`${P_(un())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${jo}/${r}`}class PS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=c=>new Promise((d,m)=>{try{const g=e(c);d(g)}catch(g){m(g)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function LS(s,e={}){return Ms(s,"GET","/v2/passwordPolicy",ks(s,e))}const US=6;class zS{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??US,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class BS{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new L_(this),this.idTokenSubscription=new L_(this),this.beforeStateQueue=new PS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=b1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ws(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await So.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await hh(this,{idToken:e}),r=await yi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(wn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===d)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await nc(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wn(this.app))return Promise.reject(qi(this));const n=e?bt(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wn(this.app)?Promise.reject(qi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wn(this.app)?Promise.reject(qi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ws(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await LS(this),n=new zS(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await OS(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ws(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await So.create(this,[ws(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(m,this,"internal-error"),m.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,r,o);return()=>{d=!0,g()}}else{const g=e.addObserver(n);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=V1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&gS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Os(s){return bt(s)}class L_{constructor(e){this.auth=e,this.observer=null,this.addObserver=sA(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Mh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qS(s){Mh=s}function j1(s){return Mh.loadJS(s)}function HS(){return Mh.recaptchaEnterpriseScript}function FS(){return Mh.gapiScript}function GS(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class QS{constructor(){this.enterprise=new YS}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class YS{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const KS="recaptcha-enterprise",P1="NO_RECAPTCHA";class $S{constructor(e){this.type=KS,this.auth=Os(e)}async verify(e="verify",n=!1){async function r(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,m)=>{xS(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new wS(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(g=>{m(g)})})}function o(c,d,m){const g=window.grecaptcha;M_(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{d(y)}).catch(()=>{d(P1)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new QS().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(m=>{if(!n&&M_(window.grecaptcha))o(m,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=HS();g.length!==0&&(g+=m),j1(g).then(()=>{o(m,c,d)}).catch(y=>{d(y)})}}).catch(m=>{d(m)})})}}async function U_(s,e,n,r=!1,o=!1){const c=new $S(s);let d;if(o)d=P1;else try{d=await c.verify(n)}catch{d=await c.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:d}):Object.assign(m,{captchaResponse:d}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function dh(s,e,n,r,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await U_(s,e,n,n==="getOobCode");return r(s,c)}else return r(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await U_(s,e,n,n==="getOobCode");return r(s,d)}else return Promise.reject(c)})}function XS(s,e){const n=kh(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(ga(c,e??{}))return o;vi(o,"already-initialized")}return n.initialize({options:e})}function JS(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ws);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function ZS(s,e,n){const r=Os(s);we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=L1(e),{host:d,port:m}=WS(e),g=m===null?"":`:${m}`,y={url:`${c}//${d}${g}/`},E=Object.freeze({host:d,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){we(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),we(ga(y,r.config.emulator)&&ga(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,Or(d)?(Qm(`${c}//${d}${g}`),Ym("Auth",!0)):ew()}function L1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function WS(s){const e=L1(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:z_(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:z_(d)}}}function z_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function ew(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class tp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ss("not implemented")}_getIdTokenResponse(e){return Ss("not implemented")}_linkToIdToken(e,n){return Ss("not implemented")}_getReauthenticationResolver(e){return Ss("not implemented")}}async function tw(s,e){return Ms(s,"POST","/v1/accounts:signUp",e)}async function nw(s,e){return mc(s,"POST","/v1/accounts:signInWithPassword",ks(s,e))}async function iw(s,e){return Ms(s,"POST","/v1/accounts:sendOobCode",ks(s,e))}async function sw(s,e){return iw(s,e)}async function rw(s,e){return mc(s,"POST","/v1/accounts:signInWithEmailLink",ks(s,e))}async function aw(s,e){return mc(s,"POST","/v1/accounts:signInWithEmailLink",ks(s,e))}class ic extends tp{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new ic(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ic(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dh(e,n,"signInWithPassword",nw);case"emailLink":return rw(e,{email:this._email,oobCode:this._password});default:vi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dh(e,r,"signUpPassword",tw);case"emailLink":return aw(e,{idToken:n,email:this._email,oobCode:this._password});default:vi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function wo(s,e){return mc(s,"POST","/v1/accounts:signInWithIdp",ks(s,e))}const ow="http://localhost";class _a extends tp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _a(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=n;if(!r||!o)return null;const d=new _a(r,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return wo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,wo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wo(e,n)}buildRequest(){const e={requestUri:ow,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=dc(n)}return e}}function lw(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cw(s){const e=ql(Hl(s)).link,n=e?ql(Hl(e)).deep_link_id:null,r=ql(Hl(s)).deep_link_id;return(r?ql(Hl(r)).link:null)||r||n||e||s}class np{constructor(e){const n=ql(Hl(e)),r=n.apiKey??null,o=n.oobCode??null,c=lw(n.mode??null);we(r&&o&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=cw(e);try{return new np(n)}catch{return null}}}class Ta{constructor(){this.providerId=Ta.PROVIDER_ID}static credential(e,n){return ic._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=np.parseLink(n);return we(r,"argument-error"),ic._fromEmailAndCode(e,r.code,r.tenantId)}}Ta.PROVIDER_ID="password";Ta.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ta.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class U1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class pc extends U1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class yr extends pc{constructor(){super("facebook.com")}static credential(e){return _a._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yr.credential(e.oauthAccessToken)}catch{return null}}}yr.FACEBOOK_SIGN_IN_METHOD="facebook.com";yr.PROVIDER_ID="facebook.com";class _r extends pc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _a._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return _r.credential(n,r)}catch{return null}}}_r.GOOGLE_SIGN_IN_METHOD="google.com";_r.PROVIDER_ID="google.com";class vr extends pc{constructor(){super("github.com")}static credential(e){return _a._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vr.credential(e.oauthAccessToken)}catch{return null}}}vr.GITHUB_SIGN_IN_METHOD="github.com";vr.PROVIDER_ID="github.com";class br extends pc{constructor(){super("twitter.com")}static credential(e,n){return _a._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return br.credential(n,r)}catch{return null}}}br.TWITTER_SIGN_IN_METHOD="twitter.com";br.PROVIDER_ID="twitter.com";async function z1(s,e){return mc(s,"POST","/v1/accounts:signUp",ks(s,e))}class Is{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const c=await yi._fromIdTokenResponse(e,r,o),d=B_(r);return new Is({user:c,providerId:d,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=B_(r);return new Is({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function B_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function uw(s){if(wn(s.app))return Promise.reject(qi(s));const e=Os(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Is({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await z1(e,{returnSecureToken:!0}),r=await Is._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}class fh extends Xi{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,fh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new fh(e,n,r,o)}}function B1(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?fh._fromErrorAndOperation(s,c,e,r):c})}function hw(s){return new Set(s.map(({providerId:e})=>e).filter(e=>!!e))}async function q1(s,e,n=!1){const r=await tc(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return Is._forOperation(s,"link",r)}async function dw(s,e,n){await nc(e);const r=hw(e.providerData);we(r.has(n)===s,e.auth,"provider-already-linked")}async function fw(s,e,n=!1){const{auth:r}=s;if(wn(r.app))return Promise.reject(qi(r));const o="reauthenticate";try{const c=await tc(s,B1(r,o,e,s),n);we(c.idToken,r,"internal-error");const d=Wm(c.idToken);we(d,r,"internal-error");const{sub:m}=d;return we(s.uid===m,r,"user-mismatch"),Is._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&vi(r,"user-mismatch"),c}}async function H1(s,e,n=!1){if(wn(s.app))return Promise.reject(qi(s));const r="signIn",o=await B1(s,r,e),c=await Is._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(c.user),c}async function mw(s,e){return H1(Os(s),e)}async function pw(s,e){const n=bt(s);return await dw(!1,n,e.providerId),q1(n,e)}async function F1(s){const e=Os(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function gw(s,e,n){const r=Os(s);await dh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",sw)}async function yw(s,e,n){if(wn(s.app))return Promise.reject(qi(s));const r=Os(s),d=await dh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",z1).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&F1(s),g}),m=await Is._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(m.user),m}function _w(s,e,n){return wn(s.app)?Promise.reject(qi(s)):mw(bt(s),Ta.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&F1(s),r})}function vw(s,e,n,r){return bt(s).onIdTokenChanged(e,n,r)}function bw(s,e,n){return bt(s).beforeAuthStateChanged(e,n)}function Ew(s,e,n,r){return bt(s).onAuthStateChanged(e,n,r)}function Tw(s){return bt(s).signOut()}const mh="__sak";class G1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mh,"1"),this.storage.removeItem(mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Aw=1e3,Sw=10;class Q1 extends G1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=O1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,m,g)=>{this.notifyListeners(d,g)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!n&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);jS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Sw):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Aw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Q1.type="LOCAL";const ww=Q1;class Y1 extends G1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Y1.type="SESSION";const K1=Y1;function xw(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Oh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new Oh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:c}=n.data,d=this.handlersMap[o];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(d).map(async y=>y(n.origin,c)),g=await xw(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Oh.receivers=[];function ip(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}class Rw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((m,g)=>{const y=ip("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(S){const w=S;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(w.data.response);break;default:clearTimeout(E),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Hi(){return window}function Nw(s){Hi().location.href=s}function $1(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function Iw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Cw(){return navigator?.serviceWorker?.controller||null}function Dw(){return $1()?self:null}const X1="firebaseLocalStorageDb",kw=1,ph="firebaseLocalStorage",J1="fbase_key";class gc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vh(s,e){return s.transaction([ph],e?"readwrite":"readonly").objectStore(ph)}function Mw(){const s=indexedDB.deleteDatabase(X1);return new gc(s).toPromise()}function Am(){const s=indexedDB.open(X1,kw);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(ph,{keyPath:J1})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(ph)?e(r):(r.close(),await Mw(),e(await Am()))})})}async function q_(s,e,n){const r=Vh(s,!0).put({[J1]:e,value:n});return new gc(r).toPromise()}async function Ow(s,e){const n=Vh(s,!1).get(e),r=await new gc(n).toPromise();return r===void 0?null:r.value}function H_(s,e){const n=Vh(s,!0).delete(e);return new gc(n).toPromise()}const Vw=800,jw=3;class Z1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Am(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>jw)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oh._getInstance(Dw()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Iw(),!this.activeServiceWorker)return;this.sender=new Rw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Cw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Am();return await q_(e,mh,"1"),await H_(e,mh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>q_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Ow(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>H_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Vh(o,!1).getAll();return new gc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Vw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Z1.type="LOCAL";const Pw=Z1;new fc(3e4,6e4);function Lw(s,e){return e?ws(e):(we(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class sp extends tp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Uw(s){return H1(s.auth,new sp(s),s.bypassAuthState)}function zw(s){const{auth:e,user:n}=s;return we(n,e,"internal-error"),fw(n,new sp(s),s.bypassAuthState)}async function Bw(s){const{auth:e,user:n}=s;return we(n,e,"internal-error"),q1(n,new sp(s),s.bypassAuthState)}class W1{constructor(e,n,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:c,error:d,type:m}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Uw;case"linkViaPopup":case"linkViaRedirect":return Bw;case"reauthViaPopup":case"reauthViaRedirect":return zw;default:vi(this.auth,"internal-error")}}resolve(e){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qw=new fc(2e3,1e4);class To extends W1{constructor(e,n,r,o,c){super(e,n,o,c),this.provider=r,this.authWindow=null,this.pollId=null,To.currentPopupAction&&To.currentPopupAction.cancel(),To.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Ns(this.filter.length===1,"Popup operations only handle one event");const e=ip();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,To.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qw.get())};e()}}To.currentPopupAction=null;const Hw="pendingRedirect",eh=new Map;class Fw extends W1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=eh.get(this.auth._key());if(!e){try{const r=await Gw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}eh.set(this.auth._key(),e)}return this.bypassAuthState||eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Gw(s,e){const n=Kw(e),r=Yw(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function Qw(s,e){eh.set(s._key(),e)}function Yw(s){return ws(s._redirectPersistence)}function Kw(s){return Wu(Hw,s.config.apiKey,s.name)}async function $w(s,e,n=!1){if(wn(s.app))return Promise.reject(qi(s));const r=Os(s),o=Lw(r,e),d=await new Fw(r,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const Xw=600*1e3;class Jw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Zw(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!eb(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Bi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Xw&&this.cachedEventUids.clear(),this.cachedEventUids.has(F_(e))}saveEventToCache(e){this.cachedEventUids.add(F_(e)),this.lastProcessedEventTime=Date.now()}}function F_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function eb({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function Zw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eb(s);default:return!1}}async function Ww(s,e={}){return Ms(s,"GET","/v1/projects",e)}const ex=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tx=/^https?/;async function nx(s){if(s.config.emulator)return;const{authorizedDomains:e}=await Ww(s);for(const n of e)try{if(ix(n))return}catch{}vi(s,"unauthorized-domain")}function ix(s){const e=Em(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===r}if(!tx.test(n))return!1;if(ex.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const sx=new fc(3e4,6e4);function G_(){const s=Hi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function rx(s){return new Promise((e,n)=>{function r(){G_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{G_(),n(Bi(s,"network-request-failed"))},timeout:sx.get()})}if(Hi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Hi().gapi?.load)r();else{const o=GS("iframefcb");return Hi()[o]=()=>{gapi.load?r():n(Bi(s,"network-request-failed"))},j1(`${FS()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw th=null,e})}let th=null;function ax(s){return th=th||rx(s),th}const ox=new fc(5e3,15e3),lx="__/auth/iframe",cx="emulator/auth/iframe",ux={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dx(s){const e=s.config;we(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Zm(e,cx):`https://${s.config.authDomain}/${lx}`,r={apiKey:e.apiKey,appName:s.name,v:jo},o=hx.get(s.config.apiHost);o&&(r.eid=o);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${dc(r).slice(1)}`}async function fx(s){const e=await ax(s),n=Hi().gapi;return we(n,s,"internal-error"),e.open({where:document.body,url:dx(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ux,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const d=Bi(s,"network-request-failed"),m=Hi().setTimeout(()=>{c(d)},ox.get());function g(){Hi().clearTimeout(m),o(r)}r.ping(g).then(g,()=>{c(d)})}))}const mx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},px=500,gx=600,yx="_blank",_x="http://localhost";class Q_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vx(s,e,n,r=px,o=gx){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const g={...mx,width:r.toString(),height:o.toString(),top:c,left:d},y=un().toLowerCase();n&&(m=I1(y)?yx:n),R1(y)&&(e=e||_x,g.scrollbars="yes");const E=Object.entries(g).reduce((w,[P,Y])=>`${w}${P}=${Y},`,"");if(VS(y)&&m!=="_self")return bx(e||"",m),new Q_(null);const S=window.open(e||"",m,E);we(S,s,"popup-blocked");try{S.focus()}catch{}return new Q_(S)}function bx(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const Ex="__/auth/handler",Tx="emulator/auth/handler",Ax=encodeURIComponent("fac");async function Y_(s,e,n,r,o,c){we(s.config.authDomain,s,"auth-domain-config-required"),we(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:jo,eventId:o};if(e instanceof U1){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",iA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))d[E]=S}if(e instanceof pc){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(d.scopes=E.join(","))}s.tenantId&&(d.tid=s.tenantId);const m=d;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await s._getAppCheckToken(),y=g?`#${Ax}=${encodeURIComponent(g)}`:"";return`${Sx(s)}?${dc(m).slice(1)}${y}`}function Sx({config:s}){return s.emulator?Zm(s,Tx):`https://${s.authDomain}/${Ex}`}const rm="webStorageSupport";class wx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=K1,this._completeRedirectFn=$w,this._overrideRedirectResult=Qw}async _openPopup(e,n,r,o){Ns(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Y_(e,n,r,Em(),o);return vx(e,c,ip())}async _openRedirect(e,n,r,o){await this._originValidation(e);const c=await Y_(e,n,r,Em(),o);return Nw(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Ns(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await fx(e),r=new Jw(e);return n.register("authEvent",o=>(we(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(rm,{type:rm},o=>{const c=o?.[0]?.[rm];c!==void 0&&n(!!c),vi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=nx(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return O1()||N1()||ep()}}const xx=wx;var K_="@firebase/auth",$_="1.12.0";class Rx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Nx(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ix(s){ya(new Rr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=r.options;we(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:d,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:V1(s)},y=new BS(r,o,c,g);return JS(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ya(new Rr("auth-internal",e=>{const n=Os(e.getProvider("auth").getImmediate());return(r=>new Rx(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zi(K_,$_,Nx(s)),zi(K_,$_,"esm2020")}const Cx=300,Dx=f1("authIdTokenMaxAge")||Cx;let X_=null;const kx=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Dx)return;const o=n?.token;X_!==o&&(X_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Mx(s=Xm()){const e=kh(s,"auth");if(e.isInitialized())return e.getImmediate();const n=XS(s,{popupRedirectResolver:xx,persistence:[Pw,ww,K1]}),r=f1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=kx(c.toString());bw(n,d,()=>d(n.currentUser)),vw(n,m=>d(m))}}const o=u1("auth");return o&&ZS(n,`http://${o}`),n}function Ox(){return document.getElementsByTagName("head")?.[0]??document}qS({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const c=Bi("internal-error");c.customData=o,n(c)},r.type="text/javascript",r.charset="UTF-8",Ox().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ix("Browser");var J_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var wr,tb;(function(){var s;function e(I,x){function N(){}N.prototype=x.prototype,I.F=x.prototype,I.prototype=new N,I.prototype.constructor=I,I.D=function(O,D,V){for(var R=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)R[Re-2]=arguments[Re];return x.prototype[D].apply(O,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,x,N){N||(N=0);const O=Array(16);if(typeof x=="string")for(var D=0;D<16;++D)O[D]=x.charCodeAt(N++)|x.charCodeAt(N++)<<8|x.charCodeAt(N++)<<16|x.charCodeAt(N++)<<24;else for(D=0;D<16;++D)O[D]=x[N++]|x[N++]<<8|x[N++]<<16|x[N++]<<24;x=I.g[0],N=I.g[1],D=I.g[2];let V=I.g[3],R;R=x+(V^N&(D^V))+O[0]+3614090360&4294967295,x=N+(R<<7&4294967295|R>>>25),R=V+(D^x&(N^D))+O[1]+3905402710&4294967295,V=x+(R<<12&4294967295|R>>>20),R=D+(N^V&(x^N))+O[2]+606105819&4294967295,D=V+(R<<17&4294967295|R>>>15),R=N+(x^D&(V^x))+O[3]+3250441966&4294967295,N=D+(R<<22&4294967295|R>>>10),R=x+(V^N&(D^V))+O[4]+4118548399&4294967295,x=N+(R<<7&4294967295|R>>>25),R=V+(D^x&(N^D))+O[5]+1200080426&4294967295,V=x+(R<<12&4294967295|R>>>20),R=D+(N^V&(x^N))+O[6]+2821735955&4294967295,D=V+(R<<17&4294967295|R>>>15),R=N+(x^D&(V^x))+O[7]+4249261313&4294967295,N=D+(R<<22&4294967295|R>>>10),R=x+(V^N&(D^V))+O[8]+1770035416&4294967295,x=N+(R<<7&4294967295|R>>>25),R=V+(D^x&(N^D))+O[9]+2336552879&4294967295,V=x+(R<<12&4294967295|R>>>20),R=D+(N^V&(x^N))+O[10]+4294925233&4294967295,D=V+(R<<17&4294967295|R>>>15),R=N+(x^D&(V^x))+O[11]+2304563134&4294967295,N=D+(R<<22&4294967295|R>>>10),R=x+(V^N&(D^V))+O[12]+1804603682&4294967295,x=N+(R<<7&4294967295|R>>>25),R=V+(D^x&(N^D))+O[13]+4254626195&4294967295,V=x+(R<<12&4294967295|R>>>20),R=D+(N^V&(x^N))+O[14]+2792965006&4294967295,D=V+(R<<17&4294967295|R>>>15),R=N+(x^D&(V^x))+O[15]+1236535329&4294967295,N=D+(R<<22&4294967295|R>>>10),R=x+(D^V&(N^D))+O[1]+4129170786&4294967295,x=N+(R<<5&4294967295|R>>>27),R=V+(N^D&(x^N))+O[6]+3225465664&4294967295,V=x+(R<<9&4294967295|R>>>23),R=D+(x^N&(V^x))+O[11]+643717713&4294967295,D=V+(R<<14&4294967295|R>>>18),R=N+(V^x&(D^V))+O[0]+3921069994&4294967295,N=D+(R<<20&4294967295|R>>>12),R=x+(D^V&(N^D))+O[5]+3593408605&4294967295,x=N+(R<<5&4294967295|R>>>27),R=V+(N^D&(x^N))+O[10]+38016083&4294967295,V=x+(R<<9&4294967295|R>>>23),R=D+(x^N&(V^x))+O[15]+3634488961&4294967295,D=V+(R<<14&4294967295|R>>>18),R=N+(V^x&(D^V))+O[4]+3889429448&4294967295,N=D+(R<<20&4294967295|R>>>12),R=x+(D^V&(N^D))+O[9]+568446438&4294967295,x=N+(R<<5&4294967295|R>>>27),R=V+(N^D&(x^N))+O[14]+3275163606&4294967295,V=x+(R<<9&4294967295|R>>>23),R=D+(x^N&(V^x))+O[3]+4107603335&4294967295,D=V+(R<<14&4294967295|R>>>18),R=N+(V^x&(D^V))+O[8]+1163531501&4294967295,N=D+(R<<20&4294967295|R>>>12),R=x+(D^V&(N^D))+O[13]+2850285829&4294967295,x=N+(R<<5&4294967295|R>>>27),R=V+(N^D&(x^N))+O[2]+4243563512&4294967295,V=x+(R<<9&4294967295|R>>>23),R=D+(x^N&(V^x))+O[7]+1735328473&4294967295,D=V+(R<<14&4294967295|R>>>18),R=N+(V^x&(D^V))+O[12]+2368359562&4294967295,N=D+(R<<20&4294967295|R>>>12),R=x+(N^D^V)+O[5]+4294588738&4294967295,x=N+(R<<4&4294967295|R>>>28),R=V+(x^N^D)+O[8]+2272392833&4294967295,V=x+(R<<11&4294967295|R>>>21),R=D+(V^x^N)+O[11]+1839030562&4294967295,D=V+(R<<16&4294967295|R>>>16),R=N+(D^V^x)+O[14]+4259657740&4294967295,N=D+(R<<23&4294967295|R>>>9),R=x+(N^D^V)+O[1]+2763975236&4294967295,x=N+(R<<4&4294967295|R>>>28),R=V+(x^N^D)+O[4]+1272893353&4294967295,V=x+(R<<11&4294967295|R>>>21),R=D+(V^x^N)+O[7]+4139469664&4294967295,D=V+(R<<16&4294967295|R>>>16),R=N+(D^V^x)+O[10]+3200236656&4294967295,N=D+(R<<23&4294967295|R>>>9),R=x+(N^D^V)+O[13]+681279174&4294967295,x=N+(R<<4&4294967295|R>>>28),R=V+(x^N^D)+O[0]+3936430074&4294967295,V=x+(R<<11&4294967295|R>>>21),R=D+(V^x^N)+O[3]+3572445317&4294967295,D=V+(R<<16&4294967295|R>>>16),R=N+(D^V^x)+O[6]+76029189&4294967295,N=D+(R<<23&4294967295|R>>>9),R=x+(N^D^V)+O[9]+3654602809&4294967295,x=N+(R<<4&4294967295|R>>>28),R=V+(x^N^D)+O[12]+3873151461&4294967295,V=x+(R<<11&4294967295|R>>>21),R=D+(V^x^N)+O[15]+530742520&4294967295,D=V+(R<<16&4294967295|R>>>16),R=N+(D^V^x)+O[2]+3299628645&4294967295,N=D+(R<<23&4294967295|R>>>9),R=x+(D^(N|~V))+O[0]+4096336452&4294967295,x=N+(R<<6&4294967295|R>>>26),R=V+(N^(x|~D))+O[7]+1126891415&4294967295,V=x+(R<<10&4294967295|R>>>22),R=D+(x^(V|~N))+O[14]+2878612391&4294967295,D=V+(R<<15&4294967295|R>>>17),R=N+(V^(D|~x))+O[5]+4237533241&4294967295,N=D+(R<<21&4294967295|R>>>11),R=x+(D^(N|~V))+O[12]+1700485571&4294967295,x=N+(R<<6&4294967295|R>>>26),R=V+(N^(x|~D))+O[3]+2399980690&4294967295,V=x+(R<<10&4294967295|R>>>22),R=D+(x^(V|~N))+O[10]+4293915773&4294967295,D=V+(R<<15&4294967295|R>>>17),R=N+(V^(D|~x))+O[1]+2240044497&4294967295,N=D+(R<<21&4294967295|R>>>11),R=x+(D^(N|~V))+O[8]+1873313359&4294967295,x=N+(R<<6&4294967295|R>>>26),R=V+(N^(x|~D))+O[15]+4264355552&4294967295,V=x+(R<<10&4294967295|R>>>22),R=D+(x^(V|~N))+O[6]+2734768916&4294967295,D=V+(R<<15&4294967295|R>>>17),R=N+(V^(D|~x))+O[13]+1309151649&4294967295,N=D+(R<<21&4294967295|R>>>11),R=x+(D^(N|~V))+O[4]+4149444226&4294967295,x=N+(R<<6&4294967295|R>>>26),R=V+(N^(x|~D))+O[11]+3174756917&4294967295,V=x+(R<<10&4294967295|R>>>22),R=D+(x^(V|~N))+O[2]+718787259&4294967295,D=V+(R<<15&4294967295|R>>>17),R=N+(V^(D|~x))+O[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+V&4294967295}r.prototype.v=function(I,x){x===void 0&&(x=I.length);const N=x-this.blockSize,O=this.C;let D=this.h,V=0;for(;V<x;){if(D==0)for(;V<=N;)o(this,I,V),V+=this.blockSize;if(typeof I=="string"){for(;V<x;)if(O[D++]=I.charCodeAt(V++),D==this.blockSize){o(this,O),D=0;break}}else for(;V<x;)if(O[D++]=I[V++],D==this.blockSize){o(this,O),D=0;break}}this.h=D,this.o+=x},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;x=this.o*8;for(var N=I.length-8;N<I.length;++N)I[N]=x&255,x/=256;for(this.v(I),I=Array(16),x=0,N=0;N<4;++N)for(let O=0;O<32;O+=8)I[x++]=this.g[N]>>>O&255;return I};function c(I,x){var N=m;return Object.prototype.hasOwnProperty.call(N,I)?N[I]:N[I]=x(I)}function d(I,x){this.h=x;const N=[];let O=!0;for(let D=I.length-1;D>=0;D--){const V=I[D]|0;O&&V==x||(N[D]=V,O=!1)}this.g=N}var m={};function g(I){return-128<=I&&I<128?c(I,function(x){return new d([x|0],x<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return G(y(-I));const x=[];let N=1;for(let O=0;I>=N;O++)x[O]=I/N|0,N*=4294967296;return new d(x,0)}function E(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return G(E(I.substring(1),x));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=y(Math.pow(x,8));let O=S;for(let V=0;V<I.length;V+=8){var D=Math.min(8,I.length-V);const R=parseInt(I.substring(V,V+D),x);D<8?(D=y(Math.pow(x,D)),O=O.j(D).add(y(R))):(O=O.j(N),O=O.add(y(R)))}return O}var S=g(0),w=g(1),P=g(16777216);s=d.prototype,s.m=function(){if(J(this))return-G(this).m();let I=0,x=1;for(let N=0;N<this.g.length;N++){const O=this.i(N);I+=(O>=0?O:4294967296+O)*x,x*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(Y(this))return"0";if(J(this))return"-"+G(this).toString(I);const x=y(Math.pow(I,6));var N=this;let O="";for(;;){const D=_e(N,x).g;N=ne(N,D.j(x));let V=((N.g.length>0?N.g[0]:N.h)>>>0).toString(I);if(N=D,Y(N))return V+O;for(;V.length<6;)V="0"+V;O=V+O}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function Y(I){if(I.h!=0)return!1;for(let x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function J(I){return I.h==-1}s.l=function(I){return I=ne(this,I),J(I)?-1:Y(I)?0:1};function G(I){const x=I.g.length,N=[];for(let O=0;O<x;O++)N[O]=~I.g[O];return new d(N,~I.h).add(w)}s.abs=function(){return J(this)?G(this):this},s.add=function(I){const x=Math.max(this.g.length,I.g.length),N=[];let O=0;for(let D=0;D<=x;D++){let V=O+(this.i(D)&65535)+(I.i(D)&65535),R=(V>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);O=R>>>16,V&=65535,R&=65535,N[D]=R<<16|V}return new d(N,N[N.length-1]&-2147483648?-1:0)};function ne(I,x){return I.add(G(x))}s.j=function(I){if(Y(this)||Y(I))return S;if(J(this))return J(I)?G(this).j(G(I)):G(G(this).j(I));if(J(I))return G(this.j(G(I)));if(this.l(P)<0&&I.l(P)<0)return y(this.m()*I.m());const x=this.g.length+I.g.length,N=[];for(var O=0;O<2*x;O++)N[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<I.g.length;D++){const V=this.i(O)>>>16,R=this.i(O)&65535,Re=I.i(D)>>>16,Qe=I.i(D)&65535;N[2*O+2*D]+=R*Qe,oe(N,2*O+2*D),N[2*O+2*D+1]+=V*Qe,oe(N,2*O+2*D+1),N[2*O+2*D+1]+=R*Re,oe(N,2*O+2*D+1),N[2*O+2*D+2]+=V*Re,oe(N,2*O+2*D+2)}for(I=0;I<x;I++)N[I]=N[2*I+1]<<16|N[2*I];for(I=x;I<2*x;I++)N[I]=0;return new d(N,0)};function oe(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function le(I,x){this.g=I,this.h=x}function _e(I,x){if(Y(x))throw Error("division by zero");if(Y(I))return new le(S,S);if(J(I))return x=_e(G(I),x),new le(G(x.g),G(x.h));if(J(x))return x=_e(I,G(x)),new le(G(x.g),x.h);if(I.g.length>30){if(J(I)||J(x))throw Error("slowDivide_ only works with positive integers.");for(var N=w,O=x;O.l(I)<=0;)N=Te(N),O=Te(O);var D=xe(N,1),V=xe(O,1);for(O=xe(O,2),N=xe(N,2);!Y(O);){var R=V.add(O);R.l(I)<=0&&(D=D.add(N),V=R),O=xe(O,1),N=xe(N,1)}return x=ne(I,D.j(x)),new le(D,x)}for(D=S;I.l(x)>=0;){for(N=Math.max(1,Math.floor(I.m()/x.m())),O=Math.ceil(Math.log(N)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),V=y(N),R=V.j(x);J(R)||R.l(I)>0;)N-=O,V=y(N),R=V.j(x);Y(V)&&(V=w),D=D.add(V),I=ne(I,R)}return new le(D,I)}s.B=function(I){return _e(this,I).h},s.and=function(I){const x=Math.max(this.g.length,I.g.length),N=[];for(let O=0;O<x;O++)N[O]=this.i(O)&I.i(O);return new d(N,this.h&I.h)},s.or=function(I){const x=Math.max(this.g.length,I.g.length),N=[];for(let O=0;O<x;O++)N[O]=this.i(O)|I.i(O);return new d(N,this.h|I.h)},s.xor=function(I){const x=Math.max(this.g.length,I.g.length),N=[];for(let O=0;O<x;O++)N[O]=this.i(O)^I.i(O);return new d(N,this.h^I.h)};function Te(I){const x=I.g.length+1,N=[];for(let O=0;O<x;O++)N[O]=I.i(O)<<1|I.i(O-1)>>>31;return new d(N,I.h)}function xe(I,x){const N=x>>5;x%=32;const O=I.g.length-N,D=[];for(let V=0;V<O;V++)D[V]=x>0?I.i(V+N)>>>x|I.i(V+N+1)<<32-x:I.i(V+N);return new d(D,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,tb=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,wr=d}).apply(typeof J_<"u"?J_:typeof self<"u"?self:typeof window<"u"?window:{});var Qu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var nb,Fl,ib,nh,Sm,sb,rb,ab;(function(){var s,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qu=="object"&&Qu];for(var p=0;p<u.length;++p){var b=u[p];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function o(u,p){if(p)e:{var b=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var L=u[A];if(!(L in b))break e;b=b[L]}u=u[u.length-1],A=b[u],p=p(A),p!=A&&p!=null&&e(b,u,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(p){var b=[],A;for(A in p)Object.prototype.hasOwnProperty.call(p,A)&&b.push([A,p[A]]);return b}});var c=c||{},d=this||self;function m(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function g(u,p,b){return u.call.apply(u.bind,arguments)}function y(u,p,b){return y=g,y.apply(null,arguments)}function E(u,p){var b=Array.prototype.slice.call(arguments,1);return function(){var A=b.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function S(u,p){function b(){}b.prototype=p.prototype,u.Z=p.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(A,L,q){for(var ae=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)ae[Oe-2]=arguments[Oe];return p.prototype[L].apply(A,ae)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function P(u){const p=u.length;if(p>0){const b=Array(p);for(let A=0;A<p;A++)b[A]=u[A];return b}return[]}function Y(u,p){for(let A=1;A<arguments.length;A++){const L=arguments[A];var b=typeof L;if(b=b!="object"?b:L?Array.isArray(L)?"array":b:"null",b=="array"||b=="object"&&typeof L.length=="number"){b=u.length||0;const q=L.length||0;u.length=b+q;for(let ae=0;ae<q;ae++)u[b+ae]=L[ae]}else u.push(L)}}class J{constructor(p,b){this.i=p,this.j=b,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function G(u){d.setTimeout(()=>{throw u},0)}function ne(){var u=I;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class oe{constructor(){this.h=this.g=null}add(p,b){const A=le.get();A.set(p,b),this.h?this.h.next=A:this.g=A,this.h=A}}var le=new J(()=>new _e,u=>u.reset());class _e{constructor(){this.next=this.g=this.h=null}set(p,b){this.h=p,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,xe=!1,I=new oe,x=()=>{const u=Promise.resolve(void 0);Te=()=>{u.then(N)}};function N(){for(var u;u=ne();){try{u.h.call(u.g)}catch(b){G(b)}var p=le;p.j(u),p.h<100&&(p.h++,u.next=p.g,p.g=u)}xe=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};d.addEventListener("test",b,p),d.removeEventListener("test",b,p)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Re(u,p){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,p)}S(Re,D),Re.prototype.init=function(u,p){const b=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget,p||(b=="mouseover"?p=u.fromElement:b=="mouseout"&&(p=u.toElement)),this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Re.Z.h.call(this)},Re.prototype.h=function(){Re.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Qe="closure_listenable_"+(Math.random()*1e6|0),F=0;function se(u,p,b,A,L){this.listener=u,this.proxy=null,this.src=p,this.type=b,this.capture=!!A,this.ha=L,this.key=++F,this.da=this.fa=!1}function ce(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Me(u,p,b){for(const A in u)p.call(b,u[A],A,u)}function je(u,p){for(const b in u)p.call(void 0,u[b],b,u)}function k(u){const p={};for(const b in u)p[b]=u[b];return p}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(u,p){let b,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(b in A)u[b]=A[b];for(let q=0;q<K.length;q++)b=K[q],Object.prototype.hasOwnProperty.call(A,b)&&(u[b]=A[b])}}function te(u){this.src=u,this.g={},this.h=0}te.prototype.add=function(u,p,b,A,L){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const ae=Ae(u,p,A,L);return ae>-1?(p=u[ae],b||(p.fa=!1)):(p=new se(p,this.src,q,!!A,L),p.fa=b,u.push(p)),p};function me(u,p){const b=p.type;if(b in u.g){var A=u.g[b],L=Array.prototype.indexOf.call(A,p,void 0),q;(q=L>=0)&&Array.prototype.splice.call(A,L,1),q&&(ce(p),u.g[b].length==0&&(delete u.g[b],u.h--))}}function Ae(u,p,b,A){for(let L=0;L<u.length;++L){const q=u[L];if(!q.da&&q.listener==p&&q.capture==!!b&&q.ha==A)return L}return-1}var ie="closure_lm_"+(Math.random()*1e6|0),pe={};function ve(u,p,b,A,L){if(Array.isArray(p)){for(let q=0;q<p.length;q++)ve(u,p[q],b,A,L);return null}return b=Ji(b),u&&u[Qe]?u.J(p,b,m(A)?!!A.capture:!1,L):ut(u,p,b,!1,A,L)}function ut(u,p,b,A,L,q){if(!p)throw Error("Invalid event type");const ae=m(L)?!!L.capture:!!L;let Oe=hn(u);if(Oe||(u[ie]=Oe=new te(u)),b=Oe.add(p,b,A,ae,q),b.proxy)return b;if(A=Bt(),b.proxy=A,A.src=u,A.listener=b,u.addEventListener)V||(L=ae),L===void 0&&(L=!1),u.addEventListener(p.toString(),A,L);else if(u.attachEvent)u.attachEvent(pn(p.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Bt(){function u(b){return p.call(u.src,u.listener,b)}const p=zn;return u}function mn(u,p,b,A,L){if(Array.isArray(p))for(var q=0;q<p.length;q++)mn(u,p[q],b,A,L);else A=m(A)?!!A.capture:!!A,b=Ji(b),u&&u[Qe]?(u=u.i,q=String(p).toString(),q in u.g&&(p=u.g[q],b=Ae(p,b,A,L),b>-1&&(ce(p[b]),Array.prototype.splice.call(p,b,1),p.length==0&&(delete u.g[q],u.h--)))):u&&(u=hn(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Ae(p,b,A,L)),(b=u>-1?p[u]:null)&&Gt(b))}function Gt(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Qe])me(p.i,u);else{var b=u.type,A=u.proxy;p.removeEventListener?p.removeEventListener(b,A,u.capture):p.detachEvent?p.detachEvent(pn(b),A):p.addListener&&p.removeListener&&p.removeListener(A),(b=hn(p))?(me(b,u),b.h==0&&(b.src=null,p[ie]=null)):ce(u)}}}function pn(u){return u in pe?pe[u]:pe[u]="on"+u}function zn(u,p){if(u.da)u=!0;else{p=new Re(p,this);const b=u.listener,A=u.ha||u.src;u.fa&&Gt(u),u=b.call(A,p)}return u}function hn(u){return u=u[ie],u instanceof te?u:null}var oi="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ji(u){return typeof u=="function"?u:(u[oi]||(u[oi]=function(p){return u.handleEvent(p)}),u[oi])}function dt(){O.call(this),this.i=new te(this),this.M=this,this.G=null}S(dt,O),dt.prototype[Qe]=!0,dt.prototype.removeEventListener=function(u,p,b,A){mn(this,u,p,b,A)};function gt(u,p){var b,A=u.G;if(A)for(b=[];A;A=A.G)b.push(A);if(u=u.M,A=p.type||p,typeof p=="string")p=new D(p,u);else if(p instanceof D)p.target=p.target||u;else{var L=p;p=new D(A,u),re(p,L)}L=!0;let q,ae;if(b)for(ae=b.length-1;ae>=0;ae--)q=p.g=b[ae],L=Tt(q,A,!0,p)&&L;if(q=p.g=u,L=Tt(q,A,!0,p)&&L,L=Tt(q,A,!1,p)&&L,b)for(ae=0;ae<b.length;ae++)q=p.g=b[ae],L=Tt(q,A,!1,p)&&L}dt.prototype.N=function(){if(dt.Z.N.call(this),this.i){var u=this.i;for(const p in u.g){const b=u.g[p];for(let A=0;A<b.length;A++)ce(b[A]);delete u.g[p],u.h--}}this.G=null},dt.prototype.J=function(u,p,b,A){return this.i.add(String(u),p,!1,b,A)},dt.prototype.K=function(u,p,b,A){return this.i.add(String(u),p,!0,b,A)};function Tt(u,p,b,A){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();let L=!0;for(let q=0;q<p.length;++q){const ae=p[q];if(ae&&!ae.da&&ae.capture==b){const Oe=ae.listener,xt=ae.ha||ae.src;ae.fa&&me(u.i,ae),L=Oe.call(xt,A)!==!1&&L}}return L&&!A.defaultPrevented}function Vs(u,p){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:d.setTimeout(u,p||0)}function Bn(u){u.g=Vs(()=>{u.g=null,u.i&&(u.i=!1,Bn(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class qt extends O{constructor(p,b){super(),this.m=p,this.l=b,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Bn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nn(u){O.call(this),this.h=u,this.g={}}S(Nn,O);var Pr=[];function Lr(u){Me(u.g,function(p,b){this.g.hasOwnProperty(b)&&Gt(p)},u),u.g={}}Nn.prototype.N=function(){Nn.Z.N.call(this),Lr(this)},Nn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ei=d.JSON.stringify,Bo=d.JSON.parse,Ur=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function xa(){}function Ra(){}var sn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Dt(){D.call(this,"d")}S(Dt,D);function gn(){D.call(this,"c")}S(gn,D);var yt={},Na=null;function js(){return Na=Na||new dt}yt.Ia="serverreachability";function Ia(u){D.call(this,yt.Ia,u)}S(Ia,D);function qn(u){const p=js();gt(p,new Ia(p))}yt.STAT_EVENT="statevent";function Zi(u,p){D.call(this,yt.STAT_EVENT,u),this.stat=p}S(Zi,D);function At(u){const p=js();gt(p,new Zi(p,u))}yt.Ja="timingevent";function Hn(u,p){D.call(this,yt.Ja,u),this.size=p}S(Hn,D);function Fn(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},p)}function In(){this.g=!0}In.prototype.ua=function(){this.g=!1};function Ps(u,p,b,A,L,q){u.info(function(){if(u.g)if(q){var ae="",Oe=q.split("&");for(let Je=0;Je<Oe.length;Je++){var xt=Oe[Je].split("=");if(xt.length>1){const _t=xt[0];xt=xt[1];const Xn=_t.split("_");ae=Xn.length>=2&&Xn[1]=="type"?ae+(_t+"="+xt+"&"):ae+(_t+"=redacted&")}}}else ae=null;else ae=q;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+p+`
`+b+`
`+ae})}function Ca(u,p,b,A,L,q,ae){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+p+`
`+b+`
`+q+" "+ae})}function Gn(u,p,b,A){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+qo(u,b)+(A?" "+A:"")})}function Wi(u,p){u.info(function(){return"TIMEOUT: "+p})}In.prototype.info=function(){};function qo(u,p){if(!u.g)return p;if(!p)return null;try{const q=JSON.parse(p);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var b=q[u];if(!(b.length<2)){var A=b[1];if(Array.isArray(A)&&!(A.length<1)){var L=A[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ae=1;ae<A.length;ae++)A[ae]=""}}}}return Ei(q)}catch{return p}}var es={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},zr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Br;function ts(){}S(ts,xa),ts.prototype.g=function(){return new XMLHttpRequest},Br=new ts;function li(u){return encodeURIComponent(String(u))}function Da(u){var p=1;u=u.split(":");const b=[];for(;p>0&&u.length;)b.push(u.shift()),p--;return u.length&&b.push(u.join(":")),b}function Ie(u,p,b,A){this.j=u,this.i=p,this.l=b,this.S=A||1,this.V=new Nn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new et}function et(){this.i=null,this.g="",this.h=!1}var tt={},Ke={};function rn(u,p,b){u.M=1,u.A=qr(Mt(p)),u.u=b,u.R=!0,Qn(u,null)}function Qn(u,p){u.F=Date.now(),Ti(u),u.B=Mt(u.A);var b=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),Va(b.i,"t",A),u.C=0,b=u.j.L,u.h=new et,u.g=Lc(u.j,b?p:null,!u.u),u.P>0&&(u.O=new qt(y(u.Y,u,u.g),u.P)),p=u.V,b=u.g,A=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Pr[0]=L.toString()),L=Pr);for(let q=0;q<L.length;q++){const ae=ve(b,L[q],A||p.handleEvent,!1,p.h||p);if(!ae)break;p.g[ae.key]=ae}p=u.J?k(u.J):{},u.u?(u.v||(u.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,p)):(u.v="GET",u.g.ea(u.B,u.v,null,p)),qn(),Ps(u.i,u.v,u.B,u.l,u.S,u.u)}Ie.prototype.ba=function(u){u=u.target;const p=this.O;p&&hi(u)==3?p.j():this.Y(u)},Ie.prototype.Y=function(u){try{if(u==this.g)e:{const Oe=hi(this.g),xt=this.g.ya(),Je=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||$t(this.g)))){this.K||Oe!=4||xt==7||(xt==8||Je<=0?qn(3):qn(2)),Ai(this);var p=this.g.ca();this.X=p;var b=ns(this);if(this.o=p==200,Ca(this.i,this.v,this.B,this.l,this.S,Oe,p),this.o){if(this.U&&!this.L){t:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var q=A;break t}}q=null}if(u=q)Gn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Si(this,u);else{this.o=!1,this.m=3,At(12),Cn(this),Yn(this);break e}}if(this.R){u=!0;let _t;for(;!this.K&&this.C<b.length;)if(_t=wc(this,b),_t==Ke){Oe==4&&(this.m=4,At(14),u=!1),Gn(this.i,this.l,null,"[Incomplete Response]");break}else if(_t==tt){this.m=4,At(15),Gn(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else Gn(this.i,this.l,_t,null),Si(this,_t);if(Ls(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||b.length!=0||this.h.h||(this.m=1,At(16),u=!1),this.o=this.o&&u,!u)Gn(this.i,this.l,b,"[Invalid Chunked Response]"),Cn(this),Yn(this);else if(b.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),il(ae),ae.P=!0,At(11))}}else Gn(this.i,this.l,b,null),Si(this,b);Oe==4&&Cn(this),this.o&&!this.K&&(Oe==4?Oc(this.j,this):(this.o=!1,Ti(this)))}else ss(this.g),p==400&&b.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),Cn(this),Yn(this)}}}catch{}};function ns(u){if(!Ls(u))return u.g.la();const p=$t(u.g);if(p==="")return"";let b="";const A=p.length,L=hi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Cn(u),Yn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<A;q++)u.h.h=!0,b+=u.h.i.decode(p[q],{stream:!(L&&q==A-1)});return p.length=0,u.h.g+=b,u.C=0,u.h.g}function Ls(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function wc(u,p){var b=u.C,A=p.indexOf(`
`,b);return A==-1?Ke:(b=Number(p.substring(b,A)),isNaN(b)?tt:(A+=1,A+b>p.length?Ke:(p=p.slice(A,A+b),u.C=A+b,p)))}Ie.prototype.cancel=function(){this.K=!0,Cn(this)};function Ti(u){u.T=Date.now()+u.H,ka(u,u.H)}function ka(u,p){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Fn(y(u.aa,u),p)}function Ai(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Ie.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Wi(this.i,this.B),this.M!=2&&(qn(),At(17)),Cn(this),this.m=2,Yn(this)):ka(this,this.T-u)};function Yn(u){u.j.I==0||u.K||Oc(u.j,u)}function Cn(u){Ai(u);var p=u.O;p&&typeof p.dispose=="function"&&p.dispose(),u.O=null,Lr(u.V),u.g&&(p=u.g,u.g=null,p.abort(),p.dispose())}function Si(u,p){try{var b=u.j;if(b.I!=0&&(b.g==u||xi(b.h,u))){if(!u.L&&xi(b.h,u)&&b.I==3){try{var A=b.Ba.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)za(b),Qs(b);else break e;$r(b),At(18)}}else b.xa=L[1],0<b.xa-b.K&&L[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Fn(y(b.Va,b),6e3));wi(b.h)<=1&&b.ta&&(b.ta=void 0)}else ki(b,11)}else if((u.L||b.g==u)&&za(b),!R(p))for(L=b.Ba.g.parse(p),p=0;p<L.length;p++){let Je=L[p];const _t=Je[0];if(!(_t<=b.K))if(b.K=_t,Je=Je[1],b.I==2)if(Je[0]=="c"){b.M=Je[1],b.ba=Je[2];const Xn=Je[3];Xn!=null&&(b.ka=Xn,b.j.info("VER="+b.ka));const Mi=Je[4];Mi!=null&&(b.za=Mi,b.j.info("SVER="+b.za));const di=Je[5];di!=null&&typeof di=="number"&&di>0&&(A=1.5*di,b.O=A,b.j.info("backChannelRequestTimeoutMs_="+A)),A=b;const fi=u.g;if(fi){const Xr=fi.g?fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xr){var q=A.h;q.g||Xr.indexOf("spdy")==-1&&Xr.indexOf("quic")==-1&&Xr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Go(q,q.h),q.h=null))}if(A.G){const Ba=fi.g?fi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ba&&(A.wa=Ba,nt(A.J,A.G,Ba))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),A=b;var ae=u;if(A.na=Pc(A,A.L?A.ba:null,A.W),ae.L){Qo(A.h,ae);var Oe=ae,xt=A.O;xt&&(Oe.H=xt),Oe.D&&(Ai(Oe),Ti(Oe)),A.g=ae}else kc(A);b.i.length>0&&Di(b)}else Je[0]!="stop"&&Je[0]!="close"||ki(b,7);else b.I==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?ki(b,7):tl(b):Je[0]!="noop"&&b.l&&b.l.qa(Je),b.A=0)}}qn(4)}catch{}}var kt=class{constructor(u,p){this.g=u,this.map=p}};function Ho(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function wi(u){return u.h?1:u.g?u.g.size:0}function xi(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Go(u,p){u.g?u.g.add(p):u.h=p}function Qo(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Ho.prototype.cancel=function(){if(this.i=Yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Yo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const b of u.g.values())p=p.concat(b.G);return p}return P(u.i)}var xc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ma(u,p){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const A=u[b].indexOf("=");let L,q=null;A>=0?(L=u[b].substring(0,A),q=u[b].substring(A+1)):L=u[b],p(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;u instanceof Dn?(this.l=u.l,Qt(this,u.j),this.o=u.o,this.g=u.g,Us(this,u.u),this.h=u.h,Ko(this,Cc(u.i)),this.m=u.m):u&&(p=String(u).match(xc))?(this.l=!1,Qt(this,p[1]||"",!0),this.o=Ri(p[2]||""),this.g=Ri(p[3]||"",!0),Us(this,p[4]),this.h=Ri(p[5]||"",!0),Ko(this,p[6]||"",!0),this.m=Ri(p[7]||"")):(this.l=!1,this.i=new Bs(null,this.l))}Dn.prototype.toString=function(){const u=[];var p=this.j;p&&u.push(Hr(p,Oa,!0),":");var b=this.g;return(b||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Hr(p,Oa,!0),"@"),u.push(li(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Hr(b,b.charAt(0)=="/"?$o:Rc,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Hr(b,Nc)),u.join("")},Dn.prototype.resolve=function(u){const p=Mt(this);let b=!!u.j;b?Qt(p,u.j):b=!!u.o,b?p.o=u.o:b=!!u.g,b?p.g=u.g:b=u.u!=null;var A=u.h;if(b)Us(p,u.u);else if(b=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var L=p.h.lastIndexOf("/");L!=-1&&(A=p.h.slice(0,L+1)+A)}if(L=A,L==".."||L==".")A="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){A=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let ae=0;ae<L.length;){const Oe=L[ae++];Oe=="."?A&&ae==L.length&&q.push(""):Oe==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&ae==L.length&&q.push("")):(q.push(Oe),A=!0)}A=q.join("/")}else A=L}return b?p.h=A:b=u.i.toString()!=="",b?Ko(p,Cc(u.i)):b=!!u.m,b&&(p.m=u.m),p};function Mt(u){return new Dn(u)}function Qt(u,p,b){u.j=b?Ri(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Us(u,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);u.u=p}else u.u=null}function Ko(u,p,b){p instanceof Bs?(u.i=p,ja(u.i,u.l)):(b||(p=Hr(p,zs)),u.i=new Bs(p,u.l))}function nt(u,p,b){u.i.set(p,b)}function qr(u){return nt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ri(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Hr(u,p,b){return typeof u=="string"?(u=encodeURI(u).replace(p,yn),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function yn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Oa=/[#\/\?@]/g,Rc=/[#\?:]/g,$o=/[#\?]/g,zs=/[#\?@]/g,Nc=/#/g;function Bs(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function _n(u){u.g||(u.g=new Map,u.h=0,u.i&&Ma(u.i,function(p,b){u.add(decodeURIComponent(p.replace(/\+/g," ")),b)}))}s=Bs.prototype,s.add=function(u,p){_n(this),this.i=null,u=qs(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(p),this.h+=1,this};function Ic(u,p){_n(u),p=qs(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Xo(u,p){return _n(u),p=qs(u,p),u.g.has(p)}s.forEach=function(u,p){_n(this),this.g.forEach(function(b,A){b.forEach(function(L){u.call(p,L,A,this)},this)},this)};function Jo(u,p){_n(u);let b=[];if(typeof p=="string")Xo(u,p)&&(b=b.concat(u.g.get(qs(u,p))));else for(u=Array.from(u.g.values()),p=0;p<u.length;p++)b=b.concat(u[p]);return b}s.set=function(u,p){return _n(this),this.i=null,u=qs(this,u),Xo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},s.get=function(u,p){return u?(u=Jo(this,u),u.length>0?String(u[0]):p):p};function Va(u,p,b){Ic(u,p),b.length>0&&(u.i=null,u.g.set(qs(u,p),P(b)),u.h+=b.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(let A=0;A<p.length;A++){var b=p[A];const L=li(b);b=Jo(this,b);for(let q=0;q<b.length;q++){let ae=L;b[q]!==""&&(ae+="="+li(b[q])),u.push(ae)}}return this.i=u.join("&")};function Cc(u){const p=new Bs;return p.i=u.i,u.g&&(p.g=new Map(u.g),p.h=u.h),p}function qs(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function ja(u,p){p&&!u.j&&(_n(u),u.i=null,u.g.forEach(function(b,A){const L=A.toLowerCase();A!=L&&(Ic(this,A),Va(this,L,b))},u)),u.j=p}function ci(u,p){const b=new In;if(d.Image){const A=new Image;A.onload=E(Kn,b,"TestLoadImage: loaded",!0,p,A),A.onerror=E(Kn,b,"TestLoadImage: error",!1,p,A),A.onabort=E(Kn,b,"TestLoadImage: abort",!1,p,A),A.ontimeout=E(Kn,b,"TestLoadImage: timeout",!1,p,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else p(!1)}function Zo(u,p){const b=new In,A=new AbortController,L=setTimeout(()=>{A.abort(),Kn(b,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(L),q.ok?Kn(b,"TestPingServer: ok",!0,p):Kn(b,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),Kn(b,"TestPingServer: error",!1,p)})}function Kn(u,p,b,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(b)}catch{}}function Hs(){this.g=new Ur}function Ni(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Ni,xa),Ni.prototype.g=function(){return new Fr(this.i,this.h)};function Fr(u,p){dt.call(this),this.H=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Fr,dt),s=Fr.prototype,s.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=p,this.readyState=1,ui(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(p.body=u),(this.H||d).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Fs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Pa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Pa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Fs(this):ui(this),this.readyState==3&&Pa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Fs(this))},s.Na=function(u){this.g&&(this.response=u,Fs(this))},s.ga=function(){this.g&&Fs(this)};function Fs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ui(u)}s.setRequestHeader=function(u,p){this.A.append(u,p)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var b=p.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=p.next();return u.join(`\r
`)};function ui(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Fr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function $n(u){let p="";return Me(u,function(b,A){p+=A,p+=":",p+=b,p+=`\r
`}),p}function Gr(u,p,b){e:{for(A in b){var A=!1;break e}A=!0}A||(b=$n(b),typeof u=="string"?b!=null&&li(b):nt(u,p,b))}function rt(u){dt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(rt,dt);var Ii=/^https?$/i,Wo=["POST","PUT"];s=rt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,p,b,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Br.g(),this.g.onreadystatechange=w(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(q){Qr(this,q);return}if(u=b||"",b=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)b.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())b.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(b.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Wo,p,void 0)>=0)||A||L||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ae]of b)this.g.setRequestHeader(q,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Qr(this,q)}};function Qr(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.o=5,el(u),is(u)}function el(u){u.A||(u.A=!0,gt(u,"complete"),gt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,gt(this,"complete"),gt(this,"abort"),is(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),is(this,!0)),rt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Yr(this):this.Xa())},s.Xa=function(){Yr(this)};function Yr(u){if(u.h&&typeof c<"u"){if(u.v&&hi(u)==4)setTimeout(u.Ca.bind(u),0);else if(gt(u,"readystatechange"),hi(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var b;if(!(b=p)){var A;if(A=q===0){let ae=String(u.D).match(xc)[1]||null;!ae&&d.self&&d.self.location&&(ae=d.self.location.protocol.slice(0,-1)),A=!Ii.test(ae?ae.toLowerCase():"")}b=A}if(b)gt(u,"complete"),gt(u,"success");else{u.o=6;try{var L=hi(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",el(u)}}finally{is(u)}}}}function is(u,p){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,p||gt(u,"ready");try{b.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function hi(u){return u.g?u.g.readyState:0}s.ca=function(){try{return hi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Bo(p)}};function $t(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ss(u){const p={};u=(u.g&&hi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(R(u[A]))continue;var b=Da(u[A]);const L=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const q=p[L]||[];p[L]=q,q.push(b)}je(p,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ci(u,p,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||p}function Gs(u){this.za=0,this.i=[],this.j=new In,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ci("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ci("baseRetryDelayMs",5e3,u),this.Za=Ci("retryDelaySeedMs",1e4,u),this.Ta=Ci("forwardChannelMaxRetries",2,u),this.va=Ci("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ho(u&&u.concurrentRequestLimit),this.Ba=new Hs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Gs.prototype,s.ka=8,s.I=1,s.connect=function(u,p,b,A){At(0),this.W=u,this.H=p||{},b&&A!==void 0&&(this.H.OSID=b,this.H.OAID=A),this.F=this.X,this.J=Pc(this,null,this.W),Di(this)};function tl(u){if(La(u),u.I==3){var p=u.V++,b=Mt(u.J);if(nt(b,"SID",u.M),nt(b,"RID",p),nt(b,"TYPE","terminate"),Kr(u,b),p=new Ie(u,u.j,p),p.M=2,p.A=qr(Mt(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(p.A.toString(),"")}catch{}!b&&d.Image&&(new Image().src=p.A,b=!0),b||(p.g=Lc(p.j,null),p.g.ea(p.A)),p.F=Date.now(),Ti(p)}jc(u)}function Qs(u){u.g&&(il(u),u.g.cancel(),u.g=null)}function La(u){Qs(u),u.v&&(d.clearTimeout(u.v),u.v=null),za(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Di(u){if(!Fo(u.h)&&!u.m){u.m=!0;var p=u.Ea;Te||x(),xe||(Te(),xe=!0),I.add(p,u),u.D=0}}function Ua(u,p){return wi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=p.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Fn(y(u.Ea,u,p),Vc(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Ie(this,this.j,u);let q=this.o;if(this.U&&(q?(q=k(q),re(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)e:{for(var p=0,b=0;b<this.i.length;b++){t:{var A=this.i[b];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(p+=A,p>4096){p=b;break e}if(p===4096||b===this.i.length-1){p=b+1;break e}}p=1e3}else p=1e3;p=Dc(this,L,p),b=Mt(this.J),nt(b,"RID",u),nt(b,"CVER",22),this.G&&nt(b,"X-HTTP-Session-Id",this.G),Kr(this,b),q&&(this.R?p="headers="+li($n(q))+"&"+p:this.u&&Gr(b,this.u,q)),Go(this.h,L),this.Ra&&nt(b,"TYPE","init"),this.S?(nt(b,"$req",p),nt(b,"SID","null"),L.U=!0,rn(L,b,null)):rn(L,b,p),this.I=2}}else this.I==3&&(u?nl(this,u):this.i.length==0||Fo(this.h)||nl(this))};function nl(u,p){var b;p?b=p.l:b=u.V++;const A=Mt(u.J);nt(A,"SID",u.M),nt(A,"RID",b),nt(A,"AID",u.K),Kr(u,A),u.u&&u.o&&Gr(A,u.u,u.o),b=new Ie(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),p&&(u.i=p.G.concat(u.i)),p=Dc(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Go(u.h,b),rn(b,A,p)}function Kr(u,p){u.H&&Me(u.H,function(b,A){nt(p,A,b)}),u.l&&Me({},function(b,A){nt(p,A,b)})}function Dc(u,p,b){b=Math.min(u.i.length,b);const A=u.l?y(u.l.Ka,u.l,u):null;e:{var L=u.i;let Oe=-1;for(;;){const xt=["count="+b];Oe==-1?b>0?(Oe=L[0].g,xt.push("ofs="+Oe)):Oe=0:xt.push("ofs="+Oe);let Je=!0;for(let _t=0;_t<b;_t++){var q=L[_t].g;const Xn=L[_t].map;if(q-=Oe,q<0)Oe=Math.max(0,L[_t].g-100),Je=!1;else try{q="req"+q+"_"||"";try{var ae=Xn instanceof Map?Xn:Object.entries(Xn);for(const[Mi,di]of ae){let fi=di;m(di)&&(fi=Ei(di)),xt.push(q+Mi+"="+encodeURIComponent(fi))}}catch(Mi){throw xt.push(q+"type="+encodeURIComponent("_badmap")),Mi}}catch{A&&A(Xn)}}if(Je){ae=xt.join("&");break e}}ae=void 0}return u=u.i.splice(0,b),p.G=u,ae}function kc(u){if(!u.g&&!u.v){u.Y=1;var p=u.Da;Te||x(),xe||(Te(),xe=!0),I.add(p,u),u.A=0}}function $r(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Fn(y(u.Da,u),Vc(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Mc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Fn(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),Qs(this),Mc(this))};function il(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Mc(u){u.g=new Ie(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var p=Mt(u.na);nt(p,"RID","rpc"),nt(p,"SID",u.M),nt(p,"AID",u.K),nt(p,"CI",u.F?"0":"1"),!u.F&&u.ia&&nt(p,"TO",u.ia),nt(p,"TYPE","xmlhttp"),Kr(u,p),u.u&&u.o&&Gr(p,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=qr(Mt(p)),b.u=null,b.R=!0,Qn(b,u)}s.Va=function(){this.C!=null&&(this.C=null,Qs(this),$r(this),At(19))};function za(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Oc(u,p){var b=null;if(u.g==p){za(u),il(u),u.g=null;var A=2}else if(xi(u.h,p))b=p.G,Qo(u.h,p),A=1;else return;if(u.I!=0){if(p.o)if(A==1){b=p.u?p.u.length:0,p=Date.now()-p.F;var L=u.D;A=js(),gt(A,new Hn(A,b)),Di(u)}else kc(u);else if(L=p.m,L==3||L==0&&p.X>0||!(A==1&&Ua(u,p)||A==2&&$r(u)))switch(b&&b.length>0&&(p=u.h,p.i=p.i.concat(b)),L){case 1:ki(u,5);break;case 4:ki(u,10);break;case 3:ki(u,6);break;default:ki(u,2)}}}function Vc(u,p){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*p}function ki(u,p){if(u.j.info("Error code "+p),p==2){var b=y(u.bb,u),A=u.Ua;const L=!A;A=new Dn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Qt(A,"https"),qr(A),L?ci(A.toString(),b):Zo(A.toString(),b)}else At(2);u.I=0,u.l&&u.l.pa(p),jc(u),La(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function jc(u){if(u.I=0,u.ja=[],u.l){const p=Yo(u.h);(p.length!=0||u.i.length!=0)&&(Y(u.ja,p),Y(u.ja,u.i),u.h.i.length=0,P(u.i),u.i.length=0),u.l.oa()}}function Pc(u,p,b){var A=b instanceof Dn?Mt(b):new Dn(b);if(A.g!="")p&&(A.g=p+"."+A.g),Us(A,A.u);else{var L=d.location;A=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;const q=new Dn(null);A&&Qt(q,A),p&&(q.g=p),L&&Us(q,L),b&&(q.h=b),A=q}return b=u.G,p=u.wa,b&&p&&nt(A,b,p),nt(A,"VER",u.ka),Kr(u,A),A}function Lc(u,p,b){if(p&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Aa&&!u.ma?new rt(new Ni({ab:b})):new rt(u.ma),p.Fa(u.L),p}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uc(){}s=Uc.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ys(){}Ys.prototype.g=function(u,p){return new dn(u,p)};function dn(u,p){dt.call(this),this.g=new Gs(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(u?u["X-WebChannel-Client-Profile"]=p.sa:u={"X-WebChannel-Client-Profile":p.sa}),this.g.U=u,(u=p&&p.Qb)&&!R(u)&&(this.g.u=u),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!R(p)&&(this.g.G=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new rs(this)}S(dn,dt),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){tl(this.g)},dn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=Ei(u),u=b);p.i.push(new kt(p.Ya++,u)),p.I==3&&Di(p)},dn.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,dn.Z.N.call(this)};function zc(u){Dt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const b in p){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}S(zc,Dt);function Bc(){gn.call(this),this.status=1}S(Bc,gn);function rs(u){this.g=u}S(rs,Uc),rs.prototype.ra=function(){gt(this.g,"a")},rs.prototype.qa=function(u){gt(this.g,new zc(u))},rs.prototype.pa=function(u){gt(this.g,new Bc)},rs.prototype.oa=function(){gt(this.g,"b")},Ys.prototype.createWebChannel=Ys.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,ab=function(){return new Ys},rb=function(){return js()},sb=yt,Sm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},es.NO_ERROR=0,es.TIMEOUT=8,es.HTTP_ERROR=6,nh=es,zr.COMPLETE="complete",ib=zr,Ra.EventType=sn,sn.OPEN="a",sn.CLOSE="b",sn.ERROR="c",sn.MESSAGE="d",dt.prototype.listen=dt.prototype.J,Fl=Ra,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,nb=rt}).apply(typeof Qu<"u"?Qu:typeof self<"u"?self:typeof window<"u"?window:{});const Z_="@firebase/firestore",W_="4.9.3";let ln=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");let Po="12.7.0";const va=new Km("@firebase/firestore");function _o(){return va.logLevel}function de(s,...e){if(va.logLevel<=qe.DEBUG){const n=e.map(rp);va.debug(`Firestore (${Po}): ${s}`,...n)}}function Cs(s,...e){if(va.logLevel<=qe.ERROR){const n=e.map(rp);va.error(`Firestore (${Po}): ${s}`,...n)}}function Io(s,...e){if(va.logLevel<=qe.WARN){const n=e.map(rp);va.warn(`Firestore (${Po}): ${s}`,...n)}}function rp(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function Ne(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,ob(s,r,n)}function ob(s,e,n){let r=`FIRESTORE (${Po}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Cs(r),new Error(r)}function We(s,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||ob(e,o,r)}function ke(s,e){return s}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Xi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class lb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Vx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ln.UNAUTHENTICATED)))}shutdown(){}}class jx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Px{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let c=new xs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new xs,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new xs)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We(typeof r.accessToken=="string",31837,{l:r}),new lb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class Lx{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ux{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Lx(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ev{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){We(this.o===void 0,3512);const r=c=>{c.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,de("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ev(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(We(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ev(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Bx(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class ap{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=Bx(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<n&&(r+=e.charAt(o[c]%62))}return r}}function He(s,e){return s<e?-1:s>e?1:0}function wm(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const o=s.charAt(r),c=e.charAt(r);if(o!==c)return am(o)===am(c)?He(o,c):am(o)?1:-1}return He(s.length,e.length)}const qx=55296,Hx=57343;function am(s){const e=s.charCodeAt(0);return e>=qx&&e<=Hx}function Co(s,e,n){return s.length===e.length&&s.every(((r,o)=>n(r,e[o])))}const tv="__name__";class Ui{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ne(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ne(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ui.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ui?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const c=Ui.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return He(e.length,n.length)}static compareSegments(e,n){const r=Ui.isNumericId(e),o=Ui.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Ui.extractNumericId(e).compare(Ui.extractNumericId(n)):wm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wr.fromString(e.substring(4,e.length-2))}}class ft extends Ui{construct(e,n,r){return new ft(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new ft(n)}static emptyPath(){return new ft([])}}const Fx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Ui{construct(e,n,r){return new tn(e,n,r)}static isValidIdentifier(e){return Fx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tv}static keyField(){return new tn([tv])}static fromServerFormat(e){const n=[];let r="",o=0;const c=()=>{if(r.length===0)throw new ue(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let d=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ue(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ue(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else m==="`"?(d=!d,o++):m!=="."||d?(r+=m,o++):(c(),o++)}if(c(),d)throw new ue(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(n)}static emptyPath(){return new tn([])}}class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(ft.fromString(e))}static fromName(e){return new Ee(ft.fromString(e).popFirst(5))}static empty(){return new Ee(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new ft(e.slice()))}}function cb(s,e,n){if(!n)throw new ue(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Gx(s,e,n,r){if(e===!0&&r===!0)throw new ue(X.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function nv(s){if(!Ee.isDocumentKey(s))throw new ue(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function iv(s){if(Ee.isDocumentKey(s))throw new ue(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function ub(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function jh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ne(12329,{type:typeof s})}function _i(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ue(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jh(s);throw new ue(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function zt(s,e){const n={typeString:s};return e&&(n.value=e),n}function yc(s,e){if(!ub(s))throw new ue(X.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${r}' field to equal '${c.value}'`;break}}if(n)throw new ue(X.INVALID_ARGUMENT,n);return!0}const sv=-62135596800,rv=1e6;class ct{static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*rv);return new ct(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<sv)throw new ue(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rv}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yc(e,ct._jsonSchema))return new ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-sv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ct._jsonSchemaVersion="firestore/timestamp/1.0",ct._jsonSchema={type:zt("string",ct._jsonSchemaVersion),seconds:zt("number"),nanoseconds:zt("number")};class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new ct(0,0))}static max(){return new Ce(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const sc=-1;function Qx(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(r===1e9?new ct(n+1,0):new ct(n,r));return new Nr(o,Ee.empty(),e)}function Yx(s){return new Nr(s.readTime,s.key,sc)}class Nr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Nr(Ce.min(),Ee.empty(),sc)}static max(){return new Nr(Ce.max(),Ee.empty(),sc)}}function Kx(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(s.documentKey,e.documentKey),n!==0?n:He(s.largestBatchId,e.largestBatchId))}const $x="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Xx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Lo(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==$x)throw s;de("LocalStore","Unexpectedly lost primary lease")}class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):W.reject(n)}static resolve(e){return new W(((n,r)=>{n(e)}))}static reject(e){return new W(((n,r)=>{r(e)}))}static waitFor(e){return new W(((n,r)=>{let o=0,c=0,d=!1;e.forEach((m=>{++o,m.next((()=>{++c,d&&c===o&&n()}),(g=>r(g)))})),d=!0,c===o&&n()}))}static or(e){let n=W.resolve(!1);for(const r of e)n=n.next((o=>o?W.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,c)=>{r.push(n.call(this,o,c))})),this.waitFor(r)}static mapArray(e,n){return new W(((r,o)=>{const c=e.length,d=new Array(c);let m=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next((E=>{d[y]=E,++m,m===c&&r(d)}),(E=>o(E)))}}))}static doWhile(e,n){return new W(((r,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):r()};c()}))}}function Jx(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Uo(s){return s.name==="IndexedDbTransactionError"}class Ph{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ph.ce=-1;const op=-1;function Lh(s){return s==null}function gh(s){return s===0&&1/s==-1/0}function Zx(s){return typeof s=="number"&&Number.isInteger(s)&&!gh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const hb="";function Wx(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=av(e)),e=eR(s.get(n),e);return av(e)}function eR(s,e){let n=e;const r=s.length;for(let o=0;o<r;o++){const c=s.charAt(o);switch(c){case"\0":n+="";break;case hb:n+="";break;default:n+=c}}return n}function av(s){return s+hb+""}function ov(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function Vr(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function db(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class Et{constructor(e,n){this.comparator=e,this.root=n||en.EMPTY}insert(e,n){return new Et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yu(this.root,e,this.comparator,!0)}}class Yu{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,n,r,o,c){this.key=e,this.value=n,this.color=r??en.RED,this.left=o??en.EMPTY,this.right=c??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,c){return new en(e??this.key,n??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,r),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return en.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,n,r,o,c){return this}insert(e,n,r){return new en(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ft{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new lv(this.data.getIterator())}getIteratorFrom(e){return new lv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ft(this.comparator);return n.data=e,n}}class lv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Un{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Un([])}unionWith(e){let n=new Ft(tn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Co(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class fb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new fb("Invalid base64 string: "+c):c}})(e);return new nn(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const tR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ir(s){if(We(!!s,39018),typeof s=="string"){let e=0;const n=tR.exec(s);if(We(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(s.seconds),nanos:It(s.nanos)}}function It(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Cr(s){return typeof s=="string"?nn.fromBase64String(s):nn.fromUint8Array(s)}const mb="server_timestamp",pb="__type__",gb="__previous_value__",yb="__local_write_time__";function lp(s){return(s?.mapValue?.fields||{})[pb]?.stringValue===mb}function Uh(s){const e=s.mapValue.fields[gb];return lp(e)?Uh(e):e}function rc(s){const e=Ir(s.mapValue.fields[yb].timestampValue);return new ct(e.seconds,e.nanos)}class nR{constructor(e,n,r,o,c,d,m,g,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E}}const yh="(default)";class ac{constructor(e,n){this.projectId=e,this.database=n||yh}static empty(){return new ac("","")}get isDefaultDatabase(){return this.database===yh}isEqual(e){return e instanceof ac&&e.projectId===this.projectId&&e.database===this.database}}const _b="__type__",iR="__max__",Ku={mapValue:{}},vb="__vector__",_h="value";function Dr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?lp(s)?4:rR(s)?9007199254740991:sR(s)?10:11:Ne(28295,{value:s})}function Ki(s,e){if(s===e)return!0;const n=Dr(s);if(n!==Dr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return rc(s).isEqual(rc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Ir(o.timestampValue),m=Ir(c.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return Cr(o.bytesValue).isEqual(Cr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return It(o.geoPointValue.latitude)===It(c.geoPointValue.latitude)&&It(o.geoPointValue.longitude)===It(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return It(o.integerValue)===It(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=It(o.doubleValue),m=It(c.doubleValue);return d===m?gh(d)===gh(m):isNaN(d)&&isNaN(m)}return!1})(s,e);case 9:return Co(s.arrayValue.values||[],e.arrayValue.values||[],Ki);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},m=c.mapValue.fields||{};if(ov(d)!==ov(m))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(m[g]===void 0||!Ki(d[g],m[g])))return!1;return!0})(s,e);default:return Ne(52216,{left:s})}}function oc(s,e){return(s.values||[]).find((n=>Ki(n,e)))!==void 0}function Do(s,e){if(s===e)return 0;const n=Dr(s),r=Dr(e);if(n!==r)return He(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const m=It(c.integerValue||c.doubleValue),g=It(d.integerValue||d.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(s,e);case 3:return cv(s.timestampValue,e.timestampValue);case 4:return cv(rc(s),rc(e));case 5:return wm(s.stringValue,e.stringValue);case 6:return(function(c,d){const m=Cr(c),g=Cr(d);return m.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const m=c.split("/"),g=d.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=He(m[y],g[y]);if(E!==0)return E}return He(m.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const m=He(It(c.latitude),It(d.latitude));return m!==0?m:He(It(c.longitude),It(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return uv(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const m=c.fields||{},g=d.fields||{},y=m[_h]?.arrayValue,E=g[_h]?.arrayValue,S=He(y?.values?.length||0,E?.values?.length||0);return S!==0?S:uv(y,E)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Ku.mapValue&&d===Ku.mapValue)return 0;if(c===Ku.mapValue)return 1;if(d===Ku.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),y=d.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const w=wm(g[S],E[S]);if(w!==0)return w;const P=Do(m[g[S]],y[E[S]]);if(P!==0)return P}return He(g.length,E.length)})(s.mapValue,e.mapValue);default:throw Ne(23264,{he:n})}}function cv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return He(s,e);const n=Ir(s),r=Ir(e),o=He(n.seconds,r.seconds);return o!==0?o:He(n.nanos,r.nanos)}function uv(s,e){const n=s.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const c=Do(n[o],r[o]);if(c)return c}return He(n.length,r.length)}function ko(s){return xm(s)}function xm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=Ir(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return Cr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return Ee.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const c of n.values||[])o?o=!1:r+=",",r+=xm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const d of r)c?c=!1:o+=",",o+=`${d}:${xm(n.fields[d])}`;return o+"}"})(s.mapValue):Ne(61005,{value:s})}function ih(s){switch(Dr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Uh(s);return e?16+ih(e):16;case 5:return 2*s.stringValue.length;case 6:return Cr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+ih(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return Vr(r.fields,((c,d)=>{o+=c.length+ih(d)})),o})(s.mapValue);default:throw Ne(13486,{value:s})}}function hv(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Rm(s){return!!s&&"integerValue"in s}function cp(s){return!!s&&"arrayValue"in s}function dv(s){return!!s&&"nullValue"in s}function fv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function sh(s){return!!s&&"mapValue"in s}function sR(s){return(s?.mapValue?.fields||{})[_b]?.stringValue===vb}function Xl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Vr(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Xl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xl(s.arrayValue.values[n]);return e}return{...s}}function rR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===iR}class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xl(n)}setAll(e){let n=tn.emptyPath(),r={},o=[];e.forEach(((d,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,r,o),r={},o=[],n=m.popLast()}d?r[m.lastSegment()]=Xl(d):o.push(m.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,r,o)}delete(e){const n=this.field(e.popLast());sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ki(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];sh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){Vr(n,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new xn(Xl(this.value))}}function bb(s){const e=[];return Vr(s.fields,((n,r)=>{const o=new tn([n]);if(sh(r)){const c=bb(r.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Un(e)}class cn{constructor(e,n,r,o,c,d,m){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=c,this.data=d,this.documentState=m}static newInvalidDocument(e){return new cn(e,0,Ce.min(),Ce.min(),Ce.min(),xn.empty(),0)}static newFoundDocument(e,n,r,o){return new cn(e,1,n,Ce.min(),r,o,0)}static newNoDocument(e,n){return new cn(e,2,n,Ce.min(),Ce.min(),xn.empty(),0)}static newUnknownDocument(e,n){return new cn(e,3,n,Ce.min(),Ce.min(),xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vh{constructor(e,n){this.position=e,this.inclusive=n}}function mv(s,e,n){let r=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?r=Ee.comparator(Ee.fromName(d.referenceValue),n.key):r=Do(d,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function pv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Ki(s.position[n],e.position[n]))return!1;return!0}class bh{constructor(e,n="asc"){this.field=e,this.dir=n}}function aR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class Eb{}class Ut extends Eb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new lR(e,n,r):n==="array-contains"?new hR(e,r):n==="in"?new dR(e,r):n==="not-in"?new fR(e,r):n==="array-contains-any"?new mR(e,r):new Ut(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new cR(e,r):new uR(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Do(n,this.value)):n!==null&&Dr(this.value)===Dr(n)&&this.matchesComparison(Do(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bi extends Eb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new bi(e,n)}matches(e){return Tb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Tb(s){return s.op==="and"}function Ab(s){return oR(s)&&Tb(s)}function oR(s){for(const e of s.filters)if(e instanceof bi)return!1;return!0}function Nm(s){if(s instanceof Ut)return s.field.canonicalString()+s.op.toString()+ko(s.value);if(Ab(s))return s.filters.map((e=>Nm(e))).join(",");{const e=s.filters.map((n=>Nm(n))).join(",");return`${s.op}(${e})`}}function Sb(s,e){return s instanceof Ut?(function(r,o){return o instanceof Ut&&r.op===o.op&&r.field.isEqual(o.field)&&Ki(r.value,o.value)})(s,e):s instanceof bi?(function(r,o){return o instanceof bi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,d,m)=>c&&Sb(d,o.filters[m])),!0):!1})(s,e):void Ne(19439)}function wb(s){return s instanceof Ut?(function(n){return`${n.field.canonicalString()} ${n.op} ${ko(n.value)}`})(s):s instanceof bi?(function(n){return n.op.toString()+" {"+n.getFilters().map(wb).join(" ,")+"}"})(s):"Filter"}class lR extends Ut{constructor(e,n,r){super(e,n,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class cR extends Ut{constructor(e,n){super(e,"in",n),this.keys=xb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class uR extends Ut{constructor(e,n){super(e,"not-in",n),this.keys=xb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function xb(s,e){return(e.arrayValue?.values||[]).map((n=>Ee.fromName(n.referenceValue)))}class hR extends Ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cp(n)&&oc(n.arrayValue,this.value)}}class dR extends Ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&oc(this.value.arrayValue,n)}}class fR extends Ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!oc(this.value.arrayValue,n)}}class mR extends Ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>oc(this.value.arrayValue,r)))}}class pR{constructor(e,n=null,r=[],o=[],c=null,d=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=d,this.endAt=m,this.Te=null}}function gv(s,e=null,n=[],r=[],o=null,c=null,d=null){return new pR(s,e,n,r,o,c,d)}function up(s){const e=ke(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Nm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Lh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>ko(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>ko(r))).join(",")),e.Te=n}return e.Te}function hp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!aR(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!Sb(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!pv(s.startAt,e.startAt)&&pv(s.endAt,e.endAt)}function Im(s){return Ee.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class _c{constructor(e,n=null,r=[],o=[],c=null,d="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=d,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function gR(s,e,n,r,o,c,d,m){return new _c(s,e,n,r,o,c,d,m)}function zh(s){return new _c(s)}function yv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Rb(s){return s.collectionGroup!==null}function Jl(s){const e=ke(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new Ft(tn.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new bh(c,r))})),n.has(tn.keyField().canonicalString())||e.Ie.push(new bh(tn.keyField(),r))}return e.Ie}function Fi(s){const e=ke(s);return e.Ee||(e.Ee=yR(e,Jl(s))),e.Ee}function yR(s,e){if(s.limitType==="F")return gv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new bh(o.field,c)}));const n=s.endAt?new vh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new vh(s.startAt.position,s.startAt.inclusive):null;return gv(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function Cm(s,e){const n=s.filters.concat([e]);return new _c(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function Dm(s,e,n){return new _c(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Bh(s,e){return hp(Fi(s),Fi(e))&&s.limitType===e.limitType}function Nb(s){return`${up(Fi(s))}|lt:${s.limitType}`}function vo(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>wb(o))).join(", ")}]`),Lh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>ko(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>ko(o))).join(",")),`Target(${r})`})(Fi(s))}; limitType=${s.limitType})`}function qh(s,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):Ee.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,o){for(const c of Jl(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(d,m,g){const y=mv(d,m,g);return d.inclusive?y<=0:y<0})(r.startAt,Jl(r),o)||r.endAt&&!(function(d,m,g){const y=mv(d,m,g);return d.inclusive?y>=0:y>0})(r.endAt,Jl(r),o))})(s,e)}function _R(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Ib(s){return(e,n)=>{let r=!1;for(const o of Jl(s)){const c=vR(o,e,n);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function vR(s,e,n){const r=s.field.isKeyField()?Ee.comparator(e.key,n.key):(function(c,d,m){const g=d.data.field(c),y=m.data.field(c);return g!==null&&y!==null?Do(g,y):Ne(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Ne(19790,{direction:s.dir})}}class Aa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Vr(this.inner,((n,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return db(this.inner)}size(){return this.innerSize}}const bR=new Et(Ee.comparator);function Ds(){return bR}const Cb=new Et(Ee.comparator);function Gl(...s){let e=Cb;for(const n of s)e=e.insert(n.key,n);return e}function Db(s){let e=Cb;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function fa(){return Zl()}function kb(){return Zl()}function Zl(){return new Aa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const ER=new Et(Ee.comparator),TR=new Ft(Ee.comparator);function Fe(...s){let e=TR;for(const n of s)e=e.add(n);return e}const AR=new Ft(He);function SR(){return AR}function dp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gh(e)?"-0":e}}function Mb(s){return{integerValue:""+s}}function wR(s,e){return Zx(e)?Mb(e):dp(s,e)}class Hh{constructor(){this._=void 0}}function xR(s,e,n){return s instanceof lc?(function(o,c){const d={fields:{[pb]:{stringValue:mb},[yb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&lp(c)&&(c=Uh(c)),c&&(d.fields[gb]=c),{mapValue:d}})(n,e):s instanceof cc?Vb(s,e):s instanceof uc?jb(s,e):(function(o,c){const d=Ob(o,c),m=_v(d)+_v(o.Ae);return Rm(d)&&Rm(o.Ae)?Mb(m):dp(o.serializer,m)})(s,e)}function RR(s,e,n){return s instanceof cc?Vb(s,e):s instanceof uc?jb(s,e):n}function Ob(s,e){return s instanceof Eh?(function(r){return Rm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class lc extends Hh{}class cc extends Hh{constructor(e){super(),this.elements=e}}function Vb(s,e){const n=Pb(e);for(const r of s.elements)n.some((o=>Ki(o,r)))||n.push(r);return{arrayValue:{values:n}}}class uc extends Hh{constructor(e){super(),this.elements=e}}function jb(s,e){let n=Pb(e);for(const r of s.elements)n=n.filter((o=>!Ki(o,r)));return{arrayValue:{values:n}}}class Eh extends Hh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function _v(s){return It(s.integerValue||s.doubleValue)}function Pb(s){return cp(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class NR{constructor(e,n){this.field=e,this.transform=n}}function IR(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof cc&&o instanceof cc||r instanceof uc&&o instanceof uc?Co(r.elements,o.elements,Ki):r instanceof Eh&&o instanceof Eh?Ki(r.Ae,o.Ae):r instanceof lc&&o instanceof lc})(s.transform,e.transform)}class CR{constructor(e,n){this.version=e,this.transformResults=n}}class ai{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ai}static exists(e){return new ai(void 0,e)}static updateTime(e){return new ai(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Fh{}function Lb(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new fp(s.key,ai.none()):new vc(s.key,s.data,ai.none());{const n=s.data,r=xn.empty();let o=new Ft(tn.comparator);for(let c of e.fields)if(!o.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?r.delete(c):r.set(c,d),o=o.add(c)}return new jr(s.key,r,new Un(o.toArray()),ai.none())}}function DR(s,e,n){s instanceof vc?(function(o,c,d){const m=o.value.clone(),g=bv(o.fieldTransforms,c,d.transformResults);m.setAll(g),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()})(s,e,n):s instanceof jr?(function(o,c,d){if(!rh(o.precondition,c))return void c.convertToUnknownDocument(d.version);const m=bv(o.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(Ub(o)),g.setAll(m),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,n):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function Wl(s,e,n,r){return s instanceof vc?(function(c,d,m,g){if(!rh(c.precondition,d))return m;const y=c.value.clone(),E=Ev(c.fieldTransforms,g,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,n,r):s instanceof jr?(function(c,d,m,g){if(!rh(c.precondition,d))return m;const y=Ev(c.fieldTransforms,g,d),E=d.data;return E.setAll(Ub(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,e,n,r):(function(c,d,m){return rh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m})(s,e,n)}function kR(s,e){let n=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),c=Ob(r.transform,o||null);c!=null&&(n===null&&(n=xn.empty()),n.set(r.field,c))}return n||null}function vv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Co(r,o,((c,d)=>IR(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class vc extends Fh{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class jr extends Fh{constructor(e,n,r,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Ub(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function bv(s,e,n){const r=new Map;We(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let o=0;o<n.length;o++){const c=s[o],d=c.transform,m=e.data.field(c.field);r.set(c.field,RR(d,m,n[o]))}return r}function Ev(s,e,n){const r=new Map;for(const o of s){const c=o.transform,d=n.data.field(o.field);r.set(o.field,xR(c,d,e))}return r}class fp extends Fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MR extends Fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class OR{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&DR(c,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Wl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Wl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=kb();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let m=this.applyToLocalView(d,c.mutatedFields);m=n.has(o.key)?null:m;const g=Lb(d,m);g!==null&&r.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(Ce.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&Co(this.mutations,e.mutations,((n,r)=>vv(n,r)))&&Co(this.baseMutations,e.baseMutations,((n,r)=>vv(n,r)))}}class mp{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){We(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return ER})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,r[d].version);return new mp(e,n,r,o)}}class VR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class jR{constructor(e,n){this.count=e,this.unchangedNames=n}}var Lt,Ye;function PR(s){switch(s){case X.OK:return Ne(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Ne(15467,{code:s})}}function zb(s){if(s===void 0)return Cs("GRPC error has no .code"),X.UNKNOWN;switch(s){case Lt.OK:return X.OK;case Lt.CANCELLED:return X.CANCELLED;case Lt.UNKNOWN:return X.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return X.INTERNAL;case Lt.UNAVAILABLE:return X.UNAVAILABLE;case Lt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Lt.NOT_FOUND:return X.NOT_FOUND;case Lt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Lt.ABORTED:return X.ABORTED;case Lt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Lt.DATA_LOSS:return X.DATA_LOSS;default:return Ne(39323,{code:s})}}(Ye=Lt||(Lt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";function LR(){return new TextEncoder}const UR=new wr([4294967295,4294967295],0);function Tv(s){const e=LR().encode(s),n=new tb;return n.update(e),new Uint8Array(n.digest())}function Av(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new wr([n,r],0),new wr([o,c],0)]}class pp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ql(`Invalid padding: ${n}`);if(r<0)throw new Ql(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=wr.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(wr.fromNumber(r)));return o.compare(UR)===1&&(o=new wr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Tv(e),[r,o]=Av(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);if(!this.we(d))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new pp(c,o,n);return r.forEach((m=>d.insert(m))),d}insert(e){if(this.ge===0)return;const n=Tv(e),[r,o]=Av(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);this.Se(d)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Gh{constructor(e,n,r,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,bc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Gh(Ce.min(),o,new Et(He),Ds(),Fe())}}class bc{constructor(e,n,r,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new bc(r,n,Fe(),Fe(),Fe())}}class ah{constructor(e,n,r,o){this.be=e,this.removedTargetIds=n,this.key=r,this.De=o}}class Bb{constructor(e,n){this.targetId=e,this.Ce=n}}class qb{constructor(e,n,r=nn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class Sv{constructor(){this.ve=0,this.Fe=wv(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),n=Fe(),r=Fe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Ne(38017,{changeType:c})}})),new bc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=wv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class zR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ds(),this.Je=$u(),this.He=$u(),this.Ye=new Et(He)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ne(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(Im(c))if(r===0){const d=new Ee(c.path);this.et(n,d,cn.newNoDocument(d,Ce.min()))}else We(r===1,20013,{expectedCount:r});else{const d=this._t(n);if(d!==r){const m=this.ut(e),g=m?this.ct(m,e,d):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=n;let d,m;try{d=Cr(r).toUint8Array()}catch(g){if(g instanceof fb)return Io("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new pp(d,o,c)}catch(g){return Io(g instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((c=>{const d=this.Ge.ht(),m=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,d)=>{const m=this.ot(d);if(m){if(c.current&&Im(m.target)){const g=new Ee(m.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,cn.newNoDocument(g,e))}c.Be&&(n.set(d,c.ke()),c.qe())}}));let r=Fe();this.He.forEach(((c,d)=>{let m=!0;d.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Gh(e,n,this.Ye,this.je,r);return this.je=Ds(),this.Je=$u(),this.He=$u(),this.Ye=new Et(He),o}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Sv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ft(He),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ft(He),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Sv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function $u(){return new Et(Ee.comparator)}function wv(){return new Et(Ee.comparator)}const BR={asc:"ASCENDING",desc:"DESCENDING"},qR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HR={and:"AND",or:"OR"};class FR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function km(s,e){return s.useProto3Json||Lh(e)?e:{value:e}}function Th(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Hb(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function GR(s,e){return Th(s,e.toTimestamp())}function Gi(s){return We(!!s,49232),Ce.fromTimestamp((function(n){const r=Ir(n);return new ct(r.seconds,r.nanos)})(s))}function gp(s,e){return Mm(s,e).canonicalString()}function Mm(s,e){const n=(function(o){return new ft(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?n:n.child(e)}function Fb(s){const e=ft.fromString(s);return We($b(e),10190,{key:e.toString()}),e}function Om(s,e){return gp(s.databaseId,e.path)}function om(s,e){const n=Fb(e);if(n.get(1)!==s.databaseId.projectId)throw new ue(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new ue(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new Ee(Qb(n))}function Gb(s,e){return gp(s.databaseId,e)}function QR(s){const e=Fb(s);return e.length===4?ft.emptyPath():Qb(e)}function Vm(s){return new ft(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Qb(s){return We(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function xv(s,e,n){return{name:Om(s,e),fields:n.value.mapValue.fields}}function YR(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ne(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,E){return y.useProto3Json?(We(E===void 0||typeof E=="string",58123),nn.fromBase64String(E||"")):(We(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),nn.fromUint8Array(E||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&(function(y){const E=y.code===void 0?X.UNKNOWN:zb(y.code);return new ue(E,y.message||"")})(d);n=new qb(r,o,c,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=om(s,r.document.name),c=Gi(r.document.updateTime),d=r.document.createTime?Gi(r.document.createTime):Ce.min(),m=new xn({mapValue:{fields:r.document.fields}}),g=cn.newFoundDocument(o,c,d,m),y=r.targetIds||[],E=r.removedTargetIds||[];n=new ah(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=om(s,r.document),c=r.readTime?Gi(r.readTime):Ce.min(),d=cn.newNoDocument(o,c),m=r.removedTargetIds||[];n=new ah([],m,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=om(s,r.document),c=r.removedTargetIds||[];n=new ah([],c,o,null)}else{if(!("filter"in e))return Ne(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,d=new jR(o,c),m=r.targetId;n=new Bb(m,d)}}return n}function KR(s,e){let n;if(e instanceof vc)n={update:xv(s,e.key,e.value)};else if(e instanceof fp)n={delete:Om(s,e.key)};else if(e instanceof jr)n={update:xv(s,e.key,e.data),updateMask:iN(e.fieldMask)};else{if(!(e instanceof MR))return Ne(16599,{Vt:e.type});n={verify:Om(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const m=d.transform;if(m instanceof lc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof cc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof uc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Eh)return{fieldPath:d.field.canonicalString(),increment:m.Ae};throw Ne(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:GR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ne(27497)})(s,e.precondition)),n}function $R(s,e){return s&&s.length>0?(We(e!==void 0,14353),s.map((n=>(function(o,c){let d=o.updateTime?Gi(o.updateTime):Gi(c);return d.isEqual(Ce.min())&&(d=Gi(c)),new CR(d,o.transformResults||[])})(n,e)))):[]}function XR(s,e){return{documents:[Gb(s,e.path)]}}function JR(s,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Gb(s,o);const c=(function(y){if(y.length!==0)return Kb(bi.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((E=>(function(w){return{field:bo(w.field),direction:eN(w.dir)}})(E)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const m=km(s,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function ZR(s){let e=QR(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){We(r===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];n.where&&(c=(function(S){const w=Yb(S);return w instanceof bi&&Ab(w)?w.getFilters():[w]})(n.where));let d=[];n.orderBy&&(d=(function(S){return S.map((w=>(function(Y){return new bh(Eo(Y.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let w;return w=typeof S=="object"?S.value:S,Lh(w)?null:w})(n.limit));let g=null;n.startAt&&(g=(function(S){const w=!!S.before,P=S.values||[];return new vh(P,w)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const w=!S.before,P=S.values||[];return new vh(P,w)})(n.endAt)),gR(e,o,d,c,m,"F",g,y)}function WR(s,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Yb(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Eo(n.unaryFilter.field);return Ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Eo(n.unaryFilter.field);return Ut.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Eo(n.unaryFilter.field);return Ut.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Eo(n.unaryFilter.field);return Ut.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Ut.create(Eo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return bi.create(n.compositeFilter.filters.map((r=>Yb(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}})(n.compositeFilter.op))})(s):Ne(30097,{filter:s})}function eN(s){return BR[s]}function tN(s){return qR[s]}function nN(s){return HR[s]}function bo(s){return{fieldPath:s.canonicalString()}}function Eo(s){return tn.fromServerFormat(s.fieldPath)}function Kb(s){return s instanceof Ut?(function(n){if(n.op==="=="){if(fv(n.value))return{unaryFilter:{field:bo(n.field),op:"IS_NAN"}};if(dv(n.value))return{unaryFilter:{field:bo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(fv(n.value))return{unaryFilter:{field:bo(n.field),op:"IS_NOT_NAN"}};if(dv(n.value))return{unaryFilter:{field:bo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bo(n.field),op:tN(n.op),value:n.value}}})(s):s instanceof bi?(function(n){const r=n.getFilters().map((o=>Kb(o)));return r.length===1?r[0]:{compositeFilter:{op:nN(n.op),filters:r}}})(s):Ne(54877,{filter:s})}function iN(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function $b(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Er{constructor(e,n,r,o,c=Ce.min(),d=Ce.min(),m=nn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Er(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class sN{constructor(e){this.yt=e}}function rN(s){const e=ZR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Dm(e,e.limit,"L"):e}class aN{constructor(){this.Cn=new oN}addToCollectionParentIndex(e,n){return this.Cn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(Nr.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(Nr.min())}updateCollectionGroup(e,n,r){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class oN{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Ft(ft.comparator),c=!o.has(r);return this.index[n]=o.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ft(ft.comparator)).toArray()}}const Rv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Xb=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(Xb,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);class Mo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Mo(0)}static cr(){return new Mo(-1)}}const Nv="LruGarbageCollector",lN=1048576;function Iv([s,e],[n,r]){const o=He(s,n);return o===0?He(e,r):o}class cN{constructor(e){this.Ir=e,this.buffer=new Ft(Iv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Iv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class uN{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(Nv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Uo(n)?de(Nv,"Ignoring IndexedDB error during garbage collection: ",n):await Lo(n)}await this.Vr(3e5)}))}}class hN{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Ph.ce);const r=new cN(n);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(Rv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Rv):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,o,c,d,m,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(r=S,m=Date.now(),this.removeTargets(e,r,n)))).next((S=>(c=S,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(y=Date.now(),_o()<=qe.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(m-d)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function dN(s,e){return new hN(s,e)}class fN{constructor(){this.changes=new Aa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class mN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class pN{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&Wl(r.mutation,o,Un.empty(),ct.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Fe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Fe()){const o=fa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((c=>{let d=Gl();return c.forEach(((m,g)=>{d=d.insert(m,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const r=fa();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Fe())))}populateOverlays(e,n,r){const o=[];return r.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,m)=>{n.set(d,m)}))}))}computeViews(e,n,r,o){let c=Ds();const d=Zl(),m=(function(){return Zl()})();return n.forEach(((g,y)=>{const E=r.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof jr)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),Wl(E.mutation,y,E.mutation.getFieldMask(),ct.now())):d.set(y.key,Un.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,E)=>d.set(y,E))),n.forEach(((y,E)=>m.set(y,new mN(E,d.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const r=Zl();let o=new Et(((d,m)=>d-m)),c=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const m of d)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=r.get(g)||Un.empty();E=m.applyToLocalView(y,E),r.set(g,E);const S=(o.get(m.batchId)||Fe()).add(g);o=o.insert(m.batchId,S)}))})).next((()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,S=kb();E.forEach((w=>{if(!c.has(w)){const P=Lb(n.get(w),r.get(w));P!==null&&S.set(w,P),c=c.add(w)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,S))}return W.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return(function(d){return Ee.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Rb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-c.size):W.resolve(fa());let m=sc,g=c;return d.next((y=>W.forEach(y,((E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),c.get(E)?W.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{g=g.insert(E,w)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,Fe()))).next((E=>({batchId:m,changes:Db(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next((r=>{let o=Gl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const c=n.collectionGroup;let d=Gl();return this.indexManager.getCollectionParents(e,c).next((m=>W.forEach(m,(g=>{const y=(function(S,w){return new _c(w,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((E=>{E.forEach(((S,w)=>{d=d.insert(S,w)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,c,o)))).next((d=>{c.forEach(((g,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,cn.newInvalidDocument(E)))}));let m=Gl();return d.forEach(((g,y)=>{const E=c.get(g);E!==void 0&&Wl(E.mutation,y,Un.empty(),ct.now()),qh(n,y)&&(m=m.insert(g,y))})),m}))}}class gN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return W.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Gi(o.createTime)}})(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:rN(o.bundledQuery),readTime:Gi(o.readTime)}})(n)),W.resolve()}}class yN{constructor(){this.overlays=new Et(Ee.comparator),this.qr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const r=fa();return W.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,c)=>{this.St(e,n,c)})),W.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),W.resolve()}getOverlaysForCollection(e,n,r){const o=fa(),c=n.length+1,d=new Ee(n.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>r&&o.set(g.getKey(),g)}return W.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let c=new Et(((y,E)=>y-E));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let E=c.get(y.largestBatchId);E===null&&(E=fa(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=fa(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return W.resolve(m)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new VR(n,r));let c=this.qr.get(n);c===void 0&&(c=Fe(),this.qr.set(n,c)),this.qr.set(n,c.add(r.key))}}class _N{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}class yp{constructor(){this.Qr=new Ft(Kt.$r),this.Ur=new Ft(Kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Kt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Kt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ee(new ft([])),r=new Kt(n,e),o=new Kt(n,e+1),c=[];return this.Ur.forEachInRange([r,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ee(new ft([])),r=new Kt(n,e),o=new Kt(n,e+1);let c=Fe();return this.Ur.forEachInRange([r,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const n=new Kt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Kt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ee.comparator(e.key,n.key)||He(e.Yr,n.Yr)}static Kr(e,n){return He(e.Yr,n.Yr)||Ee.comparator(e.key,n.key)}}class vN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ft(Kt.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new OR(c,n,r,o);this.mutationQueue.push(d);for(const m of o)this.Zr=this.Zr.add(new Kt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return W.resolve(d)}lookupMutationBatch(e,n){return W.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ei(r),c=o<0?0:o;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?op:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Kt(n,0),o=new Kt(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,o],(d=>{const m=this.Xr(d.Yr);c.push(m)})),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ft(He);return n.forEach((o=>{const c=new Kt(o,0),d=new Kt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(m=>{r=r.add(m.Yr)}))})),W.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let c=r;Ee.isDocumentKey(c)||(c=c.child(""));const d=new Kt(new Ee(c),0);let m=new Ft(He);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Yr)),!0)}),d),W.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){We(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return W.forEach(n.mutations,(o=>{const c=new Kt(o.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Kt(n,0),o=this.Zr.firstAfterOrEqual(r);return W.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class bN{constructor(e){this.ri=e,this.docs=(function(){return new Et(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),c=o?o.size:0,d=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():cn.newInvalidDocument(n))}getEntries(e,n){let r=Ds();return n.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():cn.newInvalidDocument(o))})),W.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let c=Ds();const d=n.path,m=new Ee(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Kx(Yx(E),r)<=0||(o.has(E.key)||qh(n,E))&&(c=c.insert(E.key,E.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(e,n,r,o){Ne(9500)}ii(e,n){return W.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new EN(this)}getSize(e){return W.resolve(this.size)}}class EN extends fN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),W.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class TN{constructor(e){this.persistence=e,this.si=new Aa((n=>up(n)),hp),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new yp,this.targetCount=0,this.ai=Mo.ur()}forEachTarget(e,n){return this.si.forEach(((r,o)=>n(o))),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),W.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Mo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Pr(n),W.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,r){let o=0;const c=[];return this.si.forEach(((d,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),W.waitFor(c).next((()=>o))}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return W.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),W.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),W.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return W.resolve(r)}containsKey(e,n){return W.resolve(this._i.containsKey(n))}}class Jb{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ph(0),this.li=!1,this.li=!0,this.hi=new _N,this.referenceDelegate=e(this),this.Pi=new TN(this),this.indexManager=new aN,this.remoteDocumentCache=(function(o){return new bN(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new sN(n),this.Ii=new gN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new yN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new vN(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){de("MemoryPersistence","Starting transaction:",e);const o=new AN(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,n){return W.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class AN extends Xx{constructor(e){super(),this.currentSequenceNumber=e}}class _p{constructor(e){this.persistence=e,this.Ri=new yp,this.Vi=null}static mi(e){return new _p(e)}get fi(){if(this.Vi)return this.Vi;throw Ne(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),W.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),W.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,(r=>{const o=Ee.fromPath(r);return this.gi(e,o).next((c=>{c||n.removeEntry(o,Ce.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ah{constructor(e,n){this.persistence=e,this.pi=new Aa((r=>Wx(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=dN(this,n)}static mi(e,n){return new Ah(e,n)}Ei(){}di(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return W.forEach(this.pi,((r,o)=>this.br(e,r,o).next((c=>c?W.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,n).next((m=>{m||(r++,c.removeEntry(d,Ce.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),W.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ih(e.data.value)),n}br(e,n,r){return W.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return W.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class vp{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=o}static As(e,n){let r=Fe(),o=Fe();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new vp(e,n.fromCache,r,o)}}class SN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class wN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return J2()?8:Jx(un())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const c={result:null};return this.ys(e,n).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,n,o,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new SN;return this.Ss(e,n,d).next((m=>{if(c.result=m,this.Vs)return this.bs(e,n,d,m.size)}))})).next((()=>c.result))}bs(e,n,r,o){return r.documentReadCount<this.fs?(_o()<=qe.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",vo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(_o()<=qe.DEBUG&&de("QueryEngine","Query:",vo(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(_o()<=qe.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",vo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fi(n))):W.resolve())}ys(e,n){if(yv(n))return W.resolve(null);let r=Fi(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Dm(n,null,"F"),r=Fi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=Fe(...c);return this.ps.getDocuments(e,d).next((m=>this.indexManager.getMinOffset(e,r).next((g=>{const y=this.Ds(n,m);return this.Cs(n,y,d,g.readTime)?this.ys(e,Dm(n,null,"F")):this.vs(e,y,n,g)}))))})))))}ws(e,n,r,o){return yv(n)||o.isEqual(Ce.min())?W.resolve(null):this.ps.getDocuments(e,r).next((c=>{const d=this.Ds(n,c);return this.Cs(n,d,r,o)?W.resolve(null):(_o()<=qe.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),vo(n)),this.vs(e,d,n,Qx(o,sc)).next((m=>m)))}))}Ds(e,n){let r=new Ft(Ib(e));return n.forEach(((o,c)=>{qh(e,c)&&(r=r.add(c))})),r}Cs(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,n,r){return _o()<=qe.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",vo(n)),this.ps.getDocumentsMatchingQuery(e,n,Nr.min(),r)}vs(e,n,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((c=>(n.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const bp="LocalStore",xN=3e8;class RN{constructor(e,n,r,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new Et(He),this.xs=new Aa((c=>up(c)),hp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function NN(s,e,n,r){return new RN(s,e,n,r)}async function Zb(s,e){const n=ke(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],m=[];let g=Fe();for(const y of o){d.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of c){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(r,g).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:m})))}))}))}function IN(s,e){const n=ke(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,E){const S=y.batch,w=S.keys();let P=W.resolve();return w.forEach((Y=>{P=P.next((()=>E.getEntry(g,Y))).next((J=>{const G=y.docVersions.get(Y);We(G!==null,48541),J.version.compareTo(G)<0&&(S.applyToRemoteDocument(J,y),J.isValidDocument()&&(J.setReadTime(y.commitVersion),E.addEntry(J)))}))})),P.next((()=>m.mutationQueue.removeMutationBatch(g,S)))})(n,r,e,c).next((()=>c.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let g=Fe();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function Wb(s){const e=ke(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function CN(s,e){const n=ke(s),r=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,S)=>{const w=o.get(S);if(!w)return;m.push(n.Pi.removeMatchingKeys(c,E.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(c,E.addedDocuments,S))));let P=w.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?P=P.withResumeToken(nn.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,r)),o=o.insert(S,P),(function(J,G,ne){return J.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=xN?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(w,P,E)&&m.push(n.Pi.updateTargetData(c,P))}));let g=Ds(),y=Fe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,E))})),m.push(DN(c,d,e.documentUpdates).next((E=>{g=E.ks,y=E.qs}))),!r.isEqual(Ce.min())){const E=n.Pi.getLastRemoteSnapshotVersion(c).next((S=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));m.push(E)}return W.waitFor(m).next((()=>d.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(n.Ms=o,c)))}function DN(s,e,n){let r=Fe(),o=Fe();return n.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=Ds();return n.forEach(((m,g)=>{const y=c.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Ce.min())?(e.removeEntry(m,g.readTime),d=d.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),d=d.insert(m,g)):de(bp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{ks:d,qs:o}}))}function kN(s,e){const n=ke(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=op),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function MN(s,e){const n=ke(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,e).next((c=>c?(o=c,W.resolve(o)):n.Pi.allocateTargetId(r).next((d=>(o=new Er(e,d,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function jm(s,e,n){const r=ke(s),o=r.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Uo(d))throw d;de(bp,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function Cv(s,e,n){const r=ke(s);let o=Ce.min(),c=Fe();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,y,E){const S=ke(g),w=S.xs.get(E);return w!==void 0?W.resolve(S.Ms.get(w)):S.Pi.getTargetData(y,E)})(r,d,Fi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,m.targetId).next((g=>{c=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,n?o:Ce.min(),n?c:Fe()))).next((m=>(ON(r,_R(e),m),{documents:m,Qs:c})))))}function ON(s,e,n){let r=s.Os.get(e)||Ce.min();n.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(e,r)}class Dv{constructor(){this.activeTargetIds=SR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VN{constructor(){this.Mo=new Dv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Dv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class jN{Oo(e){}shutdown(){}}const kv="ConnectivityMonitor";class Mv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(kv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(kv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Xu=null;function Pm(){return Xu===null?Xu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Xu++,"0x"+Xu.toString(16)}const lm="RestConnection",PN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===yh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,n,r,o,c){const d=Pm(),m=this.zo(e,n.toUriEncodedString());de(lm,`Sending RPC '${e}' ${d}:`,m,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,c);const{host:y}=new URL(m),E=Or(y);return this.Jo(e,m,g,r,E).then((S=>(de(lm,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw Io(lm,`RPC '${e}' ${d} failed with error: `,S,"url: ",m,"request:",r),S}))}Ho(e,n,r,o,c,d){return this.Go(e,n,r,o,c)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Po})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}zo(e,n){const r=PN[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class UN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const on="WebChannelConnection";class zN extends LN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,o,c){const d=Pm();return new Promise(((m,g)=>{const y=new nb;y.setWithCredentials(!0),y.listenOnce(ib.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case nh.NO_ERROR:const S=y.getResponseJson();de(on,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),m(S);break;case nh.TIMEOUT:de(on,`RPC '${e}' ${d} timed out`),g(new ue(X.DEADLINE_EXCEEDED,"Request time out"));break;case nh.HTTP_ERROR:const w=y.getStatus();if(de(on,`RPC '${e}' ${d} failed with status:`,w,"response text:",y.getResponseText()),w>0){let P=y.getResponseJson();Array.isArray(P)&&(P=P[0]);const Y=P?.error;if(Y&&Y.status&&Y.message){const J=(function(ne){const oe=ne.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(oe)>=0?oe:X.UNKNOWN})(Y.status);g(new ue(J,Y.message))}else g(new ue(X.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ue(X.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{de(on,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(o);de(on,`RPC '${e}' ${d} sending request:`,o),y.send(n,"POST",E,r,15)}))}T_(e,n,r){const o=Pm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=ab(),m=rb(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const E=c.join("");de(on,`Creating RPC '${e}' stream ${o}: ${E}`,g);const S=d.createWebChannel(E,g);this.I_(S);let w=!1,P=!1;const Y=new UN({Yo:G=>{P?de(on,`Not sending because RPC '${e}' stream ${o} is closed:`,G):(w||(de(on,`Opening RPC '${e}' stream ${o} transport.`),S.open(),w=!0),de(on,`RPC '${e}' stream ${o} sending:`,G),S.send(G))},Zo:()=>S.close()}),J=(G,ne,oe)=>{G.listen(ne,(le=>{try{oe(le)}catch(_e){setTimeout((()=>{throw _e}),0)}}))};return J(S,Fl.EventType.OPEN,(()=>{P||(de(on,`RPC '${e}' stream ${o} transport opened.`),Y.o_())})),J(S,Fl.EventType.CLOSE,(()=>{P||(P=!0,de(on,`RPC '${e}' stream ${o} transport closed`),Y.a_(),this.E_(S))})),J(S,Fl.EventType.ERROR,(G=>{P||(P=!0,Io(on,`RPC '${e}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),Y.a_(new ue(X.UNAVAILABLE,"The operation could not be completed")))})),J(S,Fl.EventType.MESSAGE,(G=>{if(!P){const ne=G.data[0];We(!!ne,16349);const oe=ne,le=oe?.error||oe[0]?.error;if(le){de(on,`RPC '${e}' stream ${o} received error:`,le);const _e=le.status;let Te=(function(x){const N=Lt[x];if(N!==void 0)return zb(N)})(_e),xe=le.message;Te===void 0&&(Te=X.INTERNAL,xe="Unknown error status: "+_e+" with message "+le.message),P=!0,Y.a_(new ue(Te,xe)),S.close()}else de(on,`RPC '${e}' stream ${o} received:`,ne),Y.u_(ne)}})),J(m,sb.STAT_EVENT,(G=>{G.stat===Sm.PROXY?de(on,`RPC '${e}' stream ${o} detected buffering proxy`):G.stat===Sm.NOPROXY&&de(on,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Y.__()}),0),Y}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function cm(){return typeof document<"u"?document:null}function Qh(s){return new FR(s,!0)}class eE{constructor(e,n,r=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Ov="PersistentStream";class tE{constructor(e,n,r,o,c,d,m,g){this.Mi=e,this.S_=r,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new eE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(Cs(n.toString()),Cs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new ue(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(Ov,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(de(Ov,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class BN extends tE{constructor(e,n,r,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,d),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=YR(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Ce.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ce.min():d.readTime?Gi(d.readTime):Ce.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Vm(this.serializer),n.addTarget=(function(c,d){let m;const g=d.target;if(m=Im(g)?{documents:XR(c,g)}:{query:JR(c,g).ft},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=Hb(c,d.resumeToken);const y=km(c,d.expectedCount);y!==null&&(m.expectedCount=y)}else if(d.snapshotVersion.compareTo(Ce.min())>0){m.readTime=Th(c,d.snapshotVersion.toTimestamp());const y=km(c,d.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const r=WR(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Vm(this.serializer),n.removeTarget=e,this.q_(n)}}class qN extends tE{constructor(e,n,r,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=$R(e.writeResults,e.commitTime),r=Gi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Vm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>KR(this.serializer,r)))};this.q_(n)}}class HN{}class FN extends HN{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Mm(n,r),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue(X.UNKNOWN,c.toString())}))}Ho(e,n,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,m])=>this.connection.Ho(e,Mm(n,r),o,d,m,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ue(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class GN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Cs(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ba="RemoteStore";class QN{constructor(e,n,r,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Sa(this)&&(de(ba,"Restarting streams for network reachability change."),await(async function(g){const y=ke(g);y.Ea.add(4),await Ec(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Yh(y)})(this))}))})),this.Ra=new GN(r,o)}}async function Yh(s){if(Sa(s))for(const e of s.da)await e(!0)}async function Ec(s){for(const e of s.da)await e(!1)}function nE(s,e){const n=ke(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Sp(n)?Ap(n):zo(n).O_()&&Tp(n,e))}function Ep(s,e){const n=ke(s),r=zo(n);n.Ia.delete(e),r.O_()&&iE(n,e),n.Ia.size===0&&(r.O_()?r.L_():Sa(n)&&n.Ra.set("Unknown"))}function Tp(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}zo(s).Y_(e)}function iE(s,e){s.Va.Ue(e),zo(s).Z_(e)}function Ap(s){s.Va=new zR({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),zo(s).start(),s.Ra.ua()}function Sp(s){return Sa(s)&&!zo(s).x_()&&s.Ia.size>0}function Sa(s){return ke(s).Ea.size===0}function sE(s){s.Va=void 0}async function YN(s){s.Ra.set("Online")}async function KN(s){s.Ia.forEach(((e,n)=>{Tp(s,e)}))}async function $N(s,e){sE(s),Sp(s)?(s.Ra.ha(e),Ap(s)):s.Ra.set("Unknown")}async function XN(s,e,n){if(s.Ra.set("Online"),e instanceof qb&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,d),o.Ia.delete(m),o.Va.removeTarget(m))})(s,e)}catch(r){de(ba,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Sh(s,r)}else if(e instanceof ah?s.Va.Ze(e):e instanceof Bb?s.Va.st(e):s.Va.tt(e),!n.isEqual(Ce.min()))try{const r=await Wb(s.localStore);n.compareTo(r)>=0&&await(function(c,d){const m=c.Va.Tt(d);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(g.resumeToken,d))}})),m.targetMismatches.forEach(((g,y)=>{const E=c.Ia.get(g);if(!E)return;c.Ia.set(g,E.withResumeToken(nn.EMPTY_BYTE_STRING,E.snapshotVersion)),iE(c,g);const S=new Er(E.target,g,y,E.sequenceNumber);Tp(c,S)})),c.remoteSyncer.applyRemoteEvent(m)})(s,n)}catch(r){de(ba,"Failed to raise snapshot:",r),await Sh(s,r)}}async function Sh(s,e,n){if(!Uo(e))throw e;s.Ea.add(1),await Ec(s),s.Ra.set("Offline"),n||(n=()=>Wb(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{de(ba,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Yh(s)}))}function rE(s,e){return e().catch((n=>Sh(s,n,e)))}async function Kh(s){const e=ke(s),n=kr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:op;for(;JN(e);)try{const o=await kN(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,ZN(e,o)}catch(o){await Sh(e,o)}aE(e)&&oE(e)}function JN(s){return Sa(s)&&s.Ta.length<10}function ZN(s,e){s.Ta.push(e);const n=kr(s);n.O_()&&n.X_&&n.ea(e.mutations)}function aE(s){return Sa(s)&&!kr(s).x_()&&s.Ta.length>0}function oE(s){kr(s).start()}async function WN(s){kr(s).ra()}async function eI(s){const e=kr(s);for(const n of s.Ta)e.ea(n.mutations)}async function tI(s,e,n){const r=s.Ta.shift(),o=mp.from(r,e,n);await rE(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Kh(s)}async function nI(s,e){e&&kr(s).X_&&await(async function(r,o){if((function(d){return PR(d)&&d!==X.ABORTED})(o.code)){const c=r.Ta.shift();kr(r).B_(),await rE(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Kh(r)}})(s,e),aE(s)&&oE(s)}async function Vv(s,e){const n=ke(s);n.asyncQueue.verifyOperationInProgress(),de(ba,"RemoteStore received new credentials");const r=Sa(n);n.Ea.add(3),await Ec(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Yh(n)}async function iI(s,e){const n=ke(s);e?(n.Ea.delete(2),await Yh(n)):e||(n.Ea.add(2),await Ec(n),n.Ra.set("Unknown"))}function zo(s){return s.ma||(s.ma=(function(n,r,o){const c=ke(n);return c.sa(),new BN(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:YN.bind(null,s),t_:KN.bind(null,s),r_:$N.bind(null,s),H_:XN.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),Sp(s)?Ap(s):s.Ra.set("Unknown")):(await s.ma.stop(),sE(s))}))),s.ma}function kr(s){return s.fa||(s.fa=(function(n,r,o){const c=ke(n);return c.sa(),new qN(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:WN.bind(null,s),r_:nI.bind(null,s),ta:eI.bind(null,s),na:tI.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Kh(s)):(await s.fa.stop(),s.Ta.length>0&&(de(ba,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class wp{constructor(e,n,r,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new xs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,c){const d=Date.now()+r,m=new wp(e,n,d,o,c);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xp(s,e){if(Cs("AsyncQueue",`${e}: ${s}`),Uo(s))return new ue(X.UNAVAILABLE,`${e}: ${s}`);throw s}class xo{static emptySet(e){return new xo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ee.comparator(n.key,r.key):(n,r)=>Ee.comparator(n.key,r.key),this.keyedMap=Gl(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new xo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class jv{constructor(){this.ga=new Et(Ee.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ne(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Oo{constructor(e,n,r,o,c,d,m,g,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,o,c){const d=[];return n.forEach((m=>{d.push({type:0,doc:m})})),new Oo(e,n,xo.emptySet(n),d,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class sI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class rI{constructor(){this.queries=Pv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=ke(n),c=o.queries;o.queries=Pv(),c.forEach(((d,m)=>{for(const g of m.Sa)g.onError(r)}))})(this,new ue(X.ABORTED,"Firestore shutting down"))}}function Pv(){return new Aa((s=>Nb(s)),Bh)}async function Rp(s,e){const n=ke(s);let r=3;const o=e.query;let c=n.queries.get(o);c?!c.ba()&&e.Da()&&(r=2):(c=new sI,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const m=xp(d,`Initialization of query '${vo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Ip(n)}async function Np(s,e){const n=ke(s),r=e.query;let o=3;const c=n.queries.get(r);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function aI(s,e){const n=ke(s);let r=!1;for(const o of e){const c=o.query,d=n.queries.get(c);if(d){for(const m of d.Sa)m.Fa(o)&&(r=!0);d.wa=o}}r&&Ip(n)}function oI(s,e,n){const r=ke(s),o=r.queries.get(e);if(o)for(const c of o.Sa)c.onError(n);r.queries.delete(e)}function Ip(s){s.Ca.forEach((e=>{e.next()}))}var Lm,Lv;(Lv=Lm||(Lm={})).Ma="default",Lv.Cache="cache";class Cp{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Oo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Lm.Cache}}class lE{constructor(e){this.key=e}}class cE{constructor(e){this.key=e}}class lI{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Fe(),this.mutatedKeys=Fe(),this.eu=Ib(e),this.tu=new xo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new jv,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,S)=>{const w=o.get(E),P=qh(this.query,S)?S:null,Y=!!w&&this.mutatedKeys.has(w.key),J=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let G=!1;w&&P?w.data.isEqual(P.data)?Y!==J&&(r.track({type:3,doc:P}),G=!0):this.su(w,P)||(r.track({type:2,doc:P}),G=!0,(g&&this.eu(P,g)>0||y&&this.eu(P,y)<0)&&(m=!0)):!w&&P?(r.track({type:0,doc:P}),G=!0):w&&!P&&(r.track({type:1,doc:w}),G=!0,(g||y)&&(m=!0)),G&&(P?(d=d.add(P),c=J?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),r.track({type:1,doc:E})}return{tu:d,iu:r,Cs:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,S)=>(function(P,Y){const J=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Rt:G})}};return J(P)-J(Y)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,d.length!==0||y?{snapshot:new Oo(this.query,e.tu,c,d,e.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new jv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Fe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new cE(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new lE(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Fe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Oo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Dp="SyncEngine";class cI{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class uI{constructor(e){this.key=e,this.hu=!1}}class hI{constructor(e,n,r,o,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Aa((m=>Nb(m)),Bh),this.Iu=new Map,this.Eu=new Set,this.du=new Et(Ee.comparator),this.Au=new Map,this.Ru=new yp,this.Vu={},this.mu=new Map,this.fu=Mo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function dI(s,e,n=!0){const r=pE(s);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await uE(r,e,n,!0),o}async function fI(s,e){const n=pE(s);await uE(n,e,!0,!1)}async function uE(s,e,n,r){const o=await MN(s.localStore,Fi(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,n);let m;return r&&(m=await mI(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&n&&nE(s.remoteStore,o),m}async function mI(s,e,n,r,o){s.pu=(S,w,P)=>(async function(J,G,ne,oe){let le=G.view.ru(ne);le.Cs&&(le=await Cv(J.localStore,G.query,!1).then((({documents:I})=>G.view.ru(I,le))));const _e=oe&&oe.targetChanges.get(G.targetId),Te=oe&&oe.targetMismatches.get(G.targetId)!=null,xe=G.view.applyChanges(le,J.isPrimaryClient,_e,Te);return zv(J,G.targetId,xe.au),xe.snapshot})(s,S,w,P);const c=await Cv(s.localStore,e,!0),d=new lI(e,c.Qs),m=d.ru(c.documents),g=bc.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),y=d.applyChanges(m,s.isPrimaryClient,g);zv(s,n,y.au);const E=new cI(e,n,d);return s.Tu.set(e,E),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function pI(s,e,n){const r=ke(s),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((d=>!Bh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await jm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Ep(r.remoteStore,o.targetId),Um(r,o.targetId)})).catch(Lo)):(Um(r,o.targetId),await jm(r.localStore,o.targetId,!0))}async function gI(s,e){const n=ke(s),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ep(n.remoteStore,r.targetId))}async function yI(s,e,n){const r=SI(s);try{const o=await(function(d,m){const g=ke(d),y=ct.now(),E=m.reduce(((P,Y)=>P.add(Y.key)),Fe());let S,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let Y=Ds(),J=Fe();return g.Ns.getEntries(P,E).next((G=>{Y=G,Y.forEach(((ne,oe)=>{oe.isValidDocument()||(J=J.add(ne))}))})).next((()=>g.localDocuments.getOverlayedDocuments(P,Y))).next((G=>{S=G;const ne=[];for(const oe of m){const le=kR(oe,S.get(oe.key).overlayedDocument);le!=null&&ne.push(new jr(oe.key,le,bb(le.value.mapValue),ai.exists(!0)))}return g.mutationQueue.addMutationBatch(P,y,ne,m)})).next((G=>{w=G;const ne=G.applyToLocalDocumentSet(S,J);return g.documentOverlayCache.saveOverlays(P,G.batchId,ne)}))})).then((()=>({batchId:w.batchId,changes:Db(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,m,g){let y=d.Vu[d.currentUser.toKey()];y||(y=new Et(He)),y=y.insert(m,g),d.Vu[d.currentUser.toKey()]=y})(r,o.batchId,n),await Tc(r,o.changes),await Kh(r.remoteStore)}catch(o){const c=xp(o,"Failed to persist write");n.reject(c)}}async function hE(s,e){const n=ke(s);try{const r=await CN(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=n.Au.get(c);d&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?We(d.hu,14607):o.removedDocuments.size>0&&(We(d.hu,42227),d.hu=!1))})),await Tc(n,r,e)}catch(r){await Lo(r)}}function Uv(s,e,n){const r=ke(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((c,d)=>{const m=d.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(d,m){const g=ke(d);g.onlineState=m;let y=!1;g.queries.forEach(((E,S)=>{for(const w of S.Sa)w.va(m)&&(y=!0)})),y&&Ip(g)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _I(s,e,n){const r=ke(s);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),c=o&&o.key;if(c){let d=new Et(Ee.comparator);d=d.insert(c,cn.newNoDocument(c,Ce.min()));const m=Fe().add(c),g=new Gh(Ce.min(),new Map,new Et(He),d,m);await hE(r,g),r.du=r.du.remove(c),r.Au.delete(e),kp(r)}else await jm(r.localStore,e,!1).then((()=>Um(r,e,n))).catch(Lo)}async function vI(s,e){const n=ke(s),r=e.batch.batchId;try{const o=await IN(n.localStore,e);fE(n,r,null),dE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Tc(n,o)}catch(o){await Lo(o)}}async function bI(s,e,n){const r=ke(s);try{const o=await(function(d,m){const g=ke(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next((S=>(We(S!==null,37113),E=S.keys(),g.mutationQueue.removeMutationBatch(y,S)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(r.localStore,e);fE(r,e,n),dE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Tc(r,o)}catch(o){await Lo(o)}}function dE(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function fE(s,e,n){const r=ke(s);let o=r.Vu[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Um(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||mE(s,r)}))}function mE(s,e){s.Eu.delete(e.path.canonicalString());const n=s.du.get(e);n!==null&&(Ep(s.remoteStore,n),s.du=s.du.remove(e),s.Au.delete(n),kp(s))}function zv(s,e,n){for(const r of n)r instanceof lE?(s.Ru.addReference(r.key,e),EI(s,r)):r instanceof cE?(de(Dp,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||mE(s,r.key)):Ne(19791,{wu:r})}function EI(s,e){const n=e.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(de(Dp,"New document in limbo: "+n),s.Eu.add(r),kp(s))}function kp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new Ee(ft.fromString(e)),r=s.fu.next();s.Au.set(r,new uI(n)),s.du=s.du.insert(n,r),nE(s.remoteStore,new Er(Fi(zh(n.path)),r,"TargetPurposeLimboResolution",Ph.ce))}}async function Tc(s,e,n){const r=ke(s),o=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,g)=>{d.push(r.pu(g,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=vp.As(g.targetId,y);c.push(E)}})))})),await Promise.all(d),r.Pu.H_(o),await(async function(g,y){const E=ke(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>W.forEach(y,(w=>W.forEach(w.Es,(P=>E.persistence.referenceDelegate.addReference(S,w.targetId,P))).next((()=>W.forEach(w.ds,(P=>E.persistence.referenceDelegate.removeReference(S,w.targetId,P)))))))))}catch(S){if(!Uo(S))throw S;de(bp,"Failed to update sequence numbers: "+S)}for(const S of y){const w=S.targetId;if(!S.fromCache){const P=E.Ms.get(w),Y=P.snapshotVersion,J=P.withLastLimboFreeSnapshotVersion(Y);E.Ms=E.Ms.insert(w,J)}}})(r.localStore,c))}async function TI(s,e){const n=ke(s);if(!n.currentUser.isEqual(e)){de(Dp,"User change. New user:",e.toKey());const r=await Zb(n.localStore,e);n.currentUser=e,(function(c,d){c.mu.forEach((m=>{m.forEach((g=>{g.reject(new ue(X.CANCELLED,d))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Tc(n,r.Ls)}}function AI(s,e){const n=ke(s),r=n.Au.get(e);if(r&&r.hu)return Fe().add(r.key);{let o=Fe();const c=n.Iu.get(e);if(!c)return o;for(const d of c){const m=n.Tu.get(d);o=o.unionWith(m.view.nu)}return o}}function pE(s){const e=ke(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=hE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_I.bind(null,e),e.Pu.H_=aI.bind(null,e.eventManager),e.Pu.yu=oI.bind(null,e.eventManager),e}function SI(s){const e=ke(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bI.bind(null,e),e}class wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return NN(this.persistence,new wN,e.initialUser,this.serializer)}Cu(e){return new Jb(_p.mi,this.serializer)}Du(e){return new VN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wh.provider={build:()=>new wh};class wI extends wh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){We(this.persistence.referenceDelegate instanceof Ah,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new uN(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new Jb((r=>Ah.mi(r,n)),this.serializer)}}class zm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Uv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=TI.bind(null,this.syncEngine),await iI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new rI})()}createDatastore(e){const n=Qh(e.databaseInfo.databaseId),r=(function(c){return new zN(c)})(e.databaseInfo);return(function(c,d,m,g){return new FN(c,d,m,g)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,c,d,m){return new QN(r,o,c,d,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>Uv(this.syncEngine,n,0)),(function(){return Mv.v()?new Mv:new jN})())}createSyncEngine(e,n){return(function(o,c,d,m,g,y,E){const S=new hI(o,c,d,m,g,y);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=ke(n);de(ba,"RemoteStore shutting down."),r.Ea.add(5),await Ec(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}zm.provider={build:()=>new zm};class Mp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Cs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Mr="FirestoreClient";class xI{constructor(e,n,r,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=ln.UNAUTHENTICATED,this.clientId=ap.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{de(Mr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(de(Mr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=xp(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function um(s,e){s.asyncQueue.verifyOperationInProgress(),de(Mr,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await Zb(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Bv(s,e){s.asyncQueue.verifyOperationInProgress();const n=await RI(s);de(Mr,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>Vv(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>Vv(e.remoteStore,o))),s._onlineComponents=e}async function RI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){de(Mr,"Using user provided OfflineComponentProvider");try{await um(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Io("Error using user provided cache. Falling back to memory cache: "+n),await um(s,new wh)}}else de(Mr,"Using default OfflineComponentProvider"),await um(s,new wI(void 0));return s._offlineComponents}async function gE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(de(Mr,"Using user provided OnlineComponentProvider"),await Bv(s,s._uninitializedComponentsProvider._online)):(de(Mr,"Using default OnlineComponentProvider"),await Bv(s,new zm))),s._onlineComponents}function NI(s){return gE(s).then((e=>e.syncEngine))}async function xh(s){const e=await gE(s),n=e.eventManager;return n.onListen=dI.bind(null,e.syncEngine),n.onUnlisten=pI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=fI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=gI.bind(null,e.syncEngine),n}function II(s,e,n={}){const r=new xs;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,m,g,y){const E=new Mp({next:w=>{E.Nu(),d.enqueueAndForget((()=>Np(c,S)));const P=w.docs.has(m);!P&&w.fromCache?y.reject(new ue(X.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&w.fromCache&&g&&g.source==="server"?y.reject(new ue(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(w)},error:w=>y.reject(w)}),S=new Cp(zh(m.path),E,{includeMetadataChanges:!0,qa:!0});return Rp(c,S)})(await xh(s),s.asyncQueue,e,n,r))),r.promise}function CI(s,e,n={}){const r=new xs;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,m,g,y){const E=new Mp({next:w=>{E.Nu(),d.enqueueAndForget((()=>Np(c,S))),w.fromCache&&g.source==="server"?y.reject(new ue(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),S=new Cp(m,E,{includeMetadataChanges:!0,qa:!0});return Rp(c,S)})(await xh(s),s.asyncQueue,e,n,r))),r.promise}function yE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const qv=new Map;const _E="firestore.googleapis.com",Hv=!0;class Fv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_E,this.ssl=Hv}else this.host=e.host,this.ssl=e.ssl??Hv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Xb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lN)throw new ue(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Gx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yE(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ue(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ue(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ue(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $h{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Vx;switch(r.type){case"firstParty":return new Ux(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=qv.get(n);r&&(de("ComponentProvider","Removing Datastore"),qv.delete(n),r.terminate())})(this),Promise.resolve()}}function DI(s,e,n,r={}){s=_i(s,$h);const o=Or(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},m=`${e}:${n}`;o&&(Qm(`https://${m}`),Ym("Firestore",!0)),c.host!==_E&&c.host!==m&&Io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:m,ssl:o,emulatorOptions:r};if(!ga(g,d)&&(s._setSettings(g),r.mockUserToken)){let y,E;if(typeof r.mockUserToken=="string")y=r.mockUserToken,E=ln.MOCK_USER;else{y=q2(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new ue(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new ln(S)}s._authCredentials=new jx(new lb(y,E))}}class wa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new wa(this.firestore,e,this._query)}}class Ct{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ct(this.firestore,e,this._key)}toJSON(){return{type:Ct._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(yc(n,Ct._jsonSchema))return new Ct(e,r||null,new Ee(ft.fromString(n.referencePath)))}}Ct._jsonSchemaVersion="firestore/documentReference/1.0",Ct._jsonSchema={type:zt("string",Ct._jsonSchemaVersion),referencePath:zt("string")};class xr extends wa{constructor(e,n,r){super(e,n,zh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new Ee(e))}withConverter(e){return new xr(this.firestore,e,this._path)}}function kI(s,e,...n){if(s=bt(s),cb("collection","path",e),s instanceof $h){const r=ft.fromString(e,...n);return iv(r),new xr(s,null,r)}{if(!(s instanceof Ct||s instanceof xr))throw new ue(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ft.fromString(e,...n));return iv(r),new xr(s.firestore,null,r)}}function Ro(s,e,...n){if(s=bt(s),arguments.length===1&&(e=ap.newId()),cb("doc","path",e),s instanceof $h){const r=ft.fromString(e,...n);return nv(r),new Ct(s,null,new Ee(r))}{if(!(s instanceof Ct||s instanceof xr))throw new ue(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ft.fromString(e,...n));return nv(r),new Ct(s.firestore,s instanceof xr?s.converter:null,new Ee(r))}}const Gv="AsyncQueue";class Qv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new eE(this,"async_queue_retry"),this._c=()=>{const r=cm();r&&de(Gv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=cm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=cm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new xs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Uo(e))throw e;de(Gv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Cs("INTERNAL UNHANDLED ERROR: ",Yv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=wp.createAndSchedule(this,e,n,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Ne(47125,{Pc:Yv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Yv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function Kv(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class Ea extends $h{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new Qv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Qv(e),this._firestoreClient=void 0,await e}}}function MI(s,e){const n=typeof s=="object"?s:Xm(),r=typeof s=="string"?s:yh,o=kh(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=h1("firestore");c&&DI(o,...c)}return o}function Ac(s){if(s._terminated)throw new ue(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||OI(s),s._firestoreClient}function OI(s){const e=s._freezeSettings(),n=(function(o,c,d,m){return new nR(o,c,d,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,yE(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new xI(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class ri{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ri(nn.fromBase64String(e))}catch(n){throw new ue(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ri(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ri._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yc(e,ri._jsonSchema))return ri.fromBase64String(e.bytes)}}ri._jsonSchemaVersion="firestore/bytes/1.0",ri._jsonSchema={type:zt("string",ri._jsonSchemaVersion),bytes:zt("string")};class Xh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Jh{constructor(e){this._methodName=e}}class Qi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qi._jsonSchemaVersion}}static fromJSON(e){if(yc(e,Qi._jsonSchema))return new Qi(e.latitude,e.longitude)}}Qi._jsonSchemaVersion="firestore/geoPoint/1.0",Qi._jsonSchema={type:zt("string",Qi._jsonSchemaVersion),latitude:zt("number"),longitude:zt("number")};class Yi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Yi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yc(e,Yi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Yi(e.vectorValues);throw new ue(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Yi._jsonSchemaVersion="firestore/vectorValue/1.0",Yi._jsonSchema={type:zt("string",Yi._jsonSchemaVersion),vectorValues:zt("object")};const VI=/^__.*__$/;class jI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new jr(e,this.data,this.fieldMask,n,this.fieldTransforms):new vc(e,this.data,n,this.fieldTransforms)}}class vE{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new jr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function bE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ac:s})}}class Op{constructor(e,n,r,o,c,d){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Op({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Rh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(bE(this.Ac)&&VI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class PI{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Qh(e)}Cc(e,n,r,o=!1){return new Op({Ac:e,methodName:n,Dc:r,path:tn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vp(s){const e=s._freezeSettings(),n=Qh(s._databaseId);return new PI(s._databaseId,!!e.ignoreUndefinedProperties,n)}function EE(s,e,n,r,o,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,n,o);Pp("Data must be an object, but it was:",d,r);const m=TE(r,d);let g,y;if(c.merge)g=new Un(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const S of c.mergeFields){const w=Bm(e,S,n);if(!d.contains(w))throw new ue(X.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);SE(E,w)||E.push(w)}g=new Un(E),y=d.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,y=d.fieldTransforms;return new jI(new xn(m),g,y)}class Zh extends Jh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zh}}class jp extends Jh{_toFieldTransform(e){return new NR(e.path,new lc)}isEqual(e){return e instanceof jp}}function LI(s,e,n,r){const o=s.Cc(1,e,n);Pp("Data must be an object, but it was:",o,r);const c=[],d=xn.empty();Vr(r,((g,y)=>{const E=Lp(e,g,n);y=bt(y);const S=o.yc(E);if(y instanceof Zh)c.push(E);else{const w=Sc(y,S);w!=null&&(c.push(E),d.set(E,w))}}));const m=new Un(c);return new vE(d,m,o.fieldTransforms)}function UI(s,e,n,r,o,c){const d=s.Cc(1,e,n),m=[Bm(e,r,n)],g=[o];if(c.length%2!=0)throw new ue(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<c.length;w+=2)m.push(Bm(e,c[w])),g.push(c[w+1]);const y=[],E=xn.empty();for(let w=m.length-1;w>=0;--w)if(!SE(y,m[w])){const P=m[w];let Y=g[w];Y=bt(Y);const J=d.yc(P);if(Y instanceof Zh)y.push(P);else{const G=Sc(Y,J);G!=null&&(y.push(P),E.set(P,G))}}const S=new Un(y);return new vE(E,S,d.fieldTransforms)}function zI(s,e,n,r=!1){return Sc(n,s.Cc(r?4:3,e))}function Sc(s,e){if(AE(s=bt(s)))return Pp("Unsupported field value:",e,s),TE(s,e);if(s instanceof Jh)return(function(r,o){if(!bE(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const c=[];let d=0;for(const m of r){let g=Sc(m,o.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,o){if((r=bt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wR(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ct.fromDate(r);return{timestampValue:Th(o.serializer,c)}}if(r instanceof ct){const c=new ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Th(o.serializer,c)}}if(r instanceof Qi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ri)return{bytesValue:Hb(o.serializer,r._byteString)};if(r instanceof Ct){const c=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:gp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Yi)return(function(d,m){return{mapValue:{fields:{[_b]:{stringValue:vb},[_h]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return dp(m.serializer,y)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${jh(r)}`)})(s,e)}function TE(s,e){const n={};return db(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vr(s,((r,o)=>{const c=Sc(o,e.mc(r));c!=null&&(n[r]=c)})),{mapValue:{fields:n}}}function AE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ct||s instanceof Qi||s instanceof ri||s instanceof Ct||s instanceof Jh||s instanceof Yi)}function Pp(s,e,n){if(!AE(n)||!ub(n)){const r=jh(n);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function Bm(s,e,n){if((e=bt(e))instanceof Xh)return e._internalPath;if(typeof e=="string")return Lp(s,e);throw Rh("Field path arguments must be of type string or ",s,!1,void 0,n)}const BI=new RegExp("[~\\*/\\[\\]]");function Lp(s,e,n){if(e.search(BI)>=0)throw Rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Xh(...e.split("."))._internalPath}catch{throw Rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Rh(s,e,n,r,o){const c=r&&!r.isEmpty(),d=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${r}`),d&&(g+=` in document ${o}`),g+=")"),new ue(X.INVALID_ARGUMENT,m+s+g)}function SE(s,e){return s.some((n=>n.isEqual(e)))}class wE{constructor(e,n,r,o,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class qI extends wE{data(){return super.data()}}function xE(s,e){return typeof e=="string"?Lp(s,e):e instanceof Xh?e._internalPath:e._delegate._internalPath}function RE(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ue(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Up{}class HI extends Up{}function hm(s,e,...n){let r=[];e instanceof Up&&r.push(e),r=r.concat(n),(function(c){const d=c.filter((g=>g instanceof Bp)).length,m=c.filter((g=>g instanceof zp)).length;if(d>1||d>0&&m>0)throw new ue(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class zp extends HI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new zp(e,n,r)}_apply(e){const n=this._parse(e);return NE(e._query,n),new wa(e.firestore,e.converter,Cm(e._query,n))}_parse(e){const n=Vp(e.firestore);return(function(c,d,m,g,y,E,S){let w;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ue(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Xv(S,E);const Y=[];for(const J of S)Y.push($v(g,c,J));w={arrayValue:{values:Y}}}else w=$v(g,c,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Xv(S,E),w=zI(m,d,S,E==="in"||E==="not-in");return Ut.create(y,E,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Bp extends Up{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Bp(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:bi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let d=o;const m=c.getFlattenedFilters();for(const g of m)NE(d,g),d=Cm(d,g)})(e._query,n),new wa(e.firestore,e.converter,Cm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function $v(s,e,n){if(typeof(n=bt(n))=="string"){if(n==="")throw new ue(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Rb(e)&&n.indexOf("/")!==-1)throw new ue(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ft.fromString(n));if(!Ee.isDocumentKey(r))throw new ue(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hv(s,new Ee(r))}if(n instanceof Ct)return hv(s,n._key);throw new ue(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jh(n)}.`)}function Xv(s,e){if(!Array.isArray(s)||s.length===0)throw new ue(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function NE(s,e){const n=(function(o,c){for(const d of o)for(const m of d.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ue(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class FI{convertValue(e,n="none"){switch(Dr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Cr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Vr(e,((o,c)=>{r[o]=this.convertValue(c,n)})),r}convertVectorValue(e){const n=e.fields?.[_h].arrayValue?.values?.map((r=>It(r.doubleValue)));return new Yi(n)}convertGeoPoint(e){return new Qi(It(e.latitude),It(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Uh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(rc(e));default:return null}}convertTimestamp(e){const n=Ir(e);return new ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ft.fromString(e);We($b(r),9688,{name:e});const o=new ac(r.get(1),r.get(3)),c=new Ee(r.popFirst(5));return o.isEqual(n)||Cs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function IE(s,e,n){let r;return r=s?n&&(n.merge||n.mergeFields)?s.toFirestore(e,n):s.toFirestore(e):e,r}class Yl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ma extends wE{constructor(e,n,r,o,c,d){super(e,n,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(xE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ma._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ma._jsonSchemaVersion="firestore/documentSnapshot/1.0",ma._jsonSchema={type:zt("string",ma._jsonSchemaVersion),bundleSource:zt("string","DocumentSnapshot"),bundleName:zt("string"),bundle:zt("string")};class oh extends ma{data(e={}){return super.data(e)}}class pa{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Yl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new oh(this._firestore,this._userDataWriter,r.key,r,new Yl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((m=>{const g=new oh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Yl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const g=new oh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Yl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),E=d.indexOf(m.doc.key)),{type:GI(m.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=pa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ap.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function GI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:s})}}function QI(s){s=_i(s,Ct);const e=_i(s.firestore,Ea);return II(Ac(e),s._key).then((n=>DE(e,s,n)))}pa._jsonSchemaVersion="firestore/querySnapshot/1.0",pa._jsonSchema={type:zt("string",pa._jsonSchemaVersion),bundleSource:zt("string","QuerySnapshot"),bundleName:zt("string"),bundle:zt("string")};class qp extends FI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ri(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,n)}}function Jv(s){s=_i(s,wa);const e=_i(s.firestore,Ea),n=Ac(e),r=new qp(e);return RE(s._query),CI(n,s._query).then((o=>new pa(e,r,s,o)))}function No(s,e,n){s=_i(s,Ct);const r=_i(s.firestore,Ea),o=IE(s.converter,e,n);return CE(r,[EE(Vp(r),"setDoc",s._key,o,s.converter!==null,n).toMutation(s._key,ai.none())])}function YI(s,...e){s=bt(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Kv(e[r])||(n=e[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Kv(e[r])){const g=e[r];e[r]=g.next?.bind(g),e[r+1]=g.error?.bind(g),e[r+2]=g.complete?.bind(g)}let c,d,m;if(s instanceof Ct)d=_i(s.firestore,Ea),m=zh(s._key.path),c={next:g=>{e[r]&&e[r](DE(d,s,g))},error:e[r+1],complete:e[r+2]};else{const g=_i(s,wa);d=_i(g.firestore,Ea),m=g._query;const y=new qp(d);c={next:E=>{e[r]&&e[r](new pa(d,y,g,E))},error:e[r+1],complete:e[r+2]},RE(s._query)}return(function(y,E,S,w){const P=new Mp(w),Y=new Cp(E,P,S);return y.asyncQueue.enqueueAndForget((async()=>Rp(await xh(y),Y))),()=>{P.Nu(),y.asyncQueue.enqueueAndForget((async()=>Np(await xh(y),Y)))}})(Ac(d),m,o,c)}function CE(s,e){return(function(r,o){const c=new xs;return r.asyncQueue.enqueueAndForget((async()=>yI(await NI(r),o,c))),c.promise})(Ac(s),e)}function DE(s,e,n){const r=n.docs.get(e._key),o=new qp(s);return new ma(s,o,e._key,r,new Yl(n.hasPendingWrites,n.fromCache),e.converter)}class KI{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Vp(e)}set(e,n,r){this._verifyNotCommitted();const o=dm(e,this._firestore),c=IE(o.converter,n,r),d=EE(this._dataReader,"WriteBatch.set",o._key,c,o.converter!==null,r);return this._mutations.push(d.toMutation(o._key,ai.none())),this}update(e,n,r,...o){this._verifyNotCommitted();const c=dm(e,this._firestore);let d;return d=typeof(n=bt(n))=="string"||n instanceof Xh?UI(this._dataReader,"WriteBatch.update",c._key,n,r,o):LI(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(d.toMutation(c._key,ai.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=dm(e,this._firestore);return this._mutations=this._mutations.concat(new fp(n._key,ai.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ue(X.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function dm(s,e){if((s=bt(s)).firestore!==e)throw new ue(X.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function qm(){return new jp("serverTimestamp")}function Hm(s){return Ac(s=_i(s,Ea)),new KI(s,(e=>CE(s,e)))}(function(e,n=!0){(function(o){Po=o})(jo),ya(new Rr("firestore",((r,{instanceIdentifier:o,options:c})=>{const d=r.getProvider("app").getImmediate(),m=new Ea(new Px(r.getProvider("auth-internal")),new zx(d,r.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ue(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ac(y.options.projectId,E)})(d,o),d);return c={useFetchStreams:n,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),zi(Z_,W_,e),zi(Z_,W_,"esm2020")})();var $I="firebase",XI="12.7.0";zi($I,XI,"app");const JI="type.googleapis.com/google.protobuf.Int64Value",ZI="type.googleapis.com/google.protobuf.UInt64Value";function kE(s,e){const n={};for(const r in s)s.hasOwnProperty(r)&&(n[r]=e(s[r]));return n}function Nh(s){if(s==null)return null;if(s instanceof Number&&(s=s.valueOf()),typeof s=="number"&&isFinite(s)||s===!0||s===!1||Object.prototype.toString.call(s)==="[object String]")return s;if(s instanceof Date)return s.toISOString();if(Array.isArray(s))return s.map(e=>Nh(e));if(typeof s=="function"||typeof s=="object")return kE(s,e=>Nh(e));throw new Error("Data cannot be encoded in JSON: "+s)}function Vo(s){if(s==null)return s;if(s["@type"])switch(s["@type"]){case JI:case ZI:{const e=Number(s.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+s);return e}default:throw new Error("Data cannot be decoded from JSON: "+s)}return Array.isArray(s)?s.map(e=>Vo(e)):typeof s=="function"||typeof s=="object"?kE(s,e=>Vo(e)):s}const Hp="functions";const Zv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Rn extends Xi{constructor(e,n,r){super(`${Hp}/${e}`,n||""),this.details=r,Object.setPrototypeOf(this,Rn.prototype)}}function WI(s){if(s>=200&&s<300)return"ok";switch(s){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Ih(s,e){let n=WI(s),r=n,o;try{const c=e&&e.error;if(c){const d=c.status;if(typeof d=="string"){if(!Zv[d])return new Rn("internal","internal");n=Zv[d],r=d}const m=c.message;typeof m=="string"&&(r=m),o=c.details,o!==void 0&&(o=Vo(o))}}catch{}return n==="ok"?null:new Rn(n,r,o)}class eC{constructor(e,n,r,o){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,wn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(c=>this.auth=c,()=>{}),this.messaging||r.get().then(c=>this.messaging=c,()=>{}),this.appCheck||o?.get().then(c=>this.appCheck=c,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),o=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:o}}}const Fm="us-central1",tC=/^data: (.*?)(?:\n|$)/;function nC(s){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new Rn("deadline-exceeded","deadline-exceeded"))},s)}),cancel:()=>{e&&clearTimeout(e)}}}class iC{constructor(e,n,r,o,c=Fm,d=(...m)=>fetch(...m)){this.app=e,this.fetchImpl=d,this.emulatorOrigin=null,this.contextProvider=new eC(e,n,r,o),this.cancelAllRequests=new Promise(m=>{this.deleteService=()=>Promise.resolve(m())});try{const m=new URL(c);this.customDomain=m.origin+(m.pathname==="/"?"":m.pathname),this.region=Fm}catch{this.customDomain=null,this.region=c}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function sC(s,e,n){const r=Or(e);s.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(Qm(s.emulatorOrigin+"/backends"),Ym("Functions",!0))}function rC(s,e,n){const r=o=>oC(s,e,o,{});return r.stream=(o,c)=>cC(s,e,o,c),r}function ME(s){return s.emulatorOrigin&&Or(s.emulatorOrigin)?"include":void 0}async function aC(s,e,n,r,o){n["Content-Type"]="application/json";let c;try{c=await r(s,{method:"POST",body:JSON.stringify(e),headers:n,credentials:ME(o)})}catch{return{status:0,json:null}}let d=null;try{d=await c.json()}catch{}return{status:c.status,json:d}}async function OE(s,e){const n={},r=await s.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function oC(s,e,n,r){const o=s._url(e);return lC(s,o,n,r)}async function lC(s,e,n,r){n=Nh(n);const o={data:n},c=await OE(s,r),d=r.timeout||7e4,m=nC(d),g=await Promise.race([aC(e,o,c,s.fetchImpl,s),m.promise,s.cancelAllRequests]);if(m.cancel(),!g)throw new Rn("cancelled","Firebase Functions instance was deleted.");const y=Ih(g.status,g.json);if(y)throw y;if(!g.json)throw new Rn("internal","Response is not valid JSON object.");let E=g.json.data;if(typeof E>"u"&&(E=g.json.result),typeof E>"u")throw new Rn("internal","Response is missing data field.");return{data:Vo(E)}}function cC(s,e,n,r){const o=s._url(e);return uC(s,o,n,r||{})}async function uC(s,e,n,r){n=Nh(n);const o={data:n},c=await OE(s,r);c["Content-Type"]="application/json",c.Accept="text/event-stream";let d;try{d=await s.fetchImpl(e,{method:"POST",body:JSON.stringify(o),headers:c,signal:r?.signal,credentials:ME(s)})}catch(w){if(w instanceof Error&&w.name==="AbortError"){const Y=new Rn("cancelled","Request was cancelled.");return{data:Promise.reject(Y),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(Y)}}}}}}const P=Ih(0,null);return{data:Promise.reject(P),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(P)}}}}}}let m,g;const y=new Promise((w,P)=>{m=w,g=P});r?.signal?.addEventListener("abort",()=>{const w=new Rn("cancelled","Request was cancelled.");g(w)});const E=d.body.getReader(),S=hC(E,m,g,r?.signal);return{stream:{[Symbol.asyncIterator](){const w=S.getReader();return{async next(){const{value:P,done:Y}=await w.read();return{value:P,done:Y}},async return(){return await w.cancel(),{done:!0,value:void 0}}}}},data:y}}function hC(s,e,n,r){const o=(d,m)=>{const g=d.match(tC);if(!g)return;const y=g[1];try{const E=JSON.parse(y);if("result"in E){e(Vo(E.result));return}if("message"in E){m.enqueue(Vo(E.message));return}if("error"in E){const S=Ih(0,E);m.error(S),n(S);return}}catch(E){if(E instanceof Rn){m.error(E),n(E);return}}},c=new TextDecoder;return new ReadableStream({start(d){let m="";return g();async function g(){if(r?.aborted){const y=new Rn("cancelled","Request was cancelled");return d.error(y),n(y),Promise.resolve()}try{const{value:y,done:E}=await s.read();if(E){m.trim()&&o(m.trim(),d),d.close();return}if(r?.aborted){const w=new Rn("cancelled","Request was cancelled");d.error(w),n(w),await s.cancel();return}m+=c.decode(y,{stream:!0});const S=m.split(`
`);m=S.pop()||"";for(const w of S)w.trim()&&o(w.trim(),d);return g()}catch(y){const E=y instanceof Rn?y:Ih(0,null);d.error(E),n(E)}}},cancel(){return s.cancel()}})}const Wv="@firebase/functions",e1="0.13.1";const dC="auth-internal",fC="app-check-internal",mC="messaging-internal";function pC(s){const e=(n,{instanceIdentifier:r})=>{const o=n.getProvider("app").getImmediate(),c=n.getProvider(dC),d=n.getProvider(mC),m=n.getProvider(fC);return new iC(o,c,d,m,r)};ya(new Rr(Hp,e,"PUBLIC").setMultipleInstances(!0)),zi(Wv,e1,s),zi(Wv,e1,"esm2020")}function gC(s=Xm(),e=Fm){const r=kh(bt(s),Hp).getImmediate({identifier:e}),o=h1("functions");return o&&yC(r,...o),r}function yC(s,e,n){sC(bt(s),e,n)}function _C(s,e,n){return rC(bt(s),e)}pC();const vC=typeof __firebase_config<"u"?JSON.parse(__firebase_config):{apiKey:"AIzaSyDTcSIPkEt2dtyAmlcC1xFVuZ68e8y1SKM",authDomain:"momentum-fitness-ai.firebaseapp.com",projectId:"momentum-fitness-ai",storageBucket:"momentum-fitness-ai.firebasestorage.app",messagingSenderId:"335276198384",appId:"1:335276198384:web:ac58a4771d605892203535",measurementId:"G-9DJX8R1NX8"};let Ju,Ts,Tr,VE;try{Ju=g1(vC),Ts=Mx(Ju),Tr=MI(Ju),VE=gC(Ju)}catch(s){console.error("Error al inicializar Firebase:",s)}const Ch={es:{lang:"es",online:"Online",guest:"Invitado",appTitle:"Momentum AI",routineInProgress:"Rutina en Curso",errorAuth:"Error de autenticacin",errorSave:"Error al guardar",errorHistorySave:"Error al guardar el historial. La sesin no se ha registrado.",errorInvalidCreds:"Credenciales invlidas.",errorEmailInUse:"El email ya est en uso.",tabTraining:"Entrenamiento",tabHistory:"Historial",tabProfile:"Perfil",signIn:"Iniciar Sesin",signUp:"Registrarse",signOut:"Cerrar Sesin",signInGuest:"Entrar como Invitado",emailPlaceholder:"correo@ejemplo.com",passwordPlaceholder:"Contrasea",passRequirementLength:"Mnimo 6 caracteres",passRequirementUpper:"Contiene una mayscula",passRequirementNumber:"Contiene un nmero",forgotPassword:"Olvidaste tu contrasea?",resetPassword:"Restablecer Contrasea",resetPasswordPrompt:"Introduce tu email para recibir un enlace de recuperacin.",resetEmailSentTitle:"Correo Enviado",resetEmailSentMessage:"Revisa tu bandeja de entrada para restablecer tu contrasea.",backToLogin:"Volver a Iniciar Sesin",saveAccountPrompt:"Guarda tu Progreso",saveAccountMessage:"Crea una cuenta para guardar tus datos y acceder desde cualquier dispositivo.",saveAccountButton:"Guardar Cuenta",signOutGuestTitle:"Atencin!",signOutGuestMessage:"Ests usando una cuenta de invitado. Si cierras sesin, perders todo tu progreso. Deseas guardar tu cuenta antes de salir?",signOutAndLoseData:"Salir y Perder Datos",accountLinkedTitle:"Cuenta Guardada!",accountLinkedMessage:"Tu progreso ha sido vinculado a tu correo. Ahora tu cuenta es permanente.",bioageTitle:"Perfil Avanzado (Bioage)",bioageSubtitle:"Biometra Clnica & Estructural",bioageDesc:"Datos opcionales para aumentar precisin de generacin de rutina.",structuralIntegrity:"Integridad Estructural",metabolicHealth:"Salud Metablica",clinicalAnalysis:"Anlisis Bioage",detectedRisks:"Reglas de Ajuste Activadas",healthyStatus:"Perfil equilibrado. Sin contraindicaciones estructurales detectadas.",calcBioAge:"Calcular Edad Biolgica",bioAgeResult:"Edad Biolgica Estimada",realAge:"Cronolgica",bioAgeAnalysis:"Anlisis de Longevidad",cycleTitle:"Salud Femenina (CycleSync)",cycleSubtitle:"Adaptacin al Ciclo Menstrual",lastPeriod:"Fecha ltima Menstruacin",cycleLength:"Duracin Ciclo (das)",phase:"Fase Actual",menstrual:"Menstrual",follicular:"Folicular",ovulation:"Ovulacin",luteal:"Ltea",phaseDesc:"Impacto en el Entrenamiento",tt_sq1rm:"Mximo peso para 1 repeticin en Sentadilla.",tt_bp1rm:"Mximo peso para 1 repeticin en Banca.",tt_pullups:"Mximas repeticiones estrictas.",tt_pushups:"Mximas flexiones estrictas.",tt_plank:"Tiempo mximo manteniendo postura perfecta.",tt_waist:"Circunferencia a nivel del ombligo.",tt_vo2:"Volumen mximo de oxgeno.",tt_rhr:"Pulsaciones nada ms despertar.",tt_hrr:"Pulsaciones que bajan 1 min despus de esfuerzo mximo.",generating:"Generando...",analyzing:"Analizando Biometra...",designing:"Diseando Terapia...",optimizing:"Optimizando Cargas...",finalizing:"Finalizando Plan...",processing:"Procesando...",weeklyProgress:"Progreso Semanal",generalView:"Vista General",weeklyPlan:"Plan Semanal",startRoutine:"COMENZAR",goalMet:"Objetivo Cumplido",progressReg:"Progreso registrado.",activeRecovery:"Recuperacin Activa",restVital:"El descanso es vital.",regenerateCycle:"Regenerar Ciclo",noPlan:"Sin plan semanal",adjustSession:"Ajuste de Sesin",modify:"Modificar:",focusZone:"Zona de Enfoque",timeAvailable:"Tiempo Disponible (min)",modality:"Modalidad",noEquipment:"Entrenamiento sin equipo",recalcParams:"Recalcular Parmetros",activeSession:"Sesin Activa",recovery:"Recuperacin",notes:"Notas",finishSession:"Finalizar Sesin",easy:"Fcil",good:"Adecuado",hard:"Difcil",hide:"OCULTAR",viewTech:"Ver Tcnica",series:"Serie",reps:"Reps",load:"Carga",superset:"Superserie",completed:"Completado",noRecords:"No hay registros previos.",biometrics:"Datos Bsicos",gender:"Gnero",age:"Edad",height:"Altura (cm)",weight:"Peso (kg)",bodyFat:"% Grasa (Opcional)",muscleMass:"% Msculo (Opcional)",customFocus:"Enfoque personalizado",mainGoal:"Objetivo Principal",expLevel:"Nivel Experiencia",daysWeek:"Das/Semana",injuries:"Lesiones / Limitaciones",saveFile:"Guardar Expediente",dataManagement:"Gestin de Datos",export:"Exportar",pasteJson:"Pegar JSON",uploadFile:"Cargar Archivo",phNotes:"Reporte de dolor, sensaciones o ajustes necesarios...",phInjuries:"Ej. Menisco rodilla derecha...",male:"Hombre",female:"Mujer",goalFat:"Perder Grasa / Metabolismo",goalMuscle:"Hipertrofia / Fuerza",goalStrength:"Fuerza Mxima",goalCardio:"Resistencia Cardio",expBeginner:"Principiante (0-6 meses)",expInter:"Intermedio (6m - 2y)",expAdvanced:"Avanzado (+2y)",msgPlanGen:"Nuevo plan teraputico generado!",msgSessionUpd:"Sesin clnica actualizada.",msgSessionReg:"Sesin completada y registrada.",msgBonusReg:"Entreno Bonus registrado!",msgProfileSaved:"Expediente guardado correctamente.",msgImported:"Datos importados.",importData:"Importar Datos",exportData:"Exportar Datos",copyBackup:"Copia de Seguridad",copied:"Copiado",copyToClip:"Copiar al Portapapeles",importBtn:"Importar",cancel:"Cancelar",smashSet:"TERMINAR SERIE",nextEx:"SIGUIENTE",prevEx:"ANTERIOR",finishWorkout:"TERMINAR",letsGo:"A DARLE!",restTimer:"DESCANSO",rateEffort:"Cmo sentiste el esfuerzo?",rateA1:"Esfuerzo Ejercicio 1",rateA2:"Esfuerzo Ejercicio 2",warmupTitle:"Calentamiento",warmupDesc:"Prepara tu cuerpo",startMain:"EMPEZAR RUTINA",cooldownTitle:"Enfriamiento",cooldownDesc:"Vuelta a la calma",finishComplete:"FINALIZAR SESIN",paused:"PAUSA"},en:{lang:"en",online:"Online",guest:"Guest",appTitle:"Momentum AI",routineInProgress:"Routine in Progress",errorAuth:"Authentication error",errorSave:"Error saving data",errorHistorySave:"Error saving history. The session was not recorded.",errorInvalidCreds:"Invalid credentials.",errorEmailInUse:"Email is already in use.",tabTraining:"Training",tabHistory:"History",tabProfile:"Profile",signIn:"Sign In",signUp:"Sign Up",signOut:"Sign Out",signInGuest:"Sign In as Guest",emailPlaceholder:"email@example.com",passwordPlaceholder:"Password",passRequirementLength:"At least 6 characters",passRequirementUpper:"Contains an uppercase letter",passRequirementNumber:"Contains a number",forgotPassword:"Forgot your password?",resetPassword:"Reset Password",resetPasswordPrompt:"Enter your email to receive a recovery link.",resetEmailSentTitle:"Email Sent",resetEmailSentMessage:"Check your inbox to reset your password.",backToLogin:"Back to Sign In",saveAccountPrompt:"Save Your Progress",saveAccountMessage:"Create an account to save your data and access it from any device.",saveAccountButton:"Save Account",signOutGuestTitle:"Warning!",signOutGuestMessage:"You are using a guest account. If you sign out, you will lose all your progress. Would you like to save your account before exiting?",signOutAndLoseData:"Sign Out & Lose Data",accountLinkedTitle:"Account Saved!",accountLinkedMessage:"Your progress has been linked to your email. Your account is now permanent.",bioageTitle:"Advanced Profile (Bioage)",bioageSubtitle:"Clinical & Structural Biometrics",bioageDesc:"Optional data to increase routine generation accuracy.",structuralIntegrity:"Structural Integrity",metabolicHealth:"Metabolic Health",clinicalAnalysis:"Bioage Analysis",detectedRisks:"Adjustment Rules Activated",healthyStatus:"Balanced profile. No structural contraindications detected.",calcBioAge:"Calculate Biological Age",bioAgeResult:"Estimated Biological Age",realAge:"Chronological",bioAgeAnalysis:"Longevity Analysis",cycleTitle:"Female Health (CycleSync)",cycleSubtitle:"Adaptation to Menstrual Cycle",lastPeriod:"Last Period Date",cycleLength:"Cycle Length (days)",phase:"Current Phase",menstrual:"Menstrual",follicular:"Follicular",ovulation:"Ovulation",luteal:"Luteal",phaseDesc:"Impact on Training",tt_sq1rm:"Maximum weight for 1 repetition in Squat.",tt_bp1rm:"Maximum weight for 1 repetition in Bench Press.",tt_pullups:"Maximum strict pull-ups.",tt_pushups:"Maximum strict push-ups.",tt_plank:"Maximum time holding a perfect plank.",tt_waist:"Circumference at navel level.",tt_vo2:"Maximum volume of oxygen.",tt_rhr:"Heart rate upon waking.",tt_hrr:"Heart rate drop 1 min after maximum effort.",generating:"Generating...",analyzing:"Analyzing Biometrics...",designing:"Designing Therapy...",optimizing:"Optimizing Loads...",finalizing:"Finalizing Plan...",processing:"Processing...",weeklyProgress:"Weekly Progress",generalView:"General View",weeklyPlan:"Weekly Plan",startRoutine:"START",goalMet:"Goal Achieved",progressReg:"Progress registered.",activeRecovery:"Active Recovery",restVital:"Rest is vital.",regenerateCycle:"Regenerate Cycle",noPlan:"No weekly plan",adjustSession:"Session Adjustment",modify:"Modify:",focusZone:"Focus Zone",timeAvailable:"Time Available (min)",modality:"Modality",noEquipment:"No-equipment training",recalcParams:"Recalculate Parameters",activeSession:"Active Session",recovery:"Recovery",notes:"Notes",finishSession:"Finish Session",easy:"Easy",good:"Good",hard:"Hard",hide:"HIDE",viewTech:"View Technique",series:"Set",reps:"Reps",load:"Load",superset:"Superset",completed:"Completed",noRecords:"No previous records.",biometrics:"Basic Data",gender:"Gender",age:"Age",height:"Height (cm)",weight:"Weight (kg)",bodyFat:"% Fat (Optional)",muscleMass:"% Muscle (Optional)",customFocus:"Custom Focus",mainGoal:"Main Goal",expLevel:"Experience Level",daysWeek:"Days/Week",injuries:"Injuries / Limitations",saveFile:"Save File",dataManagement:"Data Management",export:"Export",pasteJson:"Paste JSON",uploadFile:"Upload File",phNotes:"Report pain, sensations, or necessary adjustments...",phInjuries:"e.g., Right knee meniscus...",male:"Male",female:"Female",goalFat:"Fat Loss / Metabolism",goalMuscle:"Hypertrophy / Strength",goalStrength:"Max Strength",goalCardio:"Cardio Endurance",expBeginner:"Beginner (0-6 months)",expInter:"Intermediate (6m - 2y)",expAdvanced:"Advanced (+2y)",msgPlanGen:"New therapeutic plan generated!",msgSessionUpd:"Clinical session updated.",msgSessionReg:"Session completed and registered.",msgBonusReg:"Bonus workout registered!",msgProfileSaved:"File saved successfully.",msgImported:"Data imported.",importData:"Import Data",exportData:"Export Data",copyBackup:"Backup Copy",copied:"Copied",copyToClip:"Copy to Clipboard",importBtn:"Import",cancel:"Cancelar",smashSet:"FINISH SET",nextEx:"NEXT",prevEx:"PREVIOUS",finishWorkout:"FINISH",letsGo:"LET'S GO!",restTimer:"REST",rateEffort:"How did you feel the effort?",rateA1:"Effort Exercise 1",rateA2:"Effort Exercise 2",warmupTitle:"Warm-up",warmupDesc:"Prepare your body",startMain:"START ROUTINE",cooldownTitle:"Cool-down",cooldownDesc:"Return to calm",finishComplete:"FINISH SESSION",paused:"PAUSED"}},bC=(s,e)=>{let n=60;const r=s?.mainGoal||"";if(r.includes("Fuerza")||r.includes("Strength")?n=180:r.includes("Hipertrofia")||r.includes("Hypertrophy")?n=90:(r.includes("Grasa")||r.includes("Cardio")||r.includes("Fat"))&&(n=45),e?.tipo_bloque==="superserie"&&(r.includes("Fuerza")||r.includes("Strength")?n=180:n=60),e?.tipo_bloque!=="superserie"){const o=parseFloat(s?.bioage?.hrr)||0,c=parseFloat(s?.bioage?.vo2max)||0;o>30&&c>45&&(n-=15)}return Math.max(30,n)},jE=s=>{const e=[],n=s.bioage||{},r=parseFloat(s.weight)||70,o=parseFloat(s.height)||175,c=parseFloat(n.sq1rm)||0,d=parseFloat(n.plank)||0,m=parseFloat(n.pushups)||0,g=parseFloat(n.waist)||0,y=parseFloat(n.vo2max)||45,E=parseFloat(n.rhr)||60;c>1.5*r&&d>0&&d<45&&e.push("RIESGO LUMBAR (Fuerza > Estabilidad): Sustituir Sentadilla pesada por variantes unilaterales.");const S=s.gender==="Hombre"?15:10;return m>0&&m<S&&e.push("DFICIT RESISTENCIA EMPUJE: Priorizar volumen en empuje."),(g>0&&o>0?g/o:0)>.55&&e.push("RIESGO METABLICO (ICA > 0.55): Prioridad Gasto Calrico."),(y<38&&y>0||E>80)&&e.push("CAPACIDAD AERBICA BAJA: Aumentar descansos."),e},EC=(s,e=28)=>{if(!s)return null;const n=new Date(s);if(isNaN(n.getTime()))return null;const o=Math.abs(new Date-n),d=Math.ceil(o/(1e3*60*60*24))%e||e;return d>=1&&d<=5?{phase:"menstrual",day:d,label:"Menstrual",desc:"Energa baja. Recuperacin."}:d>=6&&d<=13?{phase:"follicular",day:d,label:"Folicular",desc:"Energa alta. Fuerza."}:d>=14&&d<=16?{phase:"ovulation",day:d,label:"Ovulacin",desc:"Pico de Fuerza."}:{phase:"luteal",day:d,label:"Ltea",desc:"Energa moderada."}},TC=s=>{const e=Math.floor(s/60),n=s%60;return`${e}:${n.toString().padStart(2,"0")}`},As=s=>{if(!s)return"";let e=s,n;const r=/^(?:Superserie:?|Serie\s?\w+|[A-Z]\d+[:.)-]?|[A-Z][:.)-]|\d+[:.)-])\s*/i;do n=e,e=e.replace(r,"").replace(/^[A-Z]\d+\s+/,"").trim();while(e!==n&&e.length>0);return e},PE=s=>{if(!s)return"Entrenamiento";let e=s.replace(/^(?:Lunes|Martes|Mircoles|Miercoles|Jueves|Viernes|Sbado|Sabado|Domingo)(?:\s*[:,-])?\s*/i,"");return e=e.replace(/^(?:Da|Dia)\s*\d+\s*[:,-]?\s*/i,""),e.trim()||"Entrenamiento"},fm=s=>{if(!s)return"--";let e=s.replace(/segundos?|segun\w*/gi,"seg").replace(/minutos?|mins?/gi,"min");if(/min|seg|sec|m\b|s\b/i.test(e))return e.substring(0,8);const n=e.match(/\d+/);return n?n[0]:"--"},mm=s=>{if(!s||/PC|Bodyweight/i.test(s))return"BW";if(s.includes("%")||/Nvl/i.test(s))return s.substring(0,6);const e=s.match(/[\d.]+/);return e?`${e[0]} kg`:"BW"},LE={type:"OBJECT",properties:{tipo_bloque:{type:"STRING",enum:["normal","superserie"]},ejercicio:{type:"STRING"},tecnica_general:{type:"STRING"},componentes:{type:"ARRAY",items:{type:"OBJECT",properties:{numero_serie:{type:"INTEGER"},repeticiones_ejercicio:{type:"STRING"},carga_sugerida:{type:"STRING"},repeticiones_ejercicioA:{type:"STRING"},carga_sugeridaA:{type:"STRING"},repeticiones_ejercicioB:{type:"STRING"},carga_sugeridaB:{type:"STRING"},completado:{type:"BOOLEAN",default:!1}},required:["numero_serie"]}}},required:["tipo_bloque","ejercicio","componentes","tecnica_general"]},UE=(s,e,n,r,o,c="")=>{const d=e.length>0?`
[CLINICAL]:
${e.map(S=>`- ${S}`).join(`
`)}`:`
[Clinical]: Healthy.`,m=parseFloat(s.bioage?.sq1rm)||0,g=s.gender==="Hombre",y=parseFloat(s.weight)||70,E=m>0?m:Math.round(y*(g?1.2:.8));return`Eres "FitCoach AI". ${o}
  Atleta: ${s.gender}, ${s.age} aos, ${y}kg.
  Lesiones: ${s.injuries||"Ninguna"}.
  Fuerza Base (Est): Squat ${E} kg.
  Meta: ${s.mainGoal}.
  Tiempo Disponible: ${s.timeAvailable} min.
  ${d}
  Historial: ${r}
  ${c}
  INSTRUCCIN: La duracin total debe ser cercana a ${s.timeAvailable} minutos.
  REGLAS: 
  1. Nombres descriptivos y completos (ej: "Sentadilla (Goblet)" en vez de "Sentadilla").
  2. SUPERSERIES: Campo "ejercicio" DEBE usar formato "A1: [Nombre] + A2: [Nombre]".
  3. Carga en kg, Reps numricas. JSON Estricto.`};async function Fp(s,e,n,r){try{return(await _C(VE,"callGeminiAPI")({userQuery:s,systemPrompt:e,schema:n,responseKey:r})).data}catch(o){throw console.error("Error en callGeminiAPI (Cloud Function):",o),new Error("Error al comunicarse con el servidor de IA.")}}async function AC(s,e,n){const r=n==="en"?"RESPOND IN ENGLISH.":"RESPONDE EN ESPAOL.",o=jE(s),c=UE(s,o,"WEEKLY_PLAN",e,r),d=`Genera un nuevo plan semanal de ${s.daysPerWeek} das.`;return await Fp(d,c,{type:"OBJECT",properties:{planSemanal:{type:"ARRAY",items:{type:"OBJECT",properties:{diaEnfoque:{type:"STRING"},descripcionBreve:{type:"STRING"},duracionEstimada:{type:"STRING"},calentamiento:{type:"STRING"},rutinaPrincipal:{type:"ARRAY",items:LE},enfriamiento:{type:"STRING"},consejoPro:{type:"STRING"}},required:["diaEnfoque","descripcionBreve","rutinaPrincipal","enfriamiento","consejoPro","duracionEstimada"]}}}},"planSemanal")}async function SC(s,e,n,r){const o=r==="en"?"RESPOND IN ENGLISH.":"RESPONDE EN ESPAOL.",c=jE(s),{newFocus:d,newTime:m,noEquipment:g}=n,y=`Nuevo Enfoque: ${d}. TIEMPO: ${m} min. ${g?"Sin Equipo":"Con Equipo"}.`,E={...s,timeAvailable:m},S=UE(E,c,"SESSION_ADJUSTMENT",[],o,y),w=`Ajusta esta rutina: ${JSON.stringify(e)}.`;return await Fp(w,S,{type:"OBJECT",properties:{diaEnfoque:{type:"STRING"},descripcionBreve:{type:"STRING"},duracionEstimada:{type:"STRING"},calentamiento:{type:"STRING"},rutinaPrincipal:{type:"ARRAY",items:LE},enfriamiento:{type:"STRING"},consejoPro:{type:"STRING"}},required:["diaEnfoque","rutinaPrincipal"]},null)}async function wC(s,e){const n=s.bioage||{},o=`Eres Especialista Clnico. ${e==="en"?"RESPOND IN ENGLISH.":"RESPONDE EN ESPAOL."}. Calcula edad biolgica basada en ${s.age} aos, VO2Max ${n.vo2max}, Fuerza ${n.sq1rm}. Si faltan datos, estima con lo disponible.`;return await Fp("Analiza mi edad biolgica",o,{type:"OBJECT",properties:{edadBiologica:{type:"INTEGER"},diferencia:{type:"INTEGER"},evaluacion:{type:"STRING"}},required:["edadBiologica","evaluacion"]},null)}const zE=(typeof __app_id<"u"?__app_id:"momentum-fitness-ai").replace(/[\/.]/g,"_"),xC=s=>{const[e,n]=ee.useState(null),[r,o]=ee.useState(!1),[c,d]=ee.useState(!1),[m,g]=ee.useState(null);ee.useEffect(()=>{const J=Ew(Ts,G=>{n(G?G.uid:null),o(G?G.isAnonymous:!1),d(!0)});return()=>J()},[]);const y=ee.useCallback(async(J,G)=>{g(null);try{await _w(Ts,J,G)}catch(ne){console.error("Sign-in error:",ne.code),["auth/user-not-found","auth/wrong-password","auth/invalid-credential"].includes(ne.code)?g(s.errorInvalidCreds):g(s.errorAuth)}},[s]),E=ee.useCallback(async(J,G)=>{g(null);try{await yw(Ts,J,G)}catch(ne){console.error("Sign-up error:",ne.code),g(ne.code==="auth/email-already-in-use"?s.errorEmailInUse:s.errorAuth)}},[s]),S=ee.useCallback(async()=>{g(null);try{await uw(Ts)}catch(J){console.error("Anonymous sign-in error:",J),g(s.errorAuth)}},[s]),w=ee.useCallback(async()=>{g(null);try{await Tw(Ts)}catch(J){console.error("Sign-out error:",J),g(s.errorAuth)}},[s]),P=ee.useCallback(async(J,G)=>{if(!Ts.currentUser)throw new Error("No user is currently signed in.");const ne=Ta.credential(J,G);await pw(Ts.currentUser,ne)},[]),Y=ee.useCallback(async J=>{await gw(Ts,J)},[]);return{userId:e,isAnonymous:r,isAuthReady:c,authError:m,setAuthError:g,handleSignIn:y,handleSignUp:E,handleAnonymousSignIn:S,handleSignOut:w,handleLinkAccount:P,handlePasswordReset:Y}},RC=(s,e,n)=>{const r={gender:"Hombre",age:30,height:175,weight:75,bodyFat:15,muscleMass:40,daysPerWeek:3,mainGoal:"Perder grasa corporal",experienceLevel:"Intermedio",injuries:"",muscleFocus:"recomendado",timeAvailable:45,currentPlanId:null,bioage:{},bioageEstimation:null,menstrualCycle:{lastPeriod:"",cycleLength:28}},[o,c]=ee.useState(r),[d,m]=ee.useState(null),[g,y]=ee.useState(null),[E,S]=ee.useState(!1),w=ee.useMemo(()=>s&&Tr?Ro(Tr,"artifacts",zE,"users",s,"profile","userProfile"):null,[s]);ee.useEffect(()=>{if(!e||!s||!w){c(r);return}let G=!0;return(async()=>{try{const oe=await QI(w);if(G)if(oe.exists()){const le=oe.data();c(_e=>({...r,...le,bioage:le.bioage||{},bioageEstimation:le.bioageEstimation||null,menstrualCycle:le.menstrualCycle||{lastPeriod:"",cycleLength:28}}))}else await No(w,r),c(r)}catch(oe){console.error("Error fetching profile:",oe)}})(),()=>{G=!1}},[e,s,w]);const P=G=>{const{name:ne,value:oe,type:le}=G.target;c(_e=>{let Te=oe;return ne==="bioage"||ne==="menstrualCycle"?{..._e,[ne]:oe}:(ne==="daysPerWeek"&&oe!==""?Te=Math.max(1,Math.min(7,parseInt(oe,10)||1)):le==="number"&&(Te=oe===""?"":parseFloat(oe)),{..._e,[ne]:Te})})},Y=ee.useCallback(async G=>{if(w){y(null),m(null);try{await No(w,G,{merge:!0}),m(n.msgProfileSaved)}catch{y(n.errorSave)}setTimeout(()=>{m(null),y(null)},3e3)}},[w,n]),J=ee.useCallback(async(G,ne)=>{S(!0),y(null);try{const oe=await wC(G,ne),le={...G,bioageEstimation:oe};c(le),w&&await No(w,{bioageEstimation:oe},{merge:!0})}catch(oe){console.error(oe),y("Error al calcular BioAge.")}finally{S(!1)}},[w]);return{profile:o,setProfile:c,handleProfileChange:P,handleProfileSave:Y,handleAnalyzeBioage:J,bioageLoading:E,profileSuccess:d,profileError:g,profileDocRef:w}},NC=(s,e,n,r,o,c,d,m,g,y,E,S)=>{const[w,P]=ee.useState([]),Y=ee.useMemo(()=>s&&Tr?kI(Tr,"artifacts",zE,"users",s,"routines"):null,[s]);return ee.useEffect(()=>{if(!e||!s||!Y){P([]);return}let ne=!0;const oe=YI(hm(Y),le=>{if(ne){const _e=le.docs.map(Te=>({id:Te.id,...Te.data()}));P(_e)}},le=>{console.error(le)});return()=>{ne=!1,oe()}},[e,s,Y]),{history:w,setHistory:P,handleGenerateWeeklyPlan:async ne=>{if(!Y||!y)return;c(!0),m(null),S(0);const oe=[r.analyzing,r.designing,r.optimizing,r.finalizing];let le=0;o(oe[le]);const _e=setInterval(()=>{le=(le+1)%oe.length,o(oe[le]),S(Te=>Math.min(Te+10,90))},2500);try{const Te=w.filter(R=>R.status==="completed").slice(0,5),xe=await AC(n,Te,ne);if(clearInterval(_e),S(100),!xe||!Array.isArray(xe)||xe.length===0)throw new Error("La IA no gener un plan vlido. Por favor, intntalo de nuevo.");o(r.processing);const I=Hm(Tr);(await Jv(hm(Y))).docs.forEach(R=>{R.data().status!=="completed"&&I.delete(R.ref)}),await I.commit();const N=`plan_${Date.now()}`,O=Hm(Tr);xe.forEach((R,Re)=>{const Qe=Ro(Y);O.set(Qe,{...R,planId:N,weekDay:Re,status:"pending",createdAt:qm()})}),await No(y,{currentPlanId:N},{merge:!0}),O.commit(),E(R=>({...R,currentPlanId:N}));const V=(await Jv(hm(Y))).docs.map(R=>({id:R.id,...R.data()}));P(V),d(r.msgPlanGen)}catch(Te){console.error("Error generating weekly plan:",Te);const xe=Te.message.includes("La IA no gener")?Te.message:r.errorSave;m(xe),clearInterval(_e),S(0)}finally{c(!1),o(""),setTimeout(()=>d(null),3500)}},handleAdjustNextSession:async(ne,oe,le)=>{if(!(!Y||!oe)){c(!0),m(null),o(r.recalcParams);try{const _e=await SC(n,oe,le,ne);if(!_e||typeof _e!="object"||!_e.rutinaPrincipal)throw new Error("La IA no gener un ajuste vlido. Por favor, intntalo de nuevo.");const Te=Ro(Y,oe.id);await No(Te,{..._e,status:"pending",modifiedAt:qm()},{merge:!0}),g(!1),d(r.msgSessionUpd)}catch(_e){console.error("Error adjusting session:",_e);const Te=_e.message.includes("La IA no gener")?_e.message:r.errorSave;m(Te)}finally{c(!1),o(""),setTimeout(()=>d(null),3e3)}}},routinesColRef:Y}},IC=()=>{const[s,e]=ee.useState("es"),n=ee.useMemo(()=>Ch[s]||Ch.es,[s]),[r,o]=ee.useState("training"),[c,d]=ee.useState("main"),[m,g]=ee.useState(null),[y,E]=ee.useState(!0),[S,w]=ee.useState(""),[P,Y]=ee.useState(!1),[J,G]=ee.useState(null),[ne,oe]=ee.useState(!1),[le,_e]=ee.useState(!1),[Te,xe]=ee.useState(0),{userId:I,isAnonymous:x,isAuthReady:N,authError:O,setAuthError:D,handleSignIn:V,handleSignUp:R,handleAnonymousSignIn:Re,handleSignOut:Qe,handleLinkAccount:F,handlePasswordReset:se}=xC(n),{profile:ce,setProfile:Me,handleProfileChange:je,handleProfileSave:k,handleAnalyzeBioage:K,bioageLoading:re,profileSuccess:te,profileError:me,profileDocRef:Ae}=RC(I,N,n),[ie,pe]=ee.useState(null),{history:ve,setHistory:ut,handleGenerateWeeklyPlan:Bt,handleAdjustNextSession:mn,routinesColRef:Gt}=NC(I,N,ce,n,w,Y,G,pe,oe,Ae,Me,xe),[pn,zn]=ee.useState(null),[hn,oi]=ee.useState(!1),[Ji,dt]=ee.useState(0),[gt,Tt]=ee.useState(0),[Vs,Bn]=ee.useState(!1),qt=ee.useRef(null),Nn=ee.useRef(null),[Pr,Lr]=ee.useState(!1),Ei=ee.useRef(null),[Bo,Ur]=ee.useState(!1),[xa,Ra]=ee.useState(""),[sn,Dt]=ee.useState(null),[gn,yt]=ee.useState(!1),Na=ee.useMemo(()=>ve.find(Ie=>Ie.id===m),[ve,m]),js=ee.useMemo(()=>ie||me,[ie,me]);ee.useEffect(()=>{if(N){const Ie=setTimeout(()=>E(!1),1200);return()=>clearTimeout(Ie)}},[N]),ee.useEffect(()=>{!I&&N&&(o("training"),d("main"),g(null))},[I,N]);const Ia=Ie=>Lr(Ie.target.scrollTop>20),qn=()=>e(Ie=>Ie==="es"?"en":"es"),Zi=ee.useCallback(async(Ie,et)=>{zn(null);try{return await F(Ie,et),!0}catch(tt){return console.error("Link account error:",tt.code),tt.code==="auth/email-already-in-use"?zn(n.errorEmailInUse):["auth/invalid-credential","auth/wrong-password"].includes(tt.code)?zn(n.errorInvalidCreds):zn(n.errorAuth),!1}},[n,F]),At=ee.useCallback(async Ie=>{D(null);try{return await se(Ie),!0}catch(et){return console.error("Password reset error:",et.code),et.code==="auth/user-not-found"?D(n.errorInvalidCreds):D(n.errorAuth),!1}},[n,se,D]),Hn=ee.useCallback(()=>{x?_e(!0):Qe()},[x,Qe]),Fn=ee.useCallback(()=>{_e(!1),Qe()},[Qe]),In=ee.useCallback(Ie=>{Ie&&Ie.id&&(g(Ie.id),d("routine"),oi(!0))},[]),Ps=ee.useCallback(()=>{d("main"),g(null),oi(!1),Bn(!1),Tt(0),dt(0)},[]),Ca=ee.useCallback(async(Ie,et,tt,Ke)=>{if(!Gt||!Ie){Ps();return}const rn={status:"completed",completedAt:new Date,feedback:et,notes:tt,mode:Ke,completedOnDay:(new Date().getDay()+6)%7};ut(Qn=>Qn.map(ns=>ns.id===Ie?{...ns,...rn,completedAt:ct.fromDate(rn.completedAt)}:ns)),Ps(),G(n.msgSessionReg),setTimeout(()=>G(null),3e3);try{const Qn=Ro(Gt,Ie);await No(Qn,{...rn,completedAt:qm()},{merge:!0})}catch(Qn){console.error("Error saving feedback to Firebase:",Qn),pe(n.errorHistorySave),ut(ns=>ns.map(Ls=>Ls.id===Ie?{...Ls,status:"pending",completedAt:null,feedback:null,notes:null,mode:null}:Ls)),setTimeout(()=>pe(null),4e3)}},[Gt,Ps,ut,n,pe,G]),Gn=ee.useCallback(Ie=>{if(clearInterval(Nn.current),Ie){const et=bC(ce,Ie);Tt(et),Bn(!0)}else Bn(!1),Tt(0)},[ce]);ee.useEffect(()=>(hn?qt.current=setInterval(()=>{dt(Ie=>Ie+1)},1e3):clearInterval(qt.current),()=>clearInterval(qt.current)),[hn]),ee.useEffect(()=>(Vs&&hn?Nn.current=setInterval(()=>{Tt(Ie=>Ie<=1?(clearInterval(Nn.current),Bn(!1),0):Ie-1)},1e3):(clearInterval(Nn.current),gt>0&&(Tt(0),Bn(!1))),()=>clearInterval(Nn.current)),[Vs,hn]);const Wi=ee.useCallback(()=>k(ce),[k,ce]),qo=ee.useCallback(()=>Bt(s),[Bt,s]),es=ee.useCallback(()=>K(ce,s),[K,ce,s]),zr=ee.useCallback((Ie,et)=>mn(s,Ie,et),[mn,s]),Br=ee.useCallback(()=>{Dt(JSON.stringify({profile:ce,history:ve},null,2))},[ce,ve]),ts=()=>Dt(null),li=ee.useCallback(()=>{sn&&navigator.clipboard.writeText(sn).then(()=>{yt(!0),setTimeout(()=>yt(!1),2e3)})},[sn]),Da=ee.useCallback(async Ie=>{try{const et=JSON.parse(Ie);if(!et.profile||!et.history)throw new Error("Invalid backup format.");if(await k(et.profile),Gt){const tt=Hm(Tr);et.history.forEach(Ke=>{const rn=Ke.id?Ro(Gt,Ke.id):Ro(Gt);Ke.createdAt&&!Ke.createdAt.seconds&&(Ke.createdAt=ct.fromDate(new Date(Ke.createdAt))),Ke.completedAt&&!Ke.completedAt.seconds&&(Ke.completedAt=ct.fromDate(new Date(Ke.completedAt))),tt.set(rn,Ke,{merge:!0})}),await tt.commit()}Ur(!1)}catch(et){Ra(`Error: ${et.message}`)}},[Gt,k]);return{t:n,activeTab:r,view:c,currentRoutine:Na,showSplash:y,scrolled:Pr,headerRef:Ei,isImportModalOpen:Bo,importTextError:xa,backupJson:sn,copySuccess:gn,isSessionActive:hn,sessionSeconds:Ji,restSeconds:gt,progressText:S,loading:P,successMessage:J,showAdjustment:ne,userId:I,isAuthReady:N,authError:O,isAnonymous:x,linkAccountError:pn,isSignOutWarningVisible:le,profile:ce,bioageLoading:re,profileSuccess:te,profileError:me,history:ve,generationProgress:Te,error:js,toggleLanguage:qn,setActiveTab:o,handleScroll:Ia,setProgressText:w,setShowAdjustment:oe,setAuthError:D,setIsSignOutWarningVisible:_e,onSignIn:V,onSignUp:R,onAnonymousSignIn:Re,onSignOutRequest:Hn,onForceSignOut:Fn,onLinkAccount:Zi,onPasswordReset:At,handleViewRoutine:In,handleBackToMain:Ps,handleRoutineFeedback:Ca,handleExerciseComplete:Gn,setRestSeconds:Tt,setIsSessionActive:oi,onProfileChange:je,onProfileSave:Wi,onAnalyzeBioage:es,onGeneratePlan:qo,onAdjustNextSession:zr,onGenerateBackup:Br,onCloseBackupModal:ts,onCopyToClipboard:li,setIsImportModalOpen:Ur,onImportFromText:Da}};const CC=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DC=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),t1=s=>{const e=DC(s);return e.charAt(0).toUpperCase()+e.slice(1)},BE=(...s)=>s.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),kC=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var MC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const OC=ee.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:d,...m},g)=>ee.createElement("svg",{ref:g,...MC,width:e,height:e,stroke:s,strokeWidth:r?Number(n)*24/Number(e):n,className:BE("lucide",o),...!c&&!kC(m)&&{"aria-hidden":"true"},...m},[...d.map(([y,E])=>ee.createElement(y,E)),...Array.isArray(c)?c:[c]]));const ge=(s,e)=>{const n=ee.forwardRef(({className:r,...o},c)=>ee.createElement(OC,{ref:c,iconNode:e,className:BE(`lucide-${CC(t1(s))}`,`lucide-${s}`,r),...o}));return n.displayName=t1(s),n};const VC=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],jC=ge("activity",VC);const PC=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],LC=ge("arrow-left",PC);const UC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],zC=ge("arrow-right",UC);const BC=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],qC=ge("brain-circuit",BC);const HC=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],n1=ge("calendar-days",HC);const FC=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],GC=ge("check",FC);const QC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],YC=ge("chevron-down",QC);const KC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],$C=ge("chevron-right",KC);const XC=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],JC=ge("chevron-up",XC);const ZC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],WC=ge("circle-check-big",ZC);const e4=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],t4=ge("clipboard-list",e4);const n4=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],i4=ge("clipboard",n4);const s4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],i1=ge("clock",s4);const r4=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],a4=ge("copy",r4);const o4=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],l4=ge("database",o4);const c4=[["path",{d:"m10 16 1.5 1.5",key:"11lckj"}],["path",{d:"m14 8-1.5-1.5",key:"1ohn8i"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993",key:"80uv8i"}],["path",{d:"m16.5 10.5 1 1",key:"696xn5"}],["path",{d:"m17 6-2.891-2.891",key:"xu6p2f"}],["path",{d:"M2 15c6.667-6 13.333 0 20-6",key:"1pyr53"}],["path",{d:"m20 9 .891.891",key:"3xwk7g"}],["path",{d:"M3.109 14.109 4 15",key:"q76aoh"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m7 18 2.891 2.891",key:"1sisit"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993",key:"q3hbxp"}]],u4=ge("dna",c4);const h4=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],d4=ge("download",h4);const f4=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],s1=ge("dumbbell",f4);const m4=[["path",{d:"M12 6a2 2 0 0 1 3.414-1.414l6 6a2 2 0 0 1 0 2.828l-6 6A2 2 0 0 1 12 18z",key:"b19h5q"}],["path",{d:"M2 6a2 2 0 0 1 3.414-1.414l6 6a2 2 0 0 1 0 2.828l-6 6A2 2 0 0 1 2 18z",key:"h7h5ge"}]],p4=ge("fast-forward",m4);const g4=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],y4=ge("file-braces",g4);const _4=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],v4=ge("flame",_4);const b4=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}],["path",{d:"M3.22 13H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"auskq0"}]],E4=ge("heart-pulse",b4);const T4=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],A4=ge("heart",T4);const S4=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],w4=ge("hourglass",S4);const x4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],R4=ge("info",x4);const N4=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],I4=ge("languages",N4);const C4=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],D4=ge("layers",C4);const k4=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],M4=ge("link-2",k4);const O4=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],V4=ge("link",O4);const j4=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],P4=ge("loader-circle",j4);const L4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],U4=ge("log-out",L4);const z4=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],B4=ge("maximize-2",z4);const q4=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M7 11h10",key:"1twpyw"}],["path",{d:"M7 15h6",key:"d9of3u"}],["path",{d:"M7 7h8",key:"af5zfr"}]],H4=ge("message-square-text",q4);const F4=[["path",{d:"M5 12h14",key:"1ays0h"}]],G4=ge("minus",F4);const Q4=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Y4=ge("moon",Q4);const K4=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],$4=ge("pause",K4);const X4=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],J4=ge("play",X4);const Z4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],W4=ge("plus",Z4);const e5=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],t5=ge("refresh-cw",e5);const n5=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],i5=ge("ruler",n5);const s5=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],r5=ge("save",s5);const a5=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M18.944 12.33a1 1 0 0 0 0-.66 7.5 7.5 0 0 0-13.888 0 1 1 0 0 0 0 .66 7.5 7.5 0 0 0 13.888 0",key:"11ak4c"}]],o5=ge("scan-eye",a5);const l5=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],c5=ge("settings",l5);const u5=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],h5=ge("shield-alert",u5);const d5=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],qE=ge("sparkles",d5);const f5=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],m5=ge("star",f5);const p5=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],g5=ge("stethoscope",p5);const y5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],_5=ge("target",y5);const v5=[["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}],["path",{d:"M17 14V2",key:"8ymqnk"}]],b5=ge("thumbs-down",v5);const E5=[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]],T5=ge("thumbs-up",E5);const A5=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],S5=ge("timer",A5);const w5=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],x5=ge("toggle-left",w5);const R5=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],N5=ge("toggle-right",R5);const I5=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],C5=ge("triangle-alert",I5);const D5=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],k5=ge("trophy",D5);const M5=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],O5=ge("upload",M5);const V5=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],j5=ge("user",V5);const P5=[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]],L5=ge("weight",P5);const U5=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],z5=ge("wind",U5);const B5=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],q5=ge("x",B5);const H5=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],F5=ge("youtube",H5);const G5=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Q5=ge("zap",G5),he=({name:s,className:e=""})=>{if(s==="youtube")return _.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17"}),_.jsx("path",{d:"m10 15 5-3-5-3z"})]});const r={dumbbell:s1,list:t4,user:j5,loader:P4,sparkles:qE,arrowLeft:LC,database:l4,feedback:H4,check:WC,checkSimple:GC,target:_5,upload:O5,download:d4,close:q5,copy:a4,clipboard:i4,moon:Y4,calendar:n1,clock:i1,refresh:t5,alert:C5,star:m5,biceps:s1,ruler:i5,weight:L5,activity:jC,flame:v4,play:J4,save:r5,settings:c5,logout:U4,chevronRight:$C,info:R4,layers:D4,link:V4,plus:W4,timer:S5,toggleOn:N5,toggleOff:x5,lang:I4,chevronDown:YC,chevronUp:JC,heartPulse:E4,shieldAlert:h5,brain:qC,stethoscope:g5,scanEye:o5,fileJson:y4,link2:M4,dna:u4,flower:A4,calendarHeart:n1,hourglass:w4,coffee:i1,arrowRight:zC,zap:Q5,trophy:k5,max:B4,youtube:F5,fastForward:p4,thumbsUp:T5,thumbsDown:b5,minus:G4,pause:$4,wind:z5}[s];return r?_.jsx(r,{className:`${e}`,strokeWidth:2}):null},Y5=({routine:s,onBack:e,routineId:n,onRoutineFeedback:r,lang:o,onExerciseComplete:c,restSeconds:d,setRestSeconds:m,setIsSessionActive:g,isSessionActive:y,sessionSeconds:E})=>{const w=Ch?.[o||"es"]||Ch?.es||{},[P,Y]=ee.useState("warmup"),[J,G]=ee.useState(0),[ne,oe]=ee.useState(""),[le,_e]=ee.useState({}),[Te,xe]=ee.useState([]),[I,x]=ee.useState({}),[N,O]=ee.useState(!1),D=d>0;if(!s)return null;const V=s.rutinaPrincipal||[],R=V.length,Re=P==="workout"?V[J]:null,Qe=Re?.tipo_bloque==="superserie",F=P==="warmup"?0:P==="cooldown"?100:(J+1)/R*100,se=ie=>{if(!ie)return;const pe=ie.replace(/^(?:A[1-2]:?|B[1-2]:?|Superserie:?|Serie\s?\w+)\s*/i,"").replace(/\(.*\)/,"").trim(),ve=encodeURIComponent(`${pe} tecnica ejercicio`);window.open(`https://www.youtube.com/results?search_query=${ve}`,"_blank","noopener,noreferrer")},ce=ie=>{const pe=ie.target.getBoundingClientRect(),ve=Array.from({length:12}).map((ut,Bt)=>({id:Date.now()+Bt,x:pe.left+pe.width/2,y:pe.top+pe.height/2,tx:(Math.random()-.5)*200,ty:(Math.random()-.5)*200}));xe(ut=>[...ut,...ve]),setTimeout(()=>xe([]),1e3)},Me=(ie,pe,ve,ut)=>{const Bt=`${ie}-${pe}`,mn=!le[Bt];_e(Gt=>({...Gt,[Bt]:mn})),mn&&(ce(ut),c&&c(ve),m(60))},je=()=>{if(P==="warmup"){Y("workout");return}if(P==="cooldown"){r?r(n,{sets:le,difficulty:I},ne,"hybrid_mode"):(console.warn("onRoutineFeedback no est definido"),e&&e());return}J<R-1?(G(ie=>ie+1),O(!1)):Y("cooldown")},k=()=>{P==="cooldown"?Y("workout"):P==="workout"&&(J>0?G(ie=>ie-1):Y("warmup"))},K=(ie,pe)=>{const ve=`${J}_${ie}`;x(ut=>({...ut,[ve]:pe}))},te=(()=>{if(P!=="workout"||!Re)return null;const ie=Re.componentes||[];for(let pe=0;pe<ie.length;pe++)if(!le[`${J}-${pe}`])return{type:"set",label:`Serie ${pe+1}`,detail:"Mismo ejercicio",isNextEx:!1};if(J<R-1){const pe=V[J+1];if(pe.tipo_bloque==="superserie"){const ve=pe.ejercicio.split("+"),ut=As(ve[0]||"Ejercicio 1"),Bt=As(ve[1]||"Ejercicio 2");return{type:"superset",label:`${ut} + ${Bt}`,names:[ut,Bt],detail:"Superserie: Prepara equipos",isNextEx:!0}}else{const ve=As(pe.ejercicio);return{type:"exercise",label:ve,names:[ve],detail:"Prepara el equipo",isNextEx:!0}}}return{type:"finish",label:w.cooldownTitle||"Enfriamiento",detail:"Ya casi acabas",isNextEx:!0}})();let me=null,Ae=null;if(Re)if(Qe){const ie=["+","/",`
`," y "];let pe=null;for(const ve of ie)if(Re.ejercicio.includes(ve)){pe=Re.ejercicio.split(ve);break}me=As(pe?pe[0]:Re.ejercicio),Ae=As(pe?pe[1]:"Parte 2")}else me=As(Re.ejercicio);return _.jsxs("div",{className:"relative animate-fadeIn min-h-[calc(100vh-140px)] flex flex-col",children:[Te.map(ie=>_.jsx("div",{className:"particle bg-teal-400",style:{left:ie.x,top:ie.y,"--tx":`${ie.tx}px`,"--ty":`${ie.ty}px`}},ie.id)),_.jsxs("div",{className:"mb-4 pt-2",children:[_.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-1 px-1",children:[_.jsx("span",{children:P==="warmup"?w.warmupTitle:P==="cooldown"?w.cooldownTitle:`Ejercicio ${J+1} de ${R}`}),_.jsx("span",{children:P==="warmup"?"0%":P==="cooldown"?"100%":`${Math.round(F)}%`})]}),_.jsx("div",{className:"h-1.5 w-full bg-slate-800 rounded-full overflow-hidden",children:_.jsx("div",{className:"h-full bg-teal-500 transition-all duration-500 ease-out",style:{width:`${F}%`}})})]}),_.jsx("div",{className:"flex-1 flex flex-col relative pb-32",children:_.jsxs("div",{className:"animate-slideInRight flex-1",children:[P==="warmup"&&_.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center py-10",children:[_.jsx("div",{className:"w-24 h-24 rounded-full bg-orange-500/10 flex items-center justify-center mb-6 animate-pulse",children:_.jsx(he,{name:"flame",className:"w-12 h-12 text-orange-500"})}),_.jsx("h2",{className:"text-3xl font-black text-white mb-2",children:w.warmupTitle}),_.jsx("p",{className:"text-slate-400 text-sm max-w-xs mx-auto mb-8 leading-relaxed",children:s.calentamiento||w.warmupDesc}),_.jsx("button",{onClick:je,className:"px-8 py-4 bg-orange-500 hover:bg-orange-400 text-white font-bold rounded-xl shadow-lg shadow-orange-900/30 transition-all",children:w.startMain})]}),P==="cooldown"&&_.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center py-10",children:[_.jsx("div",{className:"w-24 h-24 rounded-full bg-blue-500/10 flex items-center justify-center mb-6 animate-pulse",children:_.jsx(he,{name:"wind",className:"w-12 h-12 text-blue-400"})}),_.jsx("h2",{className:"text-3xl font-black text-white mb-2",children:w.cooldownTitle}),_.jsx("p",{className:"text-slate-400 text-sm max-w-xs mx-auto mb-8 leading-relaxed",children:s.enfriamiento||w.cooldownDesc}),_.jsx("button",{onClick:je,className:"px-8 py-4 bg-teal-500 hover:bg-teal-400 text-white font-bold rounded-xl shadow-lg shadow-teal-900/30 transition-all",children:w.finishComplete})]}),P==="workout"&&_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"mb-6",children:Qe?_.jsxs("div",{className:"bg-slate-800/40 rounded-2xl border border-slate-700/50 overflow-hidden",children:[_.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-slate-800 to-slate-900 border-b border-slate-700",children:[_.jsx("h2",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest",children:"Superserie"}),_.jsxs("button",{onClick:()=>O(!N),className:"flex items-center gap-2 text-teal-400 hover:text-white text-xs font-bold transition-colors",children:[_.jsx(he,{name:"info",className:"w-4 h-4"})," ",_.jsx("span",{children:"TCNICA"})]})]}),_.jsxs("div",{className:"p-4 space-y-4",children:[_.jsxs("div",{className:"flex justify-between items-start gap-3",children:[_.jsxs("div",{className:"flex-1",children:[_.jsx("span",{className:"text-[10px] font-black text-cyan-400 bg-cyan-900/20 px-2 py-0.5 rounded border border-cyan-500/20 mb-1 inline-block",children:"A1"}),_.jsx("h3",{className:"text-lg font-black text-white leading-tight",children:me})]}),_.jsx("button",{onClick:ie=>{ie.stopPropagation(),se(me)},className:"p-2 rounded-lg bg-slate-700 text-red-500 hover:bg-red-600 hover:text-white transition-colors",children:_.jsx(he,{name:"youtube",className:"w-5 h-5"})})]}),_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("div",{className:"h-px flex-1 bg-slate-700"}),_.jsx("div",{className:"p-1.5 rounded-full bg-slate-700 border border-slate-600",children:_.jsx(he,{name:"link2",className:"w-4 h-4 text-slate-400"})}),_.jsx("div",{className:"h-px flex-1 bg-slate-700"})]}),_.jsxs("div",{className:"flex justify-between items-start gap-3",children:[_.jsxs("div",{className:"flex-1",children:[_.jsx("span",{className:"text-[10px] font-black text-blue-400 bg-blue-900/20 px-2 py-0.5 rounded border border-blue-500/20 mb-1 inline-block",children:"A2"}),_.jsx("h3",{className:"text-lg font-black text-white leading-tight",children:Ae})]}),_.jsx("button",{onClick:ie=>{ie.stopPropagation(),se(Ae)},className:"p-2 rounded-lg bg-slate-700 text-red-500 hover:bg-red-600 hover:text-white transition-colors",children:_.jsx(he,{name:"youtube",className:"w-5 h-5"})})]})]})]}):_.jsxs("div",{className:"flex justify-between items-start",children:[_.jsx("div",{className:"flex-1 pr-2",children:_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("h2",{className:"text-3xl md:text-4xl font-black text-white leading-tight",children:me}),_.jsx("button",{onClick:()=>O(!N),className:"text-slate-400 hover:text-white transition-colors mt-1",children:_.jsx(he,{name:"info",className:"w-6 h-6"})})]})}),_.jsx("button",{onClick:ie=>{ie.stopPropagation(),se(me)},className:"shrink-0 p-3 rounded-xl bg-slate-800 text-red-500 hover:bg-red-600 hover:text-white border border-slate-700 shadow-lg transition-all z-10",children:_.jsx(he,{name:"youtube",className:"w-6 h-6"})})]})}),N&&_.jsxs("div",{className:"mb-6 p-4 bg-slate-800/80 backdrop-blur-md rounded-xl border border-slate-600 text-xs text-slate-200 leading-relaxed animate-fadeIn shadow-xl",children:[_.jsx("h4",{className:"font-bold text-teal-400 mb-1 uppercase tracking-wider",children:"Tcnica & Tips"}),Re.tecnica_general]}),_.jsx("div",{className:"bg-slate-900/50 border border-slate-700/50 rounded-2xl overflow-hidden shadow-xl",children:Qe?_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"grid grid-cols-[25px_2fr_2fr_45px] gap-1 bg-slate-800 border-b border-slate-700",children:[_.jsx("div",{className:"bg-slate-900"}),_.jsx("div",{className:"bg-cyan-900/20 text-cyan-400 text-[9px] font-black uppercase tracking-wider py-1 text-center border-r border-slate-700/50 truncate px-1",children:me}),_.jsx("div",{className:"bg-blue-900/20 text-blue-400 text-[9px] font-black uppercase tracking-wider py-1 text-center truncate px-1",children:Ae}),_.jsx("div",{className:"bg-slate-900"})]}),_.jsxs("div",{className:"grid grid-cols-[25px_1fr_1fr_1fr_1fr_45px] gap-1 bg-slate-800/80 p-2 text-[8px] font-bold uppercase tracking-wider text-center border-b border-slate-700 text-slate-500",children:[_.jsx("div",{children:"#"}),_.jsx("div",{children:"Reps"}),_.jsx("div",{children:"Kg"}),_.jsx("div",{children:"Reps"}),_.jsx("div",{children:"Kg"}),_.jsx("div",{children:_.jsx(he,{name:"check",className:"w-3 h-3 mx-auto"})})]}),_.jsx("div",{className:"divide-y divide-slate-800/50",children:Re.componentes.map((ie,pe)=>{const ve=le[`${J}-${pe}`];return _.jsxs("div",{className:`grid grid-cols-[25px_1fr_1fr_1fr_1fr_45px] gap-1 items-center p-2 transition-colors ${ve?"bg-emerald-900/10":""}`,children:[_.jsx("div",{className:"w-6 h-6 rounded-full border border-slate-700 flex items-center justify-center text-[10px] font-bold text-slate-500 bg-slate-900",children:ie.numero_serie}),_.jsx("div",{className:"flex flex-col items-center justify-center h-12 bg-cyan-900/10 rounded border border-cyan-900/20",children:_.jsx("span",{className:"text-base font-black text-cyan-100 tracking-tight",children:fm(ie.repeticiones_ejercicioA)})}),_.jsx("div",{className:"flex flex-col items-center justify-center h-12 bg-cyan-900/10 rounded border border-cyan-900/20",children:_.jsx("span",{className:"text-base font-black text-cyan-100 tracking-tight",children:mm(ie.carga_sugeridaA)})}),_.jsx("div",{className:"flex flex-col items-center justify-center h-12 bg-blue-900/10 rounded border border-blue-900/20",children:_.jsx("span",{className:"text-base font-black text-blue-100 tracking-tight",children:fm(ie.repeticiones_ejercicioB)})}),_.jsx("div",{className:"flex flex-col items-center justify-center h-12 bg-blue-900/10 rounded border border-blue-900/20",children:_.jsx("span",{className:"text-base font-black text-blue-100 tracking-tight",children:mm(ie.carga_sugeridaB)})}),_.jsx("button",{onClick:ut=>Me(J,pe,Re,ut),className:`w-10 h-10 rounded-xl flex items-center justify-center transition-all duration-200 border mx-auto ${ve?"bg-emerald-500 border-emerald-500 text-white shadow-[0_0_10px_rgba(16,185,129,0.4)] scale-90":"bg-slate-800 border-slate-600 text-slate-600 hover:border-slate-500 hover:text-slate-400"}`,children:_.jsx(he,{name:"check",className:"w-5 h-5"})})]},pe)})})]}):_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"grid grid-cols-[30px_1fr_1fr_50px] gap-3 bg-slate-800/80 p-3 text-[9px] font-bold text-slate-500 uppercase tracking-wider text-center border-b border-slate-700",children:[_.jsx("div",{children:"#"}),_.jsx("div",{children:"Repeticiones"}),_.jsx("div",{children:"Carga"}),_.jsx("div",{children:_.jsx(he,{name:"check",className:"w-4 h-4 mx-auto"})})]}),_.jsx("div",{className:"divide-y divide-slate-800/50",children:Re.componentes.map((ie,pe)=>{const ve=le[`${J}-${pe}`];return _.jsxs("div",{className:`grid grid-cols-[30px_1fr_1fr_50px] gap-3 items-center p-3 transition-colors ${ve?"bg-emerald-900/10":""}`,children:[_.jsx("div",{className:"w-6 h-6 rounded-full border border-slate-700 flex items-center justify-center text-[10px] font-bold text-slate-500 bg-slate-900",children:ie.numero_serie}),_.jsx("div",{className:"flex flex-col items-center justify-center h-16 bg-slate-800/50 rounded-xl border border-slate-700/50",children:_.jsx("span",{className:"text-3xl font-black text-white tracking-tighter",children:fm(ie.repeticiones_ejercicio)})}),_.jsx("div",{className:"flex flex-col items-center justify-center h-16 bg-slate-800/50 rounded-xl border border-slate-700/50",children:_.jsx("span",{className:"text-3xl font-black text-teal-400 tracking-tighter",children:mm(ie.carga_sugerida)})}),_.jsx("button",{onClick:ut=>Me(J,pe,Re,ut),className:`w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-200 border mx-auto ${ve?"bg-emerald-500 border-emerald-500 text-white shadow-[0_0_10px_rgba(16,185,129,0.4)] scale-90":"bg-slate-800 border-slate-600 text-slate-600 hover:border-slate-500 hover:text-slate-400"}`,children:_.jsx(he,{name:"check",className:"w-6 h-6"})})]},pe)})})]})})]})]})}),!D&&_.jsx("div",{className:"fixed bottom-6 left-0 right-0 flex justify-center z-50 pointer-events-none px-4",children:_.jsxs("div",{className:"pointer-events-auto flex items-center bg-slate-900/90 backdrop-blur-xl rounded-full border border-slate-700 shadow-2xl shadow-black/50 p-2 gap-4",children:[_.jsxs("div",{className:"flex items-center gap-3 pl-2",children:[_.jsx("button",{onClick:k,className:"p-3 text-slate-400 hover:text-white transition-colors active:scale-95 rounded-full hover:bg-slate-800/50",children:_.jsx(he,{name:"arrowLeft",className:"w-5 h-5"})}),_.jsx("button",{onClick:()=>g(!y),className:`p-4 rounded-full shadow-lg transition-all active:scale-95 flex items-center justify-center ${y?"bg-slate-700 text-slate-300":"bg-amber-500 text-white shadow-amber-500/30"}`,children:_.jsx(he,{name:y?"pause":"play",className:"w-6 h-6 fill-current"})}),_.jsx("button",{onClick:je,className:`group relative p-3 rounded-full transition-all active:scale-95 ${P==="cooldown"?"text-teal-400 hover:text-teal-300":"text-slate-400 hover:text-white"} hover:bg-slate-800/50`,children:_.jsx(he,{name:P==="cooldown"?"check":"arrowRight",className:"w-5 h-5"})})]}),_.jsx("div",{className:"w-px h-8 bg-slate-700/50"}),_.jsxs("div",{className:"flex items-center gap-2 pr-4 pl-1 font-mono font-bold text-lg text-teal-400",children:[_.jsx(he,{name:"timer",className:"w-4 h-4 opacity-70"}),_.jsx("span",{className:"tabular-nums tracking-tight",children:TC(E)})]})]})}),D&&_.jsx("div",{className:"fixed inset-0 z-[60] bg-slate-950/95 flex flex-col animate-fadeIn backdrop-blur-xl overflow-y-auto",children:_.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-6 min-h-0",children:[_.jsxs("div",{className:"mb-8 relative shrink-0",children:[_.jsx("div",{className:"absolute inset-0 bg-teal-500 blur-3xl opacity-20 animate-pulse rounded-full"}),_.jsx("div",{className:"text-[120px] font-black text-white tabular-nums leading-none tracking-tighter relative z-10 text-stroke",children:d})]}),_.jsx("h3",{className:"text-xl font-bold text-teal-400 mb-8 uppercase tracking-[0.3em] animate-pulse shrink-0",children:w.restTimer||"DESCANSO"}),_.jsxs("div",{className:"w-full max-w-sm space-y-4 mb-8",children:[_.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider text-center mb-2",children:w.rateEffort||"Esfuerzo percibido?"}),_.jsx("div",{className:"bg-slate-900/50 p-4 rounded-2xl border border-slate-700/50 backdrop-blur-sm",children:_.jsx("div",{className:"flex gap-3 w-full",children:[{val:"easy",icon:"zap",color:"text-emerald-400",border:"border-emerald-500/30",bg:"bg-emerald-500/10"},{val:"good",icon:"check",color:"text-blue-400",border:"border-blue-500/30",bg:"bg-blue-500/10"},{val:"hard",icon:"flame",color:"text-red-400",border:"border-red-500/30",bg:"bg-red-500/10"}].map(ie=>{const pe=I[`${J}_0`]===ie.val;return _.jsx("button",{onClick:()=>K(0,ie.val),className:`flex-1 py-4 rounded-xl border flex items-center justify-center transition-all duration-300 ${pe?`${ie.bg} ${ie.border} ${ie.color} ring-1 ring-inset ring-white/20 shadow-lg`:"border-slate-700 bg-slate-800/30 text-slate-500 hover:bg-slate-700 hover:text-slate-300"}`,children:_.jsx(he,{name:ie.icon,className:"w-6 h-6"})},ie.val)})})})]}),te&&te.isNextEx&&_.jsxs("div",{className:"w-full max-w-sm bg-slate-800/60 border border-slate-700 rounded-2xl p-5 mb-8 shrink-0 backdrop-blur-sm shadow-xl animate-fadeIn",children:[_.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[_.jsx("div",{className:"p-2 rounded-lg bg-indigo-500/20 text-indigo-400 border border-indigo-500/30",children:_.jsx(he,{name:"fastForward",className:"w-5 h-5"})}),_.jsx("div",{children:_.jsx("div",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:te.detail})})]}),_.jsx("div",{className:"flex justify-between items-center bg-slate-900/50 p-3 rounded-xl border border-slate-700/50",children:_.jsx("div",{className:"text-base font-bold text-white leading-tight line-clamp-1 px-2",children:te.label})})]}),_.jsxs("div",{className:"flex gap-4 w-full max-w-sm shrink-0 mt-auto pb-8",children:[_.jsx("button",{onClick:()=>m(ie=>ie+30),className:"flex-1 py-4 rounded-xl bg-slate-800 border border-slate-700 text-slate-300 font-bold hover:bg-slate-700 hover:text-white active:scale-95 transition-all",children:"+30s"}),_.jsxs("button",{onClick:()=>m(0),className:"flex-[2] py-4 rounded-xl bg-teal-600 text-white font-bold hover:bg-teal-500 shadow-lg shadow-teal-900/50 active:scale-95 transition-all flex items-center justify-center gap-2",children:[_.jsx(he,{name:"play",className:"w-5 h-5 fill-current"}),w.letsGo||"A DARLE"]})]})]})})]})},K5=({children:s,className:e="",onClick:n})=>_.jsx("div",{onClick:n,className:`bg-slate-800/40 border border-slate-700/50 rounded-2xl shadow-sm backdrop-blur-xl transition-all duration-300 ${e}`,children:s}),$5=({label:s,icon:e,type:n="text",name:r,value:o,onChange:c,placeholder:d,options:m,isTextArea:g=!1})=>_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider ml-1",children:s}),_.jsxs("div",{className:"relative group",children:[_.jsx("div",{className:`absolute left-0 pl-4 flex items-center pointer-events-none text-slate-500 group-focus-within:text-teal-400 transition-colors duration-300 ${g?"top-4":"inset-y-0"}`,children:_.jsx(he,{name:e,className:"w-5 h-5"})}),m?_.jsx("select",{name:r,value:o,onChange:c,className:"w-full bg-slate-900/50 border border-slate-700 text-slate-100 rounded-xl py-4 pl-12 pr-4 text-sm focus:ring-4 focus:ring-teal-500/10 focus:border-teal-500 outline-none appearance-none cursor-pointer hover:bg-slate-800/50",children:m.map(y=>_.jsx("option",{value:y.value,children:y.label},y.value))}):g?_.jsx("textarea",{name:r,value:o,onChange:c,placeholder:d,rows:"3",className:"w-full bg-slate-900/50 border border-slate-700 text-slate-100 rounded-xl py-4 pl-12 pr-4 text-sm focus:ring-4 focus:ring-teal-500/10 focus:border-teal-500 outline-none min-h-[100px] resize-y"}):_.jsx("input",{type:n,name:r,value:o===0?"":o,onChange:c,placeholder:d,className:"w-full bg-slate-900/50 border border-slate-700 text-slate-100 rounded-xl py-4 pl-12 pr-4 text-sm focus:ring-4 focus:ring-teal-500/10 focus:border-teal-500 outline-none"})]})]}),HE=({progressText:s})=>_.jsxs("div",{className:"flex items-center gap-3 bg-slate-800/80 px-4 py-2 rounded-full border border-teal-500/20 shadow-xl shadow-teal-900/10 backdrop-blur-md transition-all scale-90 origin-right",children:[_.jsxs("div",{className:"gemini-loader-circle",children:[_.jsx("div",{className:"gemini-loader-path"}),_.jsx(qE,{className:"gemini-loader-icon w-3 h-3",strokeWidth:2})]}),_.jsx("span",{className:"text-xs font-medium bg-gradient-to-r from-teal-300 to-violet-300 bg-clip-text text-transparent animate-pulse",children:s})]}),X5=({weekDistribution:s,completionLog:e,todayIndex:n})=>_.jsxs("div",{className:"flex items-center justify-between bg-slate-800/50 p-4 rounded-2xl border border-slate-700/50 mb-6 backdrop-blur-sm",children:[_.jsxs("div",{className:"flex flex-col",children:[_.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Tu Racha"}),_.jsxs("span",{className:"text-xs text-slate-300 font-medium",children:["Semana ",s.length>0?"Activa":"Off"]})]}),_.jsx("div",{className:"flex gap-2",children:[0,1,2,3,4,5,6].map(r=>{const o=e.has(r),c=r===n;let d="bg-slate-700/50",m="border-transparent";return o?d="bg-teal-500 shadow-[0_0_8px_rgba(20,184,166,0.5)]":c&&(d="bg-slate-800",m="border-teal-500 animate-pulse"),_.jsx("div",{className:`w-3 h-3 rounded-full border ${m} ${d} transition-all duration-500`},r)})})]}),FE=({exercises:s,limit:e})=>{if(!s||!Array.isArray(s)||s.length===0)return _.jsx("div",{className:"py-2 text-xs text-slate-500 italic text-center",children:"Detalles disponibles al iniciar."});const n=e?s.slice(0,e):s,r=e?Math.max(0,s.length-e):0;return _.jsxs("div",{className:"space-y-2 mt-4 mb-4",children:[n.map((o,c)=>{const d=o.tipo_bloque==="superserie";let m=null;if(d){const g=(o.ejercicio||"").split("+"),y=As(g[0]),E=As(g[1]||"").replace(/^[A-Z]\d+[\s.-]*/,"");m=_.jsxs("div",{className:"flex flex-col w-full gap-1",children:[_.jsx("div",{className:"flex justify-between items-baseline",children:_.jsxs("div",{className:"flex items-center gap-1.5 overflow-hidden",children:[_.jsx("span",{className:"text-[9px] font-black text-cyan-400 bg-cyan-900/30 px-1.5 py-0.5 rounded border border-cyan-500/20 whitespace-nowrap",children:"A1"}),_.jsx("p",{className:"text-xs font-medium text-slate-200 truncate",children:y})]})}),_.jsx("div",{className:"flex justify-between items-baseline",children:_.jsxs("div",{className:"flex items-center gap-1.5 overflow-hidden",children:[_.jsx("span",{className:"text-[9px] font-black text-blue-400 bg-blue-900/30 px-1.5 py-0.5 rounded border border-blue-500/20 whitespace-nowrap",children:"A2"}),_.jsx("p",{className:"text-xs font-medium text-slate-200 truncate",children:E})]})})]})}else{const g=As(o.ejercicio);let y="General";g.match(/barra/i)?y="Barra":g.match(/mancuerna/i)?y="Mancuernas":g.match(/polea|cable/i)?y="Polea":g.match(/mquina|maquina/i)&&(y="Mquina"),m=_.jsxs("div",{className:"flex-1 min-w-0 flex justify-between items-center",children:[_.jsx("p",{className:"text-xs font-medium text-slate-200 truncate pr-2",children:g}),_.jsx("span",{className:"text-[8px] font-bold text-slate-500 uppercase bg-slate-900 px-1.5 py-0.5 rounded border border-slate-700/50 whitespace-nowrap",children:y})]})}return _.jsxs("div",{className:`flex items-start gap-3 p-2.5 rounded-xl border transition-all ${d?"bg-slate-800/80 border-cyan-900/20":"bg-slate-800/40 border-slate-700/30"}`,children:[_.jsx("span",{className:`shrink-0 flex items-center justify-center w-5 h-5 rounded-full text-[9px] font-bold mt-0.5 ${d?"bg-cyan-900/20 text-cyan-500":"bg-teal-900/20 text-teal-500"}`,children:c+1}),m]},c)}),r>0&&_.jsx("div",{className:"text-center pt-2",children:_.jsxs("span",{className:"text-[10px] text-slate-500 font-medium bg-slate-800/50 px-3 py-1 rounded-full border border-slate-700/50",children:["+ ",r," ejercicios ms..."]})})]})},J5=({routine:s,onView:e,onAdjust:n})=>{if(!s)return _.jsx("div",{className:"p-4 text-center text-xs text-slate-500 border border-dashed border-slate-700 rounded-2xl",children:"Todo listo por hoy."});const r=s.routine||s,o=Array.isArray(r.rutinaPrincipal)?r.rutinaPrincipal:[];return _.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-slate-800 to-slate-900 border border-slate-700/50 shadow-xl p-5 mb-4 group",children:[_.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-teal-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/3 pointer-events-none group-hover:bg-teal-500/10 transition-colors duration-500"}),_.jsxs("div",{className:"relative z-10",children:[_.jsxs("div",{className:"flex justify-between items-start mb-4",children:[_.jsxs("div",{className:"flex-1 mr-2",children:[_.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[_.jsx("span",{className:"px-2 py-0.5 rounded-md bg-teal-500/10 text-teal-400 text-[9px] font-black uppercase tracking-wider border border-teal-500/20 shadow-sm shadow-teal-900/20",children:"Sugerencia"}),_.jsxs("span",{className:"flex items-center gap-1 text-[10px] text-slate-400 font-mono",children:[_.jsx(he,{name:"clock",className:"w-3 h-3"})," ",r.duracionEstimada||"45 min"]})]}),_.jsx("h2",{className:"text-xl font-black text-white leading-tight line-clamp-2 drop-shadow-md",children:PE(s.diaEnfoque||r.diaEnfoque)})]}),_.jsx("button",{onClick:c=>{c.stopPropagation(),n()},className:"p-2.5 rounded-full bg-slate-800 text-slate-400 border border-slate-700 hover:text-white hover:border-slate-500 hover:bg-slate-700 transition-all shadow-lg active:scale-95",children:_.jsx(he,{name:"settings",className:"w-4 h-4"})})]}),_.jsx(FE,{exercises:o,limit:3}),_.jsxs("button",{onClick:()=>e(s),className:"w-full py-3.5 bg-teal-500 hover:bg-teal-400 text-slate-900 rounded-xl font-bold flex items-center justify-center gap-2 transition-all shadow-lg shadow-teal-900/20 active:scale-[0.98] group-hover:shadow-teal-500/20 mt-2",children:[_.jsx(he,{name:"play",className:"w-4 h-4 fill-current"}),_.jsx("span",{className:"tracking-wide text-sm",children:"COMENZAR SESIN"})]})]})]})},Z5=({routines:s,onView:e,onAdjust:n})=>{const[r,o]=ee.useState(null);return!s||s.length===0?_.jsx("div",{className:"text-center py-8 text-xs text-slate-500",children:"No hay opciones extra."}):_.jsxs("div",{className:"space-y-3 pb-20",children:[_.jsx("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider pl-1",children:"Otras Opciones"}),s.map(c=>{const d=r===c.id,m=c.routine||{};return _.jsxs("div",{className:`rounded-2xl border transition-all duration-300 overflow-hidden ${d?"bg-slate-800 border-teal-500/30 ring-1 ring-teal-500/20":"bg-slate-800/40 border-slate-700/50"}`,children:[_.jsxs("div",{className:"w-full flex items-center justify-between p-4 text-left cursor-pointer",onClick:()=>o(d?null:c.id),children:[_.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[_.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center transition-colors ${d?"bg-teal-500 text-slate-900 shadow-lg shadow-teal-500/20":"bg-slate-900 text-slate-500 border border-slate-700"}`,children:_.jsx(he,{name:"dumbbell",className:"w-5 h-5"})}),_.jsxs("div",{children:[_.jsx("h4",{className:`text-sm font-bold ${d?"text-white":"text-slate-300"}`,children:PE(c.diaEnfoque)}),_.jsx("p",{className:"text-[10px] text-slate-500 font-mono mt-0.5",children:m.duracionEstimada})]})]}),_.jsx("div",{className:`transition-transform duration-300 ${d?"rotate-180 text-teal-500":"text-slate-600"}`,children:_.jsx(he,{name:"chevronDown",className:"w-5 h-5"})})]}),d&&_.jsxs("div",{className:"px-4 pb-4 animate-fadeIn",children:[_.jsx("div",{className:"pt-2 border-t border-slate-700/50 mb-4",children:_.jsx(FE,{exercises:m.rutinaPrincipal||[],limit:99})}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("button",{onClick:g=>{g.stopPropagation(),n(c)},className:"flex-1 py-2.5 rounded-lg border border-slate-600 text-slate-300 font-bold text-xs hover:bg-slate-700 transition-colors",children:"AJUSTAR"}),_.jsxs("button",{onClick:g=>{g.stopPropagation(),e(c)},className:"flex-[2] py-2.5 rounded-lg bg-teal-600 text-white font-bold text-xs hover:bg-teal-500 shadow-lg shadow-teal-900/20 transition-colors flex items-center justify-center gap-2",children:[_.jsx(he,{name:"play",className:"w-3 h-3 fill-current"})," INICIAR"]})]})]})]},c.id)})]})},W5=({nextRoutine:s,profile:e,onProfileChange:n,onAdjustNextSession:r,loading:o,progressText:c,lang:d})=>{const m={timeAvailable:"Tiempo",modality:"Modalidad",noEquipment:"Sin equipo",focusZone:"Zona",processing:"Procesando...",recalcParams:"Recalcular"},[g,y]=ee.useState([]),[E,S]=ee.useState(!1),[w,P]=ee.useState(!1),Y=G=>{const ne=g.includes(G)?g.filter(oe=>oe!==G):[...g,G];y(ne),n&&n({target:{name:"muscleFocus",value:ne.join(", ")}})},J=[{category:"Grupos",items:["Tren Superior","Tren Inferior","Core","Full Body"]},{category:"Msculos",items:["Glteos","Cudriceps","Pecho","Espalda","Brazos"]}];return _.jsxs(K5,{className:"p-6",children:[_.jsxs("div",{className:"flex justify-between items-start mb-6 border-b border-slate-700/50 pb-4",children:[_.jsx("div",{children:_.jsxs("h3",{className:"text-lg font-bold text-slate-100 flex items-center gap-2",children:[_.jsx(he,{name:"settings",className:"w-5 h-5 text-slate-400"})," ",s.diaEnfoque]})}),o&&_.jsx(HE,{progressText:c})]}),_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"grid grid-cols-2 gap-6 items-center",children:[_.jsx($5,{label:m.timeAvailable,icon:"clock",type:"number",name:"timeAvailable",value:e.timeAvailable,onChange:n}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider ml-1",children:m.modality}),_.jsxs("button",{onClick:()=>S(!E),className:`w-full py-3 px-4 rounded-xl border flex items-center justify-between transition-all ${E?"bg-indigo-500/20 border-indigo-500/50 text-indigo-300":"bg-slate-900/50 border-slate-700 text-slate-400"}`,children:[_.jsx("span",{className:"text-sm font-semibold",children:m.noEquipment}),_.jsx(he,{name:E?"toggleOn":"toggleOff",className:`w-6 h-6 ${E?"text-indigo-400":"text-slate-600"}`})]})]})]}),_.jsxs("div",{className:"border border-slate-700 rounded-xl overflow-hidden",children:[_.jsxs("button",{onClick:()=>P(!w),className:"w-full p-4 flex items-center justify-between bg-slate-900/50 hover:bg-slate-800 transition-colors",children:[_.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:m.focusZone}),_.jsx(he,{name:w?"chevronUp":"chevronDown",className:"w-4 h-4 text-slate-500"})]}),w&&_.jsx("div",{className:"p-4 bg-slate-900/30 animate-fadeIn border-t border-slate-700/50",children:_.jsx("div",{className:"flex flex-wrap gap-2.5",children:J.flatMap(G=>G.items).map(G=>{const ne=g.includes(G);return _.jsx("button",{onClick:()=>Y(G),className:`px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 border hover:scale-105 active:scale-95 ${ne?"bg-teal-600 border-teal-500 text-white shadow-md shadow-teal-900/30":"bg-slate-800 border-slate-700 text-slate-400 hover:border-slate-500 hover:text-slate-200"}`,children:G},G)})})})]}),_.jsx("button",{onClick:()=>r(s,e,E),disabled:o,className:"w-full py-4 rounded-xl bg-slate-700 hover:bg-slate-600 text-white font-bold transition-all duration-300 disabled:opacity-50 disabled:scale-100 hover:scale-[1.02] active:scale-95 flex justify-center items-center gap-2 shadow-lg",children:o?m.processing:_.jsxs(_.Fragment,{children:[_.jsx(he,{name:"refresh",className:"w-5 h-5"})," ",m.recalcParams]})})]})]})},eD=({profile:s,onProfileChange:e,onGeneratePlan:n,onAdjustNextSession:r,loading:o,successMessage:c,errorMessage:d,history:m,onViewRoutine:g,generationProgress:y,lang:E,t:S,onAnalyzeBioage:w,bioageLoading:P,view:Y,currentRoutine:J,routineId:G,onRoutineFeedback:ne,onExerciseComplete:oe,isSessionActive:le,setIsSessionActive:_e,restSeconds:Te,setRestSeconds:xe,sessionSeconds:I})=>{const[x,N]=ee.useState(S.generating),[O,D]=ee.useState("recommended"),[V,R]=ee.useState(!1),[Re,Qe]=ee.useState(null),F=s.currentPlanId,se=(new Date().getDay()+6)%7,ce=m.filter(te=>te.planId===F&&te.status!=="archived_history").sort((te,me)=>te.weekDay-me.weekDay),Me=new Map;m.forEach(te=>{te.planId===F&&te.status==="completed"&&te.completedOnDay!==void 0&&Me.set(te.completedOnDay,te)});const je=ce.filter(te=>te.status==="pending"),k=je[0],K=ce.filter(te=>te.id!==k?.id);ee.useEffect(()=>{y<30?N(S.analyzing):y<60?N(S.designing):y<90?N(S.optimizing):N(S.finalizing)},[y,S]);const re=te=>{Qe(te),R(!0)};return Y==="routine"?_.jsx(Y5,{routine:J,routineId:G,onRoutineFeedback:ne,successMessage:c,lang:E,onExerciseComplete:oe,isSessionActive:le,setIsSessionActive:_e,restSeconds:Te,setRestSeconds:xe,sessionSeconds:I}):_.jsxs("div",{className:"animate-fadeIn pb-24",children:[_.jsxs("div",{className:"space-y-2 mb-4",children:[c&&_.jsxs("div",{className:"p-4 bg-teal-500/10 border border-teal-500/20 text-teal-300 rounded-xl flex items-center shadow-lg backdrop-blur-md",children:[_.jsx(he,{name:"check",className:"mr-3 w-5 h-5"})," ",c]}),d&&_.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 text-red-300 rounded-xl flex items-center shadow-lg backdrop-blur-md",children:[_.jsx(he,{name:"alert",className:"mr-3 w-5 h-5"})," ",d]})]}),_.jsx(X5,{weekDistribution:ce,completionLog:Me,todayIndex:se}),_.jsxs("div",{className:"flex items-center justify-between mb-4 border-b border-slate-700/50 pb-1 px-2",children:[_.jsxs("div",{className:"flex gap-6",children:[_.jsxs("button",{onClick:()=>D("recommended"),className:`pb-2 text-xs font-bold transition-all relative uppercase tracking-wider ${O==="recommended"?"text-teal-400":"text-slate-500 hover:text-slate-300"}`,children:["Recomendado",O==="recommended"&&_.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-teal-500 rounded-t-full"})]}),_.jsxs("button",{onClick:()=>D("library"),className:`pb-2 text-xs font-bold transition-all relative uppercase tracking-wider ${O==="library"?"text-slate-200":"text-slate-500 hover:text-slate-300"}`,children:["Ms Opciones",O==="library"&&_.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-slate-200 rounded-t-full"})]})]}),_.jsxs("button",{onClick:()=>n(s),className:"pb-2 text-[10px] font-bold text-teal-400 hover:text-teal-300 flex items-center gap-1.5 transition-colors",children:[_.jsx(he,{name:"refresh",className:"w-3 h-3"})," ",S.regenerateCycle]})]}),_.jsxs("div",{className:"min-h-[250px]",children:[o?_.jsx("div",{className:"flex flex-col items-center justify-center py-10",children:_.jsx(HE,{progressText:x})}):_.jsxs(_.Fragment,{children:[O==="recommended"&&_.jsx(_.Fragment,{children:k?_.jsx("div",{className:"animate-fadeIn",children:_.jsx(J5,{routine:k,onView:g,onAdjust:()=>re(k)})}):_.jsxs("div",{className:"text-center py-12 border border-dashed border-slate-700/50 rounded-2xl bg-slate-800/20",children:[_.jsx("div",{className:"w-16 h-16 bg-emerald-500/10 rounded-full flex items-center justify-center mx-auto mb-3 border border-emerald-500/20",children:_.jsx(he,{name:"check",className:"w-8 h-8 text-emerald-500"})}),_.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:"Semana Completada!"}),_.jsx("p",{className:"text-slate-500 text-xs mb-5 max-w-[200px] mx-auto",children:"No hay rutinas pendientes. Gran trabajo!"})]})}),O==="library"&&_.jsxs("div",{className:"animate-fadeIn",children:[_.jsx(Z5,{routines:K,onView:g,onAdjust:re}),K.length===0&&k&&_.jsx("div",{className:"text-center py-10 opacity-50",children:_.jsx("p",{className:"text-xs text-slate-500",children:"Solo queda la rutina recomendada."})})]})]}),V&&Re&&_.jsx("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-slate-950/90 backdrop-blur-sm p-4 animate-fadeIn",children:_.jsxs("div",{className:"w-full max-w-md relative",children:[_.jsx("button",{onClick:()=>R(!1),className:"absolute -top-10 right-0 text-slate-400 hover:text-white",children:_.jsx(he,{name:"close",className:"w-8 h-8"})}),_.jsx(W5,{nextRoutine:Re,profile:s,onProfileChange:e,onAdjustNextSession:(te,me,Ae)=>{r(te||Re,me,Ae),R(!1)},loading:o,progressText:x,lang:E})]})}),ce.length===0&&!o&&_.jsxs("div",{className:"p-6 text-center border border-dashed border-slate-700 rounded-2xl mt-4",children:[_.jsx(he,{name:"sparkles",className:"w-8 h-8 text-teal-500 mx-auto mb-3"}),_.jsx("p",{className:"text-slate-400 text-xs mb-4",children:S.noPlan}),_.jsx("button",{onClick:()=>n(s),className:"w-full py-3 rounded-lg bg-teal-600 text-white font-bold text-xs shadow-lg shadow-teal-900/20 hover:bg-teal-500",children:S.startRoutine})]}),je.length>0&&_.jsx("div",{className:"mt-4",children:_.jsx("button",{onClick:()=>r(je[0],s,!1),className:"w-full py-3 rounded-lg bg-slate-800 text-slate-300 font-bold text-xs hover:bg-slate-700",children:"Ajustar Prxima Sesin"})})]})]})},$i=({children:s,className:e="",onClick:n})=>_.jsx("div",{onClick:n,className:`bg-slate-800/40 border border-slate-700/50 rounded-2xl shadow-sm backdrop-blur-xl transition-all duration-300 ${e}`,children:s}),Es=({label:s,icon:e,type:n="text",name:r,value:o,onChange:c,placeholder:d,options:m,isTextArea:g=!1})=>_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider ml-1",children:s}),_.jsxs("div",{className:"relative group",children:[_.jsx("div",{className:`absolute left-0 pl-4 flex items-center pointer-events-none text-slate-500 group-focus-within:text-teal-400 transition-colors duration-300 ${g?"top-4":"inset-y-0"}`,children:_.jsx(he,{name:e,className:"w-5 h-5"})}),m?_.jsx("select",{name:r,value:o,onChange:c,className:"w-full bg-slate-900/50 border border-slate-700 text-slate-100 rounded-xl py-4 pl-12 pr-4 text-sm focus:ring-4 focus:ring-teal-500/10 focus:border-teal-500 outline-none appearance-none cursor-pointer hover:bg-slate-800/50",children:m.map(y=>_.jsx("option",{value:y.value,children:y.label},y.value))}):g?_.jsx("textarea",{name:r,value:o,onChange:c,placeholder:d,rows:"3",className:"w-full bg-slate-900/50 border border-slate-700 text-slate-100 rounded-xl py-4 pl-12 pr-4 text-sm focus:ring-4 focus:ring-teal-500/10 focus:border-teal-500 outline-none min-h-[100px] resize-y"}):_.jsx("input",{type:n,name:r,value:o===0?"":o,onChange:c,placeholder:d,className:"w-full bg-slate-900/50 border border-slate-700 text-slate-100 rounded-xl py-4 pl-12 pr-4 text-sm focus:ring-4 focus:ring-teal-500/10 focus:border-teal-500 outline-none"})]})]}),Li=({label:s,name:e,value:n,onChange:r,unit:o,tooltip:c,isBio:d=!0})=>_.jsxs("div",{className:"space-y-2",children:[_.jsx("div",{className:"flex justify-between items-center ml-1",children:_.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:s})}),_.jsxs("div",{className:"relative group",children:[_.jsx("input",{type:"number",name:d?`bio_${e}`:e,value:n===0?"":n,onChange:r,className:"w-full bg-slate-950/30 border border-slate-700/70 text-slate-200 rounded-lg py-3 pl-3 pr-10 text-sm focus:ring-2 focus:ring-violet-500/30 focus:border-violet-500 outline-none",placeholder:"0"}),_.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs font-bold text-slate-600 pointer-events-none",children:o})]})]});function tD({history:s,onViewRoutine:e,t:n}){const r=s.filter(o=>o.status==="archived_history").sort((o,c)=>(c.createdAt?.seconds||0)-(o.createdAt?.seconds||0));return _.jsxs("div",{className:"animate-fadeIn pb-20",children:[_.jsxs("h2",{className:"text-lg font-bold text-slate-100 mb-6 flex items-center gap-2",children:[_.jsx(he,{name:"list",className:"w-5 h-5 text-teal-400"})," ",n.tabHistory]}),r.length>0?_.jsx("div",{className:"space-y-4",children:r.map(o=>_.jsxs($i,{className:"p-5 flex items-center justify-between group hover:bg-slate-800 transition-colors cursor-pointer",onClick:()=>e(o),children:[_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[_.jsx("span",{className:"text-xs font-mono text-slate-500 bg-slate-900 px-2 py-0.5 rounded",children:o.createdAt?.toDate?.().toLocaleDateString()||"N/A"}),_.jsxs("span",{className:"flex items-center gap-1 text-[10px] text-teal-400 font-bold uppercase",children:[_.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-teal-500"})," ",n.completed]})]}),_.jsx("h4",{className:"text-base font-bold text-slate-200 group-hover:text-teal-300 transition-colors",children:o.diaEnfoque})]}),_.jsx("div",{className:"p-3 rounded-full bg-slate-900 text-slate-500 border border-slate-700 group-hover:bg-teal-600 group-hover:text-white group-hover:border-teal-500 transition-all",children:_.jsx(he,{name:"chevronRight",className:"w-5 h-5"})})]},o.id))}):_.jsxs("div",{className:"text-center py-16 opacity-50 bg-slate-800/30 rounded-2xl border border-dashed border-slate-700",children:[_.jsx(he,{name:"database",className:"w-12 h-12 mx-auto mb-4 text-slate-600"}),_.jsx("p",{className:"text-slate-500 font-medium",children:n.noRecords})]})]})}const pm=({isValid:s,text:e})=>_.jsxs("div",{className:`flex items-center text-xs transition-colors duration-300 ${s?"text-green-400":"text-slate-500"}`,children:[_.jsx(he,{name:s?"checkCircle":"xCircle",className:"w-4 h-4 mr-2 flex-shrink-0"}),_.jsx("span",{children:e})]}),GE=({value:s,onChange:e,placeholder:n,t:r})=>{const[o,c]=ee.useState(!1),d=ee.useMemo(()=>{const m=s.length>=6,g=/[A-Z]/.test(s),y=/[0-9]/.test(s);return{hasLength:m,hasUppercase:g,hasNumber:y}},[s]);return _.jsxs("div",{className:"space-y-3",children:[_.jsxs("div",{className:"relative",children:[_.jsx("input",{type:o?"text":"password",value:s,onChange:e,placeholder:n||"Contrasea",className:"w-full bg-slate-900/70 border border-slate-700 rounded-lg pl-4 pr-10 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-teal-500 text-sm transition-colors",required:!0}),_.jsx("button",{type:"button",onClick:()=>c(!o),className:"absolute inset-y-0 right-0 flex items-center px-3 text-slate-500 hover:text-white transition-colors","aria-label":o?"Ocultar contrasea":"Mostrar contrasea",children:_.jsx(he,{name:o?"eyeOff":"eye",className:"w-5 h-5"})})]}),_.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-x-4 gap-y-1 pt-1",children:[_.jsx(pm,{isValid:d.hasLength,text:r.passRequirementLength}),_.jsx(pm,{isValid:d.hasUppercase,text:r.passRequirementUpper}),_.jsx(pm,{isValid:d.hasNumber,text:r.passRequirementNumber})]})]})},nD=({onLinkAccount:s,t:e,error:n})=>{const[r,o]=ee.useState(""),[c,d]=ee.useState(""),[m,g]=ee.useState(!1),[y,E]=ee.useState(!1),S=async w=>{w.preventDefault(),g(!0),E(!1);const P=await s(r,c);g(!1),P&&E(!0)};return y?_.jsx($i,{className:"p-6 border-green-500/30 bg-green-900/20",children:_.jsxs("div",{className:"text-center",children:[_.jsx(he,{name:"checkCircle",className:"w-12 h-12 text-green-400 mx-auto mb-4"}),_.jsx("h3",{className:"text-lg font-bold text-white",children:e.accountLinkedTitle}),_.jsx("p",{className:"text-green-200/80 text-sm",children:e.accountLinkedMessage})]})}):_.jsxs($i,{className:"p-6 border-teal-500/30 bg-slate-800/50",children:[_.jsxs("h3",{className:"text-sm font-bold text-teal-300 uppercase tracking-wider mb-3 flex items-center gap-2",children:[_.jsx(he,{name:"shieldCheck",className:"w-4 h-4"})," ",e.saveAccountPrompt]}),_.jsx("p",{className:"text-xs text-slate-400 mb-4",children:e.saveAccountMessage}),_.jsxs("form",{onSubmit:S,className:"space-y-4",children:[_.jsx("input",{type:"email",value:r,onChange:w=>o(w.target.value),placeholder:e.emailPlaceholder,className:"w-full bg-slate-900/70 border border-slate-700 rounded-lg px-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-teal-500 text-sm",required:!0}),_.jsx(GE,{value:c,onChange:w=>d(w.target.value),placeholder:e.passwordPlaceholder,t:e}),_.jsx("button",{type:"submit",disabled:m,className:"w-full bg-teal-600 hover:bg-teal-500 disabled:bg-slate-700 disabled:text-slate-400 text-white font-bold py-2.5 rounded-lg text-sm shadow-lg shadow-teal-900/30 transition-all flex items-center justify-center gap-2",children:m?_.jsxs(_.Fragment,{children:[_.jsx(he,{name:"loader",className:"animate-spin w-5 h-5"})," ",e.processing]}):e.saveAccountButton}),n&&!m&&_.jsx("p",{className:"text-red-400 text-xs text-center pt-2 animate-fadeIn",children:n})]})]})},iD=({profile:s,onChange:e,onAnalyzeBioage:n,bioageLoading:r,t:o})=>{const[c,d]=ee.useState(!1),m=s.bioage||{},g=y=>{const E=y.target.name.replace("bio_","");e({target:{name:"bioage",value:{...m,[E]:y.target.value}}})};return _.jsxs("div",{className:"rounded-2xl border border-violet-500/20 bg-gradient-to-br from-slate-900/80 to-slate-800/80 overflow-hidden shadow-lg transition-all duration-300",children:[_.jsxs("button",{type:"button",onClick:()=>d(!c),className:"w-full p-5 flex items-center justify-between hover:bg-slate-800/50 transition-colors",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"p-2.5 rounded-xl bg-violet-500/10 text-violet-300 border border-violet-500/20",children:_.jsx(he,{name:"scanEye",className:"w-5 h-5"})}),_.jsx("div",{className:"text-left",children:_.jsx("h3",{className:"text-sm font-bold text-slate-100",children:o.bioageTitle})})]}),_.jsx(he,{name:c?"chevronUp":"chevronDown",className:`w-5 h-5 text-slate-500 transition-transform ${c?"rotate-0":"-rotate-90"}`})]}),c&&_.jsx("div",{className:"p-5 pt-0 animate-fadeIn border-t border-slate-700/50",children:_.jsxs("div",{className:"space-y-6 mt-4",children:[_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsx(Li,{name:"sq1rm",value:m.sq1rm,onChange:g,unit:"kg",label:"Squat 1RM"}),_.jsx(Li,{name:"plank",value:m.plank,onChange:g,unit:"seg",label:"Plank"})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsx(Li,{name:"pullups",value:m.pullups,onChange:g,unit:"reps",label:"Dominadas"}),_.jsx(Li,{name:"pushups",value:m.pushups,onChange:g,unit:"reps",label:"Flexiones"})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[_.jsx(Li,{name:"waist",value:m.waist,onChange:g,unit:"cm",label:"Cintura"}),_.jsx(Li,{name:"vo2max",value:m.vo2max,onChange:g,unit:"ml",label:"VO2 Max"})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[_.jsx(Li,{name:"rhr",value:m.rhr,onChange:g,unit:"bpm",label:"FC Reposo"}),_.jsx(Li,{name:"hrr",value:m.hrr,onChange:g,unit:"bpm",label:"Recuperacin"})]}),_.jsxs("button",{onClick:()=>n(s),disabled:r,className:"w-full py-3 rounded-xl bg-slate-800 border border-teal-500/30 text-teal-400 hover:bg-slate-700/80 transition-all font-bold text-xs flex items-center justify-center gap-2",children:[r?_.jsx(he,{name:"loader",className:"w-4 h-4 animate-spin"}):_.jsx(he,{name:"brain",className:"w-4 h-4"})," ",r?o.processing:o.calcBioAge]}),s.bioageEstimation&&_.jsxs("div",{className:"mt-4 p-4 bg-violet-900/20 border border-violet-500/30 rounded-xl animate-fadeIn",children:[_.jsxs("div",{className:"flex justify-between items-center mb-2",children:[_.jsxs("div",{children:[_.jsx("div",{className:"text-[10px] uppercase text-violet-400 font-bold",children:o.realAge}),_.jsxs("div",{className:"text-xl font-mono text-slate-300",children:[s.age," ",_.jsx("span",{className:"text-xs",children:"aos"})]})]}),_.jsx(he,{name:"arrowRight",className:"text-violet-500/50 w-6 h-6"}),_.jsxs("div",{className:"text-right",children:[_.jsx("div",{className:"text-[10px] uppercase text-teal-400 font-bold",children:o.bioAgeResult}),_.jsxs("div",{className:"text-3xl font-black text-teal-300 drop-shadow-sm",children:[s.bioageEstimation.edadBiologica," ",_.jsx("span",{className:"text-base font-normal text-teal-500/80",children:"aos"})]})]})]}),s.bioageEstimation.evaluacion&&_.jsxs("div",{className:"text-xs text-slate-300 italic border-t border-violet-500/20 pt-2 mt-2 leading-relaxed",children:['"',s.bioageEstimation.evaluacion,'"']})]})]})})]})},sD=({profile:s,onChange:e,t:n})=>{if(s.gender!=="Mujer")return null;const r=s.menstrualCycle||{lastPeriod:"",cycleLength:28},o=EC(r.lastPeriod,r.cycleLength),c=d=>e({target:{name:"menstrualCycle",value:{...r,[d.target.name]:d.target.value}}});return _.jsxs($i,{className:"p-6 border-pink-500/20 bg-gradient-to-br from-slate-900 to-pink-900/10",children:[_.jsxs("h3",{className:"text-sm font-bold text-pink-300 uppercase tracking-wider mb-2 flex items-center gap-2",children:[_.jsx(he,{name:"flower",className:"w-4 h-4 text-pink-400"})," ",n.cycleTitle]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-5",children:[_.jsx("input",{type:"date",name:"lastPeriod",value:r.lastPeriod,onChange:c,className:"w-full bg-slate-900/50 border border-slate-700 text-slate-100 rounded-lg py-3 px-3 text-xs outline-none"}),_.jsx("input",{type:"number",name:"cycleLength",value:r.cycleLength,onChange:c,className:"w-full bg-slate-900/50 border border-slate-700 text-slate-100 rounded-lg py-3 px-3 text-xs outline-none"})]}),o&&_.jsxs("div",{className:"bg-pink-500/10 border border-pink-500/30 rounded-xl p-4",children:[_.jsx("h4",{className:"text-lg font-bold text-pink-100",children:o.label}),_.jsx("p",{className:"text-xs text-pink-200/80",children:o.desc})]})]})},rD=({onGenerateBackup:s,onShowImportModal:e,onSignOut:n,t:r})=>_.jsxs($i,{className:"p-6",children:[_.jsxs("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-5 flex items-center gap-2 pb-2 border-b border-slate-700/50",children:[_.jsx(he,{name:"database",className:"w-4 h-4 text-slate-500"})," ",r.dataManagement]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("button",{onClick:s,className:"p-3 bg-slate-800 hover:bg-slate-700 rounded-lg text-sm font-semibold flex items-center justify-center gap-2 transition-colors",children:[_.jsx(he,{name:"download",className:"w-4 h-4"})," ",r.exportData]}),_.jsxs("button",{onClick:e,className:"p-3 bg-slate-800 hover:bg-slate-700 rounded-lg text-sm font-semibold flex items-center justify-center gap-2 transition-colors",children:[_.jsx(he,{name:"upload",className:"w-4 h-4"})," ",r.importData]})]}),_.jsx("div",{className:"mt-4 pt-4 border-t border-slate-700/50",children:_.jsxs("button",{onClick:n,className:"w-full p-3 bg-red-900/50 hover:bg-red-800/70 rounded-lg text-sm font-semibold flex items-center justify-center gap-2 transition-colors text-red-400 hover:text-red-300",children:[_.jsx(he,{name:"logOut",className:"w-4 h-4"})," ",r.signOut]})})]});function aD({profile:s,onProfileChange:e,onProfileSave:n,onGenerateBackup:r,onShowImportModal:o,onSignOut:c,profileSuccess:d,profileError:m,onAnalyzeBioage:g,bioageLoading:y,t:E,isAnonymous:S,onLinkAccount:w,linkAccountError:P}){return _.jsxs("div",{className:"animate-fadeIn pb-20 space-y-6",children:[S&&_.jsx(nD,{onLinkAccount:w,t:E,error:P}),_.jsxs("form",{onSubmit:Y=>{Y.preventDefault(),n(s)},className:"space-y-8",children:[_.jsxs($i,{className:"p-6",children:[_.jsxs("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-5 flex items-center gap-2 pb-2 border-b border-slate-700/50",children:[_.jsx(he,{name:"user",className:"w-4 h-4 text-teal-400"})," ",E.biometrics]}),_.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[_.jsx(Es,{label:E.gender,icon:"user",type:"select",name:"gender",value:s.gender,onChange:e,options:[{value:"Hombre",label:E.male},{value:"Mujer",label:E.female}]}),_.jsx(Es,{label:E.age,icon:"calendar",type:"number",name:"age",value:s.age,onChange:e}),_.jsx(Es,{label:E.height,icon:"ruler",type:"number",name:"height",value:s.height,onChange:e}),_.jsx(Es,{label:E.weight,icon:"weight",type:"number",name:"weight",value:s.weight,onChange:e})]}),_.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-700/50 grid grid-cols-2 gap-6",children:[_.jsx(Li,{name:"bodyFat",value:s.bodyFat,onChange:e,unit:"%",label:E.bodyFat,tooltip:"Opcional: Grasa",isBio:!1}),_.jsx(Li,{name:"muscleMass",value:s.muscleMass,onChange:e,unit:"%",label:E.muscleMass,tooltip:"Opcional: Msculo",isBio:!1})]})]}),_.jsx(sD,{profile:s,onChange:e,t:E}),_.jsx(iD,{profile:s,onChange:e,onAnalyzeBioage:g,bioageLoading:y,t:E}),_.jsxs($i,{className:"p-6",children:[_.jsxs("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-5 flex items-center gap-2 pb-2 border-b border-slate-700/50",children:[_.jsx(he,{name:"target",className:"w-4 h-4 text-violet-400"})," ",E.customFocus]}),_.jsxs("div",{className:"space-y-6",children:[_.jsx(Es,{label:E.mainGoal,icon:"star",type:"select",name:"mainGoal",value:s.mainGoal,onChange:e,options:[{value:"Perder grasa corporal",label:E.goalFat},{value:"Crecimiento muscular (Hipertrofia)",label:E.goalMuscle},{value:"Incremento de fuerza",label:E.goalStrength},{value:"Mejora de rendimiento cardiovascular",label:E.goalCardio}]}),_.jsx(Es,{label:E.expLevel,icon:"activity",type:"select",name:"experienceLevel",value:s.experienceLevel,onChange:e,options:[{value:"Principiante",label:E.expBeginner},{value:"Intermedio",label:E.expInter},{value:"Avanzado",label:E.expAdvanced}]}),_.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[_.jsx(Es,{label:E.daysWeek,icon:"calendar",type:"number",name:"daysPerWeek",value:s.daysPerWeek,onChange:e}),_.jsx(Es,{label:E.timeAvailable,icon:"clock",type:"number",name:"timeAvailable",value:s.timeAvailable,onChange:e})]}),_.jsx(Es,{label:E.injuries,icon:"alert",type:"text",name:"injuries",value:s.injuries,onChange:e,placeholder:E.phInjuries,isTextArea:!0})]})]}),_.jsx("div",{className:"flex items-center gap-4 sticky bottom-24",children:_.jsxs("button",{type:"submit",className:"flex-1 py-4 bg-teal-600 hover:bg-teal-500 text-white font-bold rounded-xl shadow-lg shadow-teal-900/20 transition-all duration-300 hover:scale-[1.02] active:scale-95 flex justify-center items-center gap-2",children:[_.jsx(he,{name:"save",className:"w-5 h-5"})," ",E.saveFile]})}),d&&_.jsx("div",{className:"p-4 rounded-xl bg-teal-500/10 border border-teal-500/30 text-teal-400 text-sm font-medium text-center shadow-sm",children:d}),m&&_.jsx("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/30 text-red-400 text-sm font-medium text-center shadow-sm",children:m})]}),_.jsx("div",{className:"pt-8",children:_.jsx(rD,{onGenerateBackup:r,onShowImportModal:o,onSignOut:c,t:E})})]})}const oD=({mode:s,onSubmit:e,error:n,t:r,setMode:o,onPasswordReset:c,resetEmailSent:d,setResetEmailSent:m,setAuthError:g})=>{const[y,E]=ee.useState(""),[S,w]=ee.useState("");ee.useEffect(()=>{E(""),w("")},[s]);const P=ne=>{ne.preventDefault(),s==="reset"?Y():e(y,S)},Y=async()=>{await c(y)&&m(!0)},J={signin:r.signIn,signUp:r.signUp,reset:r.resetPassword},G={signin:r.signIn,signUp:r.signUp,reset:r.resetPassword};return d?_.jsxs("div",{className:"text-center animate-fadeIn",children:[_.jsx(he,{name:"checkCircle",className:"w-16 h-16 text-green-400 mx-auto mb-4"}),_.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:r.resetEmailSentTitle}),_.jsx("p",{className:"text-slate-300 mb-6",children:r.resetEmailSentMessage}),_.jsx("button",{onClick:()=>o("signin"),className:"w-full text-center text-teal-400 font-semibold hover:text-teal-300 transition-colors",children:r.backToLogin})]}):_.jsxs("form",{onSubmit:P,className:"space-y-6 animate-fadeIn",children:[_.jsx("h2",{className:"text-3xl font-bold text-center text-white",children:J[s]}),s==="reset"&&_.jsx("p",{className:"text-center text-slate-400 text-sm",children:r.resetPasswordPrompt}),_.jsxs("div",{className:"space-y-4",children:[_.jsx("input",{type:"email",value:y,onChange:ne=>E(ne.target.value),placeholder:r.emailPlaceholder,className:"w-full bg-slate-900/70 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-teal-500 text-sm",required:!0}),s!=="reset"&&_.jsx(GE,{value:S,onChange:ne=>w(ne.target.value),placeholder:r.passwordPlaceholder,t:r})]}),n&&_.jsx("p",{className:"text-red-400 text-sm text-center bg-red-500/10 p-3 rounded-lg border border-red-500/30",children:n}),_.jsx("button",{type:"submit",className:"w-full bg-teal-600 hover:bg-teal-500 text-white font-bold py-3 rounded-lg shadow-lg shadow-teal-900/30 transition-colors",children:G[s]})]})};function lD({onSignIn:s,onSignUp:e,onAnonymousSignIn:n,onPasswordReset:r,error:o,t:c,setAuthError:d}){const[m,g]=ee.useState("signin"),[y,E]=ee.useState(!1),S=Y=>{d(null),E(!1),g(Y)},w=m==="signin"?c.signUp:c.signIn,P=()=>S(m==="signin"?"signup":"signin");return _.jsx("div",{className:"min-h-screen bg-slate-900 flex flex-col items-center justify-center p-4 font-sans",children:_.jsxs("div",{className:"w-full max-w-sm mx-auto",children:[_.jsxs("div",{className:"text-center mb-8",children:[_.jsx(he,{name:"dumbbell",className:"w-12 h-12 mx-auto text-teal-400 bg-teal-900/30 p-2 rounded-xl border border-teal-500/20"}),_.jsx("h1",{className:"text-4xl font-bold text-white mt-4 bg-clip-text text-transparent bg-gradient-to-r from-white to-slate-400",children:"Momentum AI"})]}),_.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-2xl p-8 backdrop-blur-sm",children:[_.jsx(oD,{mode:m,onSubmit:m==="signin"?s:e,onPasswordReset:r,error:o,t:c,setMode:S,setAuthError:d,resetEmailSent:y,setResetEmailSent:E}),_.jsxs("div",{className:"text-center mt-6 text-sm",children:[m==="signin"&&_.jsx("button",{onClick:()=>S("reset"),className:"text-slate-400 hover:text-teal-400 transition-colors mb-4",children:c.forgotPassword}),m==="reset"&&!y&&_.jsx("button",{onClick:()=>S("signin"),className:"text-slate-400 hover:text-teal-400 transition-colors mb-4",children:c.backToLogin})]}),_.jsxs("div",{className:"relative my-6",children:[_.jsx("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:_.jsx("div",{className:"w-full border-t border-slate-700"})}),_.jsx("div",{className:"relative flex justify-center text-sm",children:_.jsx("span",{className:"px-2 bg-slate-800 text-slate-500",children:"o"})})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsx("button",{onClick:P,className:"w-full bg-slate-700 hover:bg-slate-600 text-white font-bold py-3 rounded-lg transition-colors",children:w}),_.jsx("button",{onClick:n,className:"w-full text-center text-slate-400 font-semibold hover:text-white transition-colors",children:c.signInGuest})]})]})]})})}const cD=()=>_.jsx("style",{children:`
    body { background-color: #0f172a; color: #f8fafc; }
    .minimal-scrollbar { scrollbar-width: thin; scrollbar-color: #334155 #0f172a; }
    .minimal-scrollbar::-webkit-scrollbar { height: 6px; width: 6px; }
    .minimal-scrollbar::-webkit-scrollbar-track { background: #0f172a; border-radius: 8px; }
    .minimal-scrollbar::-webkit-scrollbar-thumb { background-color: #334155; border-radius: 8px; border: 2px solid #0f172a; }
    
    /* Animaciones */
    .animate-fadeIn { animation: fadeIn 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
    .animate-slideInRight { animation: slideInRight 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
    .animate-pop { animation: pop 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes slideInRight { from { opacity: 0; transform: translateX(50px); } to { opacity: 1; transform: translateX(0); } }
    @keyframes pop { 0% { transform: scale(0.9); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }
    @keyframes spin-slow { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
    @keyframes gradient-move { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
    
    /* Utilidades Extra */
    .gemini-loader-circle { width: 28px; height: 28px; position: relative; animation: spin-slow 2s linear infinite; }
    .gemini-loader-icon { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: #2dd4bf; }
    .gemini-loader-path {
      width: 28px; height: 28px; border-radius: 50%; padding: 2px;
      background: conic-gradient(from 0deg, #2dd4bf, #8b5cf6, #2dd4bf);
      mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
      mask-composite: exclude;
      animation: spin-slow 2s linear infinite;
    }
    .lava-lamp-bg {
        background: linear-gradient(-45deg, #0f172a, #1e1b4b, #0f172a, #064e3b);
        background-size: 400% 400%;
        animation: gradient-move 15s ease infinite;
    }
    .text-stroke { -webkit-text-stroke: 1px rgba(255,255,255,0.1); }
    .hide-scrollbar::-webkit-scrollbar { display: none; }
    .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    
    /* Confeti */
    .particle { position: absolute; width: 8px; height: 8px; border-radius: 50%; animation: particle-anim 1s forwards; pointer-events: none; z-index: 100; }
    @keyframes particle-anim {
        0% { transform: translate(0, 0) scale(1); opacity: 1; }
        100% { transform: translate(var(--tx), var(--ty)) scale(0); opacity: 0; }
    }
  `}),uD=({show:s})=>_.jsxs("div",{className:`fixed inset-0 z-50 bg-slate-950 flex flex-col items-center justify-center transition-opacity duration-1000 pointer-events-none ${s?"opacity-100":"opacity-0"}`,children:[_.jsxs("div",{className:"relative mb-6",children:[_.jsx("div",{className:"absolute inset-0 bg-teal-500 blur-2xl opacity-20 rounded-full animate-pulse"}),_.jsx(he,{name:"dumbbell",className:"w-12 h-12 text-teal-400 relative z-10"})]}),_.jsxs("h1",{className:"text-xl font-black text-white tracking-tight",children:["Momentum ",_.jsx("span",{className:"text-teal-400",children:"AI"})]})]}),hD=({jsonString:s,onClose:e,onCopy:n,copySuccess:r,t:o})=>_.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-sm flex items-center justify-center p-6 z-50 animate-fadeIn",children:_.jsxs($i,{className:"w-full max-w-lg p-6 border-slate-600 bg-slate-900",children:[_.jsxs("div",{className:"flex justify-between items-center mb-4",children:[_.jsx("h3",{className:"text-slate-100 font-bold text-lg",children:o.copyBackup}),_.jsx("button",{onClick:e,children:_.jsx(he,{name:"close",className:"text-slate-400 hover:text-white"})})]}),_.jsx("textarea",{readOnly:!0,value:s,className:"w-full h-48 bg-slate-950 text-slate-400 text-xs p-4 rounded-xl border border-slate-700 mb-5 minimal-scrollbar font-mono focus:outline-none focus:border-teal-500"}),_.jsx("div",{className:"flex justify-end gap-3",children:_.jsx("button",{onClick:n,className:`px-5 py-2.5 rounded-lg font-bold text-sm transition-colors shadow-lg ${r?"bg-emerald-600 text-white":"bg-teal-600 text-white hover:bg-teal-500"}`,children:r?_.jsxs(_.Fragment,{children:[_.jsx(he,{name:"check",className:"inline w-4 h-4 mr-1"})," ",o.copied]}):_.jsxs(_.Fragment,{children:[_.jsx(he,{name:"copy",className:"inline w-4 h-4 mr-1"})," ",o.copyToClip]})})})]})}),dD=({onClose:s,onImport:e,importError:n,t:r})=>{const[o,c]=a1.useState("");return _.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-sm flex items-center justify-center p-6 z-50 animate-fadeIn",children:_.jsxs($i,{className:"w-full max-w-lg p-6 border-slate-600 bg-slate-900",children:[_.jsxs("div",{className:"flex justify-between items-center mb-4",children:[_.jsx("h3",{className:"text-slate-100 font-bold text-lg",children:r.importData}),_.jsx("button",{onClick:s,children:_.jsx(he,{name:"close",className:"text-slate-400 hover:text-white"})})]}),_.jsx("textarea",{value:o,onChange:d=>c(d.target.value),className:"w-full h-48 bg-slate-950 text-slate-200 text-xs p-4 rounded-xl border border-slate-700 mb-5 minimal-scrollbar font-mono focus:ring-2 focus:ring-teal-500 outline-none",placeholder:"Pegar contenido JSON aqu..."}),_.jsx("div",{className:"flex justify-end gap-3",children:_.jsx("button",{onClick:()=>e(o),className:"px-5 py-2.5 rounded-lg bg-teal-600 text-white font-bold text-sm hover:bg-teal-500 shadow-lg",children:r.importBtn})}),n&&_.jsx("p",{className:"text-red-400 text-xs mt-3 bg-red-900/20 p-2 rounded border border-red-900/50",children:n})]})})},fD=({onContinue:s,onSave:e,onCancel:n,t:r})=>_.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-sm flex items-center justify-center p-6 z-50 animate-fadeIn",children:_.jsxs($i,{className:"w-full max-w-md p-8 border-slate-600 bg-slate-900 text-center",children:[_.jsx(he,{name:"alertTriangle",className:"w-12 h-12 text-amber-400 mx-auto mb-4"}),_.jsx("h3",{className:"text-slate-100 font-bold text-2xl mb-2",children:r.signOutGuestTitle}),_.jsx("p",{className:"text-slate-400 mb-8",children:r.signOutGuestMessage}),_.jsxs("div",{className:"flex flex-col gap-3",children:[_.jsx("button",{onClick:e,className:"px-5 py-3 rounded-lg bg-teal-600 text-white font-bold text-sm hover:bg-teal-500 shadow-lg",children:r.saveAccountButton}),_.jsx("button",{onClick:s,className:"px-5 py-2.5 rounded-lg bg-red-800/80 text-white font-semibold text-sm hover:bg-red-700",children:r.signOutAndLoseData}),_.jsx("button",{onClick:n,className:"px-5 py-2 text-slate-400 font-medium text-sm hover:text-white",children:r.cancel})]})]})});function mD(){const{t:s,activeTab:e,view:n,currentRoutine:r,showSplash:o,scrolled:c,headerRef:d,isImportModalOpen:m,importTextError:g,backupJson:y,copySuccess:E,isSessionActive:S,sessionSeconds:w,restSeconds:P,userId:Y,isAuthReady:J,authError:G,linkAccountError:ne,isAnonymous:oe,profile:le,bioageLoading:_e,profileSuccess:Te,profileError:xe,successMessage:I,history:x,loading:N,generationProgress:O,error:D,isSignOutWarningVisible:V,toggleLanguage:R,setActiveTab:Re,handleScroll:Qe,handleViewRoutine:F,handleBackToMain:se,handleRoutineFeedback:ce,handleExerciseComplete:Me,setRestSeconds:je,setIsSessionActive:k,onProfileChange:K,onProfileSave:re,onAnalyzeBioage:te,onGeneratePlan:me,onGenerateBackup:Ae,onCloseBackupModal:ie,onCopyToClipboard:pe,setIsImportModalOpen:ve,onImportFromText:ut,onSignIn:Bt,onSignUp:mn,onAnonymousSignIn:Gt,onSignOutRequest:pn,onForceSignOut:zn,onLinkAccount:hn,onPasswordReset:oi,setAuthError:Ji,setIsSignOutWarningVisible:dt}=IC();if(!J||o)return _.jsx(uD,{show:!0});if(!Y)return _.jsx(lD,{onSignIn:Bt,onSignUp:mn,onAnonymousSignIn:Gt,onPasswordReset:oi,error:G,t:s,setAuthError:Ji});const gt=()=>{dt(!1),Re("profile")};return _.jsxs(_.Fragment,{children:[_.jsx(cD,{}),y&&_.jsx(hD,{jsonString:y,onClose:ie,onCopy:pe,copySuccess:E,t:s}),m&&_.jsx(dD,{onClose:()=>ve(!1),onImport:ut,importError:g,t:s}),V&&_.jsx(fD,{onContinue:zn,onSave:gt,onCancel:()=>dt(!1),t:s}),_.jsxs("div",{className:"h-screen supports-[height:100dvh]:h-[100dvh] flex flex-col overflow-hidden font-sans bg-slate-900 text-slate-100 selection:bg-teal-500/30",children:[_.jsx("header",{ref:d,className:`w-full z-40 fixed top-0 left-0 border-b transition-all duration-300 ${c?"bg-slate-900/90 backdrop-blur-xl border-slate-700/50 py-2 shadow-md":"bg-transparent border-transparent py-3"}`,children:_.jsxs("div",{className:"max-w-md mx-auto px-6 flex items-center justify-between",children:[_.jsxs("h1",{className:`font-bold text-slate-100 flex items-center transition-all ${c?"text-sm":"text-base"}`,children:[n==="routine"?_.jsx("button",{onClick:se,className:"mr-3 text-slate-400 hover:text-white transition-colors p-2 rounded-full hover:bg-slate-800",children:_.jsx(he,{name:"arrowLeft",className:"w-6 h-6"})}):_.jsx("div",{className:"bg-teal-500/10 p-1.5 rounded-lg mr-2",children:_.jsx(he,{name:"dumbbell",className:"text-teal-400 w-4 h-4"})}),_.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-white to-slate-400",children:n==="routine"?s.routineInProgress:s.appTitle})]}),_.jsx("div",{className:"flex items-center gap-2 text-xs",children:n!=="routine"&&_.jsxs("div",{className:"flex items-center gap-2 scale-90 origin-right",children:[_.jsxs("button",{onClick:R,className:"flex items-center px-2 py-0.5 rounded-lg bg-slate-800 border border-slate-700 text-slate-400 hover:text-white hover:border-slate-500 transition-all font-bold font-mono tracking-tighter",children:[_.jsx("span",{className:s.lang==="es"?"text-teal-400":"",children:"ES"}),_.jsx("span",{className:"mx-1 opacity-30",children:"|"}),_.jsx("span",{className:s.lang==="en"?"text-teal-400":"",children:"EN"})]}),Y&&_.jsxs("span",{className:`flex items-center px-2 py-0.5 rounded-full border ${oe?"bg-yellow-500/10 border-yellow-500/20 text-yellow-300":"bg-teal-500/10 border-teal-500/20 text-teal-300"} font-semibold shadow-inner`,children:[_.jsx(he,{name:oe?"userCheck":"activity",className:"w-3.5 h-3.5 mr-2"}),oe?s.guest:s.online]})]})})]})}),_.jsx("main",{className:`flex-1 overflow-y-auto overflow-x-hidden minimal-scrollbar pt-16 ${n==="routine"?"snap-y snap-proximity":""}`,onScroll:Qe,children:_.jsxs("div",{className:"max-w-md mx-auto px-4 md:px-0 pb-32",children:[e==="training"&&_.jsx(eD,{profile:le,onProfileChange:K,onGeneratePlan:me,loading:N,successMessage:I,errorMessage:D,history:x,onViewRoutine:F,generationProgress:O,t:s,onAnalyzeBioage:te,bioageLoading:_e,view:n,currentRoutine:r,onRoutineFeedback:ce,onExerciseComplete:Me,isSessionActive:S,setIsSessionActive:k,restSeconds:P,setRestSeconds:je,sessionSeconds:w}),e==="history"&&_.jsx(tD,{history:x.filter(Tt=>Tt.status==="completed"),t:s}),e==="profile"&&_.jsx(aD,{profile:le,onProfileChange:K,onProfileSave:re,onAnalyzeBioage:te,bioageLoading:_e,profileSuccess:Te,profileError:xe,onGenerateBackup:Ae,onShowImportModal:()=>ve(!0),onSignOut:pn,isAnonymous:oe,onLinkAccount:hn,linkAccountError:ne,t:s})]})}),_.jsx("div",{className:"fixed bottom-6 left-0 right-0 z-40 flex justify-center pointer-events-none",children:n==="main"&&_.jsx("nav",{className:"bg-slate-800/50 backdrop-blur-xl border border-slate-700/50 shadow-2xl rounded-full px-6 py-3 flex gap-8 pointer-events-auto",children:["training","history","profile"].map(Tt=>{const Vs=e===Tt,Bn={training:"target",history:"list",profile:"user"};return _.jsx("button",{onClick:()=>Re(Tt),className:`relative p-3 rounded-full transition-all duration-300 group ${Vs?"bg-teal-500 text-white shadow-lg shadow-teal-500/30 -translate-y-2 scale-110":"text-slate-400 hover:text-slate-200 hover:bg-slate-700/50"}`,children:_.jsx(he,{name:Bn[Tt],className:"w-6 h-6"})},Tt)})})})]})]})}k2.createRoot(document.getElementById("root")).render(_.jsx(a1.StrictMode,{children:_.jsx(mD,{})}));
